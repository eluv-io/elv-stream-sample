(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[function(e,t,r){e.exports=r(400)()},function(e,t,r){"use strict";e.exports=r(388)},function(e,t,r){var n=r(237),i=r(791),a=r(792),o=r(71),s=r(164),l=r(80),u=Object.prototype.hasOwnProperty,c=a(function(e,t){if(s(t)||o(t))i(t,l(t),e);else for(var r in t)u.call(t,r)&&n(e,r,t[r])});e.exports=c},function(e,t,r){var n=r(19),i=r(35),a=r(55),o=r(51),s=r(65),l=function(e,t,r){var u,c,f,d,p=e&l.F,h=e&l.G,g=e&l.S,m=e&l.P,y=e&l.B,v=h?n:g?n[t]||(n[t]={}):(n[t]||{}).prototype,_=h?i:i[t]||(i[t]={}),b=_.prototype||(_.prototype={});for(u in h&&(r=t),r)f=((c=!p&&v&&void 0!==v[u])?v:r)[u],d=y&&c?s(f,n):m&&"function"==typeof f?s(Function.call,f):f,v&&o(v,u,f,e&l.U),_[u]!=f&&a(_,u,d),m&&b[u]!=f&&(b[u]=f)};n.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=void 0,t=[],r={},n={};function getSingletonInstance(e,r){for(var n in t){var i=t[n];if(i.context===e&&i.name===r)return i.instance}return null}function getFactoryByName(e,t){return t[e]}function updateFactory(e,t,r){e in r&&(r[e]=t)}function merge(t,r,n){var i=void 0,a=t.__dashjs_factory_name,o=r[a];if(o){var s=o.instance;if(!o.override)return s.apply({context:r,factory:e},n);for(var l in i=t.apply({context:r},n),s=s.apply({context:r,factory:e,parent:i},n))i.hasOwnProperty(l)&&(i[l]=s[l])}else i=t.apply({context:r},n);return i.getClassName=function(){return a},i}return e={extend:function extend(e,t,r,n){!n[e]&&t&&(n[e]={instance:t,override:r})},getSingletonInstance:getSingletonInstance,setSingletonInstance:function setSingletonInstance(e,r,n){for(var i in t){var a=t[i];if(a.context===e&&a.name===r)return void(t[i].instance=n)}t.push({name:r,context:e,instance:n})},getSingletonFactory:function getSingletonFactory(e){var n=getFactoryByName(e.__dashjs_factory_name,r);return n||(n=function(r){var n=void 0;return void 0===r&&(r={}),{getInstance:function getInstance(){return n||(n=getSingletonInstance(r,e.__dashjs_factory_name)),n||(n=merge(e,r,arguments),t.push({name:e.__dashjs_factory_name,context:r,instance:n})),n}}},r[e.__dashjs_factory_name]=n),n},getSingletonFactoryByName:function getSingletonFactoryByName(e){return getFactoryByName(e,r)},updateSingletonFactory:function updateSingletonFactory(e,t){updateFactory(e,t,r)},getClassFactory:function getClassFactory(e){var t=getFactoryByName(e.__dashjs_factory_name,n);return t||(t=function(t){return void 0===t&&(t={}),{create:function create(){return merge(e,t,arguments)}}},n[e.__dashjs_factory_name]=t),t},getClassFactoryByName:function getClassFactoryByName(e){return getFactoryByName(e,n)},updateClassFactory:function updateClassFactory(e,t){updateFactory(e,t,n)}}}();t.default=n,e.exports=t.default},function(e,t,r){var n=r(239),i=r(119),a=r(167),o=r(336),s=Object.prototype,l=s.hasOwnProperty,u=n(function(e,t){e=Object(e);var r=-1,n=t.length,u=n>2?t[2]:void 0;for(u&&a(t[0],t[1],u)&&(n=1);++r<n;)for(var c=t[r],f=o(c),d=-1,p=f.length;++d<p;){var h=f[d],g=e[h];(void 0===g||i(g,s[h])&&!l.call(e,h))&&(e[h]=c[h])}return e});e.exports=u},function(e,t,r){"use strict";var n=r(371),i=r.n(n),a=r(372),o=r.n(a),s=r(8),l=r.n(s),u=r(122),c=r(0),f=r.n(c);var d=function(e){var t=function(t,r,n,i){var a=r[n];if(null==a)return t?new Error("Required `".concat(n,"` was not specified in `").concat(i,"`.")):null;for(var o=arguments.length,s=new Array(o>4?o-4:0),l=4;l<o;l++)s[l-4]=arguments[l];return e.apply(void 0,[r,n,i].concat(s))},r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r},p=function(){return null},h=function(){},g=function(e){return void 0===e?h:null===e?p:e.constructor},m=function(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).slice(8,-1)};t.a={deprecated:function(e,t){return function(r,n,i){var a=r[n];return null!=a&&u.a.warn('"'.concat(n,'" property of "').concat(i,'" has been deprecated ').concat(t)),f.a.checkPropTypes(function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,e),r,n,i)}},allOfType:function(e){return d(function(t,r,n){for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return e.reduce(function(e,i){return e||i.apply(void 0,[t,r,n].concat(a))},void 0)})},nonNegative:d(function(e,t,r){var n=e[t];if("number"!=typeof n||n<0)return new Error("`".concat(t,"` in `").concat(r,"` must be a non-negative number."))}),integer:d(function(e,t,r){var n=e[t];if("number"!=typeof n||n%1!=0)return new Error("`".concat(t,"` in `").concat(r,"` must be an integer."))}),greaterThanZero:d(function(e,t,r){var n=e[t];if("number"!=typeof n||n<=0)return new Error("`".concat(t,"` in `").concat(r,"` must be a number greater than zero."))}),domain:d(function(e,t,r){var n=e[t];if(!Array.isArray(n)||2!==n.length||n[1]===n[0])return new Error("`".concat(t,"` in `").concat(r,"` must be an array of two unique numeric values."))}),scale:d(function(e,t,r){var n,i=["linear","time","log","sqrt"],a=e[t];if(n=a,!(l()(n)?l()(n.copy)&&l()(n.domain)&&l()(n.range):"string"==typeof n&&-1!==i.indexOf(n)))return new Error("`".concat(t,"` in `").concat(r,"` must be a d3 scale."))}),homogeneousArray:d(function(e,t,r){var n=e[t];if(!Array.isArray(n))return new Error("`".concat(t,"` in `").concat(r,"` must be an array."));if(!(n.length<2)){var i=g(n[0]),a=o()(n,function(e){return i!==g(e)});if(a){var s=m(n[0]),l=m(a);return new Error("Expected `".concat(t,"` in `").concat(r,"` to be a ")+"homogeneous array, but found types `".concat(s,"` and ")+"`".concat(l,"`."))}}}),matchDataLength:d(function(e,t){if(e[t]&&Array.isArray(e[t])&&e[t].length!==e.data.length)return new Error("Length of data and ".concat(t," arrays must match."))}),regExp:d(function(e,t,r){if(e[t]&&!i()(e[t]))return new Error("`".concat(t,"` in `").concat(r,"` must be a regular expression."))})}},function(e,t,r){"use strict";var n=r(2),i=r.n(n),a=r(108),o=r.n(a),s=r(139),l=r.n(s),u=r(8),c=r.n(u),f=r(5),d=r.n(f),p=r(1),h=r.n(p);function omit(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function getPoint(e){var t=function(e){return void 0!==e},r=e._x,n=e._x1,i=e._x0,a=e._y,o=e._y1,s=e._y0,l={x:t(n)?n:r,x0:t(i)?i:r,y:t(o)?o:a,y0:t(s)?s:a};return d()({},l,e)}function getPadding(e){var t=e.padding,r="number"==typeof t?t:0,n="object"==typeof t?t:{};return{top:n.top||r,bottom:n.bottom||r,left:n.left||r,right:n.right||r}}function evaluateProp(e,t,r){return c()(e)?e(t,r):e}function degreesToRadians(e){return"number"==typeof e?e*(Math.PI/180):e}function getRadius(e){var t=getPadding(e),r=t.left,n=t.right,i=t.top,a=t.bottom,o=e.width,s=e.height;return Math.min(o-r-n,s-i-a)/2}function isHorizontal(e){if(void 0!==e.horizontal||!e.children)return e.horizontal;var t=function(e){return e.reduce(function(e,r){var n=r.props||{};return e||n.horizontal||!n.children?e=e||n.horizontal:t(h.a.Children.toArray(n.children))},!1)};return t(h.a.Children.toArray(e.children))}t.a={omit:omit,getPoint:getPoint,scalePoint:function scalePoint(e,t){var r=e.scale,n=e.polar,i=e.horizontal,a=getPoint(t),o=e.origin||{x:0,y:0},s=i?r.y(a.y):r.x(a.x),l=i?r.y(a.y0):r.x(a.x0),u=i?r.x(a.x):r.y(a.y),c=i?r.x(a.x0):r.y(a.y0);return{x:n?u*Math.cos(s)+o.x:s,x0:n?c*Math.cos(l)+o.x:l,y:n?-u*Math.sin(s)+o.y:u,y0:n?-c*Math.sin(l)+o.x:c}},getPadding:getPadding,getStyles:function getStyles(e,t){if(!e)return d()({parent:{height:"100%",width:"100%"}},t);var r=e.data,n=e.labels,i=e.parent,a=t&&t.parent||{},o=t&&t.labels||{},s=t&&t.data||{};return{parent:d()({},i,a,{width:"100%",height:"100%"}),labels:d()({},n,o),data:d()({},r,s)}},evaluateProp:evaluateProp,evaluateStyle:function evaluateStyle(e,t,r){return e&&Object.keys(e).some(function(t){return c()(e[t])})?Object.keys(e).reduce(function(n,i){return n[i]=evaluateProp(e[i],t,r),n},{}):e},degreesToRadians:degreesToRadians,radiansToDegrees:function radiansToDegrees(e){return"number"==typeof e?e/(Math.PI/180):e},getRadius:getRadius,getPolarOrigin:function getPolarOrigin(e){var t=e.width,r=e.height,n=getPadding(e),i=n.top,a=n.bottom,o=n.left,s=n.right,l=Math.min(t-o-s,r-i-a)/2,u=t/2+o-s,c=r/2+i-a;return{x:u+l>t?l+o-s:u,y:c+l>r?l+i-a:c}},getRange:function getRange(e,t){return e.range&&e.range[t]?e.range[t]:e.range&&Array.isArray(e.range)?e.range:e.polar?function getPolarRange(e,t){return"x"===t?[degreesToRadians(e.startAngle||0),degreesToRadians(e.endAngle||360)]:[e.innerRadius||0,getRadius(e)]}(e,t):function getCartesianRange(e,t){var r="x"!==t,n=getPadding(e);return r?[e.height-n.bottom,n.top]:[n.left,e.width-n.right]}(e,t)},createAccessor:function createAccessor(e){return c()(e)?e:null==e?function(e){return e}:l()(e)},modifyProps:function modifyProps(e,t,r){var n=omit(e.theme&&e.theme[r]?e.theme[r]:{},["style"]),i=isHorizontal(e),a=void 0===i?{}:{horizontal:i};return d()(a,e,n,t)},getCurrentAxis:function getCurrentAxis(e,t){return t?"x"===e?"y":"x":e},reduceChildren:function reduceChildren(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e,t){return e.concat(t)},s=["data","domain","categories","polar","startAngle","endAngle","minDomain","maxDomain","horizontal"],l=function(e,u,f){return e.reduce(function(e,n,d){var p=n.type&&n.type.role,g=n.props.name||"".concat(p,"-").concat(u[d]);if(n.props&&n.props.children){var m=i()({},n.props,o()(r,s)),y=n.type&&c()(n.type.getChildren)?n.type.getChildren(m):h.a.Children.toArray(n.props.children).map(function(e){var t=i()({},e.props,o()(m,s));return h.a.cloneElement(e,t)}),v=y.map(function(e,t){return"".concat(g,"-").concat(t)}),_=l(y,v,n);e=a(e,_)}else{var b=t(n,g,f);b&&(e=a(e,b))}return e},n)},u=e.map(function(e,t){return t});return l(e,u)},isHorizontal:isHorizontal}},function(e,t,r){var n=r(85),i=r(40),a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function isFunction(e){if(!i(e))return!1;var t=n(e);return t==o||t==s||t==a||t==l}},function(e,t,r){"use strict";(function(e,n){r.d(t,"a",function(){return c}),r.d(t,"b",function(){return B}),r.d(t,"c",function(){return allowStateChanges}),r.d(t,"d",function(){return G}),r.d(t,"e",function(){return C}),r.d(t,"f",function(){return configure}),r.d(t,"g",function(){return createAtom}),r.d(t,"h",function(){return flow}),r.d(t,"i",function(){return getDependencyTree}),r.d(t,"j",function(){return isObservableArray}),r.d(t,"k",function(){return ee}),r.d(t,"l",function(){return isObservableObject}),r.d(t,"m",function(){return w}),r.d(t,"n",function(){return spy}),r.d(t,"o",function(){return transaction}),r.d(t,"p",function(){return untracked});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var a=function(){return(a=Object.assign||function __assign(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __values(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}var o="An invariant failed, however the error is obfuscated because this is an production build.",s=[];Object.freeze(s);var l={};function getNextId(){return++F.mobxGuid}function fail(e){throw invariant(!1,e),"X"}function invariant(e,t){if(!e)throw new Error("[mobx] "+(t||o))}Object.freeze(l);function once(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var u=function(){};function isObject(e){return null!==e&&"object"==typeof e}function isPlainObject(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function addHiddenProp(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function createInstanceofPredicate(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(e){return isObject(e)&&!0===e[r]}}function isES6Map(e){return e instanceof Map}function isES6Set(e){return e instanceof Set}function getPlainObjectKeys(e){var t=new Set;for(var r in e)t.add(r);return Object.getOwnPropertySymbols(e).forEach(function(r){Object.getOwnPropertyDescriptor(e,r).enumerable&&t.add(r)}),Array.from(t)}function stringifyKey(e){return e&&e.toString?e.toString():new String(e).toString()}function toPrimitive(e){return null===e?null:"object"==typeof e?""+e:e}var c=Symbol("mobx administration"),f=function(){function Atom(e){void 0===e&&(e="Atom@"+getNextId()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=x.NOT_TRACKING}return Atom.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},Atom.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},Atom.prototype.reportObserved=function(){return reportObserved(this)},Atom.prototype.reportChanged=function(){startBatch(),function propagateChanged(e){if(e.lowestObserverState===x.STALE)return;e.lowestObserverState=x.STALE,e.observers.forEach(function(t){t.dependenciesState===x.UP_TO_DATE&&(t.isTracing!==D.NONE&&logTraceInfo(t,e),t.onBecomeStale()),t.dependenciesState=x.STALE})}(this),endBatch()},Atom.prototype.toString=function(){return this.name},Atom}(),d=createInstanceofPredicate("Atom",f);function createAtom(e,t,r){void 0===t&&(t=u),void 0===r&&(r=u);var n=new f(e);return t!==u&&function onBecomeObserved(e,t,r){return interceptHook("onBecomeObserved",e,t,r)}(n,t),r!==u&&onBecomeUnobserved(n,r),n}var p={identity:function identityComparer(e,t){return e===t},structural:function structuralComparer(e,t){return deepEqual(e,t)},default:function defaultComparer(e,t){return Object.is(e,t)}},h=Symbol("mobx did run lazy initializers"),g=Symbol("mobx pending decorators"),m={},y={};function createPropertyInitializerDescriptor(e,t){var r=t?m:y;return r[e]||(r[e]={configurable:!0,enumerable:t,get:function(){return initializeInstance(this),this[e]},set:function(t){initializeInstance(this),this[e]=t}})}function initializeInstance(e){if(!0!==e[h]){var t=e[g];if(t)for(var r in addHiddenProp(e,h,!0),t){var n=t[r];n.propertyCreator(e,n.prop,n.descriptor,n.decoratorTarget,n.decoratorArguments)}}}function createPropDecorator(e,t){return function decoratorFactory(){var r,n=function decorate(n,i,o,s){if(!0===s)return t(n,i,o,n,r),null;if(!Object.prototype.hasOwnProperty.call(n,g)){var l=n[g];addHiddenProp(n,g,a({},l))}return n[g][i]={prop:i,propertyCreator:t,descriptor:o,decoratorTarget:n,decoratorArguments:r},createPropertyInitializerDescriptor(i,e)};return quacksLikeADecorator(arguments)?(r=s,n.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),n)}}function quacksLikeADecorator(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function deepEnhancer(e,t,r){return isObservable(e)?e:Array.isArray(e)?w.array(e,{name:r}):isPlainObject(e)?w.object(e,void 0,{name:r}):isES6Map(e)?w.map(e,{name:r}):isES6Set(e)?w.set(e,{name:r}):e}function referenceEnhancer(e){return e}function createDecoratorForEnhancer(t){invariant(t);var r=createPropDecorator(!0,function(e,r,n,i,a){var o=n?n.initializer?n.initializer.call(e):n.value:void 0;asObservableObject(e).addObservableProp(r,o,t)}),n=(void 0!==e&&e.env,r);return n.enhancer=t,n}var v={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function asCreateObservableOptions(e){return null==e?v:"string"==typeof e?{name:e,deep:!0,proxy:!0}:e}Object.freeze(v);var _=createDecoratorForEnhancer(deepEnhancer),b=createDecoratorForEnhancer(function shallowEnhancer(e,t,r){return null==e?e:isObservableObject(e)||isObservableArray(e)||ee(e)||ne(e)?e:Array.isArray(e)?w.array(e,{name:r,deep:!1}):isPlainObject(e)?w.object(e,void 0,{name:r,deep:!1}):isES6Map(e)?w.map(e,{name:r,deep:!1}):isES6Set(e)?w.set(e,{name:r,deep:!1}):fail(!1)}),E=createDecoratorForEnhancer(referenceEnhancer),T=createDecoratorForEnhancer(function refStructEnhancer(e,t,r){return deepEqual(e,t)?t:e});function getEnhancerFromOptions(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?referenceEnhancer:deepEnhancer}var S={box:function(e,t){arguments.length>2&&incorrectlyUsedAsDecorator("box");var r=asCreateObservableOptions(t);return new P(e,getEnhancerFromOptions(r),r.name,!0,r.equals)},array:function(e,t){arguments.length>2&&incorrectlyUsedAsDecorator("array");var r=asCreateObservableOptions(t);return createObservableArray(e,getEnhancerFromOptions(r),r.name)},map:function(e,t){arguments.length>2&&incorrectlyUsedAsDecorator("map");var r=asCreateObservableOptions(t);return new Z(e,getEnhancerFromOptions(r),r.name)},set:function(e,t){arguments.length>2&&incorrectlyUsedAsDecorator("set");var r=asCreateObservableOptions(t);return new re(e,getEnhancerFromOptions(r),r.name)},object:function(e,t,r){"string"==typeof arguments[1]&&incorrectlyUsedAsDecorator("object");var n=asCreateObservableOptions(r);if(!1===n.proxy)return extendObservable({},e,t,n);var i=getDefaultDecoratorFromObjectOptions(n),a=extendObservable({},void 0,void 0,n),o=createDynamicObservableObject(a);return extendObservableObjectWithProperties(o,e,t,i),o},ref:E,shallow:b,deep:_,struct:T},w=function createObservable(e,t,r){if("string"==typeof arguments[1])return _.apply(null,arguments);if(isObservable(e))return e;var n=isPlainObject(e)?w.object(e,t,r):Array.isArray(e)?w.array(e,t):isES6Map(e)?w.map(e,t):isES6Set(e)?w.set(e,t):e;if(n!==e)return n;fail(!1)};function incorrectlyUsedAsDecorator(e){fail("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(S).forEach(function(e){return w[e]=S[e]});var R=createPropDecorator(!1,function(e,t,r,n,i){var o=r.get,s=r.set,l=i[0]||{};asObservableObject(e).addComputedProp(e,t,a({get:o,set:s,context:e},l))}),A=R({equals:p.structural}),C=function computed(e,t,r){if("string"==typeof t)return R.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return R.apply(null,arguments);var n="object"==typeof t?t:{};return n.get=e,n.set="function"==typeof t?t:n.set,n.name=n.name||e.name||"",new I(n)};function createAction(e,t,r){var n=function(){return executeAction(e,t,r||this,arguments)};return n.isMobxAction=!0,n}function executeAction(e,t,r,n){var i=function startAction(e,t,r,n){var i=0;var a=untrackedStart();startBatch();var o=allowStateChangesStart(!0);return{prevDerivation:a,prevAllowStateChanges:o,notifySpy:!1,startTime:i}}(),a=!0;try{var o=t.apply(r,n);return a=!1,o}finally{a?(F.suppressReactionErrors=a,endAction(i),F.suppressReactionErrors=!1):endAction(i)}}function endAction(e){allowStateChangesEnd(e.prevAllowStateChanges),endBatch(),untrackedEnd(e.prevDerivation),e.notifySpy}function allowStateChanges(e,t){var r,n=allowStateChangesStart(e);try{r=t()}finally{allowStateChangesEnd(n)}return r}function allowStateChangesStart(e){var t=F.allowStateChanges;return F.allowStateChanges=e,t}function allowStateChangesEnd(e){F.allowStateChanges=e}C.struct=A;var x,D,P=function(e){function ObservableValue(t,r,n,i,a){void 0===n&&(n="ObservableValue@"+getNextId()),void 0===i&&(i=!0),void 0===a&&(a=p.default);var o=e.call(this,n)||this;return o.enhancer=r,o.name=n,o.equals=a,o.hasUnreportedChange=!1,o.value=r(t,void 0,n),o}return function __extends(e,t){function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}(ObservableValue,e),ObservableValue.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},ObservableValue.prototype.set=function(e){this.value;if((e=this.prepareNewValue(e))!==F.UNCHANGED){0,this.setNewValue(e)}},ObservableValue.prototype.prepareNewValue=function(e){if(checkIfStateModificationsAreAllowed(this),hasInterceptors(this)){var t=interceptChange(this,{object:this,type:"update",newValue:e});if(!t)return F.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?F.UNCHANGED:e},ObservableValue.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),hasListeners(this)&&notifyListeners(this,{type:"update",object:this,newValue:e,oldValue:t})},ObservableValue.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},ObservableValue.prototype.intercept=function(e){return registerInterceptor(this,e)},ObservableValue.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),registerListener(this,e)},ObservableValue.prototype.toJSON=function(){return this.get()},ObservableValue.prototype.toString=function(){return this.name+"["+this.value+"]"},ObservableValue.prototype.valueOf=function(){return toPrimitive(this.get())},ObservableValue.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},ObservableValue}(f),I=(createInstanceofPredicate("ObservableValue",P),function(){function ComputedValue(e){this.dependenciesState=x.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=x.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+getNextId(),this.value=new O(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=D.NONE,this.derivation=e.get,this.name=e.name||"ComputedValue@"+getNextId(),e.set&&(this.setter=createAction(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?p.structural:p.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return ComputedValue.prototype.onBecomeStale=function(){!function propagateMaybeChanged(e){if(e.lowestObserverState!==x.UP_TO_DATE)return;e.lowestObserverState=x.POSSIBLY_STALE,e.observers.forEach(function(t){t.dependenciesState===x.UP_TO_DATE&&(t.dependenciesState=x.POSSIBLY_STALE,t.isTracing!==D.NONE&&logTraceInfo(t,e),t.onBecomeStale())})}(this)},ComputedValue.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},ComputedValue.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},ComputedValue.prototype.get=function(){this.isComputing&&fail("Cycle detected in computation "+this.name+": "+this.derivation),0!==F.inBatch||0!==this.observers.size||this.keepAlive?(reportObserved(this),shouldCompute(this)&&this.trackAndCompute()&&function propagateChangeConfirmed(e){if(e.lowestObserverState===x.STALE)return;e.lowestObserverState=x.STALE,e.observers.forEach(function(t){t.dependenciesState===x.POSSIBLY_STALE?t.dependenciesState=x.STALE:t.dependenciesState===x.UP_TO_DATE&&(e.lowestObserverState=x.UP_TO_DATE)})}(this)):shouldCompute(this)&&(this.warnAboutUntrackedRead(),startBatch(),this.value=this.computeValue(!1),endBatch());var e=this.value;if(isCaughtException(e))throw e.cause;return e},ComputedValue.prototype.peek=function(){var e=this.computeValue(!1);if(isCaughtException(e))throw e.cause;return e},ComputedValue.prototype.set=function(e){if(this.setter){invariant(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else invariant(!1,!1)},ComputedValue.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===x.NOT_TRACKING,r=this.computeValue(!0),n=t||isCaughtException(e)||isCaughtException(r)||!this.equals(e,r);return n&&(this.value=r),n},ComputedValue.prototype.computeValue=function(e){var t;if(this.isComputing=!0,F.computationDepth++,e)t=trackDerivedFunction(this,this.derivation,this.scope);else if(!0===F.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new O(e)}return F.computationDepth--,this.isComputing=!1,t},ComputedValue.prototype.suspend=function(){this.keepAlive||(clearObserving(this),this.value=void 0)},ComputedValue.prototype.observe=function(e,t){var r=this,n=!0,i=void 0;return autorun(function(){var a=r.get();if(!n||t){var o=untrackedStart();e({type:"update",object:r,newValue:a,oldValue:i}),untrackedEnd(o)}n=!1,i=a})},ComputedValue.prototype.warnAboutUntrackedRead=function(){},ComputedValue.prototype.toJSON=function(){return this.get()},ComputedValue.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},ComputedValue.prototype.valueOf=function(){return toPrimitive(this.get())},ComputedValue.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},ComputedValue}()),M=createInstanceofPredicate("ComputedValue",I);!function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(x||(x={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(D||(D={}));var O=function O(e){this.cause=e};function isCaughtException(e){return e instanceof O}function shouldCompute(e){switch(e.dependenciesState){case x.UP_TO_DATE:return!1;case x.NOT_TRACKING:case x.STALE:return!0;case x.POSSIBLY_STALE:for(var t=untrackedStart(),r=e.observing,n=r.length,i=0;i<n;i++){var a=r[i];if(M(a)){if(F.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return untrackedEnd(t),!0}if(e.dependenciesState===x.STALE)return untrackedEnd(t),!0}}return changeDependenciesStateTo0(e),untrackedEnd(t),!1}}function checkIfStateModificationsAreAllowed(e){var t=e.observers.size>0;F.computationDepth>0&&t&&fail(!1),F.allowStateChanges||!t&&"strict"!==F.enforceActions||fail(!1)}function trackDerivedFunction(e,t,r){changeDependenciesStateTo0(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++F.runId;var n,i=F.trackingDerivation;if(F.trackingDerivation=e,!0===F.disableErrorBoundaries)n=t.call(r);else try{n=t.call(r)}catch(e){n=new O(e)}return F.trackingDerivation=i,function bindDependencies(e){for(var t=e.observing,r=e.observing=e.newObserving,n=x.UP_TO_DATE,i=0,a=e.unboundDepsCount,o=0;o<a;o++){0===(s=r[o]).diffValue&&(s.diffValue=1,i!==o&&(r[i]=s),i++),s.dependenciesState>n&&(n=s.dependenciesState)}r.length=i,e.newObserving=null,a=t.length;for(;a--;){0===(s=t[a]).diffValue&&removeObserver(s,e),s.diffValue=0}for(;i--;){var s;1===(s=r[i]).diffValue&&(s.diffValue=0,addObserver(s,e))}n!==x.UP_TO_DATE&&(e.dependenciesState=n,e.onBecomeStale())}(e),n}function clearObserving(e){var t=e.observing;e.observing=[];for(var r=t.length;r--;)removeObserver(t[r],e);e.dependenciesState=x.NOT_TRACKING}function untracked(e){var t=untrackedStart();try{return e()}finally{untrackedEnd(t)}}function untrackedStart(){var e=F.trackingDerivation;return F.trackingDerivation=null,e}function untrackedEnd(e){F.trackingDerivation=e}function changeDependenciesStateTo0(e){if(e.dependenciesState!==x.UP_TO_DATE){e.dependenciesState=x.UP_TO_DATE;for(var t=e.observing,r=t.length;r--;)t[r].lowestObserverState=x.UP_TO_DATE}}var k=function k(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},L=!0,N=!1,F=function(){var e=getGlobal();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(L=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new k).version&&(L=!1),L?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new k):(setTimeout(function(){N||fail("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new k)}();function getGlobal(){return"undefined"!=typeof window?window:n}function addObserver(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function removeObserver(e,t){e.observers.delete(t),0===e.observers.size&&queueForUnobservation(e)}function queueForUnobservation(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,F.pendingUnobservations.push(e))}function startBatch(){F.inBatch++}function endBatch(){if(0==--F.inBatch){runReactions();for(var e=F.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation=!1,0===r.observers.size&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBecomeUnobserved()),r instanceof I&&r.suspend())}F.pendingUnobservations=[]}}function reportObserved(e){var t=F.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&F.inBatch>0&&queueForUnobservation(e),!1)}function logTraceInfo(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===D.BREAK){var r=[];!function printDepTree(e,t,r){if(t.length>=1e3)return void t.push("(and many more)");t.push(""+new Array(r).join("\t")+e.name);e.dependencies&&e.dependencies.forEach(function(e){return printDepTree(e,t,r+1)})}(getDependencyTree(e),r,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof I?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+r.join("\n")+"\n*/\n    ")()}}var B=function(){function Reaction(e,t,r){void 0===e&&(e="Reaction@"+getNextId()),this.name=e,this.onInvalidate=t,this.errorHandler=r,this.observing=[],this.newObserving=[],this.dependenciesState=x.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+getNextId(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=D.NONE}return Reaction.prototype.onBecomeStale=function(){this.schedule()},Reaction.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,F.pendingReactions.push(this),runReactions())},Reaction.prototype.isScheduled=function(){return this._isScheduled},Reaction.prototype.runReaction=function(){if(!this.isDisposed){if(startBatch(),this._isScheduled=!1,shouldCompute(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}endBatch()}},Reaction.prototype.track=function(e){if(!this.isDisposed){startBatch();0,this._isRunning=!0;var t=trackDerivedFunction(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&clearObserving(this),isCaughtException(t)&&this.reportExceptionInDerivation(t.cause),endBatch()}},Reaction.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(F.disableErrorBoundaries)throw e;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";F.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,e),F.globalReactionErrorHandlers.forEach(function(r){return r(e,t)})}},Reaction.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(startBatch(),clearObserving(this),endBatch()))},Reaction.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[c]=this,e},Reaction.prototype.toString=function(){return"Reaction["+this.name+"]"},Reaction.prototype.trace=function(e){void 0===e&&(e=!1),function trace(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=!1;"boolean"==typeof e[e.length-1]&&(r=e.pop());var n=function getAtomFromArgs(e){switch(e.length){case 0:return F.trackingDerivation;case 1:return getAtom(e[0]);case 2:return getAtom(e[0],e[1])}}(e);if(!n)return fail(!1);n.isTracing===D.NONE&&console.log("[mobx.trace] '"+n.name+"' tracing enabled");n.isTracing=r?D.BREAK:D.LOG}(this,e)},Reaction}();var U=100,j=function(e){return e()};function runReactions(){F.inBatch>0||F.isRunningReactions||j(runReactionsHelper)}function runReactionsHelper(){F.isRunningReactions=!0;for(var e=F.pendingReactions,t=0;e.length>0;){++t===U&&(console.error("Reaction doesn't converge to a stable state after "+U+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction()}F.isRunningReactions=!1}var q=createInstanceofPredicate("Reaction",B);function setReactionScheduler(e){var t=j;j=function(r){return e(function(){return t(r)})}}function spy(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function dontReassignFields(){fail(!1)}function namedActionDecorator(e){return function(t,r,n){if(n){if(n.value)return{value:createAction(e,n.value),enumerable:!1,configurable:!0,writable:!0};var i=n.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return createAction(e,i.call(this))}}}return actionFieldDecorator(e).apply(this,arguments)}}function actionFieldDecorator(e){return function(t,r,n){Object.defineProperty(t,r,{configurable:!0,enumerable:!1,get:function(){},set:function(t){addHiddenProp(this,r,G(e,t))}})}}var G=function action(e,t,r,n){return 1===arguments.length&&"function"==typeof e?createAction(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?createAction(e,t):1===arguments.length&&"string"==typeof e?namedActionDecorator(e):!0!==n?namedActionDecorator(t).apply(null,arguments):void addHiddenProp(e,t,createAction(e.name||t,r.value,this))};function defineBoundAction(e,t,r){addHiddenProp(e,t,createAction(t,r.bind(e)))}function autorun(e,t){void 0===t&&(t=l);var r,n=t&&t.name||e.name||"Autorun@"+getNextId();if(!t.scheduler&&!t.delay)r=new B(n,function(){this.track(reactionRunner)},t.onError);else{var i=createSchedulerFromOptions(t),a=!1;r=new B(n,function(){a||(a=!0,i(function(){a=!1,r.isDisposed||r.track(reactionRunner)}))},t.onError)}function reactionRunner(){e(r)}return r.schedule(),r.getDisposer()}G.bound=function boundActionDecorator(e,t,r,n){return!0===n?(defineBoundAction(e,t,r.value),null):r?{configurable:!0,enumerable:!1,get:function(){return defineBoundAction(this,t,r.value||r.initializer.call(this)),this[t]},set:dontReassignFields}:{enumerable:!1,configurable:!0,set:function(e){defineBoundAction(this,t,e)},get:function(){}}};var H=function(e){return e()};function createSchedulerFromOptions(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:H}function onBecomeUnobserved(e,t,r){return interceptHook("onBecomeUnobserved",e,t,r)}function interceptHook(e,t,r,n){var i="string"==typeof r?getAtom(t,r):getAtom(t),a="string"==typeof r?n:r,o=e+"Listeners";return i[o]?i[o].add(a):i[o]=new Set([a]),"function"!=typeof i[e]?fail(!1):function(){var e=i[o];e&&(e.delete(a),0===e.size&&delete i[o])}}function configure(e){var t=e.enforceActions,r=e.computedRequiresReaction,n=e.computedConfigurable,i=e.disableErrorBoundaries,a=e.reactionScheduler;if(!0===e.isolateGlobalState&&function isolateGlobalState(){(F.pendingReactions.length||F.inBatch||F.isRunningReactions)&&fail("isolateGlobalState should be called before MobX is running any reactions"),N=!0,L&&(0==--getGlobal().__mobxInstanceCount&&(getGlobal().__mobxGlobals=void 0),F=new k)}(),void 0!==t){var o=void 0;switch(t){case!0:case"observed":o=!0;break;case!1:case"never":o=!1;break;case"strict":case"always":o="strict";break;default:fail("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}F.enforceActions=o,F.allowStateChanges=!0!==o&&"strict"!==o}void 0!==r&&(F.computedRequiresReaction=!!r),void 0!==n&&(F.computedConfigurable=!!n),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),F.disableErrorBoundaries=!!i),a&&setReactionScheduler(a)}function extendObservable(e,t,r,n){var i=getDefaultDecoratorFromObjectOptions(n=asCreateObservableOptions(n));return initializeInstance(e),asObservableObject(e,n.name,i.enhancer),t&&extendObservableObjectWithProperties(e,t,r,i),e}function getDefaultDecoratorFromObjectOptions(e){return e.defaultDecorator||(!1===e.deep?E:_)}function extendObservableObjectWithProperties(e,t,r,n){var i,a;startBatch();try{var o=getPlainObjectKeys(t);try{for(var s=__values(o),l=s.next();!l.done;l=s.next()){var u=l.value,c=Object.getOwnPropertyDescriptor(t,u);0;var f=(r&&u in r?r[u]:c.get?R:n)(e,u,c,!0);f&&Object.defineProperty(e,u,f)}}catch(e){i={error:e}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}}finally{endBatch()}}function getDependencyTree(e,t){return nodeToDependencyTree(getAtom(e,t))}function nodeToDependencyTree(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=function unique(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t}(e.observing).map(nodeToDependencyTree)),t}var V=0;function flow(e){1!==arguments.length&&fail("Flow expects one 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var r,n=this,i=arguments,a=++V,o=G(t+" - runid: "+a+" - init",e).apply(n,i),s=void 0,l=new Promise(function(e,n){var i=0;function onFulfilled(e){var r;s=void 0;try{r=G(t+" - runid: "+a+" - yield "+i++,o.next).call(o,e)}catch(e){return n(e)}next(r)}function onRejected(e){var r;s=void 0;try{r=G(t+" - runid: "+a+" - yield "+i++,o.throw).call(o,e)}catch(e){return n(e)}next(r)}function next(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(s=Promise.resolve(t.value)).then(onFulfilled,onRejected);t.then(next,n)}r=n,onFulfilled(void 0)});return l.cancel=G(t+" - runid: "+a+" - cancel",function(){try{s&&cancelPromise(s);var e=o.return(),t=Promise.resolve(e.value);t.then(u,u),cancelPromise(t),r(new Error("FLOW_CANCELLED"))}catch(e){r(e)}}),l}}function cancelPromise(e){"function"==typeof e.cancel&&e.cancel()}function _isObservable(e,t){return null!=e&&(void 0!==t?!!isObservableObject(e)&&e[c].values.has(t):isObservableObject(e)||!!e[c]||d(e)||q(e)||M(e))}function isObservable(e){return 1!==arguments.length&&fail(!1),_isObservable(e)}function transaction(e,t){void 0===t&&(t=void 0),startBatch();try{return e.apply(t)}finally{endBatch()}}function getAdm(e){return e[c]}function isPropertyKey(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var z={has:function(e,t){if(t===c||"constructor"===t||t===h)return!0;var r=getAdm(e);return isPropertyKey(t)?r.has(t):t in e},get:function(e,t){if(t===c||"constructor"===t||t===h)return e[t];var r=getAdm(e),n=r.values.get(t);if(n instanceof f){var i=n.get();return void 0===i&&r.has(t),i}return isPropertyKey(t)&&r.has(t),e[t]},set:function(e,t,r){return!!isPropertyKey(t)&&(function set(e,t,r){if(2!==arguments.length||ne(e))if(isObservableObject(e)){var n=e[c];n.values.get(t)?n.write(t,r):n.addObservableProp(t,r,n.defaultEnhancer)}else if(ee(e))e.set(t,r);else if(ne(e))e.add(t);else{if(!isObservableArray(e))return fail(!1);"number"!=typeof t&&(t=parseInt(t,10)),invariant(t>=0,"Not a valid index: '"+t+"'"),startBatch(),t>=e.length&&(e.length=t+1),e[t]=r,endBatch()}else{startBatch();var i=t;try{for(var a in i)set(e,a,i[a])}finally{endBatch()}}}(e,t,r),!0)},deleteProperty:function(e,t){return!!isPropertyKey(t)&&(getAdm(e).remove(t),!0)},ownKeys:function(e){return getAdm(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return fail("Dynamic observable objects cannot be frozen"),!1}};function createDynamicObservableObject(e){var t=new Proxy(e,z);return e[c].proxy=t,t}function hasInterceptors(e){return void 0!==e.interceptors&&e.interceptors.length>0}function registerInterceptor(e,t){var r=e.interceptors||(e.interceptors=[]);return r.push(t),once(function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)})}function interceptChange(e,t){var r=untrackedStart();try{var n=e.interceptors;if(n)for(var i=0,a=n.length;i<a&&(invariant(!(t=n[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{untrackedEnd(r)}}function hasListeners(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function registerListener(e,t){var r=e.changeListeners||(e.changeListeners=[]);return r.push(t),once(function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)})}function notifyListeners(e,t){var r=untrackedStart(),n=e.changeListeners;if(n){for(var i=0,a=(n=n.slice()).length;i<a;i++)n[i](t);untrackedEnd(r)}}var K={get:function(e,t){return t===c?e[c]:"length"===t?e[c].getArrayLength():"number"==typeof t?Y.get.call(e,t):"string"!=typeof t||isNaN(t)?Y.hasOwnProperty(t)?Y[t]:e[t]:Y.get.call(e,parseInt(t))},set:function(e,t,r){return"length"===t&&e[c].setArrayLength(r),"number"==typeof t&&Y.set.call(e,t,r),"symbol"==typeof t||isNaN(t)?e[t]=r:Y.set.call(e,parseInt(t),r),!0},preventExtensions:function(e){return fail("Observable arrays cannot be frozen"),!1}};function createObservableArray(e,t,r,n){void 0===r&&(r="ObservableArray@"+getNextId()),void 0===n&&(n=!1);var i=new W(r,t,n);!function addHiddenFinalProp(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}(i.values,c,i);var a=new Proxy(i.values,K);if(i.proxy=a,e&&e.length){var o=allowStateChangesStart(!0);i.spliceWithArray(0,0,e),allowStateChangesEnd(o)}return a}var W=function(){function ObservableArrayAdministration(e,t,r){this.owned=r,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new f(e||"ObservableArray@"+getNextId()),this.enhancer=function(r,n){return t(r,n,e+"[..]")}}return ObservableArrayAdministration.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},ObservableArrayAdministration.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},ObservableArrayAdministration.prototype.intercept=function(e){return registerInterceptor(this,e)},ObservableArrayAdministration.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),registerListener(this,e)},ObservableArrayAdministration.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},ObservableArrayAdministration.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var r=new Array(e-t),n=0;n<e-t;n++)r[n]=void 0;this.spliceWithArray(t,0,r)}else this.spliceWithArray(e,t-e)},ObservableArrayAdministration.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},ObservableArrayAdministration.prototype.spliceWithArray=function(e,t,r){var n=this;checkIfStateModificationsAreAllowed(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===r&&(r=s),hasInterceptors(this)){var a=interceptChange(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:r});if(!a)return s;t=a.removedCount,r=a.added}r=0===r.length?r:r.map(function(e){return n.enhancer(e,void 0)});var o=this.spliceItemsIntoValues(e,t,r);return 0===t&&0===r.length||this.notifyArraySplice(e,r,o),this.dehanceValues(o)},ObservableArrayAdministration.prototype.spliceItemsIntoValues=function(e,t,r){var n;if(r.length<1e4)return(n=this.values).splice.apply(n,function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}([e,t],r));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(r,this.values.slice(e+t)),i},ObservableArrayAdministration.prototype.notifyArrayChildUpdate=function(e,t,r){var n=!this.owned&&!1,i=hasListeners(this),a=i||n?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:r}:null;this.atom.reportChanged(),i&&notifyListeners(this,a)},ObservableArrayAdministration.prototype.notifyArraySplice=function(e,t,r){var n=!this.owned&&!1,i=hasListeners(this),a=i||n?{object:this.proxy,type:"splice",index:e,removed:r,added:t,removedCount:r.length,addedCount:t.length}:null;this.atom.reportChanged(),i&&notifyListeners(this,a)},ObservableArrayAdministration}(),Y={intercept:function(e){return this[c].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[c].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[c];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=this[c];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(e);case 2:return i.spliceWithArray(e,t)}return i.spliceWithArray(e,t,r)},spliceWithArray:function(e,t,r){return this[c].spliceWithArray(e,t,r)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this[c];return r.spliceWithArray(r.values.length,0,e),r.values.length},pop:function(){return this.splice(Math.max(this[c].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this[c];return r.spliceWithArray(0,0,e),r.values.length},reverse:function(){var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[c],r=t.dehanceValues(t.values).indexOf(e);return r>-1&&(this.splice(r,1),!0)},get:function(e){var t=this[c];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var r=this[c],n=r.values;if(e<n.length){checkIfStateModificationsAreAllowed(r.atom);var i=n[e];if(hasInterceptors(r)){var a=interceptChange(r,{type:"update",object:r.proxy,index:e,newValue:t});if(!a)return;t=a.newValue}(t=r.enhancer(t,i))!==i&&(n[e]=t,r.notifyArrayChildUpdate(e,t,i))}else{if(e!==n.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+n.length);r.spliceWithArray(e,0,[t])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){Y[e]=function(){var t=this[c];t.atom.reportObserved();var r=t.dehanceValues(t.values);return r[e].apply(r,arguments)}});var X,Q=createInstanceofPredicate("ObservableArrayAdministration",W);function isObservableArray(e){return isObject(e)&&Q(e[c])}var $,J={},Z=function(){function ObservableMap(e,t,r){if(void 0===t&&(t=deepEnhancer),void 0===r&&(r="ObservableMap@"+getNextId()),this.enhancer=t,this.name=r,this[X]=J,this._keysAtom=createAtom(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return ObservableMap.prototype._has=function(e){return this._data.has(e)},ObservableMap.prototype.has=function(e){var t=this;if(!F.trackingDerivation)return this._has(e);var r=this._hasMap.get(e);if(!r){var n=r=new P(this._has(e),referenceEnhancer,this.name+"."+stringifyKey(e)+"?",!1);this._hasMap.set(e,n),onBecomeUnobserved(n,function(){return t._hasMap.delete(e)})}return r.get()},ObservableMap.prototype.set=function(e,t){var r=this._has(e);if(hasInterceptors(this)){var n=interceptChange(this,{type:r?"update":"add",object:this,newValue:t,name:e});if(!n)return this;t=n.newValue}return r?this._updateValue(e,t):this._addValue(e,t),this},ObservableMap.prototype.delete=function(e){var t=this;if(hasInterceptors(this)&&!(n=interceptChange(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var r=hasListeners(this),n=r?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return transaction(function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),r&&notifyListeners(this,n),!0}return!1},ObservableMap.prototype._updateHasMapEntry=function(e,t){var r=this._hasMap.get(e);r&&r.setNewValue(t)},ObservableMap.prototype._updateValue=function(e,t){var r=this._data.get(e);if((t=r.prepareNewValue(t))!==F.UNCHANGED){var n=hasListeners(this),i=n?{type:"update",object:this,oldValue:r.value,name:e,newValue:t}:null;0,r.setNewValue(t),n&&notifyListeners(this,i)}},ObservableMap.prototype._addValue=function(e,t){var r=this;checkIfStateModificationsAreAllowed(this._keysAtom),transaction(function(){var n=new P(t,r.enhancer,r.name+"."+stringifyKey(e),!1);r._data.set(e,n),t=n.value,r._updateHasMapEntry(e,!0),r._keysAtom.reportChanged()});var n=hasListeners(this),i=n?{type:"add",object:this,name:e,newValue:t}:null;n&&notifyListeners(this,i)},ObservableMap.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},ObservableMap.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},ObservableMap.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},ObservableMap.prototype.values=function(){var e=this,t=0,r=Array.from(this.keys());return makeIterable({next:function(){return t<r.length?{value:e.get(r[t++]),done:!1}:{done:!0}}})},ObservableMap.prototype.entries=function(){var e=this,t=0,r=Array.from(this.keys());return makeIterable({next:function(){if(t<r.length){var n=r[t++];return{value:[n,e.get(n)],done:!1}}return{done:!0}}})},ObservableMap.prototype[(X=c,Symbol.iterator)]=function(){return this.entries()},ObservableMap.prototype.forEach=function(e,t){var r,n;try{for(var i=__values(this),a=i.next();!a.done;a=i.next()){var o=__read(a.value,2),s=o[0],l=o[1];e.call(t,l,s,this)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},ObservableMap.prototype.merge=function(e){var t=this;return ee(e)&&(e=e.toJS()),transaction(function(){isPlainObject(e)?getPlainObjectKeys(e).forEach(function(r){return t.set(r,e[r])}):Array.isArray(e)?e.forEach(function(e){var r=__read(e,2),n=r[0],i=r[1];return t.set(n,i)}):isES6Map(e)?(e.constructor!==Map&&fail("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach(function(e,r){return t.set(r,e)})):null!=e&&fail("Cannot initialize map from "+e)}),this},ObservableMap.prototype.clear=function(){var e=this;transaction(function(){untracked(function(){var t,r;try{for(var n=__values(e.keys()),i=n.next();!i.done;i=n.next()){var a=i.value;e.delete(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}})})},ObservableMap.prototype.replace=function(e){var t=this;return transaction(function(){var r=function getMapLikeKeys(e){return isPlainObject(e)?Object.keys(e):Array.isArray(e)?e.map(function(e){return __read(e,1)[0]}):isES6Map(e)||ee(e)?Array.from(e.keys()):fail("Cannot get keys from '"+e+"'")}(e);Array.from(t.keys()).filter(function(e){return-1===r.indexOf(e)}).forEach(function(e){return t.delete(e)}),t.merge(e)}),this},Object.defineProperty(ObservableMap.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),ObservableMap.prototype.toPOJO=function(){var e,t,r={};try{for(var n=__values(this),i=n.next();!i.done;i=n.next()){var a=__read(i.value,2),o=a[0],s=a[1];r["symbol"==typeof o?o:stringifyKey(o)]=s}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},ObservableMap.prototype.toJS=function(){return new Map(this)},ObservableMap.prototype.toJSON=function(){return this.toPOJO()},ObservableMap.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map(function(t){return stringifyKey(t)+": "+e.get(t)}).join(", ")+" }]"},ObservableMap.prototype.observe=function(e,t){return registerListener(this,e)},ObservableMap.prototype.intercept=function(e){return registerInterceptor(this,e)},ObservableMap}(),ee=createInstanceofPredicate("ObservableMap",Z),te={},re=function(){function ObservableSet(e,t,r){if(void 0===t&&(t=deepEnhancer),void 0===r&&(r="ObservableSet@"+getNextId()),this.name=r,this[$]=te,this._data=new Set,this._atom=createAtom(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,n){return t(e,n,r)},e&&this.replace(e)}return ObservableSet.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},ObservableSet.prototype.clear=function(){var e=this;transaction(function(){untracked(function(){var t,r;try{for(var n=__values(e._data.values()),i=n.next();!i.done;i=n.next()){var a=i.value;e.delete(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}})})},ObservableSet.prototype.forEach=function(e,t){var r,n;try{for(var i=__values(this),a=i.next();!a.done;a=i.next()){var o=a.value;e.call(t,o,o,this)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},Object.defineProperty(ObservableSet.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),ObservableSet.prototype.add=function(e){var t=this;if((checkIfStateModificationsAreAllowed(this._atom),hasInterceptors(this))&&!(n=interceptChange(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){transaction(function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()});var r=hasListeners(this),n=r?{type:"add",object:this,newValue:e}:null;0,r&&notifyListeners(this,n)}return this},ObservableSet.prototype.delete=function(e){var t=this;if(hasInterceptors(this)&&!(n=interceptChange(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var r=hasListeners(this),n=r?{type:"delete",object:this,oldValue:e}:null;return transaction(function(){t._atom.reportChanged(),t._data.delete(e)}),r&&notifyListeners(this,n),!0}return!1},ObservableSet.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},ObservableSet.prototype.entries=function(){var e=0,t=Array.from(this.keys()),r=Array.from(this.values());return makeIterable({next:function(){var n=e;return e+=1,n<r.length?{value:[t[n],r[n]],done:!1}:{done:!0}}})},ObservableSet.prototype.keys=function(){return this.values()},ObservableSet.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,r=Array.from(this._data.values());return makeIterable({next:function(){return t<r.length?{value:e.dehanceValue(r[t++]),done:!1}:{done:!0}}})},ObservableSet.prototype.replace=function(e){var t=this;return ne(e)&&(e=e.toJS()),transaction(function(){Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):isES6Set(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&fail("Cannot initialize set from "+e)}),this},ObservableSet.prototype.observe=function(e,t){return registerListener(this,e)},ObservableSet.prototype.intercept=function(e){return registerInterceptor(this,e)},ObservableSet.prototype.toJS=function(){return new Set(this)},ObservableSet.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},ObservableSet.prototype[($=c,Symbol.iterator)]=function(){return this.values()},ObservableSet}(),ne=createInstanceofPredicate("ObservableSet",re),ie=function(){function ObservableObjectAdministration(e,t,r,n){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=r,this.defaultEnhancer=n,this.keysAtom=new f(r+".keys")}return ObservableObjectAdministration.prototype.read=function(e){return this.values.get(e).get()},ObservableObjectAdministration.prototype.write=function(e,t){var r=this.target,n=this.values.get(e);if(n instanceof I)n.set(t);else{if(hasInterceptors(this)){if(!(a=interceptChange(this,{type:"update",object:this.proxy||r,name:e,newValue:t})))return;t=a.newValue}if((t=n.prepareNewValue(t))!==F.UNCHANGED){var i=hasListeners(this),a=i?{type:"update",object:this.proxy||r,oldValue:n.value,name:e,newValue:t}:null;0,n.setNewValue(t),i&&notifyListeners(this,a)}}},ObservableObjectAdministration.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),r=t.get(e);if(r)return r.get();var n=!!this.values.get(e);return r=new P(n,referenceEnhancer,this.name+"."+stringifyKey(e)+"?",!1),t.set(e,r),r.get()},ObservableObjectAdministration.prototype.addObservableProp=function(e,t,r){void 0===r&&(r=this.defaultEnhancer);var n=this.target;if(function assertPropertyConfigurable(e,t){0}(),hasInterceptors(this)){var i=interceptChange(this,{object:this.proxy||n,name:e,type:"add",newValue:t});if(!i)return;t=i.newValue}var a=new P(t,r,this.name+"."+stringifyKey(e),!1);this.values.set(e,a),t=a.value,Object.defineProperty(n,e,function generateObservablePropConfig(e){return ae[e]||(ae[e]={configurable:!0,enumerable:!0,get:function(){return this[c].read(e)},set:function(t){this[c].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},ObservableObjectAdministration.prototype.addComputedProp=function(e,t,r){var n=this.target;r.name=r.name||this.name+"."+stringifyKey(t),this.values.set(t,new I(r)),(e===n||function isPropertyConfigurable(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!r||!1!==r.configurable&&!1!==r.writable}(e,t))&&Object.defineProperty(e,t,function generateComputedPropConfig(e){return oe[e]||(oe[e]={configurable:F.computedConfigurable,enumerable:!1,get:function(){return getAdministrationForComputedPropOwner(this).read(e)},set:function(t){getAdministrationForComputedPropOwner(this).write(e,t)}})}(t))},ObservableObjectAdministration.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(hasInterceptors(this))if(!(o=interceptChange(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{startBatch();var r=hasListeners(this),n=this.values.get(e),i=n&&n.get();if(n&&n.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var a=this.pendingKeys.get(e);a&&a.set(!1)}delete this.target[e];var o=r?{type:"remove",object:this.proxy||t,oldValue:i,name:e}:null;0,r&&notifyListeners(this,o)}finally{endBatch()}}},ObservableObjectAdministration.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},ObservableObjectAdministration.prototype.observe=function(e,t){return registerListener(this,e)},ObservableObjectAdministration.prototype.intercept=function(e){return registerInterceptor(this,e)},ObservableObjectAdministration.prototype.notifyPropertyAddition=function(e,t){var r=hasListeners(this),n=r?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(r&&notifyListeners(this,n),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!0)}this.keysAtom.reportChanged()},ObservableObjectAdministration.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var r=[];try{for(var n=__values(this.values),i=n.next();!i.done;i=n.next()){var a=__read(i.value,2),o=a[0];a[1]instanceof P&&r.push(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},ObservableObjectAdministration}();function asObservableObject(e,t,r){if(void 0===t&&(t=""),void 0===r&&(r=deepEnhancer),Object.prototype.hasOwnProperty.call(e,c))return e[c];isPlainObject(e)||(t=(e.constructor.name||"ObservableObject")+"@"+getNextId()),t||(t="ObservableObject@"+getNextId());var n=new ie(e,new Map,stringifyKey(t),r);return addHiddenProp(e,c,n),n}var ae=Object.create(null),oe=Object.create(null);function getAdministrationForComputedPropOwner(e){var t=e[c];return t||(initializeInstance(e),e[c])}var se=createInstanceofPredicate("ObservableObjectAdministration",ie);function isObservableObject(e){return!!isObject(e)&&(initializeInstance(e),se(e[c]))}function getAtom(e,t){if("object"==typeof e&&null!==e){if(isObservableArray(e))return void 0!==t&&fail(!1),e[c].atom;if(ne(e))return e[c];if(ee(e)){var r=e;return void 0===t?r._keysAtom:((n=r._data.get(t)||r._hasMap.get(t))||fail(!1),n)}var n;if(initializeInstance(e),t&&!e[c]&&e[t],isObservableObject(e))return t?((n=e[c].values.get(t))||fail(!1),n):fail(!1);if(d(e)||M(e)||q(e))return e}else if("function"==typeof e&&q(e[c]))return e[c];return fail(!1)}function getAdministration(e,t){return e||fail("Expecting some object"),void 0!==t?getAdministration(getAtom(e,t)):d(e)||M(e)||q(e)?e:ee(e)||ne(e)?e:(initializeInstance(e),e[c]?e[c]:void fail(!1))}var le=Object.prototype.toString;function deepEqual(e,t){return eq(e,t)}function eq(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&function deepEq(e,t,r,n){e=unwrap(e),t=unwrap(t);var i=le.call(e);if(i!==le.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!("function"==typeof o&&o instanceof o&&"function"==typeof s&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[];var l=(r=r||[]).length;for(;l--;)if(r[l]===e)return n[l]===t;if(r.push(e),n.push(t),a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!eq(e[l],t[l],r,n))return!1}else{var u=Object.keys(e),c=void 0;if(l=u.length,Object.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!has$1(t,c)||!eq(e[c],t[c],r,n))return!1}return r.pop(),n.pop(),!0}(e,t,r,n)}function unwrap(e){return isObservableArray(e)?e.slice():isES6Map(e)||ee(e)?Array.from(e.entries()):isES6Set(e)||ne(e)?Array.from(e.entries()):e}function has$1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function makeIterable(e){return e[Symbol.iterator]=self,e}function self(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:spy,extras:{getDebugName:function getDebugName(e,t){return(void 0!==t?getAtom(e,t):isObservableObject(e)||ee(e)||ne(e)?getAdministration(e):getAtom(e)).name}},$mobx:c})}).call(this,r(90),r(59))},function(e,t,r){e.exports=r(394)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=new(function(){function Constants(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Constants),this.init()}return n(Constants,[{key:"init",value:function init(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.UTF8="utf-8",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)"}}]),Constants}());t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4)),i=0;function EventBus(){var e={};function getHandlerIdx(t,r,n){var i=-1;return e[t]?(e[t].some(function(e,t){if(e&&e.callback===r&&(!n||n===e.scope))return i=t,!0}),i):i}return{on:function on(t,r,n){var a=arguments.length<=3||void 0===arguments[3]?i:arguments[3];if(!t)throw new Error("event type cannot be null or undefined");if(!r||"function"!=typeof r)throw new Error("listener must be a function: "+r);if(!(getHandlerIdx(t,r,n)>=0)){e[t]=e[t]||[];var o={callback:r,scope:n,priority:a};e[t].some(function(r,n){if(r&&a>r.priority)return e[t].splice(n,0,o),!0})||e[t].push(o)}},off:function off(t,r,n){if(t&&r&&e[t]){var i=getHandlerIdx(t,r,n);i<0||(e[t][i]=null)}},trigger:function trigger(t,r){if(t&&e[t]){if((r=r||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");r.type=t,e[t]=e[t].filter(function(e){return e}),e[t].forEach(function(e){return e&&e.callback.call(e.scope,r)})}},reset:function reset(){e={}}}}EventBus.__dashjs_factory_name="EventBus";var a=n.default.getSingletonFactory(EventBus);a.EVENT_PRIORITY_LOW=i,a.EVENT_PRIORITY_HIGH=5e3,n.default.updateSingletonFactory(EventBus.__dashjs_factory_name,a),t.default=a,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(12)),i=_interopRequireDefault(r(14)),a=_interopRequireDefault(r(4)),o=0,s=1,l=2,u=3,c=4,f=5;function Debug(){var e,t=this.context,r=(0,n.default)(t).getInstance(),a=[],d=void 0,p=void 0,h=void 0,g=void 0;function getLogFn(e){return e&&e.bind?e.bind(window.console):window.console.log.bind(window.console)}function fatal(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];doLog.apply(void 0,[s,this].concat(t))}function error(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];doLog.apply(void 0,[l,this].concat(t))}function warn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];doLog.apply(void 0,[u,this].concat(t))}function info(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];doLog.apply(void 0,[c,this].concat(t))}function debug(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];doLog.apply(void 0,[f,this].concat(t))}function doLog(e,t){var n="",o=null;d&&(o=(new Date).getTime(),n+="["+(o-h)+"]"),p&&t&&t.getClassName&&(n+="["+t.getClassName()+"]",t.getType&&(n+="["+t.getType()+"]")),n.length>0&&(n+=" ");for(var s=arguments.length,l=Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];Array.apply(null,l).forEach(function(e){n+=e+" "}),a[e]&&g>=e&&a[e](n),r.trigger(i.default.LOG,{message:n,level:e})}return e={getLogger:function getLogger(e){return{fatal:fatal.bind(e),error:error.bind(e),warn:warn.bind(e),info:info.bind(e),debug:debug.bind(e)}},setLogTimestampVisible:function setLogTimestampVisible(e){d=e},setCalleeNameVisible:function setCalleeNameVisible(e){p=e},setLogToBrowserConsole:function setLogToBrowserConsole(e){g=e?f:o},getLogToBrowserConsole:function getLogToBrowserConsole(){return g!==o},setLogLevel:function setLogLevel(e){g=e},getLogLevel:function getLogLevel(){return g}},function setup(){d=!0,p=!0,g=u,h=(new Date).getTime(),"undefined"!=typeof window&&window.console&&(a[s]=getLogFn(window.console.error),a[l]=getLogFn(window.console.error),a[u]=getLogFn(window.console.warn),a[c]=getLogFn(window.console.info),a[f]=getLogFn(window.console.debug))}(),e}Debug.__dashjs_factory_name="Debug";var d=a.default.getSingletonFactory(Debug);d.LOG_LEVEL_NONE=o,d.LOG_LEVEL_FATAL=s,d.LOG_LEVEL_ERROR=l,d.LOG_LEVEL_WARNING=u,d.LOG_LEVEL_INFO=c,d.LOG_LEVEL_DEBUG=f,a.default.updateSingletonFactory(Debug.__dashjs_factory_name,d),t.default=d,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(629)),a=new(function(e){function Events(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Events),n(Object.getPrototypeOf(Events.prototype),"constructor",this).apply(this,arguments)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Events,i["default"]),Events}());t.default=a,e.exports=t.default},function(e,t){e.exports=function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){"use strict";function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function isNonEmptyArray(e){return Array.isArray(e)&&e.length>0}function containsDates(e){return Array.isArray(e)&&e.some(function(e){return e instanceof Date})}t.a={containsDates:containsDates,containsNumbers:function containsNumbers(e){return Array.isArray(e)&&e.some(function(e){return"number"==typeof e})},containsOnlyStrings:function containsOnlyStrings(e){return isNonEmptyArray(e)&&e.every(function(e){return"string"==typeof e})},containsStrings:function containsStrings(e){return Array.isArray(e)&&e.some(function(e){return"string"==typeof e})},getMaxValue:function getMaxValue(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=e.concat(r);return containsDates(i)?new Date(Math.max.apply(Math,_toConsumableArray(i))):Math.max.apply(Math,_toConsumableArray(i))},getMinValue:function getMinValue(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=e.concat(r);return containsDates(i)?new Date(Math.min.apply(Math,_toConsumableArray(i))):Math.min.apply(Math,_toConsumableArray(i))},isArrayOfArrays:function isArrayOfArrays(e){return isNonEmptyArray(e)&&e.every(Array.isArray)},removeUndefined:function removeUndefined(e){return e.filter(function(e){return void 0!==e})}}},function(e,t){e.exports=function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(22);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(383),i=r(15);e.exports=function _possibleConstructorReturn(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}},function(e,t){function _getPrototypeOf(t){return e.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(t)}e.exports=_getPrototypeOf},function(e,t,r){var n=r(384);e.exports=function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){"use strict";var n=function(e,t,r){e.prototype=t.prototype=r,r.constructor=e};function extend(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Color(){}var i="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,u=new RegExp("^rgb\\("+[i,i,i]+"\\)$"),c=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),f=new RegExp("^rgba\\("+[i,i,i,a]+"\\)$"),d=new RegExp("^rgba\\("+[o,o,o,a]+"\\)$"),p=new RegExp("^hsl\\("+[a,o,o]+"\\)$"),h=new RegExp("^hsla\\("+[a,o,o,a]+"\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t;return e=(e+"").trim().toLowerCase(),(t=s.exec(e))?new Rgb((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=l.exec(e))?rgbn(parseInt(t[1],16)):(t=u.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=c.exec(e))?new Rgb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=f.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=d.exec(e))?rgba(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=p.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=h.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):g.hasOwnProperty(e)?rgbn(g[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rgb(e,t,r,n)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?new Rgb((e=e.rgb()).r,e.g,e.b,e.opacity):new Rgb}function rgb(e,t,r,n){return 1===arguments.length?rgbConvert(e):new Rgb(e,t,r,null==n?1:n)}function Rgb(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function hex(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function hsla(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,r,n)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(r-n)/s+6*(r<n):r===a?(n-t)/s+2:(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Hsl(o,s,l,e.opacity)}function hsl(e,t,r,n){return 1===arguments.length?hslConvert(e):new Hsl(e,t,r,null==n?1:n)}function Hsl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function hsl2rgb(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}n(Color,color,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),n(Rgb,rgb,extend(Color,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),n(Hsl,hsl,extend(Color,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Rgb(hsl2rgb(e>=240?e-240:e+120,i,n),hsl2rgb(e,i,n),hsl2rgb(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var m=Math.PI/180,y=180/Math.PI,v=.96422,_=1,b=.82521,E=4/29,T=6/29,S=3*T*T,w=T*T*T;function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl)return hcl2lab(e);e instanceof Rgb||(e=rgbConvert(e));var t,r,n=rgb2lrgb(e.r),i=rgb2lrgb(e.g),a=rgb2lrgb(e.b),o=xyz2lab((.2225045*n+.7168786*i+.0606169*a)/_);return n===i&&i===a?t=r=o:(t=xyz2lab((.4360747*n+.3850649*i+.1430804*a)/v),r=xyz2lab((.0139322*n+.0971045*i+.7141733*a)/b)),new Lab(116*o-16,500*(t-o),200*(o-r),e.opacity)}function lab(e,t,r,n){return 1===arguments.length?labConvert(e):new Lab(e,t,r,null==n?1:n)}function Lab(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function xyz2lab(e){return e>w?Math.pow(e,1/3):e/S+E}function lab2xyz(e){return e>T?e*e*e:S*(e-E)}function lrgb2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2lrgb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);if(e instanceof Lab||(e=labConvert(e)),0===e.a&&0===e.b)return new Hcl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*y;return new Hcl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hcl(e,t,r,n){return 1===arguments.length?hclConvert(e):new Hcl(e,t,r,null==n?1:n)}function Hcl(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function hcl2lab(e){if(isNaN(e.h))return new Lab(e.l,0,0,e.opacity);var t=e.h*m;return new Lab(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}n(Lab,lab,extend(Color,{brighter:function(e){return new Lab(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Lab(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(t=v*lab2xyz(t))-1.6168667*(e=_*lab2xyz(e))-.4906146*(r=b*lab2xyz(r))),lrgb2rgb(-.9787684*t+1.9161415*e+.033454*r),lrgb2rgb(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),n(Hcl,hcl,extend(Color,{brighter:function(e){return new Hcl(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Hcl(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));var R=-.14861,A=1.78277,C=-.29227,x=-.90649,D=1.97294,P=D*x,I=D*A,M=A*C-x*R;function cubehelix(e,t,r,n){return 1===arguments.length?function cubehelixConvert(e){if(e instanceof Cubehelix)return new Cubehelix(e.h,e.s,e.l,e.opacity);e instanceof Rgb||(e=rgbConvert(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(M*n+P*t-I*r)/(M+P-I),a=n-i,o=(D*(r-i)-C*a)/x,s=Math.sqrt(o*o+a*a)/(D*i*(1-i)),l=s?Math.atan2(o,a)*y-120:NaN;return new Cubehelix(l<0?l+360:l,s,i,e.opacity)}(e):new Cubehelix(e,t,r,null==n?1:n)}function Cubehelix(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}n(Cubehelix,cubehelix,extend(Color,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*m,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new Rgb(255*(t+r*(R*n+A*i)),255*(t+r*(C*n+x*i)),255*(t+r*(D*n)),this.opacity)}})),r.d(t,"a",function(){return color}),r.d(t,"f",function(){return rgb}),r.d(t,"d",function(){return hsl}),r.d(t,"e",function(){return lab}),r.d(t,"c",function(){return hcl}),r.d(t,"b",function(){return cubehelix})},function(e,t){e.exports=function _applyDecoratedDescriptor(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}},function(e,t,r){var n=r(142)("wks"),i=r(92),a=r(19).Symbol,o="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=n},function(e,t,r){"use strict";var n=Array.isArray,i=Object.keys,a=Object.prototype.hasOwnProperty,o="undefined"!=typeof Element;e.exports=function exportedEqual(e,t){try{return function equal(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,s,l,u=n(e),c=n(t);if(u&&c){if((s=e.length)!=t.length)return!1;for(r=s;0!=r--;)if(!equal(e[r],t[r]))return!1;return!0}if(u!=c)return!1;var f=e instanceof Date,d=t instanceof Date;if(f!=d)return!1;if(f&&d)return e.getTime()==t.getTime();var p=e instanceof RegExp,h=t instanceof RegExp;if(p!=h)return!1;if(p&&h)return e.toString()==t.toString();var g=i(e);if((s=g.length)!==i(t).length)return!1;for(r=s;0!=r--;)if(!a.call(t,g[r]))return!1;if(o&&e instanceof Element&&t instanceof Element)return e===t;for(r=s;0!=r--;)if(!("_owner"===(l=g[r])&&e.$$typeof||equal(e[l],t[l])))return!1;return!0}return e!=e&&t!=t}(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}},function(e,t){function asyncGeneratorStep(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}e.exports=function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function _next(e){asyncGeneratorStep(a,n,i,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(a,n,i,_next,_throw,"throw",e)}_next(void 0)})}}},function(e,t,r){var n=r(67),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function DashJSError(e,t,r){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DashJSError),this.code=e||null,this.message=t||null,this.data=r||null},e.exports=t.default},function(e,t,r){var n=r(324),i=r(326),a=r(165),o=r(47),s=r(71),l=r(235),u=r(164),c=r(236),f="[object Map]",d="[object Set]",p=Object.prototype.hasOwnProperty;e.exports=function isEmpty(e){if(null==e)return!0;if(s(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||a(e)))return!e.length;var t=i(e);if(t==f||t==d)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(p.call(e,r))return!1;return!0}},function(e,t){e.exports=function _initializerDefineProperty(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}},function(e,t){var r=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=r)},function(e,t,r){e.exports=!r(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(21),i=r(259),a=r(82),o=Object.defineProperty;t.f=r(36)?Object.defineProperty:function defineProperty(e,t,r){if(n(e),t=a(t,!0),n(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(302)),a=new(function(e){function Errors(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Errors),n(Object.getPrototypeOf(Errors.prototype),"constructor",this).call(this),this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,this.SEGMENTS_UPDATE_FAILED_ERROR_CODE=13,this.SEGMENTS_UNAVAILABLE_ERROR_CODE=14,this.SEGMENT_BASE_LOADER_ERROR_CODE=15,this.TIME_SYNC_FAILED_ERROR_CODE=16,this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,this.APPEND_ERROR_CODE=20,this.REMOVE_ERROR_CODE=21,this.DATA_UPDATE_FAILED_ERROR_CODE=22,this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,this.DOWNLOAD_ERROR_ID_MANIFEST="manifest",this.DOWNLOAD_ERROR_ID_SIDX_CODE=26,this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,this.DOWNLOAD_ERROR_ID_CONTENT="content",this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,this.DOWNLOAD_ERROR_ID_INITIALIZATION="initialization",this.DOWNLOAD_ERROR_ID_XLINK_CODE=29,this.DOWNLOAD_ERROR_ID_XLINK="xlink",this.MANIFEST_ERROR_ID_CODEC_CODE=30,this.MANIFEST_ERROR_ID_PARSE_CODE=31,this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segments",this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize time",this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",this.APPEND_ERROR_MESSAGE="chunk is not defined",this.REMOVE_ERROR_MESSAGE="buffer is not defined",this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : "}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Errors,i["default"]),Errors}());t.default=a,e.exports=t.default},function(e,t,r){var n=r(85),i=r(337),a=r(79),o="[object Object]",s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,f=u.call(Object);e.exports=function isPlainObject(e){if(!a(e)||n(e)!=o)return!1;var t=i(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&u.call(r)==f}},function(e,t){e.exports=function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){"use strict";var n=r(26);function basis(e,t,r,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*n+o*i)/6}var i=function(e){return function(){return e}};function linear(e,t){return function(r){return e+r*t}}function color_hue(e,t){var r=t-e;return r?linear(e,r>180||r<-180?r-360*Math.round(r/360):r):i(isNaN(e)?t:e)}function gamma(e){return 1==(e=+e)?nogamma:function(t,r){return r-t?function exponential(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):i(isNaN(t)?r:t)}}function nogamma(e,t){var r=t-e;return r?linear(e,r):i(isNaN(e)?t:e)}var a=function rgbGamma(e){var t=gamma(e);function rgb(e,r){var i=t((e=Object(n.f)(e)).r,(r=Object(n.f)(r)).r),a=t(e.g,r.g),o=t(e.b,r.b),s=nogamma(e.opacity,r.opacity);return function(t){return e.r=i(t),e.g=a(t),e.b=o(t),e.opacity=s(t),e+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(e){return function(t){var r,i,a=t.length,o=new Array(a),s=new Array(a),l=new Array(a);for(r=0;r<a;++r)i=Object(n.f)(t[r]),o[r]=i.r||0,s[r]=i.g||0,l[r]=i.b||0;return o=e(o),s=e(s),l=e(l),i.opacity=1,function(e){return i.r=o(e),i.g=s(e),i.b=l(e),i+""}}}rgbSpline(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,s=n<t-1?e[n+2]:2*a-i;return basis((r-n/t)*t,o,i,a,s)}}),rgbSpline(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return basis((r-n/t)*t,i,a,o,s)}});var o=function(e,t){return t-=e=+e,function(r){return e+t*r}},s=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,l=new RegExp(s.source,"g");var u,c,f,d,p=function(e,t){var r,u=typeof t;return null==t||"boolean"===u?i(t):("number"===u?o:"string"===u?(r=Object(n.a)(t))?(t=r,a):function(e,t){var r,n,i,a=s.lastIndex=l.lastIndex=0,u=-1,c=[],f=[];for(e+="",t+="";(r=s.exec(e))&&(n=l.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),c[u]?c[u]+=i:c[++u]=i),(r=r[0])===(n=n[0])?c[u]?c[u]+=n:c[++u]=n:(c[++u]=null,f.push({i:u,x:o(r,n)})),a=l.lastIndex;return a<t.length&&(i=t.slice(a),c[u]?c[u]+=i:c[++u]=i),c.length<2?f[0]?function one(e){return function(t){return e(t)+""}}(f[0].x):function zero(e){return function(){return e}}(t):(t=f.length,function(e){for(var r,n=0;n<t;++n)c[(r=f[n]).i]=r.x(e);return c.join("")})}:t instanceof n.a?a:t instanceof Date?function(e,t){var r=new Date;return t-=e=+e,function(n){return r.setTime(e+t*n),r}}:Array.isArray(t)?function(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),o=new Array(n);for(r=0;r<i;++r)a[r]=p(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<i;++r)o[r]=a[r](e);return o}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var r,n={},i={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=p(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}:o)(e,t)},h=function(e,t){return t-=e=+e,function(r){return Math.round(e+t*r)}},g=180/Math.PI,m={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},y=function(e,t,r,n,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*g,skewX:Math.atan(l)*g,scaleX:o,scaleY:s}};function interpolateTransform(e,t,r,n){function pop(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function translate(e,n,i,a,s,l){if(e!==i||n!==a){var u=s.push("translate(",null,t,null,r);l.push({i:u-4,x:o(e,i)},{i:u-2,x:o(n,a)})}else(i||a)&&s.push("translate("+i+t+a+r)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function rotate(e,t,r,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:r.push(pop(r)+"rotate(",null,n)-2,x:o(e,t)})):t&&r.push(pop(r)+"rotate("+t+n)}(i.rotate,a.rotate,s,l),function skewX(e,t,r,i){e!==t?i.push({i:r.push(pop(r)+"skewX(",null,n)-2,x:o(e,t)}):t&&r.push(pop(r)+"skewX("+t+n)}(i.skewX,a.skewX,s,l),function scale(e,t,r,n,i,a){if(e!==r||t!==n){var s=i.push(pop(i)+"scale(",null,",",null,")");a.push({i:s-4,x:o(e,r)},{i:s-2,x:o(t,n)})}else 1===r&&1===n||i.push(pop(i)+"scale("+r+","+n+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,r=-1,n=l.length;++r<n;)s[(t=l[r]).i]=t.x(e);return s.join("")}}}interpolateTransform(function parseCss(e){return"none"===e?m:(u||(u=document.createElement("DIV"),c=document.documentElement,f=document.defaultView),u.style.transform=e,e=f.getComputedStyle(c.appendChild(u),null).getPropertyValue("transform"),c.removeChild(u),e=e.slice(7,-1).split(","),y(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),interpolateTransform(function parseSvg(e){return null==e?m:(d||(d=document.createElementNS("http://www.w3.org/2000/svg","g")),d.setAttribute("transform",e),(e=d.transform.baseVal.consolidate())?(e=e.matrix,y(e.a,e.b,e.c,e.d,e.e,e.f)):m)},", ",")",")"),Math.SQRT2;function hsl(e){return function(t,r){var i=e((t=Object(n.d)(t)).h,(r=Object(n.d)(r)).h),a=nogamma(t.s,r.s),o=nogamma(t.l,r.l),s=nogamma(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(e),t.opacity=s(e),t+""}}}hsl(color_hue),hsl(nogamma);function hcl(e){return function(t,r){var i=e((t=Object(n.c)(t)).h,(r=Object(n.c)(r)).h),a=nogamma(t.c,r.c),o=nogamma(t.l,r.l),s=nogamma(t.opacity,r.opacity);return function(e){return t.h=i(e),t.c=a(e),t.l=o(e),t.opacity=s(e),t+""}}}hcl(color_hue),hcl(nogamma);function cubehelix_cubehelix(e){return function cubehelixGamma(t){function cubehelix(r,i){var a=e((r=Object(n.b)(r)).h,(i=Object(n.b)(i)).h),o=nogamma(r.s,i.s),s=nogamma(r.l,i.l),l=nogamma(r.opacity,i.opacity);return function(e){return r.h=a(e),r.s=o(e),r.l=s(Math.pow(e,t)),r.opacity=l(e),r+""}}return t=+t,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}cubehelix_cubehelix(color_hue);var v=cubehelix_cubehelix(nogamma);r.d(t,"a",function(){return p}),r.d(t,"c",function(){return o}),r.d(t,"d",function(){return h}),r.d(t,"b",function(){return v})},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function HTTPRequest(){_classCallCheck(this,HTTPRequest),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null};n.GET="GET",n.HEAD="HEAD",n.MPD_TYPE="MPD",n.XLINK_EXPANSION_TYPE="XLinkExpansion",n.INIT_SEGMENT_TYPE="InitializationSegment",n.INDEX_SEGMENT_TYPE="IndexSegment",n.MEDIA_SEGMENT_TYPE="MediaSegment",n.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",n.OTHER_TYPE="other",t.HTTPRequest=n,t.HTTPRequestTrace=function HTTPRequestTrace(){_classCallCheck(this,HTTPRequestTrace),this.s=null,this.d=null,this.b=[]}},function(e,t,r){"use strict";var n=r(61),i=r.n(n),a=r(8),o=r.n(a),s=r(368),l=r.n(s),u=r(39),c=r.n(u),f=r(87),d=r.n(f),p=r(1),h=r.n(p),g=r(46),m=r(64),y=r(7),v=r(16);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function getExtremeFromData(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"min",n=function(e){return"max"===r?Math.max.apply(Math,_toConsumableArray(e)):Math.min.apply(Math,_toConsumableArray(e))},i="max"===r?-1/0:1/0,a=!1,o=d()(e).reduce(function(e,r){var i=void 0!==r["_".concat(t,"0")]?r["_".concat(t,"0")]:r["_".concat(t)],o=void 0!==r["_".concat(t,"1")]?r["_".concat(t,"1")]:r["_".concat(t)],s=n([i,o]);return a=a||i instanceof Date||o instanceof Date,n([e,s])},i);return a?new Date(o):o}function padDomain(e,t,r){if(!t.domainPadding)return e;var n=getMinFromProps(t,r),i=getMaxFromProps(t,r),a=function getDomainPadding(e,t){var r=function(e){return Array.isArray(e)?{left:e[0],right:e[1]}:{left:e,right:e}};return c()(e.domainPadding)?r(e.domainPadding[t]):r(e.domainPadding)}(t,r);if(!a.left&&!a.right)return e;var o=v.a.getMinValue(e),s=v.a.getMaxValue(e),l=y.a.getCurrentAxis(r,t.horizontal),u=y.a.getRange(t,l),f=Math.abs(u[0]-u[1]),d=Math.abs(s-o)*a.left/f,p=Math.abs(s-o)*a.right/f,h=c()(t.singleQuadrantDomainPadding)?t.singleQuadrantDomainPadding[r]:t.singleQuadrantDomainPadding,g=function(e,t){return!1===h?e:"min"===t&&o>=0&&e<=0||"max"===t&&s<=0&&e>=0?0:e},m=g(o.valueOf()-d,"min"),_=g(s.valueOf()+p,"max"),b=Math.abs(_-m)*a.left/f,E=Math.abs(_-m)*a.right/f,T={min:g(o.valueOf()-b,"min"),max:g(s.valueOf()+E,"max")},S={min:void 0!==n?n:T.min,max:void 0!==i?i:T.max};return o instanceof Date||s instanceof Date?getDomainFromMinMax(new Date(S.min),new Date(S.max)):getDomainFromMinMax(S.min,S.max)}function createDomainFunction(e,t){return e=o()(e)?e:getDomainFromData,t=o()(t)?t:formatDomain,function(r,n){var i=getDomainFromProps(r,n);if(i)return t(i,r,n);var a=g.a.getCategories(r,n),o=a?getDomainFromCategories(r,n,a):e(r,n);return o?t(o,r,n):void 0}}function formatDomain(e,t,r){return function cleanDomain(e,t,r){return"log"!==m.a.getScaleType(t,r)?e:(i=(n=e)[0]<0||n[1]<0?-1/Number.MAX_SAFE_INTEGER:1/Number.MAX_SAFE_INTEGER,[0===n[0]?i:n[0],0===n[1]?i:n[1]]);var n,i}(padDomain(e,t,r),t,r)}function getDomainFromCategories(e,t,r){r=r||g.a.getCategories(e,t);var n=e.polar,i=e.startAngle,a=void 0===i?0:i,o=e.endAngle,s=void 0===o?360:o;if(r){var l=getMinFromProps(e,t),u=getMaxFromProps(e,t),c=v.a.containsStrings(r)?g.a.getStringsFromCategories(e,t):[],f=0===c.length?null:c.reduce(function(e,t,r){return e[t]=r+1,e},{}),d=f?r.map(function(e){return f[e]}):r,p=getDomainFromMinMax(void 0!==l?l:v.a.getMinValue(d),void 0!==u?u:v.a.getMaxValue(d));return n&&"x"===t&&360===Math.abs(a-s)?getSymmetricDomain(p,d):p}}function getDomainFromData(e,t,r){r=r||g.a.getData(e);var n=e.polar,i=e.startAngle,a=void 0===i?0:i,o=e.endAngle,s=void 0===o?360:o,l=getMinFromProps(e,t),u=getMaxFromProps(e,t);if(r.length<1)return void 0!==l&&void 0!==u?getDomainFromMinMax(l,u):void 0;var c=getDomainFromMinMax(void 0!==l?l:getExtremeFromData(r,t,"min"),void 0!==u?u:getExtremeFromData(r,t,"max"));return n&&"x"===t&&360===Math.abs(a-s)?getSymmetricDomain(c,function getFlatData(e,t){return d()(e).map(function(e){return e["_".concat(t)]&&void 0!==e["_".concat(t)][1]?e["_".concat(t)][1]:e["_".concat(t)]})}(r,t)):c}function getDomainFromMinMax(e,t){var r,n,i,a;return+e==+t?(n=0===(r=t)?2*Math.pow(10,-10):Math.pow(10,-10),i=r instanceof Date?new Date(+r-1):+r-n,a=r instanceof Date?new Date(+r+1):+r+n,0===r?[0,a]:[i,a]):[e,t]}function getDomainFromProps(e,t){var r=getMinFromProps(e,t),n=getMaxFromProps(e,t);return c()(e.domain)&&e.domain[t]?e.domain[t]:Array.isArray(e.domain)?e.domain:void 0!==r&&void 0!==n?getDomainFromMinMax(r,n):void 0}function getMaxFromProps(e,t){return c()(e.maxDomain)&&void 0!==e.maxDomain[t]?e.maxDomain[t]:"number"==typeof e.maxDomain?e.maxDomain:void 0}function getMinFromProps(e,t){return c()(e.minDomain)&&void 0!==e.minDomain[t]?e.minDomain[t]:"number"==typeof e.minDomain?e.minDomain:void 0}function getSymmetricDomain(e,t){var r=l()(t.sort(function(e,t){return e-t})),n=r[1]-r[0];return[e[0],e[1]+n]}t.a={createDomainFunction:createDomainFunction,formatDomain:formatDomain,getDomain:function getDomain(e,t){return createDomainFunction()(e,t)},getDomainFromCategories:getDomainFromCategories,getDomainFromData:getDomainFromData,getDomainFromMinMax:getDomainFromMinMax,getDomainFromProps:getDomainFromProps,getDomainWithZero:function getDomainWithZero(e,t){var r=getDomainFromProps(e,t);if(r)return r;var n=g.a.getData(e),i=n.reduce(function(e,t){return t._y0<e?t._y0:e},1/0);return createDomainFunction(function(){return getDomainFromData(e,t,n)},function(r){return formatDomain(function(r){if("x"===t)return r;var n=i!==1/0?i:0,a=getMaxFromProps(e,t),o=getMinFromProps(e,t),s=void 0!==a?a:v.a.getMaxValue(r,n);return getDomainFromMinMax(void 0!==o?o:v.a.getMinValue(r,n),s)}(r),e,t)})(e,t)},getMaxFromProps:getMaxFromProps,getMinFromProps:getMinFromProps,getSymmetricDomain:getSymmetricDomain,isDomainComponent:function isDomainComponent(e){var t=function(e){return e&&e.type?e.type.role:""},r=t(e);if("portal"===r){var n=h.a.Children.toArray(e.props.children);r=n.length?t(n[0]):""}return i()(["area","axis","bar","boxplot","candlestick","errorbar","group","line","pie","scatter","stack","voronoi"],r)}}},function(e,t,r){var n=r(75);e.exports=function(e){return Object(n(e))}},function(t,n,i){"use strict";var a=i(72),l=i(9),u=i(1),c=i.n(u);if(!u.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!l.n)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var f=!1;function isUsingStaticRendering(){return f}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var d=function(){return(d=Object.assign||function __assign(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function printDebugValue(e){return e.current?Object(l.i)(e.current):"<unknown>"}var p=[];function useForceUpdate(){var e=__read(Object(u.useState)(0),2)[1];return Object(u.useCallback)(function(){e(function(e){return e+1})},[])}var h={};function useObserver(e,t,r){if(void 0===t&&(t="observed"),void 0===r&&(r=h),isUsingStaticRendering())return e();var n=(r.useForceUpdate||useForceUpdate)(),i=Object(u.useRef)(null);i.current||(i.current=new l.b("observer("+t+")",function(){n()}));var a,o,s=function(){i.current&&!i.current.isDisposed&&i.current.dispose()};if(Object(u.useDebugValue)(i,printDebugValue),function useUnmount(e){Object(u.useEffect)(function(){return e},p)}(function(){s()}),i.current.track(function(){try{a=e()}catch(e){o=e}}),o)throw s(),o;return a}function observer(e,t){if(isUsingStaticRendering())return e;var r,n=d({forwardRef:!1},t),i=e.displayName||e.name,a=function(t,r){return useObserver(function(){return e(t,r)},i)};return a.displayName=i,r=n.forwardRef?Object(u.memo)(Object(u.forwardRef)(a)):Object(u.memo)(a),function copyStaticProperties(e,t){Object.keys(e).forEach(function(r){e.hasOwnProperty(r)&&!g[r]&&Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}(e,r),r.displayName=i,r}var g={$$typeof:!0,render:!0,compare:!0,type:!0};function ObserverComponent(e){var t=e.children,r=e.render,n=t||r;return"function"!=typeof n?null:useObserver(n)}function ObserverPropsCheck(e,t,r,n,i){var a="children"===t?"render":"children",o="function"==typeof e[t],s="function"==typeof e[a];return o&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+r):o||s?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+r+"`, expected `function`.")}ObserverComponent.propTypes={children:ObserverPropsCheck,render:ObserverPropsCheck},ObserverComponent.displayName="Observer",i.d(n,"c",function(){return W}),i.d(n,"a",function(){return X}),i.d(n,"b",function(){return Y});var m=0,y={};function j(e){return y[e]||(y[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+m+")";return m++,t}(e)),y[e]}function x(e,t){if(P(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!hasOwnProperty.call(t,r[i])||!P(e[r[i]],t[r[i]]))return!1;return!0}function P(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var v={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};function R(e,t,r){Object.hasOwnProperty.call(e,t)?e[t]=r:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:r})}var _=j("patchMixins"),b=j("patchedDefinition");function A(e,t){for(var r=this,n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];t.locks++;try{var a;return null!=e&&(a=e.apply(this,n)),a}finally{t.locks--,0===t.locks&&t.methods.forEach(function(e){e.apply(r,n)})}}function C(e,t){return function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];A.call.apply(A,[this,e,t].concat(r))}}function U(e,t,r){var n=function(e,t){var r=e[_]=e[_]||{},n=r[t]=r[t]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}(e,t);n.methods.indexOf(r)<0&&n.methods.push(r);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[b]){var a=function e(t,r,n,i,a){var o,s=C(a,i);return(o={})[b]=!0,o.get=function(){return s},o.set=function(a){if(this===t)s=C(a,i);else{var o=e(this,r,n,i,a);Object.defineProperty(this,r,o)}},o.configurable=!0,o.enumerable=n,o}(e,t,i?i.enumerable:void 0,n,e[t]);Object.defineProperty(e,t,a)}}var E=l.a||"$mobx",T=j("isUnmounted"),S=j("skipRender"),w=j("isForcingUpdate");function N(e,t){return isUsingStaticRendering()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!x(this.props,e)}function D(e,t){var r=j("reactProp_"+t+"_valueHolder"),n=j("reactProp_"+t+"_atomHolder");function o(){return this[n]||R(this,n,Object(l.g)("reactive "+t)),this[n]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o.call(this).reportObserved(),this[r]},set:function(e){this[w]||x(this[r],e)?R(this,r,e):(R(this,r,e),R(this,S,!0),o.call(this).reportChanged(),R(this,S,!1))}})}var I="function"==typeof Symbol&&Symbol.for,M=I?Symbol.for("react.forward_ref"):"function"==typeof u.forwardRef&&Object(u.forwardRef)(function(){}).$$typeof,O=I?Symbol.for("react.memo"):"function"==typeof u.memo&&Object(u.memo)(function(){}).$$typeof;function W(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),O&&e.$$typeof===O)throw new Error("Mobx observer: You are trying to use 'observer' on function component wrapped to either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(M&&e.$$typeof===M){var t=e.render;if("function"!=typeof t)throw new Error("render property of ForwardRef was not a function");return Object(u.forwardRef)(function(){var e=arguments;return c.a.createElement(ObserverComponent,null,function(){return t.apply(void 0,e)})})}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(u.Component,e)?function(e){var t=e.prototype;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==u.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==N)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=N;D(t,"props"),D(t,"state");var r=t.render;return t.render=function(){return function(e){var t=this;if(!0===isUsingStaticRendering())return e.call(this);R(this,S,!1),R(this,w,!1);var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",n=e.bind(this),i=!1,a=new l.b(r+".render()",function(){if(!i&&(i=!0,!0!==t[T])){var e=!0;try{R(t,w,!0),t[S]||u.Component.prototype.forceUpdate.call(t),e=!1}finally{R(t,w,!1),e&&a.dispose()}}});function s(){i=!1;var e=void 0,t=void 0;if(a.track(function(){try{t=Object(l.c)(!1,n)}catch(t){e=t}}),e)throw e;return t}return a.reactComponent=this,s[E]=a,this.render=s,s.call(this)}.call(this,r)},U(t,"componentWillUnmount",function(){!0!==isUsingStaticRendering()&&(this.render[E]&&this.render[E].dispose(),this[T]=!0)}),e}(e):observer(e)}var k=c.a.createContext({});function X(e){var t=e.children,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(r[n]=e[n]);return r}(e,["children"]),n=c.a.useContext(k),i=c.a.useRef(Object.assign({},n,r)).current;return c.a.createElement(k.Provider,{value:i},t)}function H(e,t,r,n){var i,a,o,s=c.a.forwardRef(function(r,n){var i=Object.assign({},r),a=c.a.useContext(k);return Object.assign(i,e(a||{},i)||{}),n&&(i.ref=n),Object(u.createElement)(t,i)});return n&&(s=W(s)),s.isMobxInjector=!0,i=t,a=s,o=Object.getOwnPropertyNames(Object.getPrototypeOf(i)),Object.getOwnPropertyNames(i).forEach(function(e){v[e]||-1!==o.indexOf(e)||Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(i,e))}),s.wrappedComponent=t,s.displayName=function(e,t){var r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t?"inject-with-"+t+"("+r+")":"inject("+r+")"}(t,r),s}function Y(){for(var e,t=[],r=arguments.length;r--;)t[r]=arguments[r];return"function"==typeof arguments[0]?(e=arguments[0],function(t){return H(e,t,e.name,!0)}):function(e){return H(function(e){return function(t,r){return e.forEach(function(e){if(!(e in r)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");r[e]=t[e]}}),r}}(t),e,t.join("-"),!1)}}X.displayName="MobXProvider";j("disposeOnUnmountProto"),j("disposeOnUnmountInst");function J(e){function r(t,r,n,i,a,o){for(var s=[],u=arguments.length-6;u-- >0;)s[u]=arguments[u+6];return Object(l.p)(function(){return i=i||"<<anonymous>>",o=o||n,null==r[n]?t?new Error("The "+a+" `"+o+"` is marked as required in `"+i+"`, but its value is `"+(null===r[n]?"null":"undefined")+"`."):null:e.apply(void 0,[r,n,i,a,o].concat(s))})}var t=r.bind(null,!1);return t.isRequired=r.bind(null,!0),t}function K(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function Q(e,t){return J(function(r,n,i,a,o){return Object(l.p)(function(){if(e&&K(r[n])===t.toLowerCase())return null;var a;switch(t){case"Array":a=l.j;break;case"Object":a=l.l;break;case"Map":a=l.k;break;default:throw new Error("Unexpected mobxType: "+t)}var s=r[n];if(!a(s)){var u=function(e){var t=K(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(s),c=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+o+"` of type `"+u+"` supplied to `"+i+"`, expected `mobx.Observable"+t+"`"+c+".")}return null})})}function Z(e,t){return J(function(r,n,i,a,o){for(var s=[],u=arguments.length-5;u-- >0;)s[u]=arguments[u+5];return Object(l.p)(function(){if("function"!=typeof t)return new Error("Property `"+o+"` of component `"+i+"` has invalid PropType notation.");var l=Q(e,"Array")(r,n,i);if(l instanceof Error)return l;for(var u=r[n],c=0;c<u.length;c++)if((l=t.apply(void 0,[u,c,i,a,o+"["+c+"]"].concat(s)))instanceof Error)return l;return null})})}Q(!1,"Array"),Z.bind(null,!1),Q(!1,"Map"),Q(!1,"Object"),Q(!0,"Array"),Z.bind(null,!0),Q(!0,"Object");if(!u.Component)throw new Error("mobx-react requires React to be available");if(!l.m)throw new Error("mobx-react requires mobx to be available");"function"==typeof a.unstable_batchedUpdates&&Object(l.f)({reactionScheduler:a.unstable_batchedUpdates})},function(e,t,r){"use strict";var n=r(61),i=r.n(n),a=r(366),o=r.n(a),s=r(33),l=r.n(s),u=r(121),c=r.n(u),f=r(139),d=r.n(f),p=r(39),h=r.n(p),g=r(8),m=r.n(g),y=r(367),v=r.n(y),_=r(176),b=r.n(_),E=r(63),T=r.n(E),S=r(2),w=r.n(S),R=r(1),A=r.n(R),C=r(7),x=r(16),D=r(64),P={IMMUTABLE_ITERABLE:"@@__IMMUTABLE_ITERABLE__@@",IMMUTABLE_RECORD:"@@__IMMUTABLE_RECORD__@@",IMMUTABLE_LIST:"@@__IMMUTABLE_LIST__@@",IMMUTABLE_MAP:"@@__IMMUTABLE_MAP__@@",isImmutable:function(e){return this.isIterable(e)||this.isRecord(e)},isIterable:function(e){return!(!e||!e[this.IMMUTABLE_ITERABLE])},isRecord:function(e){return!(!e||!e[this.IMMUTABLE_RECORD])},isList:function(e){return!(!e||!e[this.IMMUTABLE_LIST])},isMap:function(e){return!(!e||!e[this.IMMUTABLE_MAP])},shallowToJS:function(e,t){var r=this;return this.isIterable(e)?e.reduce(function(e,n,i){return t&&t[i]&&(n=r.shallowToJS(n)),e[i]=n,e},this.isList(e)?[]:{}):e}};function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function parseDatum(e){return P.isImmutable(e)?P.shallowToJS(e,{errorX:!0,errorY:!0}):e}function getLength(e){return P.isIterable(e)?e.size:e.length}function generateDataArray(e,t){var r=(h()(e.domain)?e.domain[t]:e.domain)||D.a.getBaseScale(e,t).domain(),n=e.samples||1,i=Math.max.apply(Math,_toConsumableArray(r)),a=Math.min.apply(Math,_toConsumableArray(r)),o=(i-a)/n,s=b()(a,i,o);return v()(s)===i?s:s.concat(i)}function sortData(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ascending";if(!t)return e;"x"!==t&&"y"!==t||(t="_".concat(t));var n="ascending"===r?"asc":"desc";return c()(e,t,n)}function cleanData(e,t){var r=1/Number.MAX_SAFE_INTEGER,n={x:D.a.getScaleType(t,"x"),y:D.a.getScaleType(t,"y")};if("log"!==n.x&&"log"!==n.y)return e;var i=function(e,t){return"log"!==n[t]||0!==e["_".concat(t)]};return e.map(function(e){return i(e,"x")&&i(e,"y")&&i(e,"y0")?e:function(e){var t=i(e,"x")?e._x:r,n=i(e,"y")?e._y:r,a=i(e,"y0")?e._y0:r;return w()({},e,{_x:t,_y:n,_y0:a})}(e)})}function addEventKeys(e,t){var r=!!e.eventKey,n=function getEventKey(e){return m()(e)?e:null==e?function(){}:d()(e)}(e.eventKey);return t.map(function(e,t){if(void 0!==e.eventKey)return e;if(r){var i=n(e,t);return void 0!==i?w()({eventKey:i},e):e}return e})}function createStringMap(e,t){var r=getStringsFromAxes(e,t),n=getStringsFromCategories(e,t),i=getStringsFromData(e,t),a=T()(_toConsumableArray(r).concat(_toConsumableArray(n),_toConsumableArray(i)));return 0===a.length?null:a.reduce(function(e,t,r){return e[t]=r+1,e},{})}function formatData(e,t,r){if(!(Array.isArray(e)||P.isIterable(e))||getLength(e)<1)return[];var n=["x","y","y0"],i={x:-1!==(r=Array.isArray(r)?r:n).indexOf("x")?createStringMap(t,"x"):void 0,y:-1!==r.indexOf("y")?createStringMap(t,"y"):void 0,y0:-1!==r.indexOf("y0")?createStringMap(t,"y"):void 0},a=r.reduce(function(e,r){var n;return e[r]=(n=r,C.a.createAccessor(void 0!==t[n]?t[n]:n)),e},{}),s=cleanData(sortData(o()(r,n)&&"_x"===t.x&&"_y"===t.y&&"_y0"===t.y0?e:e.reduce(function(e,t,n){var o={x:n,y:t=parseDatum(t)},s=r.reduce(function(e,r){var n=a[r](t),s=void 0!==n?n:o[r];return void 0!==s&&("string"==typeof s&&i[r]?(e["".concat(r,"Name")]=s,e["_".concat(r)]=i[r][s]):e["_".concat(r)]=s),e},{}),u=w()({},s,t);return l()(u)||e.push(u),e},[]),t.sortKey,t.sortOrder),t);return addEventKeys(t,s)}function generateData(e){var t=generateDataArray(e,"x"),r=generateDataArray(e,"y");return t.map(function(e,t){return{x:e,y:r[t]}})}function getCategories(e,t){return e.categories&&!Array.isArray(e.categories)?e.categories[t]:e.categories}function getStringsFromAxes(e,t){var r=e.tickValues,n=e.tickFormat;return(r&&(Array.isArray(r)||r[t])?r[t]||r:n&&Array.isArray(n)?n:[]).filter(function(e){return"string"==typeof e})}function getStringsFromCategories(e,t){if(!e.categories)return[];var r=getCategories(e,t),n=r&&r.filter(function(e){return"string"==typeof e});return n?x.a.removeUndefined(n):[]}function getStringsFromData(e,t){if(!(Array.isArray(e.data)||P.isIterable(e.data)))return[];var r=void 0===e[t]?t:e[t],n=C.a.createAccessor(r);return sortData(e.data.reduce(function(e,t){return e.push(parseDatum(t)),e},[]),e.sortKey,e.sortOrder).reduce(function(e,t){return t=parseDatum(t),e.push(n(t)),e},[]).filter(function(e){return"string"==typeof e}).reduce(function(e,t){return null!=t&&-1===e.indexOf(t)&&e.push(t),e},[])}t.a={createStringMap:createStringMap,downsample:function downsample(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=getLength(e);if(n>t){var i=Math.pow(2,Math.ceil(Math.log2(n/t)));return e.filter(function(e,t){return(t+r)%i==0})}return e},formatData:formatData,generateData:generateData,getCategories:getCategories,getData:function getData(e){return e.data?formatData(e.data,e):formatData(generateData(e),e)},getStringsFromAxes:getStringsFromAxes,getStringsFromCategories:getStringsFromCategories,getStringsFromData:getStringsFromData,isDataComponent:function isDataComponent(e){var t=function(e){return e&&e.type?e.type.role:""},r=t(e);if("portal"===r){var n=A.a.Children.toArray(e.props.children);r=n.length?t(n[0]):""}return i()(["area","bar","boxplot","candlestick","errorbar","group","line","pie","scatter","stack","voronoi"],r)}}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){e.exports=function identity(e){return e}},function(e,t){e.exports=function(e){var t=[];return t.toString=function toString(){return this.map(function(t){var r=function cssWithMappingToString(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=function toComment(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n),a=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(a).concat([i]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(n[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),t.push(o))}},t}},function(e,t,r){var n,i,a={},o=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),s=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,u=0,c=[],f=r(387);function addStylesToDom(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=a[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(addStyle(n.parts[o],t))}else{var s=[];for(o=0;o<n.parts.length;o++)s.push(addStyle(n.parts[o],t));a[n.id]={id:n.id,refs:1,parts:s}}}}function listToStyles(e,t){for(var r=[],n={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};n[o]?n[o].parts.push(s):r.push(n[o]={id:o,parts:[s]})}return r}function insertStyleElement(e,t){var r=s(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),c.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertAt.before,r);r.insertBefore(t,i)}}function removeStyleElement(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function createStyleElement(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function getNonce(){0;return r.nc}();n&&(e.attrs.nonce=n)}return addAttrs(t,e.attrs),insertStyleElement(e,t),t}function addAttrs(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})}function addStyle(e,t){var r,n,i,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var o=u++;r=l||(l=createStyleElement(t)),n=applyToSingletonTag.bind(null,r,o,!1),i=applyToSingletonTag.bind(null,r,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function createLinkElement(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",addAttrs(t,e.attrs),insertStyleElement(e,t),t}(t),n=function updateLink(e,t,r){var n=r.css,i=r.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(n=f(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,r,t),i=function(){removeStyleElement(r),r.href&&URL.revokeObjectURL(r.href)}):(r=createStyleElement(t),n=function applyToTag(e,t){var r=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){removeStyleElement(r)});return n(e),function updateStyle(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=listToStyles(e,t);return addStylesToDom(r,t),function update(e){for(var n=[],i=0;i<r.length;i++){var o=r[i];(s=a[o.id]).refs--,n.push(s)}e&&addStylesToDom(listToStyles(e,t),t);for(i=0;i<n.length;i++){var s;if(0===(s=n[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var d,p=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function applyToSingletonTag(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=p(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}},function(e,t,r){var n=r(19),i=r(55),a=r(54),o=r(92)("src"),s=r(432),l=(""+s).split("toString");r(35).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var u="function"==typeof r;u&&(a(r,"name")||i(r,"name",t)),e[t]!==r&&(u&&(a(r,o)||i(r,o,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,"toString",function toString(){return"function"==typeof this&&this[o]||s.call(this)})},function(e,t,r){var n=r(3),i=r(20),a=r(75),o=/"/g,s=function(e,t,r,n){var i=String(a(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(n).replace(o,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(s),n(n.P+n.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",r)}},function(e,t,r){"use strict";r(392);var n=r(1),i=r.n(n),a=function BallSpin(){return i.a.createElement("div",{className:"la-ball-spin-clockwise la-dark"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null))},o=r(10),s=r.n(o),l=r(30),u=r.n(l),c=r(86),f=r.n(c),d=(r(357),r(17)),p=r.n(d),h=r(18),g=r.n(h),m=r(23),y=r.n(m),v=r(24),_=r.n(v),b=r(15),E=r.n(b),T=r(25),S=r.n(T),w=(r(398),r(0)),R=r.n(w),A=r(72),C=function(e){function ToolTip(e){var t;return p()(this,ToolTip),(t=y()(this,_()(ToolTip).call(this,e))).state={hovering:!1},t.MoveToolTip=t.MoveToolTip.bind(E()(t)),t}return S()(ToolTip,e),g()(ToolTip,[{key:"componentDidMount",value:function componentDidMount(){ToolTip.CreateToolTip()}},{key:"componentDidUpdate",value:function componentDidUpdate(){ToolTip.toolTip&&this.ToggleTooltip(this.state.hovering)}},{key:"ToggleTooltip",value:function ToggleTooltip(e){ToolTip.toolTip&&(e&&this.props.content?(ToolTip.toolTip.style.display="flex",ToolTip.toolTip.className="".concat(this.props.className||""," -elv-tooltip"),ToolTip.owner=this,Object(A.render)(this.props.content,ToolTip.toolTip)):ToolTip.owner===this&&(ToolTip.toolTip.style.display="none",ToolTip.owner=void 0))}},{key:"MoveToolTip",value:function MoveToolTip(e,t){if(ToolTip.toolTip){var r=window.innerWidth-ToolTip.toolTip.offsetWidth-10;ToolTip.toolTip.style.left=Math.max(0,Math.min(r,e-ToolTip.toolTip.offsetWidth/2))+"px",ToolTip.toolTip.style.top=t+30+"px"}}},{key:"render",value:function render(){var e=this;return i.a.cloneElement(i.a.Children.only(this.props.children),{onMouseEnter:function onMouseEnter(t){e.props.onMouseEnter&&e.props.onMouseEnter(t),e.setState({hovering:!0}),e.MoveToolTip(t.clientX,t.clientY)},onMouseLeave:function onMouseLeave(t){e.props.onMouseLeave&&e.props.onMouseLeave(t),e.setState({hovering:!1})},onMouseMove:function onMouseMove(t){e.props.onMouseMove&&e.props.onMouseMove(t),e.MoveToolTip(t.clientX,t.clientY)}})}}],[{key:"CreateToolTip",value:function CreateToolTip(){if(!ToolTip.toolTip){var e=document.createElement("div");e.style.position="absolute",e.className="-elv-tooltip",e.style.display="none",document.body.appendChild(e),ToolTip.toolTip=e}}}]),ToolTip}(i.a.Component);C.propTypes={className:R.a.string,content:R.a.oneOfType([R.a.string,R.a.node]),children:R.a.node.isRequired,onMouseEnter:R.a.func,onMouseLeave:R.a.func,onMouseMove:R.a.func};var x=C,D=r(58),P=r.n(D),I=r(126),M=r.n(I),O=(r(403),r(249)),k=r.n(O),L=r(140),N=r.n(L);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function isAbsolute(e){return"/"===e.charAt(0)}function spliceOne(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}var F=function resolvePathname(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e&&e.split("/")||[],n=t&&t.split("/")||[],i=e&&isAbsolute(e),a=t&&isAbsolute(t),o=i||a;if(e&&isAbsolute(e)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var s=void 0;if(n.length){var l=n[n.length-1];s="."===l||".."===l||""===l}else s=!1;for(var u=0,c=n.length;c>=0;c--){var f=n[c];"."===f?spliceOne(n,c):".."===f?(spliceOne(n,c),u++):u&&(spliceOne(n,c),u--)}if(!o)for(;u--;u)n.unshift("..");!o||""===n[0]||n[0]&&isAbsolute(n[0])||n.unshift("");var d=n.join("/");return s&&"/"!==d.substr(-1)&&(d+="/"),d},B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var U=function valueEqual(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,r){return valueEqual(e,t[r])});var r=void 0===e?"undefined":B(e);if(r!==(void 0===t?"undefined":B(t)))return!1;if("object"===r){var n=e.valueOf(),i=t.valueOf();if(n!==e||i!==t)return valueEqual(n,i);var a=Object.keys(e),o=Object.keys(t);return a.length===o.length&&a.every(function(r){return valueEqual(e[r],t[r])})}return!1};function createLocation(e,t,r,n){var i;"string"==typeof e?(i=function parsePath(e){var t=e||"/",r="",n="",i=t.indexOf("#");-1!==i&&(n=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(r=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}(e)).state=t:(void 0===(i=_extends({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return r&&(i.key=r),n?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=F(i.pathname,n.pathname)):i.pathname=n.pathname:i.pathname||(i.pathname="/"),i}function locationsAreEqual(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&U(e.state,t.state)}"undefined"==typeof window||!window.document||window.document.createElement;var j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var q=function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},G=function(e){function Link(){var t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Link);for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=r=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!q(e)){e.preventDefault();var t=r.context.router.history,n=r.props,i=n.replace,a=n.to;i?t.replace(a):t.push(a)}},_possibleConstructorReturn(r,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Link,e),Link.prototype.render=function render(){var e=this.props,t=(e.replace,e.to),r=e.innerRef,n=function _objectWithoutProperties(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["replace","to","innerRef"]);N()(this.context.router,"You should not use <Link> outside a <Router>"),N()(void 0!==t,'You must specify the "to" property');var a=this.context.router.history,o="string"==typeof t?createLocation(t,null,null,a.location):t,s=a.createHref(o);return i.a.createElement("a",j({},n,{onClick:this.handleClick,href:s,ref:r}))},Link}(i.a.Component);G.propTypes={onClick:R.a.func,target:R.a.string,replace:R.a.bool,to:R.a.oneOfType([R.a.string,R.a.object]).isRequired,innerRef:R.a.oneOfType([R.a.string,R.a.func])},G.defaultProps={replace:!1},G.contextTypes={router:R.a.shape({history:R.a.shape({push:R.a.func.isRequired,replace:R.a.func.isRequired,createHref:R.a.func.isRequired}).isRequired}).isRequired};var H=G,V=function onEnterPressed(e){return function(t){t.key&&"enter"!==t.key.toLowerCase()||e(t)}},z=function ImageIcon(e){var t=e.icon,r=e.alternateIcon,n=e.label,a=e.useLoadingIndicator,o=void 0===a||a,s=e.className,l=M()(e,["icon","alternateIcon","label","useLoadingIndicator","className"]),u=i.a.useState(!1),c=f()(u,2),d=c[0],p=c[1],h=i.a.useState(!0),g=f()(h,2),m=g[0],y=g[1];s="-elv-icon "+(s||"");var v=d?r:t,_=d?void 0:function(){return p(!0)};return v?v.startsWith("<svg")?i.a.createElement(k.a,P()({alt:n,className:s,src:v},l)):(s=m&&o?"-elv-icon-with-loader "+s:s,i.a.createElement("img",P()({alt:n,className:s,src:v,onLoad:function onLoad(){return y(!1)},onError:_},l))):null},K=function IconLink(e){var t=e.icon,r=e.label,n=e.href,a=e.to,o=e.className,s=M()(e,["icon","label","href","to","className"]);return o="-elv-icon-link "+(o||""),n?i.a.createElement("a",{href:n,className:o},i.a.createElement("div",P()({className:"-elv-icon-wrapper"},s),i.a.createElement(z,{icon:t,className:o,label:r}))):i.a.createElement(H,{to:a,label:r,tabIndex:0,className:o},i.a.createElement("div",P()({className:"-elv-icon-wrapper"},s),i.a.createElement(z,{icon:t,className:o,label:r})))},W=r(174),Y=r.n(W),X=(r(410),r(358));function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(r,!0).forEach(function(t){Y()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Q=function(e){function Range(e){var t;return p()(this,Range),(t=y()(this,_()(Range).call(this,e))).state={sliderElement:void 0,hoverPosition:e.min,draggingHandle:void 0},t.WatchResize=t.WatchResize.bind(E()(t)),t.ToolTip=t.ToolTip.bind(E()(t)),t.Handle=t.Handle.bind(E()(t)),t.HandleChange=t.HandleChange.bind(E()(t)),t.StartMouseover=t.StartMouseover.bind(E()(t)),t.MouseoverMove=t.MouseoverMove.bind(E()(t)),t.EndMouseover=t.EndMouseover.bind(E()(t)),t.StartDrag=t.StartDrag.bind(E()(t)),t.Drag=t.Drag.bind(E()(t)),t.EndDrag=t.EndDrag.bind(E()(t)),t}return S()(Range,e),g()(Range,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}},{key:"WatchResize",value:function WatchResize(e){var t=this;e&&!this.resizeObserver&&(this.resizeObserver=new X.a(function(e){var r=e[0];t.setState({width:r.contentRect.width})}),this.resizeObserver.observe(e))}},{key:"StartMouseover",value:function StartMouseover(){window.addEventListener("mousemove",this.MouseoverMove)}},{key:"MouseoverMove",value:function MouseoverMove(e){var t=this;clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){return t.setState({hoverPosition:t.ClientXToPosition(e.clientX)})},10)}},{key:"EndMouseover",value:function EndMouseover(){window.removeEventListener("mousemove",this.MouseoverMove)}},{key:"StartDrag",value:function StartDrag(e){e.shiftKey||this.setState({draggingHandle:this.ClosestHandleIndex(e)}),window.addEventListener("mousemove",this.Drag),window.addEventListener("mouseup",this.EndDrag),this.state.sliderElement.style.cursor="grab",this.HandleChange(e)}},{key:"Drag",value:function Drag(e){var t=this;clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(function(){return t.HandleChange(e)},10)}},{key:"EndDrag",value:function EndDrag(){this.setState({draggingHandle:void 0}),this.state.sliderElement.style.cursor="pointer",window.removeEventListener("mousemove",this.Drag),window.removeEventListener("mouseup",this.EndDrag)}},{key:"HandleChange",value:function HandleChange(e){var t=this;if(this.props.onChange){var r=this.ClientXToPosition(e.clientX);if(1===this.props.handles.length)this.props.onChange(r);else if(e.shiftKey){if("mousemove"!==e.type)return;var n=e.movementX*this.Scale()/1e3;this.props.onChange(this.props.handles.map(function(e){return Math.min(t.props.max,Math.max(t.props.min,e.position+n))}))}else{var i=this.props.handles.map(function(e){return e.position}),a=this.state.draggingHandle||this.ClosestHandleIndex(e);a>0&&(r=Math.max(r,i[a-1])),a<i.length-1&&(r=Math.min(r,i[a+1])),i[a]=r,this.props.onChange(i)}}}},{key:"ClosestHandleIndex",value:function ClosestHandleIndex(e){var t=this.ClientXToPosition(e.clientX),r=0,n=2*this.props.max;return this.props.handles.forEach(function(e,i){var a=Math.abs(e.position-t);a<n&&(n=a,r=i,e.disabled&&(r=e.position-t>1?i-1:i+1))}),r}},{key:"ClientXToPosition",value:function ClientXToPosition(e){var t=this.state.sliderElement.getBoundingClientRect().left,r=this.Scale()*((e-t)/this.state.width)+this.props.min;return Math.min(Math.max(this.props.min,r),this.props.max)}},{key:"Scale",value:function Scale(){return this.props.max-this.props.min}},{key:"PositionToPixels",value:function PositionToPixels(e){var t=(e-this.props.min)*(this.state.width/this.Scale());return Math.min(Math.max(0,t),this.state.width)}},{key:"ToolTip",value:function ToolTip(e){return void 0===e&&(e=this.state.hoverPosition),this.props.renderToolTip?this.props.renderToolTip(e):i.a.createElement("span",null,e)}},{key:"ActiveTrack",value:function ActiveTrack(){var e=this.props.handles.map(function(e){return e.position}),t=1===e.length?this.props.min:e.reduce(function(e,t){return t<e?t:e}),r=e.reduce(function(e,t){return t>e?t:e});return i.a.createElement("div",{style:{left:this.PositionToPixels(t),right:this.state.width-this.PositionToPixels(r)},"data-slider-active":!0,className:"-elv-slider-active"})}},{key:"Handle",value:function Handle(e,t){var r=this.state.draggingHandle===t;return i.a.createElement("div",{key:"-elv-slider-handle-".concat(t),style:{left:"".concat(this.PositionToPixels(e.position),"px")},className:"-elv-slider-handle ".concat(r?"-elv-slider-handle-active":""," ").concat(e.className||"")})}},{key:"Marks",value:function Marks(){if(!this.props.showMarks)return null;for(var e=(this.props.max-this.props.min)/10,t=e/2,r=this.state.width/10,n=r/2,a=[],o=0;o<10;o++){var s=this.props.min+(e*o+t),l=this.props.handles[0].position>s;a.push(i.a.createElement("div",{style:{left:r*o+n},key:"-elv-slider-mark-".concat(o),className:"-elv-slider-mark ".concat(l?"-elv-slider-mark-passed":"")},i.a.createElement("div",{className:"-elv-slider-mark-notch"}),i.a.createElement("div",{className:"-elv-slider-mark-text"},this.ToolTip(s))))}return i.a.createElement("div",{className:"-elv-slider-marks-container"},a)}},{key:"Slider",value:function Slider(){var e=this;return this.state.width?i.a.createElement("div",{onMouseEnter:this.StartMouseover,onMouseLeave:this.EndMouseover,ref:function ref(t){e.state.sliderElement||e.setState({sliderElement:t})},className:"-elv-slider"},i.a.createElement(x,{content:this.ToolTip()},i.a.createElement("div",{onMouseDown:this.StartDrag,onMouseUp:this.EndDrag,onClick:this.HandleChange,className:"-elv-slider-overlay"},this.ActiveTrack(),this.props.handles.map(this.Handle))),this.Marks()):null}},{key:"render",value:function render(){return i.a.createElement("div",{ref:this.WatchResize,className:"\n          -elv-slider-container\n          ".concat(this.props.showMarks?"-elv-slider-with-marks":"","\n          ").concat(this.props.className||"","\n        ")},this.Slider())}}]),Range}(i.a.Component),$={min:R.a.number.isRequired,max:R.a.number.isRequired,showMarks:R.a.bool,onChange:R.a.func,renderToolTip:R.a.func};Q.propTypes=_objectSpread({},$,{handles:R.a.arrayOf(R.a.object).isRequired}),_objectSpread({},$,{value:R.a.number.isRequired,handleClassName:R.a.string});r(412);var J=function Action(e){var t=e.label,r=e.type,n=e.to,a=e.onClick,o=e.className,s=e.disabled,l=void 0!==s&&s,u=e.hidden,c=void 0!==u&&u,f=e.children,d=e.button;if(c)return null;o=o||"",(void 0===d||d)&&(o+=" -elv-button");var p=f;return r||(r="button"),"link"===r?i.a.createElement(H,{to:n,"aria-label":t,tabIndex:0,className:o},p):i.a.createElement("button",{"aria-label":t,tabIndex:0,type:r,className:o,onClick:a,disabled:l},p)};J.propTypes={children:R.a.oneOfType([R.a.string,R.a.object,R.a.array]).isRequired,label:R.a.string,type:R.a.string,to:R.a.string,onClick:R.a.func,className:R.a.string,disabled:R.a.bool,hidden:R.a.bool};var Z=J,ee=function(e){function AsyncComponent(e){var t;return p()(this,AsyncComponent),(t=y()(this,_()(AsyncComponent).call(this,e))).state={error:void 0,loading:!0},t}return S()(AsyncComponent,e),g()(AsyncComponent,[{key:"componentDidMount",value:function componentDidMount(){var e=this;this.mounted=!0,this.props.Load().then(function(){e.mounted&&e.setState({loading:!1})}).catch(function(t){e.mounted&&e.setState({error:t})})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=!1}},{key:"render",value:function render(){return this.state.error?i.a.createElement("div",{className:"async-component-error"},"Error: ",this.state.error.message):this.state.loading?i.a.createElement("div",{className:"async-component-loading"},i.a.createElement(a,null)):this.props.render?this.props.render():this.props.children}}]),AsyncComponent}(i.a.Component);ee.propTypes={Load:R.a.func.isRequired,render:R.a.func,children:R.a.node};r(414),r(359),r(416);var te=r(360),re=r.n(te),ne=r(361),ie=r.n(ne),ae=r(362),oe=r.n(ae),se=r(253),le=r.n(se),ue=function(){var e=u()(s.a.mark(function _callee2(e,t){var r,n=arguments;return s.a.wrap(function _callee2$(i){for(;;)switch(i.prev=i.next){case 0:return r=n.length>2&&void 0!==n[2]&&n[2],i.next=3,Promise.all(Array.from(t).map(function(){var t=u()(s.a.mark(function _callee(t){var n,i;return s.a.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:if(!r){a.next=4;break}a.t0=void 0,a.next=7;break;case 4:return a.next=6,new Response(t).blob();case 6:a.t0=a.sent;case 7:return n=a.t0,i=t.overrideName||t.webkitRelativePath||t.name,a.abrupt("return",{path:le()(e,i).replace(/^\/+/g,""),type:"file",size:t.size,data:n});case 10:case"end":return a.stop()}},_callee)}));return function(e){return t.apply(this,arguments)}}()));case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}},_callee2)}));return function FileInfo(t,r){return e.apply(this,arguments)}}(),ce=r(257),fe=r.n(ce);function BrowseWidget_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BrowseWidget_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BrowseWidget_ownKeys(r,!0).forEach(function(t){Y()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BrowseWidget_ownKeys(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var de=function(e){function BrowseWidget(e){var t;return p()(this,BrowseWidget),(t=y()(this,_()(BrowseWidget).call(this,e))).state={fileInfo:"",browseButtonRef:i.a.createRef(),previewUrl:""},t.HandleChange=t.HandleChange.bind(E()(t)),t}var t,r;return S()(BrowseWidget,e),g()(BrowseWidget,[{key:"HandlePreviewChange",value:(r=u()(s.a.mark(function _callee(e){var t;return s.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(this.props.preview&&e){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,new Response(e).blob();case 4:return t=r.sent,r.abrupt("return",window.URL.createObjectURL(t));case 6:case"end":return r.stop()}},_callee,this)})),function HandlePreviewChange(e){return r.apply(this,arguments)})},{key:"HandleChange",value:(t=u()(s.a.mark(function _callee2(e){var t,r,n,i,a,o,l;return s.a.wrap(function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:return t=e.target.name,r=e.target.value,n=e.target.files||[],s.next=5,ue("/",n,!0);case 5:if(i=s.sent,this.props.directories&&0!==i.length){s.next=13;break}return s.next=9,this.HandlePreviewChange(n[0]);case 9:a=s.sent,this.setState({dirname:"",fileInfo:i,previewUrl:a}),s.next=17;break;case 13:o="",l={},i.forEach(function(e){var t=e.path.split(fe.a.sep);if(o||(o=t[0]),t.length>2){var r=l[t[1]]||{};l[t[1]]={path:t[1],type:"directory",size:(r.size||0)+e.size}}else l[t[1]]=BrowseWidget_objectSpread({},e,{path:t[1]})}),this.setState({dirname:o,fileInfo:Object.values(l)});case 17:this.props.onChange({target:{name:t,value:r,files:n}});case 18:case"end":return s.stop()}},_callee2,this)})),function HandleChange(e){return t.apply(this,arguments)})},{key:"ItemRow",value:function ItemRow(e){var t=this.props.progress&&this.props.progress[e.path]?this.props.progress[e.path]:re()(e.size||0);return i.a.createElement("tr",{key:e.path},i.a.createElement("td",{className:"-elv-item-icon"},i.a.createElement(z,{icon:"directory"===e.type?ie.a:oe.a})),i.a.createElement("td",{className:"-elv-item-path"},e.path),i.a.createElement("td",{className:"-elv-item-status"},t))}},{key:"SortedItems",value:function SortedItems(){var e=this;return this.state.fileInfo.sort(function(e,t){return e.type!==t.type?"directory"===e.type?-1:1:e.path.toLowerCase()>t.path.toLowerCase()}).map(function(t){return e.ItemRow(t)})}},{key:"FileSelections",value:function FileSelections(){return this.state.fileInfo?i.a.createElement("div",{className:"-elv-browse-widget-files"},i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"-elv-type-header"}),i.a.createElement("th",null,"Name"),i.a.createElement("th",{className:"-elv-size-header"}))),i.a.createElement("tbody",null,this.SortedItems()))):null}},{key:"Preview",value:function Preview(){return this.props.preview&&this.state.previewUrl?i.a.createElement("div",{className:"-elv-image-preview"},i.a.createElement("img",{src:this.state.previewUrl})):null}},{key:"render",value:function render(){var e=this,t="browse-"+this.props.name,r=Array.isArray(this.props.accept)?this.props.accept.join(", "):this.props.accept,n={};return this.props.directories&&(n={webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true"}),i.a.createElement("div",{className:"-elv-browse-widget"},i.a.createElement("input",P()({hidden:!0,ref:this.state.browseButtonRef,name:t,type:"file",required:this.props.required,multiple:this.props.multiple,accept:r,onChange:this.HandleChange},n)),i.a.createElement(Z,{onClick:function onClick(){return e.state.browseButtonRef.current.click()}},"Browse"),this.Preview(),this.FileSelections())}}]),BrowseWidget}(i.a.Component);de.propTypes={name:R.a.string.isRequired,onChange:R.a.func.isRequired,required:R.a.bool,multiple:R.a.bool,accept:R.a.oneOfType([R.a.string,R.a.arrayOf(R.a.string)]),preview:R.a.bool,directories:R.a.bool,progress:R.a.object};r(418);var pe=r(363),he=r.n(pe),ge=r(364),me=r.n(ge),ye={},ve=0,_e=function compileGenerator(e){var t=e,r=ye[t]||(ye[t]={});if(r[e])return r[e];var n=me.a.compile(e);return ve<1e4&&(r[e]=n,ve++),n},be=function generatePath(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"===e)return e;var r=_e(e);return r(t,{pretty:!0})},Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var Te=function(e){function Redirect(){return function Redirect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Redirect),function Redirect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function Redirect_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Redirect,e),Redirect.prototype.isStatic=function isStatic(){return this.context.router&&this.context.router.staticContext},Redirect.prototype.componentWillMount=function componentWillMount(){N()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},Redirect.prototype.componentDidMount=function componentDidMount(){this.isStatic()||this.perform()},Redirect.prototype.componentDidUpdate=function componentDidUpdate(e){var t=createLocation(e.to),r=createLocation(this.props.to);locationsAreEqual(t,r)?he()(!1,"You tried to redirect to the same route you're currently on: \""+r.pathname+r.search+'"'):this.perform()},Redirect.prototype.computeTo=function computeTo(e){var t=e.computedMatch,r=e.to;return t?"string"==typeof r?be(r,t.params):Ee({},r,{pathname:be(r.pathname,t.params)}):r},Redirect.prototype.perform=function perform(){var e=this.context.router.history,t=this.props.push,r=this.computeTo(this.props);t?e.push(r):e.replace(r)},Redirect.prototype.render=function render(){return null},Redirect}(i.a.Component);Te.propTypes={computedMatch:R.a.object,push:R.a.bool,from:R.a.string,to:R.a.oneOfType([R.a.string,R.a.object]).isRequired},Te.defaultProps={push:!1},Te.contextTypes={router:R.a.shape({history:R.a.shape({push:R.a.func.isRequired,replace:R.a.func.isRequired}).isRequired,staticContext:R.a.object}).isRequired};var Se=Te,we=(r(420),function(e){function LoadingElement(e){return p()(this,LoadingElement),y()(this,_()(LoadingElement).call(this,e))}return S()(LoadingElement,e),g()(LoadingElement,[{key:"render",value:function render(){if(this.props.loading){if(this.props.noIndicator)return null;var e=i.a.createElement(a,null),t="-elv-loading-element "+(this.props.loadingClassname||"");return this.props.fullPage&&(t+=" -elv-loading-element-fullpage"),i.a.createElement("div",{className:t},e)}return this.props.render?this.props.render():this.props.children}}]),LoadingElement}(i.a.Component));we.propTypes={fullPage:R.a.bool,loading:R.a.bool,render:R.a.func,children:R.a.oneOfType([R.a.element,R.a.arrayOf(R.a.element)]),noIndicator:R.a.bool,loadingClassname:R.a.string};var Re=we,Ae=function(e){function Form(e){var t;return p()(this,Form),(t=y()(this,_()(Form).call(this,e))).state={cancel:!1},t.HandleSubmit=t.HandleSubmit.bind(E()(t)),t.HandleCancel=t.HandleCancel.bind(E()(t)),t}var t;return S()(Form,e),g()(Form,[{key:"HandleSubmit",value:(t=u()(s.a.mark(function _callee(e){return s.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),this.props.status.loading){t.next=15;break}return t.prev=2,t.next=5,this.props.OnSubmit(e);case 5:if(!this.props.OnComplete){t.next=8;break}return t.next=8,this.props.OnComplete();case 8:t.next=15;break;case 10:if(t.prev=10,t.t0=t.catch(2),!this.props.OnError){t.next=15;break}return t.next=15,this.props.OnError(t.t0);case 15:case"end":return t.stop()}},_callee,this,[[2,10]])})),function HandleSubmit(e){return t.apply(this,arguments)})},{key:"HandleCancel",value:function HandleCancel(){this.props.OnCancel&&this.props.OnCancel(),this.props.cancelPath&&this.setState({cancel:!0})}},{key:"ErrorMessage",value:function ErrorMessage(){return this.props.status.error&&this.props.status.errorMessage?i.a.createElement("div",{className:"form-error"},i.a.createElement("span",null,this.props.status.errorMessage)):null}},{key:"Actions",value:function Actions(){var e;return(this.props.OnCancel||this.props.cancelPath)&&(e=i.a.createElement(Z,{className:"secondary",type:"button",onClick:this.HandleCancel},this.props.cancelText||"Cancel")),i.a.createElement("div",{className:"form-actions"},i.a.createElement(Re,{loading:this.props.status.loading},e,i.a.createElement(Z,{type:"submit"},this.props.submitText||"Submit")))}},{key:"render",value:function render(){return this.props.status.completed&&this.props.redirectPath?i.a.createElement(Se,{push:!0,to:this.props.redirectPath}):this.state.cancel?i.a.createElement(Se,{push:!0,to:this.props.cancelPath}):i.a.createElement("div",{className:"form-container"},i.a.createElement("form",{onSubmit:this.HandleSubmit,className:"-elv-form"},i.a.createElement("fieldset",null,i.a.createElement("legend",null,this.props.legend),this.ErrorMessage(),this.props.children||this.props.formContent,this.Actions())))}}]),Form}(i.a.Component);Ae.propTypes={children:R.a.node,formContent:R.a.node,legend:R.a.string,status:R.a.object.isRequired,redirectPath:R.a.string,cancelPath:R.a.string,submitText:R.a.string,cancelText:R.a.string,OnSubmit:R.a.func.isRequired,OnCancel:R.a.func,OnComplete:R.a.func,OnError:R.a.func};var Ce=Ae,xe=(r(423),function(e){function Modal(e){var t;return p()(this,Modal),(t=y()(this,_()(Modal).call(this,e))).state={outsideContainerRef:i.a.createRef()},t.HandleClickOutside=t.HandleClickOutside.bind(E()(t)),t.HandleEscapeKey=t.HandleEscapeKey.bind(E()(t)),t}return S()(Modal,e),g()(Modal,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mousedown",this.HandleClickOutside),document.addEventListener("keyup",this.HandleEscapeKey);var e=document.querySelector(".modal-content input");e&&e.focus()}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousedown",this.HandleClickOutside),document.removeEventListener("keyup",this.HandleEscapeKey)}},{key:"HandleClickOutside",value:function HandleClickOutside(e){this.props.closable&&this.state.outsideContainerRef.current&&!this.state.outsideContainerRef.current.contains(e.target)&&this.props.OnClickOutside()}},{key:"HandleEscapeKey",value:function HandleEscapeKey(e){27===e.keyCode&&this.HandleClickOutside(e)}},{key:"render",value:function render(){return i.a.createElement("div",{className:"-elv-modal ".concat(this.props.className||"")},i.a.createElement("div",{className:"-elv-modal-content",ref:this.state.outsideContainerRef},i.a.createElement("div",{className:"-elv-modal-error"},this.props.errorMessage),this.props.children||this.props.modalContent))}}]),Modal}(i.a.Component));xe.propTypes={children:R.a.node,modalContent:R.a.node,OnClickOutside:R.a.func,closable:R.a.bool,errorMessage:R.a.string,className:R.a.string};var De=xe,Pe=function(e){function ConfirmModal(e){var t;return p()(this,ConfirmModal),(t=y()(this,_()(ConfirmModal).call(this,e))).state={status:{loading:!1,completed:!1,error:!1,errorMessage:""}},t.HandleCancel=t.HandleCancel.bind(E()(t)),t.HandleConfirm=t.HandleConfirm.bind(E()(t)),t}var t,r,n;return S()(ConfirmModal,e),g()(ConfirmModal,[{key:"Action",value:(n=u()(s.a.mark(function _callee(e){return s.a.wrap(function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({status:{loading:!0,completed:!1,error:!1}}),t.prev=1,t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),this.setState({status:{loading:!1,completed:!1,error:!0,errorMessage:t.t0.message}});case 9:case"end":return t.stop()}},_callee,this,[[1,6]])})),function Action(e){return n.apply(this,arguments)})},{key:"HandleConfirm",value:(r=u()(s.a.mark(function _callee2(){return s.a.wrap(function _callee2$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.onConfirm){e.next=3;break}return e.next=3,this.Action(this.props.onConfirm);case 3:case"end":return e.stop()}},_callee2,this)})),function HandleConfirm(){return r.apply(this,arguments)})},{key:"HandleCancel",value:(t=u()(s.a.mark(function _callee3(){return s.a.wrap(function _callee3$(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.onCancel){e.next=3;break}return e.next=3,this.Action(this.props.onCancel);case 3:case"end":return e.stop()}},_callee3,this)})),function HandleCancel(){return t.apply(this,arguments)})},{key:"render",value:function render(){return i.a.createElement(De,{closable:!0,OnClickOutside:this.HandleCancel},i.a.createElement(Ce,{submitText:"OK",legend:"Confirm",status:this.state.status,formContent:i.a.createElement("p",null,this.props.message),OnSubmit:this.HandleConfirm,OnCancel:this.HandleCancel}))}}]),ConfirmModal}(i.a.PureComponent);Pe.propTypes={onConfirm:R.a.func,onCancel:R.a.func,message:R.a.oneOfType([R.a.string,R.a.node]).isRequired};r(425);var Ie=function(e){function RadioSelect(e){var t;p()(this,RadioSelect),t=y()(this,_()(RadioSelect).call(this,e));var r=0;return e.selected&&(r=e.options.findIndex(function(t){return t[1]===e.selected})),t.state={selectedIndex:r,refs:e.options.map(function(){return i.a.createRef()})},t.HandleClick=t.HandleClick.bind(E()(t)),t.HandleArrows=t.HandleArrows.bind(E()(t)),t}return S()(RadioSelect,e),g()(RadioSelect,[{key:"HandleClick",value:function HandleClick(e){var t=this.props.options[e][1];this.setState({selectedIndex:e}),this.state.refs[e].current.focus(),this.props.onChange({target:{name:this.props.name,value:t}})}},{key:"HandleArrows",value:function HandleArrows(e){if("keydown"===e.type){var t;switch(e.key.toLowerCase()){case"arrowdown":case"arrowright":t=(this.state.selectedIndex+1)%this.props.options.length;break;case"arrowup":case"arrowleft":t=0===this.state.selectedIndex?this.props.options.length-1:this.state.selectedIndex-1;break;default:return}this.HandleClick(t),e.preventDefault(),e.stopPropagation()}}},{key:"RadioOption",value:function RadioOption(e,t){var r=this,n=e[0],a=e[1],o=a===this.props.selected;return i.a.createElement("div",{role:"radio","aria-checked":o,tabIndex:o?0:-1,onClick:function onClick(){return r.HandleClick(t)},ref:this.state.refs[t],className:"-elv-radio-option ".concat(this.props.inline?"-elv-radio-inline":""," ").concat(o?"-elv-radio-selected":""),key:"radio-select-"+this.props.name+"-"+a},n)}},{key:"render",value:function render(){var e=this;return i.a.createElement("div",{role:"radiogroup",onKeyDown:this.HandleArrows,className:"-elv-radio ".concat(this.props.inline?"-elv-radio-inline":"")},this.props.options.map(function(t,r){return e.RadioOption(t,r)}))}}]),RadioSelect}(i.a.Component),Me=R.a.oneOfType([R.a.string,R.a.number,R.a.bool]);Ie.propTypes={name:R.a.string.isRequired,inline:R.a.bool,options:R.a.arrayOf(R.a.arrayOf(Me)).isRequired,selected:Me,required:R.a.bool,onChange:R.a.func.isRequired};r(427);var Oe=function Tabs(e){var t=e.options,r=e.selected,n=e.onChange,a=e.className,o=void 0===a?"":a,s=e.tabClassName,l=void 0===s?"":s,u=t.map(function(e){var t=f()(e,2),a=t[0],o=t[1];return i.a.createElement("li",{tabIndex:0,className:"-elv-tab ".concat(l||""," ").concat(r===o?" selected":""),onClick:function onClick(){return n(o)},onKeyPress:function onKeyPress(){return n(o)},key:"-elv-tab-"+o},a)});return i.a.createElement("ul",{className:"-elv-tab-container "+o},u)};Oe.propTypes={options:R.a.arrayOf(R.a.arrayOf(R.a.oneOfType([R.a.string,R.a.bool,R.a.number]))).isRequired,selected:R.a.oneOfType([R.a.string,R.a.bool,R.a.number]),onChange:R.a.func.isRequired,className:R.a.string,tabClassName:R.a.string};var ke=Oe;r.d(t,"c",function(){return z}),r.d(t,"b",function(){return K}),r.d(t,"f",function(){return V}),r.d(t,"a",function(){return Z}),r.d(t,"d",function(){return Re}),r.d(t,"e",function(){return ke})},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(37),i=r(91);e.exports=r(36)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(127),i=r(75);e.exports=function(e){return n(i(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=new(function(){function DashConstants(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DashConstants),this.init()}return n(DashConstants,[{key:"init",value:function init(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight"}}]),DashConstants}());t.default=i,e.exports=t.default},function(e,t){function _extends(){return e.exports=_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_extends.apply(this,arguments)}e.exports=_extends},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=r(20);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,r){var n=r(350),i=r(71),a=r(857),o=r(354),s=r(120),l=Math.max;e.exports=function includes(e,t,r,u){e=i(e)?e:s(e),r=r&&!u?o(r):0;var c=e.length;return r<0&&(r=l(c+r,0)),a(e)?r<=c&&e.indexOf(t,r)>-1:!!c&&n(e,t,r)>-1}},function(e,t,r){var n=r(624),i=r(625),a=r(626);e.exports=function _toConsumableArray(e){return n(e)||i(e)||a()}},function(e,t,r){var n=r(348);e.exports=function uniq(e){return e&&e.length?n(e):[]}},function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"scaleBand",function(){return band}),r.d(n,"scalePoint",function(){return point}),r.d(n,"scaleIdentity",function(){return identity_identity}),r.d(n,"scaleLinear",function(){return linear}),r.d(n,"scaleLog",function(){return log}),r.d(n,"scaleOrdinal",function(){return ordinal}),r.d(n,"scaleImplicit",function(){return P}),r.d(n,"scalePow",function(){return pow}),r.d(n,"scaleSqrt",function(){return sqrt}),r.d(n,"scaleQuantile",function(){return quantile_quantile}),r.d(n,"scaleQuantize",function(){return quantize}),r.d(n,"scaleThreshold",function(){return threshold_threshold}),r.d(n,"scaleTime",function(){return Ze}),r.d(n,"scaleUtc",function(){return et}),r.d(n,"schemeCategory10",function(){return rt}),r.d(n,"schemeCategory20b",function(){return nt}),r.d(n,"schemeCategory20c",function(){return it}),r.d(n,"schemeCategory20",function(){return at}),r.d(n,"interpolateCubehelixDefault",function(){return st}),r.d(n,"interpolateRainbow",function(){return ft}),r.d(n,"interpolateWarm",function(){return lt}),r.d(n,"interpolateCool",function(){return ut}),r.d(n,"interpolateViridis",function(){return dt}),r.d(n,"interpolateMagma",function(){return pt}),r.d(n,"interpolateInferno",function(){return ht}),r.d(n,"interpolatePlasma",function(){return gt}),r.d(n,"scaleSequential",function(){return sequential});var i=r(39),a=r.n(i),o=r(8),s=r.n(o),l=r(61),u=r.n(l),c=r(7),f=r(16),d=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},p=function(e){return 1===e.length&&(e=function ascendingComparator(e){return function(t,r){return d(e(t),r)}}(e)),{left:function(t,r,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var a=n+i>>>1;e(t[a],r)<0?n=a+1:i=a}return n},right:function(t,r,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var a=n+i>>>1;e(t[a],r)>0?i=a:n=a+1}return n}}};var h=p(d),g=h.right,m=(h.left,g);var y=function(e){return null===e?NaN:+e},v=Array.prototype,_=(v.slice,v.map,function(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(i);++n<i;)a[n]=e+n*r;return a}),b=Math.sqrt(50),E=Math.sqrt(10),T=Math.sqrt(2),S=function(e,t,r){var n,i,a,o,s=-1;if(r=+r,(e=+e)===(t=+t)&&r>0)return[e];if((n=t<e)&&(i=e,e=t,t=i),0===(o=tickIncrement(e,t,r))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(e+s)*o;else for(e=Math.floor(e*o),t=Math.ceil(t*o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(e-s)/o;return n&&a.reverse(),a};function tickIncrement(e,t,r){var n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=b?10:a>=E?5:a>=T?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=b?10:a>=E?5:a>=T?2:1)}function tickStep(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),a=n/i;return a>=b?i*=10:a>=E?i*=5:a>=T&&(i*=2),t<e?-i:i}var w=function(e,t,r){if(null==r&&(r=y),n=e.length){if((t=+t)<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e);return o+(+r(e[a+1],a+1,e)-o)*(i-a)}};function Map(){}function map_map(e,t){var r=new Map;if(e instanceof Map)e.each(function(e,t){r.set(t,e)});else if(Array.isArray(e)){var n,i=-1,a=e.length;if(null==t)for(;++i<a;)r.set(i,e[i]);else for(;++i<a;)r.set(t(n=e[i],i,e),n)}else if(e)for(var o in e)r.set(o,e[o]);return r}Map.prototype=map_map.prototype={constructor:Map,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var R=map_map;function Set(){}var A=R.prototype;function set(e,t){var r=new Set;if(e instanceof Set)e.each(function(e){r.add(e)});else if(e){var n=-1,i=e.length;if(null==t)for(;++n<i;)r.add(e[n]);else for(;++n<i;)r.add(t(e[n],n,e))}return r}Set.prototype=set.prototype={constructor:Set,has:A.has,add:function(e){return this["$"+(e+="")]=e,this},remove:A.remove,clear:A.clear,values:A.keys,size:A.size,empty:A.empty,each:A.each};var C=Array.prototype,x=C.map,D=C.slice,P={name:"implicit"};function ordinal(e){var t=R(),r=[],n=P;function scale(i){var a=i+"",o=t.get(a);if(!o){if(n!==P)return n;t.set(a,o=r.push(i))}return e[(o-1)%e.length]}return e=null==e?[]:D.call(e),scale.domain=function(e){if(!arguments.length)return r.slice();r=[],t=R();for(var n,i,a=-1,o=e.length;++a<o;)t.has(i=(n=e[a])+"")||t.set(i,r.push(n));return scale},scale.range=function(t){return arguments.length?(e=D.call(t),scale):e.slice()},scale.unknown=function(e){return arguments.length?(n=e,scale):n},scale.copy=function(){return ordinal().domain(r).range(e).unknown(n)},scale}function band(){var e,t,r=ordinal().unknown(void 0),n=r.domain,i=r.range,a=[0,1],o=!1,s=0,l=0,u=.5;function rescale(){var r=n().length,c=a[1]<a[0],f=a[c-0],d=a[1-c];e=(d-f)/Math.max(1,r-s+2*l),o&&(e=Math.floor(e)),f+=(d-f-e*(r-s))*u,t=e*(1-s),o&&(f=Math.round(f),t=Math.round(t));var p=_(r).map(function(t){return f+e*t});return i(c?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),rescale()):n()},r.range=function(e){return arguments.length?(a=[+e[0],+e[1]],rescale()):a.slice()},r.rangeRound=function(e){return a=[+e[0],+e[1]],o=!0,rescale()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,rescale()):o},r.padding=function(e){return arguments.length?(s=l=Math.max(0,Math.min(1,e)),rescale()):s},r.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),rescale()):s},r.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),rescale()):l},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),rescale()):u},r.copy=function(){return band().domain(n()).range(a).round(o).paddingInner(s).paddingOuter(l).align(u)},rescale()}function point(){return function pointish(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pointish(t())},e}(band().paddingInner(1))}var I=r(41),M=function(e){return function(){return e}},O=function(e){return+e},k=[0,1];function deinterpolateLinear(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:M(t)}function bimap(e,t,r,n){var i=e[0],a=e[1],o=t[0],s=t[1];return a<i?(i=r(a,i),o=n(s,o)):(i=r(i,a),o=n(o,s)),function(e){return o(i(e))}}function polymap(e,t,r,n){var i=Math.min(e.length,t.length)-1,a=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)a[s]=r(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var r=m(e,t,1,i)-1;return o[r](a[r](t))}}function copy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function continuous(e,t){var r,n,i,a=k,o=k,s=I.a,l=!1;function rescale(){return r=Math.min(a.length,o.length)>2?polymap:bimap,n=i=null,scale}function scale(t){return(n||(n=r(a,o,l?function deinterpolateClamp(e){return function(t,r){var n=e(t=+t,r=+r);return function(e){return e<=t?0:e>=r?1:n(e)}}}(e):e,s)))(+t)}return scale.invert=function(e){return(i||(i=r(o,a,deinterpolateLinear,l?function reinterpolateClamp(e){return function(t,r){var n=e(t=+t,r=+r);return function(e){return e<=0?t:e>=1?r:n(e)}}}(t):t)))(+e)},scale.domain=function(e){return arguments.length?(a=x.call(e,O),rescale()):a.slice()},scale.range=function(e){return arguments.length?(o=D.call(e),rescale()):o.slice()},scale.rangeRound=function(e){return o=D.call(e),s=I.d,rescale()},scale.clamp=function(e){return arguments.length?(l=!!e,rescale()):l},scale.interpolate=function(e){return arguments.length?(s=e,rescale()):s},rescale()}var L=function(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]},N=function(e){return(e=L(Math.abs(e)))?e[1]:NaN},F=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){return new FormatSpecifier(e)}function FormatSpecifier(e){if(!(t=F.exec(e)))throw new Error("invalid format: "+e);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var B,U,j,q,G=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(i>0){if(!+e[n])break e;i=0}}return i>0?e.slice(0,i)+e.slice(t+1):e},H=function(e,t){var r=L(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")},V={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return H(100*e,t)},r:H,s:function(e,t){var r=L(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(B=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+L(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},z=function(e){return e},K=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],W=function(e){var t,r,n=e.grouping&&e.thousands?(t=e.grouping,r=e.thousands,function(e,n){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(r)}):z,i=e.currency,a=e.decimal,o=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(e.numerals):z,s=e.percent||"%";function newFormat(e){var t=(e=formatSpecifier(e)).fill,r=e.align,l=e.sign,u=e.symbol,c=e.zero,f=e.width,d=e.comma,p=e.precision,h=e.trim,g=e.type;"n"===g?(d=!0,g="g"):V[g]||(null==p&&(p=12),h=!0,g="g"),(c||"0"===t&&"="===r)&&(c=!0,t="0",r="=");var m="$"===u?i[0]:"#"===u&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",y="$"===u?i[1]:/[%p]/.test(g)?s:"",v=V[g],_=/[defgprs%]/.test(g);function format(e){var i,s,u,b=m,E=y;if("c"===g)E=v(e)+E,e="";else{var T=(e=+e)<0;if(e=v(Math.abs(e),p),h&&(e=G(e)),T&&0==+e&&(T=!1),b=(T?"("===l?l:"-":"-"===l||"("===l?"":l)+b,E=("s"===g?K[8+B/3]:"")+E+(T&&"("===l?")":""),_)for(i=-1,s=e.length;++i<s;)if(48>(u=e.charCodeAt(i))||u>57){E=(46===u?a+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}d&&!c&&(e=n(e,1/0));var S=b.length+e.length+E.length,w=S<f?new Array(f-S+1).join(t):"";switch(d&&c&&(e=n(w+e,w.length?f-E.length:1/0),w=""),r){case"<":e=b+e+E+w;break;case"=":e=b+w+e+E;break;case"^":e=w.slice(0,S=w.length>>1)+b+e+E+w.slice(S);break;default:e=w+b+e+E}return o(e)}return p=null==p?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),format.toString=function(){return e+""},format}return{format:newFormat,formatPrefix:function formatPrefix(e,t){var r=newFormat(((e=formatSpecifier(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(N(t)/3))),i=Math.pow(10,-n),a=K[8+n/3];return function(e){return r(i*e)+a}}}};!function defaultLocale(e){return U=W(e),j=U.format,q=U.formatPrefix,U}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Y=function(e,t,r){var n,i=e[0],a=e[e.length-1],o=tickStep(i,a,null==t?10:t);switch((r=formatSpecifier(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(a));return null!=r.precision||isNaN(n=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(N(t)/3)))-N(Math.abs(e)))}(o,s))||(r.precision=n),q(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(n=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,N(t)-N(e))+1}(o,Math.max(Math.abs(i),Math.abs(a))))||(r.precision=n-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(n=function(e){return Math.max(0,-N(Math.abs(e)))}(o))||(r.precision=n-2*("%"===r.type))}return j(r)};function linearish(e){var t=e.domain;return e.ticks=function(e){var r=t();return S(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){return Y(t(),e,r)},e.nice=function(r){null==r&&(r=10);var n,i=t(),a=0,o=i.length-1,s=i[a],l=i[o];return l<s&&(n=s,s=l,l=n,n=a,a=o,o=n),(n=tickIncrement(s,l,r))>0?n=tickIncrement(s=Math.floor(s/n)*n,l=Math.ceil(l/n)*n,r):n<0&&(n=tickIncrement(s=Math.ceil(s*n)/n,l=Math.floor(l*n)/n,r)),n>0?(i[a]=Math.floor(s/n)*n,i[o]=Math.ceil(l/n)*n,t(i)):n<0&&(i[a]=Math.ceil(s*n)/n,i[o]=Math.floor(l*n)/n,t(i)),e},e}function linear(){var e=continuous(deinterpolateLinear,I.c);return e.copy=function(){return copy(e,linear())},linearish(e)}function identity_identity(){var e=[0,1];function scale(e){return+e}return scale.invert=scale,scale.domain=scale.range=function(t){return arguments.length?(e=x.call(t,O),scale):e.slice()},scale.copy=function(){return identity_identity().domain(e)},linearish(scale)}var X=function(e,t){var r,n=0,i=(e=e.slice()).length-1,a=e[n],o=e[i];return o<a&&(r=n,n=i,i=r,r=a,a=o,o=r),e[n]=t.floor(a),e[i]=t.ceil(o),e};function log_deinterpolate(e,t){return(t=Math.log(t/e))?function(r){return Math.log(r/e)/t}:M(t)}function log_reinterpolate(e,t){return e<0?function(r){return-Math.pow(-t,r)*Math.pow(-e,1-r)}:function(r){return Math.pow(t,r)*Math.pow(e,1-r)}}function pow10(e){return isFinite(e)?+("1e"+e):e<0?0:e}function powp(e){return 10===e?pow10:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function logp(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function reflect(e){return function(t){return-e(-t)}}function log(){var e=continuous(log_deinterpolate,log_reinterpolate).domain([1,10]),t=e.domain,r=10,n=logp(10),i=powp(10);function rescale(){return n=logp(r),i=powp(r),t()[0]<0&&(n=reflect(n),i=reflect(i)),e}return e.base=function(e){return arguments.length?(r=+e,rescale()):r},e.domain=function(e){return arguments.length?(t(e),rescale()):t()},e.ticks=function(e){var a,o=t(),s=o[0],l=o[o.length-1];(a=l<s)&&(d=s,s=l,l=d);var u,c,f,d=n(s),p=n(l),h=null==e?10:+e,g=[];if(!(r%1)&&p-d<h){if(d=Math.round(d)-1,p=Math.round(p)+1,s>0){for(;d<p;++d)for(c=1,u=i(d);c<r;++c)if(!((f=u*c)<s)){if(f>l)break;g.push(f)}}else for(;d<p;++d)for(c=r-1,u=i(d);c>=1;--c)if(!((f=u*c)<s)){if(f>l)break;g.push(f)}}else g=S(d,p,Math.min(p-d,h)).map(i);return a?g.reverse():g},e.tickFormat=function(t,a){if(null==a&&(a=10===r?".0e":","),"function"!=typeof a&&(a=j(a)),t===1/0)return a;null==t&&(t=10);var o=Math.max(1,r*t/e.ticks().length);return function(e){var t=e/i(Math.round(n(e)));return t*r<r-.5&&(t*=r),t<=o?a(e):""}},e.nice=function(){return t(X(t(),{floor:function(e){return i(Math.floor(n(e)))},ceil:function(e){return i(Math.ceil(n(e)))}}))},e.copy=function(){return copy(e,log().base(r))},e}function raise(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function pow(){var e=1,t=continuous(function deinterpolate(t,r){return(r=raise(r,e)-(t=raise(t,e)))?function(n){return(raise(n,e)-t)/r}:M(r)},function reinterpolate(t,r){return r=raise(r,e)-(t=raise(t,e)),function(n){return raise(t+r*n,1/e)}}),r=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,r(r())):e},t.copy=function(){return copy(t,pow().exponent(e))},linearish(t)}function sqrt(){return pow().exponent(.5)}function quantile_quantile(){var e=[],t=[],r=[];function rescale(){var n=0,i=Math.max(1,t.length);for(r=new Array(i-1);++n<i;)r[n-1]=w(e,n/i);return scale}function scale(e){if(!isNaN(e=+e))return t[m(r,e)]}return scale.invertExtent=function(n){var i=t.indexOf(n);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},scale.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var r,n=0,i=t.length;n<i;++n)null==(r=t[n])||isNaN(r=+r)||e.push(r);return e.sort(d),rescale()},scale.range=function(e){return arguments.length?(t=D.call(e),rescale()):t.slice()},scale.quantiles=function(){return r.slice()},scale.copy=function(){return quantile_quantile().domain(e).range(t)},scale}function quantize(){var e=0,t=1,r=1,n=[.5],i=[0,1];function scale(e){if(e<=e)return i[m(n,e,0,r)]}function rescale(){var i=-1;for(n=new Array(r);++i<r;)n[i]=((i+1)*t-(i-r)*e)/(r+1);return scale}return scale.domain=function(r){return arguments.length?(e=+r[0],t=+r[1],rescale()):[e,t]},scale.range=function(e){return arguments.length?(r=(i=D.call(e)).length-1,rescale()):i.slice()},scale.invertExtent=function(a){var o=i.indexOf(a);return o<0?[NaN,NaN]:o<1?[e,n[0]]:o>=r?[n[r-1],t]:[n[o-1],n[o]]},scale.copy=function(){return quantize().domain([e,t]).range(i)},linearish(scale)}function threshold_threshold(){var e=[.5],t=[0,1],r=1;function scale(n){if(n<=n)return t[m(e,n,0,r)]}return scale.domain=function(n){return arguments.length?(e=D.call(n),r=Math.min(e.length,t.length-1),scale):e.slice()},scale.range=function(n){return arguments.length?(t=D.call(n),r=Math.min(e.length,t.length-1),scale):t.slice()},scale.invertExtent=function(r){var n=t.indexOf(r);return[e[n-1],e[n]]},scale.copy=function(){return threshold_threshold().domain(e).range(t)},scale}var Q=new Date,$=new Date;function newInterval(e,t,r,n){function interval(t){return e(t=new Date(+t)),t}return interval.floor=interval,interval.ceil=function(r){return e(r=new Date(r-1)),t(r,1),e(r),r},interval.round=function(e){var t=interval(e),r=interval.ceil(e);return e-t<r-e?t:r},interval.offset=function(e,r){return t(e=new Date(+e),null==r?1:Math.floor(r)),e},interval.range=function(r,n,i){var a,o=[];if(r=interval.ceil(r),i=null==i?1:Math.floor(i),!(r<n&&i>0))return o;do{o.push(a=new Date(+r)),t(r,i),e(r)}while(a<r&&r<n);return o},interval.filter=function(r){return newInterval(function(t){if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},function(e,n){if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})},r&&(interval.count=function(t,n){return Q.setTime(+t),$.setTime(+n),e(Q),e($),Math.floor(r(Q,$))},interval.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?interval.filter(n?function(t){return n(t)%e==0}:function(t){return interval.count(0,t)%e==0}):interval:null}),interval}var J=newInterval(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});J.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?newInterval(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):J:null};var Z=J,ee=(J.range,6e4),te=6048e5,re=newInterval(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),ne=re,ie=(re.range,newInterval(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+t*ee)},function(e,t){return(t-e)/ee},function(e){return e.getMinutes()})),ae=ie,oe=(ie.range,newInterval(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*ee)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()})),se=oe,le=(oe.range,newInterval(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ee)/864e5},function(e){return e.getDate()-1})),ue=le;le.range;function weekday(e){return newInterval(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ee)/te})}var ce=weekday(0),fe=weekday(1),de=weekday(2),pe=weekday(3),he=weekday(4),ge=weekday(5),me=weekday(6),ye=(ce.range,fe.range,de.range,pe.range,he.range,ge.range,me.range,newInterval(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()})),ve=ye,_e=(ye.range,newInterval(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}));_e.every=function(e){return isFinite(e=Math.floor(e))&&e>0?newInterval(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)}):null};var be=_e,Ee=(_e.range,newInterval(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*ee)},function(e,t){return(t-e)/ee},function(e){return e.getUTCMinutes()})),Te=Ee,Se=(Ee.range,newInterval(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()})),we=Se,Re=(Se.range,newInterval(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1})),Ae=Re;Re.range;function utcWeekday(e){return newInterval(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/te})}var Ce=utcWeekday(0),xe=utcWeekday(1),De=utcWeekday(2),Pe=utcWeekday(3),Ie=utcWeekday(4),Me=utcWeekday(5),Oe=utcWeekday(6),ke=(Ce.range,xe.range,De.range,Pe.range,Ie.range,Me.range,Oe.range,newInterval(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()})),Le=ke,Ne=(ke.range,newInterval(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()}));Ne.every=function(e){return isFinite(e=Math.floor(e))&&e>0?newInterval(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null};var Fe=Ne;Ne.range;function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newYear(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}var Be,Ue,je,qe,Ge={"-":"",_:" ",0:"0"},He=/^\s*\d+/,Ve=/^%/,ze=/[\\^$*+?|[\]().{}]/g;function pad(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function requote(e){return e.replace(ze,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){for(var t={},r=-1,n=e.length;++r<n;)t[e[r].toLowerCase()]=r;return t}function parseWeekdayNumberSunday(e,t,r){var n=He.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function parseWeekdayNumberMonday(e,t,r){var n=He.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function parseWeekNumberSunday(e,t,r){var n=He.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function parseWeekNumberISO(e,t,r){var n=He.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function parseWeekNumberMonday(e,t,r){var n=He.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function parseFullYear(e,t,r){var n=He.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function parseYear(e,t,r){var n=He.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function parseZone(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function parseMonthNumber(e,t,r){var n=He.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function parseDayOfMonth(e,t,r){var n=He.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function parseDayOfYear(e,t,r){var n=He.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function parseHour24(e,t,r){var n=He.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function parseMinutes(e,t,r){var n=He.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function parseSeconds(e,t,r){var n=He.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function parseMilliseconds(e,t,r){var n=He.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function parseMicroseconds(e,t,r){var n=He.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function parseLiteralPercent(e,t,r){var n=Ve.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function parseUnixTimestamp(e,t,r){var n=He.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function parseUnixTimestampSeconds(e,t,r){var n=He.exec(t.slice(r));return n?(e.Q=1e3*+n[0],r+n[0].length):-1}function formatDayOfMonth(e,t){return pad(e.getDate(),t,2)}function formatHour24(e,t){return pad(e.getHours(),t,2)}function formatHour12(e,t){return pad(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad(1+ue.count(be(e),e),t,3)}function formatMilliseconds(e,t){return pad(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return 0===t?7:t}function formatWeekNumberSunday(e,t){return pad(ce.count(be(e),e),t,2)}function formatWeekNumberISO(e,t){var r=e.getDay();return e=r>=4||0===r?he(e):he.ceil(e),pad(he.count(be(e),e)+(4===be(e).getDay()),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad(fe.count(be(e),e),t,2)}function locale_formatYear(e,t){return pad(e.getFullYear()%100,t,2)}function formatFullYear(e,t){return pad(e.getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad(t/60|0,"0",2)+pad(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad(1+Ae.count(Fe(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return 0===t?7:t}function formatUTCWeekNumberSunday(e,t){return pad(Ce.count(Fe(e),e),t,2)}function formatUTCWeekNumberISO(e,t){var r=e.getUTCDay();return e=r>=4||0===r?Ie(e):Ie.ceil(e),pad(Ie.count(Fe(e),e)+(4===Fe(e).getUTCDay()),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad(xe.count(Fe(e),e),t,2)}function formatUTCYear(e,t){return pad(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}!function defaultLocale_defaultLocale(e){return Be=function formatLocale(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=formatRe(i),c=formatLookup(i),f=formatRe(a),d=formatLookup(a),p=formatRe(o),h=formatLookup(o),g=formatRe(s),m=formatLookup(s),y=formatRe(l),v=formatLookup(l),_={a:function formatShortWeekday(e){return o[e.getDay()]},A:function formatWeekday(e){return a[e.getDay()]},b:function formatShortMonth(e){return l[e.getMonth()]},B:function formatMonth(e){return s[e.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(e){return i[+(e.getHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:locale_formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},b={a:function formatUTCShortWeekday(e){return o[e.getUTCDay()]},A:function formatUTCWeekday(e){return a[e.getUTCDay()]},b:function formatUTCShortMonth(e){return l[e.getUTCMonth()]},B:function formatUTCMonth(e){return s[e.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(e){return i[+(e.getUTCHours()>=12)]},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},E={a:function parseShortWeekday(e,t,r){var n=p.exec(t.slice(r));return n?(e.w=h[n[0].toLowerCase()],r+n[0].length):-1},A:function parseWeekday(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=d[n[0].toLowerCase()],r+n[0].length):-1},b:function parseShortMonth(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=v[n[0].toLowerCase()],r+n[0].length):-1},B:function parseMonth(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=m[n[0].toLowerCase()],r+n[0].length):-1},c:function parseLocaleDateTime(e,r,n){return parseSpecifier(e,t,r,n)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(e,t,r){var n=u.exec(t.slice(r));return n?(e.p=c[n[0].toLowerCase()],r+n[0].length):-1},Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(e,t,n){return parseSpecifier(e,r,t,n)},X:function parseLocaleTime(e,t,r){return parseSpecifier(e,n,t,r)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(e,t){return function(r){var n,i,a,o=[],s=-1,l=0,u=e.length;for(r instanceof Date||(r=new Date(+r));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=Ge[n=e.charAt(++s)])?n=e.charAt(++s):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function newParse(e,t){return function(r){var n,i,a=newYear(1900);if(parseSpecifier(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=utcDate(newYear(a.y))).getUTCDay(),n=i>4||0===i?xe.ceil(n):xe(n),n=Ae.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=t(newYear(a.y))).getDay(),n=i>4||0===i?fe.ceil(n):fe(n),n=ue.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?utcDate(newYear(a.y)).getUTCDay():t(newYear(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,utcDate(a)):t(a)}}function parseSpecifier(e,t,r,n){for(var i,a,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=E[i in Ge?t.charAt(o++):i])||(n=a(e,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return _.x=newFormat(r,_),_.X=newFormat(n,_),_.c=newFormat(t,_),b.x=newFormat(r,b),b.X=newFormat(n,b),b.c=newFormat(t,b),{format:function(e){var t=newFormat(e+="",_);return t.toString=function(){return e},t},parse:function(e){var t=newParse(e+="",localDate);return t.toString=function(){return e},t},utcFormat:function(e){var t=newFormat(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=newParse(e,utcDate);return t.toString=function(){return e},t}}}(e),Ue=Be.format,Be.parse,je=Be.utcFormat,qe=Be.utcParse,Be}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||je("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||qe("%Y-%m-%dT%H:%M:%S.%LZ");var Ke=1e3,We=60*Ke,Ye=60*We,Xe=24*Ye,Qe=7*Xe,$e=30*Xe,Je=365*Xe;function time_date(e){return new Date(e)}function time_number(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,t,r,n,i,a,o,s,l){var u=continuous(deinterpolateLinear,I.c),c=u.invert,f=u.domain,d=l(".%L"),h=l(":%S"),g=l("%I:%M"),m=l("%I %p"),y=l("%a %d"),v=l("%b %d"),_=l("%B"),b=l("%Y"),E=[[o,1,Ke],[o,5,5*Ke],[o,15,15*Ke],[o,30,30*Ke],[a,1,We],[a,5,5*We],[a,15,15*We],[a,30,30*We],[i,1,Ye],[i,3,3*Ye],[i,6,6*Ye],[i,12,12*Ye],[n,1,Xe],[n,2,2*Xe],[r,1,Qe],[t,1,$e],[t,3,3*$e],[e,1,Je]];function tickFormat(s){return(o(s)<s?d:a(s)<s?h:i(s)<s?g:n(s)<s?m:t(s)<s?r(s)<s?y:v:e(s)<s?_:b)(s)}function tickInterval(t,r,n,i){if(null==t&&(t=10),"number"==typeof t){var a=Math.abs(n-r)/t,o=p(function(e){return e[2]}).right(E,a);o===E.length?(i=tickStep(r/Je,n/Je,t),t=e):o?(i=(o=E[a/E[o-1][2]<E[o][2]/a?o-1:o])[1],t=o[0]):(i=Math.max(tickStep(r,n,t),1),t=s)}return null==i?t:t.every(i)}return u.invert=function(e){return new Date(c(e))},u.domain=function(e){return arguments.length?f(x.call(e,time_number)):f().map(time_date)},u.ticks=function(e,t){var r,n=f(),i=n[0],a=n[n.length-1],o=a<i;return o&&(r=i,i=a,a=r),r=(r=tickInterval(e,i,a,t))?r.range(i,a+1):[],o?r.reverse():r},u.tickFormat=function(e,t){return null==t?tickFormat:l(t)},u.nice=function(e,t){var r=f();return(e=tickInterval(e,r[0],r[r.length-1],t))?f(X(r,e)):u},u.copy=function(){return copy(u,calendar(e,t,r,n,i,a,o,s,l))},u}var Ze=function(){return calendar(be,ve,ce,ue,se,ae,ne,Z,Ue).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},et=function(){return calendar(Fe,Le,Ce,Ae,we,Te,ne,Z,je).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},tt=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})},rt=tt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),nt=tt("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),it=tt("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),at=tt("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ot=r(26),st=Object(I.b)(Object(ot.b)(300,.5,0),Object(ot.b)(-240,.5,1)),lt=Object(I.b)(Object(ot.b)(-100,.75,.35),Object(ot.b)(80,1.5,.8)),ut=Object(I.b)(Object(ot.b)(260,.75,.35),Object(ot.b)(80,1.5,.8)),ct=Object(ot.b)(),ft=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return ct.h=360*e-100,ct.s=1.5-1.5*t,ct.l=.8-.9*t,ct+""};function ramp(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var dt=ramp(tt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),pt=ramp(tt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ht=ramp(tt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),gt=ramp(tt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function sequential(e){var t=0,r=1,n=!1;function scale(i){var a=(i-t)/(r-t);return e(n?Math.max(0,Math.min(1,a)):a)}return scale.domain=function(e){return arguments.length?(t=+e[0],r=+e[1],scale):[t,r]},scale.clamp=function(e){return arguments.length?(n=!!e,scale):n},scale.interpolator=function(t){return arguments.length?(e=t,scale):e},scale.copy=function(){return sequential(e).domain([t,r]).clamp(n)},linearish(scale)}var mt=["linear","time","log","sqrt"];function toNewName(e){return"scale".concat(function(e){return e&&e[0].toUpperCase()+e.slice(1)}(e))}function validScale(e){return"function"==typeof e?s()(e.copy)&&s()(e.domain)&&s()(e.range):"string"==typeof e&&u()(mt,e)}function isScaleDefined(e,t){return!!e.scale&&(!e.scale.x&&!e.scale.y||!!e.scale[t])}function getScaleTypeFromData(e,t){if(!e.data)return"linear";var r=c.a.createAccessor(e[t]),n=e.data.map(function(e){var n=a()(r(e))?r(e)[t]:r(e);return void 0!==n?n:e[t]});return f.a.containsDates(n)?"time":"linear"}function getScaleFromName(e){return validScale(e)?n[toNewName(e)]():linear()}function getScaleFromProps(e,t){if(isScaleDefined(e,t)){var r=e.scale[t]||e.scale;return validScale(r)?s()(r)?r:n[toNewName(r)]():void 0}}function getType(e){if("string"==typeof e)return e;var t=[{name:"log",method:"base"},{name:"ordinal",method:"unknown"},{name:"pow-sqrt",method:"exponent"},{name:"quantile",method:"quantiles"},{name:"quantize-threshold",method:"invertExtent"}].filter(function(t){return void 0!==e[t.method]})[0];return t?t.name:void 0}t.a={getBaseScale:function getBaseScale(e,t){var r=getScaleFromProps(e,t);if(r)return"string"==typeof r?getScaleFromName(r):r;var i=function getScaleFromDomain(e,t){var r;if(e.domain&&e.domain[t]?r=e.domain[t]:e.domain&&Array.isArray(e.domain)&&(r=e.domain),r)return f.a.containsDates(r)?"time":"linear"}(e,t)||getScaleTypeFromData(e,t);return n[toNewName(i)]()},getDefaultScale:function getDefaultScale(){return linear()},getScaleFromProps:getScaleFromProps,getScaleType:function getScaleType(e,t){return function getScaleTypeFromProps(e,t){if(isScaleDefined(e,t)){var r=e.scale[t]||e.scale;return"string"==typeof r?r:getType(r)}}(e,t)||getScaleTypeFromData(e,t)},getType:getType,getScaleFromName:getScaleFromName}},function(e,t,r){var n=r(66);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(128),i=r(91),a=r(56),o=r(82),s=r(54),l=r(259),u=Object.getOwnPropertyDescriptor;t.f=r(36)?u:function getOwnPropertyDescriptor(e,t){if(e=a(e),t=o(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(3),i=r(35),a=r(20);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],o={};o[e]=t(r),n(n.S+n.F*a(function(){r(1)}),"Object",o)}},function(e,t,r){var n=r(65),i=r(127),a=r(44),o=r(31),s=r(275);e.exports=function(e,t){var r=1==e,l=2==e,u=3==e,c=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var g,m,y=a(t),v=i(y),_=n(s,h,3),b=o(v.length),E=0,T=r?p(t,b):l?p(t,0):void 0;b>E;E++)if((d||E in v)&&(m=_(g=v[E],E,y),e))if(r)T[E]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return E;case 2:T.push(g)}else if(c)return!1;return f?-1:u||c?c:T}}},function(e,t,r){var n=r(8),i=r(234);e.exports=function isArrayLike(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t,r){"use strict";!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}(),e.exports=r(389)},,function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){"use strict";if(r(36)){var n=r(93),i=r(19),a=r(20),o=r(3),s=r(153),l=r(210),u=r(65),c=r(114),f=r(91),d=r(55),p=r(115),h=r(67),g=r(31),m=r(286),y=r(95),v=r(82),_=r(54),b=r(129),E=r(22),T=r(44),S=r(202),w=r(96),R=r(98),A=r(97).f,C=r(204),x=r(92),D=r(28),P=r(70),I=r(143),M=r(130),O=r(206),k=r(112),L=r(146),N=r(113),F=r(205),B=r(277),U=r(37),j=r(68),q=U.f,G=j.f,H=i.RangeError,V=i.TypeError,z=i.Uint8Array,K=Array.prototype,W=l.ArrayBuffer,Y=l.DataView,X=P(0),Q=P(2),$=P(3),J=P(4),Z=P(5),ee=P(6),te=I(!0),re=I(!1),ne=O.values,ie=O.keys,ae=O.entries,oe=K.lastIndexOf,se=K.reduce,le=K.reduceRight,ue=K.join,ce=K.sort,fe=K.slice,de=K.toString,pe=K.toLocaleString,he=D("iterator"),ge=D("toStringTag"),me=x("typed_constructor"),ye=x("def_constructor"),ve=s.CONSTR,_e=s.TYPED,be=s.VIEW,Ee=P(1,function(e,t){return Ae(M(e,e[ye]),t)}),Te=a(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),Se=!!z&&!!z.prototype.set&&a(function(){new z(1).set({})}),we=function(e,t){var r=h(e);if(r<0||r%t)throw H("Wrong offset!");return r},Re=function(e){if(E(e)&&_e in e)return e;throw V(e+" is not a typed array!")},Ae=function(e,t){if(!(E(e)&&me in e))throw V("It is not a typed array constructor!");return new e(t)},Ce=function(e,t){return xe(M(e,e[ye]),t)},xe=function(e,t){for(var r=0,n=t.length,i=Ae(e,n);n>r;)i[r]=t[r++];return i},De=function(e,t,r){q(e,t,{get:function(){return this._d[r]}})},Pe=function from(e){var t,r,n,i,a,o,s=T(e),l=arguments.length,c=l>1?arguments[1]:void 0,f=void 0!==c,d=C(s);if(null!=d&&!S(d)){for(o=d.call(s),n=[],t=0;!(a=o.next()).done;t++)n.push(a.value);s=n}for(f&&l>2&&(c=u(c,arguments[2],2)),t=0,r=g(s.length),i=Ae(this,r);r>t;t++)i[t]=f?c(s[t],t):s[t];return i},Ie=function of(){for(var e=0,t=arguments.length,r=Ae(this,t);t>e;)r[e]=arguments[e++];return r},Me=!!z&&a(function(){pe.call(new z(1))}),Oe=function toLocaleString(){return pe.apply(Me?fe.call(Re(this)):Re(this),arguments)},ke={copyWithin:function copyWithin(e,t){return B.call(Re(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function every(e){return J(Re(this),e,arguments.length>1?arguments[1]:void 0)},fill:function fill(e){return F.apply(Re(this),arguments)},filter:function filter(e){return Ce(this,Q(Re(this),e,arguments.length>1?arguments[1]:void 0))},find:function find(e){return Z(Re(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function findIndex(e){return ee(Re(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function forEach(e){X(Re(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function indexOf(e){return re(Re(this),e,arguments.length>1?arguments[1]:void 0)},includes:function includes(e){return te(Re(this),e,arguments.length>1?arguments[1]:void 0)},join:function join(e){return ue.apply(Re(this),arguments)},lastIndexOf:function lastIndexOf(e){return oe.apply(Re(this),arguments)},map:function map(e){return Ee(Re(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function reduce(e){return se.apply(Re(this),arguments)},reduceRight:function reduceRight(e){return le.apply(Re(this),arguments)},reverse:function reverse(){for(var e,t=Re(this).length,r=Math.floor(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function some(e){return $(Re(this),e,arguments.length>1?arguments[1]:void 0)},sort:function sort(e){return ce.call(Re(this),e)},subarray:function subarray(e,t){var r=Re(this),n=r.length,i=y(e,n);return new(M(r,r[ye]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,g((void 0===t?n:y(t,n))-i))}},Le=function slice(e,t){return Ce(this,fe.call(Re(this),e,t))},Ne=function set(e){Re(this);var t=we(arguments[1],1),r=this.length,n=T(e),i=g(n.length),a=0;if(i+t>r)throw H("Wrong length!");for(;a<i;)this[t+a]=n[a++]},Fe={entries:function entries(){return ae.call(Re(this))},keys:function keys(){return ie.call(Re(this))},values:function values(){return ne.call(Re(this))}},Be=function(e,t){return E(e)&&e[_e]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ue=function getOwnPropertyDescriptor(e,t){return Be(e,t=v(t,!0))?f(2,e[t]):G(e,t)},je=function defineProperty(e,t,r){return!(Be(e,t=v(t,!0))&&E(r)&&_(r,"value"))||_(r,"get")||_(r,"set")||r.configurable||_(r,"writable")&&!r.writable||_(r,"enumerable")&&!r.enumerable?q(e,t,r):(e[t]=r.value,e)};ve||(j.f=Ue,U.f=je),o(o.S+o.F*!ve,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:je}),a(function(){de.call({})})&&(de=pe=function toString(){return ue.call(this)});var qe=p({},ke);p(qe,Fe),d(qe,he,Fe.values),p(qe,{slice:Le,set:Ne,constructor:function(){},toString:de,toLocaleString:Oe}),De(qe,"buffer","b"),De(qe,"byteOffset","o"),De(qe,"byteLength","l"),De(qe,"length","e"),q(qe,ge,{get:function(){return this[_e]}}),e.exports=function(e,t,r,l){var u=e+((l=!!l)?"Clamped":"")+"Array",f="get"+e,p="set"+e,h=i[u],y=h||{},v=h&&R(h),_=!h||!s.ABV,T={},S=h&&h.prototype,C=function(e,r){q(e,r,{get:function(){return function(e,r){var n=e._d;return n.v[f](r*t+n.o,Te)}(this,r)},set:function(e){return function(e,r,n){var i=e._d;l&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.v[p](r*t+i.o,n,Te)}(this,r,e)},enumerable:!0})};_?(h=r(function(e,r,n,i){c(e,h,u,"_d");var a,o,s,l,f=0,p=0;if(E(r)){if(!(r instanceof W||"ArrayBuffer"==(l=b(r))||"SharedArrayBuffer"==l))return _e in r?xe(h,r):Pe.call(h,r);a=r,p=we(n,t);var y=r.byteLength;if(void 0===i){if(y%t)throw H("Wrong length!");if((o=y-p)<0)throw H("Wrong length!")}else if((o=g(i)*t)+p>y)throw H("Wrong length!");s=o/t}else s=m(r),a=new W(o=s*t);for(d(e,"_d",{b:a,o:p,l:o,e:s,v:new Y(a)});f<s;)C(e,f++)}),S=h.prototype=w(qe),d(S,"constructor",h)):a(function(){h(1)})&&a(function(){new h(-1)})&&L(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=r(function(e,r,n,i){var a;return c(e,h,u),E(r)?r instanceof W||"ArrayBuffer"==(a=b(r))||"SharedArrayBuffer"==a?void 0!==i?new y(r,we(n,t),i):void 0!==n?new y(r,we(n,t)):new y(r):_e in r?xe(h,r):Pe.call(h,r):new y(m(r))}),X(v!==Function.prototype?A(y).concat(A(v)):A(y),function(e){e in h||d(h,e,y[e])}),h.prototype=S,n||(S.constructor=h));var x=S[he],D=!!x&&("values"==x.name||null==x.name),P=Fe.values;d(h,me,!0),d(S,_e,u),d(S,be,!0),d(S,ye,h),(l?new h(1)[ge]==u:ge in S)||q(S,ge,{get:function(){return u}}),T[u]=h,o(o.G+o.W+o.F*(h!=y),T),o(o.S,u,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*a(function(){y.of.call(h,1)}),u,{from:Pe,of:Ie}),"BYTES_PER_ELEMENT"in S||d(S,"BYTES_PER_ELEMENT",t),o(o.P,u,ke),N(u),o(o.P+o.F*Se,u,{set:Ne}),o(o.P+o.F*!D,u,Fe),n||S.toString==de||(S.toString=de),o(o.P+o.F*a(function(){new h(1).slice()}),u,{slice:Le}),o(o.P+o.F*(a(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!a(function(){S.toLocaleString.call([1,2])})),u,{toLocaleString:Oe}),k[u]=D?x:P,n||D||d(S,he,P)}}else e.exports=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4)),i=-1,a={DEFAULT:.5,STRONG:1,WEAK:0};function SwitchRequest(e,t,r){return{quality:void 0===e?i:e,reason:void 0===t?null:t,priority:function getPriority(e){var t=a.DEFAULT;return e!==a.DEFAULT&&e!==a.STRONG&&e!==a.WEAK||(t=e),t}(r)}}SwitchRequest.__dashjs_factory_name="SwitchRequest";var o=n.default.getClassFactory(SwitchRequest);o.NO_CHANGE=i,o.PRIORITY=a,n.default.updateClassFactory(SwitchRequest.__dashjs_factory_name,o),t.default=o,e.exports=t.default},function(e,t,r){var n=r(327),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();e.exports=a},function(e,t){e.exports=function isObjectLike(e){return null!=e&&"object"==typeof e}},function(e,t,r){var n=r(335),i=r(324),a=r(71);e.exports=function keys(e){return a(e)?n(e):i(e)}},function(e,t,r){"use strict";var n=r(61),i=r.n(n),a=r(63),o=r.n(a),s=r(181),l=r.n(s),u=r(88),c=r.n(u),f=r(8),d=r.n(f),p=r(33),h=r.n(p),g=r(2),m=r.n(g);function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.a={getEvents:function(e,t,r,n){var a,o=this,s=function(e){var n,a=(n=e.reduce(function(e,r){return void 0!==r.target?(Array.isArray(r.target)?i()(r.target,t):"".concat(r.target)==="".concat(t))?e.concat(r):e:e.concat(r)},[]),void 0!==r&&"parent"!==t?n.filter(function(e){var t=e.eventKey,n=function(e){return!e||"".concat(e)==="".concat(r)};return Array.isArray(t)?t.some(function(e){return n(e)}):n(t)}):n);return Array.isArray(a)&&a.reduce(function(e,t){return t?m()(e,t.eventHandlers):e},{})},l=Array.isArray(o.componentEvents)?Array.isArray(e.events)?(a=o.componentEvents).concat.apply(a,_toConsumableArray(e.events)):o.componentEvents:e.events,u=l&&d()(n)?n(s(l),t):void 0;if(!e.sharedEvents)return u;var c=e.sharedEvents.getEvents,f=e.sharedEvents.events&&c(s(e.sharedEvents.events),t);return m()({},f,u)},getScopedEvents:function(e,t,r,n){var i=this;if(h()(e))return{};n=n||this.baseProps;var a=function(e,t){var r=e.childName,a=e.target,o=e.key,s="props"===t?n:i.state||{},l=null!=r&&s[r]?s[r]:s;return"parent"===o?l.parent:l[o]&&l[o][a]},o=function(e,o){var s="parent"===t?e.childName:e.childName||r,l=e.target||t,u=function(t,r){var o=i.state||{};if(!d()(e.mutation))return o;var s=a({childName:r,key:t,target:l},"props"),u=a({childName:r,key:t,target:l},"state"),c=e.mutation(m()({},s,u),n),f=o[r]||{},p=function(e){return c?function(e){return"parent"===l?m()(e,_defineProperty({},t,m()(e[t],c))):m()(e,_defineProperty({},t,m()(e[t],_defineProperty({},l,c))))}(e):function(e){return e[t]&&e[t][l]&&delete e[t][l],e[t]&&!Object.keys(e[t]).length&&delete e[t],e}(e)};return null!=r?m()(o,_defineProperty({},r,p(f))):p(o)},f=function(t){var r=function(t){return"parent"===l?"parent":"all"===e.eventKey?n[t]?c()(Object.keys(n[t]),"parent"):c()(Object.keys(n),"parent"):void 0===e.eventKey&&"parent"===o?n[t]?Object.keys(n[t]):Object.keys(n):void 0!==e.eventKey?e.eventKey:o}(t);return Array.isArray(r)?r.reduce(function(e,r){return m()(e,u(r,t))},{}):u(r,t)},p="all"===s?c()(Object.keys(n),"parent"):s;return Array.isArray(p)?p.reduce(function(e,t){return m()(e,f(t))},{}):f(p)},s=function(t,r,n,a){var s=e[a](t,r,n,i);if(s){var l=function(e){var t=function(e){return d()(e.callback)&&e.callback},r=(Array.isArray(e)?e.map(function(e){return t(e)}):[t(e)]).filter(function(e){return!1!==e});return r.length?function(){return r.forEach(function(e){return e()})}:void 0}(s);i.setState(function(e,t){return Array.isArray(e)?e.reduce(function(e,r){return e=m()({},e,o(r,t))},{}):o(e,t)}(s,n),l)}};return Object.keys(e).reduce(function(e,t){return e[t]=s,e},{})},getPartialEvents:function(e,t,r){return e?Object.keys(e).reduce(function(n,i){return n[i]=function(n){return e[i](n,r,t,i)},n},{}):{}},getEventState:function(e,t,r){var n=this.state||{};return r?n[r]&&n[r][e]&&n[r][e][t]:"parent"===e?n[e]&&n[e][t]||n[e]:n[e]&&n[e][t]},getExternalMutationsWithChildren:function(e,t,r,n){var i=this;return t=t||{},r=r||{},n.reduce(function(n,a){var o=r[a],s=i.getExternalMutations(e,t[a],r[a],a);return n[a]=s||o,l()(n,function(e){return!h()(e)})},{})},getExternalMutations:function(e,t,r,n){var i=this;return t=t||{},r=r||{},Object.keys(t).reduce(function(a,s){var u=r[s]||{},c=t[s]||{};if("parent"===s){var f={eventKey:s,target:"parent"},d=i.getExternalMutation(e,c,u,f);a[s]=void 0!==d?m()({},u,d):u}else{var p=o()(Object.keys(c).concat(Object.keys(u)));a[s]=p.reduce(function(t,r){var a={eventKey:s,target:r,childName:n},o=i.getExternalMutation(e,c[r],u[r],a);return t[r]=void 0!==o?m()({},u[r],o):u[r],l()(t,function(e){return!h()(e)})},{})}return l()(a,function(e){return!h()(e)})},{})},getExternalMutation:function(e,t,r,n){var a=function(e,t){if("string"==typeof e[t])return"all"===e[t]||e[t]===n[t];if(Array.isArray(e[t])){var r=e[t].map(function(e){return"".concat(e)});return i()(r,n[t])}return!1},o=e=Array.isArray(e)?e:[e];n.childName&&(o=e.filter(function(e){return a(e,"childName")}));var s=o.filter(function(e){return a(e,"target")});if(!h()(s)){var l=s.filter(function(e){return a(e,"eventKey")});if(!h()(l))return l.reduce(function(e,n){var i=(n&&d()(n.mutation)?n.mutation:function(){})(m()({},t,r));return m()({},e,i)},{})}},getComponentEvents:function(e,t){var r=Array.isArray(t)&&t.reduce(function(t,r){var n,i=e[r],a=i&&i.type&&i.type.defaultEvents,o=d()(a)?a(i.props):a;return t=Array.isArray(o)?(n=t).concat.apply(n,_toConsumableArray(o)):t},[]);return r&&r.length?r:void 0}}},function(e,t,r){var n=r(22);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(92)("meta"),i=r(22),a=r(54),o=r(37).f,s=0,l=Object.isExtensible||function(){return!0},u=!r(20)(function(){return l(Object.preventExtensions({}))}),c=function(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!a(e,n)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return u&&f.NEED&&l(e)&&!a(e,n)&&c(e),e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function URLUtils(){var e=void 0,t=/^[a-z][a-z0-9+\-.]*:/i,r=/^https?:\/\//i,n=/^https:\/\//i,i=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,a=function nativeURLResolver(e,t){try{return new window.URL(e,t).toString()}catch(t){return e}},o=function dumbURLResolver(e,t){var r=parseBaseUrl;if(!t)return e;if(!isRelative(e))return e;isPathAbsolute(e)&&(r=parseOrigin),isSchemeRelative(e)&&(r=parseScheme);var n=r(t),i="/"!==n.charAt(n.length-1)&&"/"!==e.charAt(0)?"/":"";return[n,e].join(i)};function parseBaseUrl(e){var t=e.indexOf("/"),r=e.lastIndexOf("/");return-1!==t?r===t+1?e:(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e.substring(0,r+1)):""}function parseOrigin(e){var t=e.match(i);return t?t[1]:""}function parseScheme(e){var r=e.match(t);return r?r[0]:""}function isRelative(e){return!t.test(e)}function isPathAbsolute(e){return isRelative(e)&&"/"===e.charAt(0)}function isSchemeRelative(e){return 0===e.indexOf("//")}return function setup(){try{new window.URL("x","http://y");e=a}catch(e){}finally{e=e||o}}(),{parseBaseUrl:parseBaseUrl,parseOrigin:parseOrigin,parseScheme:parseScheme,isRelative:isRelative,isPathAbsolute:isPathAbsolute,isSchemeRelative:isSchemeRelative,isHTTPURL:function isHTTPURL(e){return r.test(e)},isHTTPS:function isHTTPS(e){return n.test(e)},resolve:function resolve(t,r){return e(t,r)}}}URLUtils.__dashjs_factory_name="URLUtils",t.default=n.default.getSingletonFactory(URLUtils),e.exports=t.default},function(e,t,r){var n=r(135),i=r(781),a=r(782),o="[object Null]",s="[object Undefined]",l=n?n.toStringTag:void 0;e.exports=function baseGetTag(e){return null==e?void 0===e?s:o:l&&l in Object(e)?i(e):a(e)}},function(e,t,r){var n=r(395),i=r(396),a=r(397);e.exports=function _slicedToArray(e,t){return n(e)||i(e,t)||a()}},function(e,t,r){var n=r(855);e.exports=function flatten(e){return(null==e?0:e.length)?n(e,1):[]}},function(e,t,r){var n=r(872),i=r(239),a=r(873),o=i(function(e,t){return a(e)?n(e,t):[]});e.exports=o},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(614),i=r(615),a=r(616);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,r)}function from(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function fromArrayBuffer(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t);return e}(e,t,r,n):"string"==typeof t?function fromString(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(t,r),i=(e=createBuffer(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function fromObject(e,t){if(Buffer.isBuffer(t)){var r=0|checked(t.length);return 0===(e=createBuffer(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function isnan(e){return e!=e}(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&a(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,i);if("number"==typeof t)return t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}function read(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=r;a<s;a++)if(read(e,a)===read(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var c=!0,f=0;f<l;f++)if(read(e,a+f)!==read(t,f)){c=!1;break}if(c)return a}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(function utf16leToBytes(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,s,l,u,c=e[i],f=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(f=c);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(f=u);break;case 3:a=e[i+1],s=e[i+2],128==(192&a)&&128==(192&s)&&(u=(15&c)<<12|(63&a)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:a=e[i+1],s=e[i+2],l=e[i+3],128==(192&a)&&128==(192&s)&&128==(192&l)&&(u=(15&c)<<18|(63&a)<<12|(63&s)<<6|63&l)>65535&&u<1114112&&(f=u)}null===f?(f=65533,d=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=d}return function decodeCodePointsArray(e){var t=e.length;if(t<=o)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=o));return r}(n)}t.Buffer=Buffer,t.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},t.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,r){return from(null,e,t,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,r){return function alloc(e,t,r,n){return assertSize(t),t<=0?createBuffer(e,t):void 0!==r?"string"==typeof n?createBuffer(e,t).fill(r,n):createBuffer(e,t).fill(r):createBuffer(e,t)}(null,e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function isBuffer(e){return!(null==e||!e._isBuffer)},Buffer.compare=function compare(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!Buffer.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function toString(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function compare(e,t,r,n,i){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(n,i),u=e.slice(t,r),c=0;c<s;++c)if(l[c]!==u[c]){a=l[c],o=u[c];break}return a<o?-1:o<a?1:0},Buffer.prototype.includes=function includes(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function indexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function write(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var o=4096;function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=toHex(e[a]);return i}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,i,a){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function objectWriteUInt32(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function checkIEEE754(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,a){return a||checkIEEE754(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,a){return a||checkIEEE754(e,0,r,8),i.write(e,t,r,n,52,8),r+8}Buffer.prototype.slice=function slice(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer.prototype;else{var i=t-e;r=new Buffer(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},Buffer.prototype.readUIntLE=function readUIntLE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},Buffer.prototype.readUIntBE=function readUIntBE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Buffer.prototype.readUInt8=function readUInt8(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function readIntLE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function readIntBE(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},Buffer.prototype.readInt8=function readInt8(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function readInt16BE(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function readInt32LE(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function readFloatLE(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,t){return t||checkOffset(e,4,this.length),i.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){return t||checkOffset(e,8,this.length),i.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,r,n){(e=+e,t|=0,r|=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},Buffer.prototype.writeUInt8=function writeUInt8(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function writeIntLE(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},Buffer.prototype.writeIntBE=function writeIntBE(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);checkInt(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},Buffer.prototype.writeInt8=function writeInt8(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function copy(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},Buffer.prototype.fill=function fill(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var s=/[^+\/0-9A-Za-z-_]/g;function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function base64ToBytes(e){return n.toByteArray(function base64clean(e){if((e=function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(s,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(59))},function(e,t){var r,n,i=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){r=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();var a,o=[],s=!1,l=-1;function cleanUpNextTick(){s&&a&&(s=!1,a.length?o=a.concat(o):l=-1,o.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=o.length;t;){for(a=o,o=[];++l<t;)a&&a[l].run();l=-1,t=o.length}a=null,s=!1,function runClearTimeout(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];o.push(new Item(e,t)),1!==o.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.prependListener=noop,i.prependOnceListener=noop,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports=!1},function(e,t,r){var n=r(261),i=r(189);e.exports=Object.keys||function keys(e){return n(e,i)}},function(e,t,r){var n=r(67),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):a(e,t)}},function(e,t,r){var n=r(21),i=r(262),a=r(189),o=r(188)("IE_PROTO"),s=function(){},l=function(){var e,t=r(186)("iframe"),n=a.length;for(t.style.display="none",r(190).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[a[n]];return l()};e.exports=Object.create||function create(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[o]=e):r=l(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(261),i=r(189).concat("length","prototype");t.f=Object.getOwnPropertyNames||function getOwnPropertyNames(e){return n(e,i)}},function(e,t,r){var n=r(54),i=r(44),a=r(188)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){var n=r(28)("unscopables"),i=Array.prototype;null==i[n]&&r(55)(i,n,{}),e.exports=function(e){i[n][e]=!0}},function(e,t,r){var n=r(22);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(154)),a=_interopRequireDefault(r(294)),o=_interopRequireDefault(r(653)),s=_interopRequireDefault(r(159)),l=_interopRequireDefault(r(221)),u=_interopRequireDefault(r(12)),c=_interopRequireDefault(r(14)),f=_interopRequireDefault(r(131)),d=_interopRequireDefault(r(4)),p=_interopRequireDefault(r(13)),h=_interopRequireDefault(r(222)),g=_interopRequireDefault(r(32)),m=_interopRequireDefault(r(38)),y=r(42),v="bufferLoaded",_="bufferStalled",b=.5,E=.5,T=.01,S=22,w="BufferController";function BufferController(e){e=e||{};var t=this.context,r=(0,u.default)(t).getInstance(),d=e.metricsModel,R=e.mediaPlayerModel,A=e.errHandler,C=e.streamController,x=e.mediaController,D=e.adapter,P=e.textController,I=e.abrController,M=e.playbackController,O=e.type,k=e.streamProcessor,L=void 0,N=void 0,F=void 0,B=void 0,U=void 0,j=void 0,q=void 0,G=void 0,H=void 0,V=void 0,z=void 0,K=void 0,W=void 0,Y=void 0,X=void 0,Q=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0;function createBuffer(e,r){if(!Q||!e||!k)return null;if(q)try{"function"==typeof(V=r&&r[O]?(0,a.default)(t).create(q,e,onAppended.bind(this),r[O]):(0,a.default)(t).create(q,e,onAppended.bind(this))).getBuffer().initialize&&V.getBuffer().initialize(O,k)}catch(e){N.fatal("Caught error on create SourceBuffer: "+e),A.mediaSourceError("Error creating "+O+" source buffer."),A.error(new g.default(m.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,m.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+O))}else V=(0,o.default)(t).create(onAppended.bind(this));return updateBufferTimestampOffset(k.getRepresentationInfo(F).MSETimeOffset),V}function onInitFragmentLoaded(e){e.fragmentModel===k.getFragmentModel()&&(N.info("Init fragment finished loading saving to",O+"'s init cache"),Q.save(e.chunk),N.debug("Append Init fragment",O," with representationId:",e.chunk.representationId," and quality:",e.chunk.quality,", data size:",e.chunk.bytes.byteLength),appendToBuffer(e.chunk))}function onMediaFragmentLoaded(e){if(e.fragmentModel===k.getFragmentModel()){var r=e.chunk,n=r.bytes,a=r.quality,o=k.getRepresentationInfo(a),s=D.getEventsFor(o.mediaInfo,k),l=D.getEventsFor(o,k);if(s&&s.length>0||l&&l.length>0){var u=function handleInbandEvents(e,r,n,i){for(var a=Math.max(!r||isNaN(r.startTime)?0:r.startTime,0),o=[],s=[],l=n.concat(i),u=0,c=l.length;u<c;u++)o[l[u].schemeIdUri+"/"+l[u].value]=l[u];var d=(0,f.default)(t).getInstance().parse(e).getBoxes("emsg");for(u=0,c=d.length;u<c;u++){var p=D.getEvent(d[u],o,a);p&&s.push(p)}return s}(n,k.getFragmentModel().getRequests({state:i.default.FRAGMENT_MODEL_EXECUTED,quality:a,index:r.index})[0],s,l);k.addInbandEvents(u)}if(ee){te=r;var c=V&&V.getAllBufferRanges();c&&c.length>0&&M.getTimeToStreamEnd()>b&&(N.debug("Clearing buffer because track changed - "+(c.end(c.length-1)+E)),clearBuffers([{start:0,end:c.end(c.length-1)+E,force:!0}]))}else appendToBuffer(r)}}function appendToBuffer(e){V.append(e),e.mediaInfo.type===n.default.VIDEO&&r.trigger(c.default.VIDEO_CHUNK_RECEIVED,{chunk:e})}function showBufferRanges(e){if(e&&e.length>0)for(var t=0,r=e.length;t<r;t++)N.debug("Buffered Range for type:",O,":",e.start(t)," - ",e.end(t)," currentTime = ",M.getTime())}function onAppended(e){if(e.error){if(e.error.code===S&&(j=.8*getTotalBufferedTime(),N.warn("Quota exceeded for type: "+O+", Critical Buffer: "+j),j>0)){var t=Math.max(.2*j,1),n=j-t;R.setBufferToKeep(parseFloat(t.toFixed(5))),R.setBufferAheadToKeep(parseFloat(n.toFixed(5)))}e.error.code!==S&&hasEnoughSpaceToAppend()||(N.warn("Clearing playback buffer to overcome quota exceed situation for type: "+O),r.trigger(c.default.QUOTA_EXCEEDED,{sender:L,criticalBufferLevel:j}),pruneAllSafely())}else{(W=e.chunk)&&!isNaN(W.index)&&(G=Math.max(W.index,G),checkIfBufferingCompleted());var i=V.getAllBufferRanges();if(W.segmentType===y.HTTPRequest.MEDIA_SEGMENT_TYPE)showBufferRanges(i),onPlaybackProgression();else if(ee){var a=M.getTime();N.debug("AppendToBuffer seek target should be "+a),k.getScheduleController().setSeekTarget(a),D.setIndexHandlerTime(k,a)}var o={sender:L,quality:W.quality,startTime:W.start,index:W.index,bufferedRanges:i};W&&!W.endFragment?r.trigger(c.default.BYTES_APPENDED,o):W&&r.trigger(c.default.BYTES_APPENDED_END_FRAGMENT,o)}}function onQualityChanged(e){F!==e.newQuality&&O===e.mediaType&&k.getStreamInfo().id===e.streamInfo.id&&(updateBufferTimestampOffset(k.getRepresentationInfo(e.newQuality).MSETimeOffset),F=e.newQuality)}function onPlaybackSeeking(){B&&(J=!0,B=!1,H=Number.POSITIVE_INFINITY),O!==n.default.FRAGMENTED_TEXT?pruneAllSafely():onPlaybackProgression()}function onPlaybackSeeked(){$=void 0}function pruneAllSafely(){var e=function getAllRangesWithSafetyFactor(){var e=[],t=V.getAllBufferRanges();if(!t||0===t.length)return e;var r=M.getTime(),n=t.end(t.length-1)+E,a=k.getFragmentModel().getRequests({state:i.default.FRAGMENT_MODEL_EXECUTED,time:r,threshold:T})[0];if(a){var o={start:0,end:a.startTime-b},s=k.getFragmentModel().getRequests({state:i.default.FRAGMENT_MODEL_EXECUTED,time:a.startTime-a.duration/2,threshold:T})[0];s&&s.startTime!=a.startTime&&(o.end=s.startTime),o.start<o.end&&o.end>t.start(0)&&e.push(o);var l={start:a.startTime+a.duration+b,end:n},u=k.getFragmentModel().getRequests({state:i.default.FRAGMENT_MODEL_EXECUTED,time:a.startTime+a.duration+b,threshold:T})[0];u&&u.startTime!==a.startTime&&(l.start=u.startTime+u.duration+b),l.start<l.end&&l.start<n&&e.push(l)}else N.debug("getAllRangesWithSafetyFactor for",O,"- No request found in current time position, removing full buffer 0 -",n),e.push({start:0,end:n});return e}();e&&0!==e.length||onPlaybackProgression(),clearBuffers(e)}function onPlaybackProgression(){(!ee||O===n.default.FRAGMENTED_TEXT&&P.isTextEnabled())&&(updateBufferLevel(),addBufferMetrics())}function onPlaybackStalled(){checkIfSufficientBuffer()}function onPlaybackPlaying(){checkIfSufficientBuffer()}function getRangeAt(e,t){var r=V.getAllBufferRanges(),n=0,i=0,a=null,o=null,s=0,l=void 0,u=void 0,c=t||.15;if(null!=r){for(u=0,l=r.length;u<l;u++)if(n=r.start(u),i=r.end(u),null===a)s=Math.abs(n-e),e>=n&&e<i?(a=n,o=i):s<=c&&(a=n,o=i);else{if(!((s=n-o)<=c))break;o=i}if(null!==a)return{start:a,end:o}}return null}function updateBufferLevel(){M&&(U=function getBufferLength(e,t){var r;return null===(r=getRangeAt(e,t))?0:r.end-e}(function getWorkingTime(){var e=M.getTime();if($){var t=V.getAllBufferRanges();t&&t.length&&(e=Math.max(t.start(0),$))}return e}()||0),r.trigger(c.default.BUFFER_LEVEL_UPDATED,{sender:L,bufferLevel:U}),checkIfSufficientBuffer())}function addBufferMetrics(){(function isActive(){return k&&C&&k.getStreamInfo()})()&&(d.addBufferState(O,K,k.getScheduleController().getBufferTarget()),d.addBufferLevel(O,new Date,1e3*U))}function checkIfBufferingCompleted(){G>=H-1&&!B&&void 0===V.discharge&&(B=!0,N.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),r.trigger(c.default.BUFFERING_COMPLETED,{sender:L,streamInfo:k.getStreamInfo()}))}function checkIfSufficientBuffer(){"audio"!==O&&"video"!==O||(J&&!B&&M&&M.getTimeToStreamEnd()-U<b&&(J=!1,B=!0,N.debug("checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),r.trigger(c.default.BUFFERING_COMPLETED,{sender:L,streamInfo:k.getStreamInfo()})),(!R.getLowLatencyEnabled()&&U<b||0===U)&&!B?notifyBufferStateChanged(_):(B||U>=R.getStableBufferTime())&&notifyBufferStateChanged(v))}function notifyBufferStateChanged(e){K===e||e===_&&0===M.getTime()||O===n.default.FRAGMENTED_TEXT&&!P.isTextEnabled()||(K=e,addBufferMetrics(),r.trigger(c.default.BUFFER_LEVEL_STATE_CHANGED,{sender:L,state:e,mediaType:O,streamInfo:k.getStreamInfo()}),r.trigger(e===v?c.default.BUFFER_LOADED:c.default.BUFFER_EMPTY,{mediaType:O}),N.debug(e===v?"Got enough buffer to start for "+O:"Waiting for more buffer before starting playback for "+O))}function pruneBuffer(){V&&O!==n.default.FRAGMENTED_TEXT&&(B||clearBuffers(function getClearRanges(){var e=[],t=V.getAllBufferRanges();if(!t||0===t.length)return e;var r=M.getTime(),n={start:Math.max(0,r-R.getBufferToKeep()),end:r+R.getBufferAheadToKeep()},a=k.getFragmentModel().getRequests({state:i.default.FRAGMENT_MODEL_EXECUTED,time:r,threshold:T})[0];if(a)n.start=Math.min(a.startTime,n.start),n.end=Math.max(a.startTime+a.duration,n.end);else if(0===r&&M.getIsDynamic())return[];if(t.start(0)<=n.start){for(var o={start:0,end:n.start},s=0;s<t.length&&t.end(s)<=n.start;s++)o.end=t.end(s);o.start<o.end&&e.push(o)}if(t.end(t.length-1)>=n.end){var l={start:n.end,end:t.end(t.length-1)+T};l.start<l.end&&e.push(l)}return e}()))}function clearBuffers(e){e&&V&&0!==e.length&&(Z.push.apply(Z,e),X||clearNextRange())}function clearNextRange(){if(0===Z.length||!V)return N.debug("Nothing to prune, halt pruning"),Z=[],void(X=!1);var e=V.getBuffer();if(!e||!e.buffered||0===e.buffered.length)return N.debug("SourceBuffer is empty (or does not exist), halt pruning"),Z=[],void(X=!1);var t=Z.shift();N.debug("Removing",O,"buffer from:",t.start,"to",t.end),X=!0;var r=M.getTime();r<t.end&&(B=!1,G=0,ee||(k.getScheduleController().setSeekTarget(r),D.setIndexHandlerTime(k,r))),V.remove(t.start,t.end,t.force)}function onRemoved(e){V===e.buffer&&(N.debug("onRemoved buffer from:",e.from,"to",e.to),showBufferRanges(V.getAllBufferRanges()),0===Z.length&&(X=!1),e.unintended&&(N.warn("Detected unintended removal from:",e.from,"to",e.to,"setting index handler time to",e.from),D.setIndexHandlerTime(k,e.from)),X?clearNextRange():(ee?(ee=!1,te&&appendToBuffer(te)):(N.debug("onRemoved : call updateBufferLevel"),updateBufferLevel()),r.trigger(c.default.BUFFER_CLEARED,{sender:L,from:e.from,to:e.to,unintended:e.unintended,hasEnoughSpaceToAppend:hasEnoughSpaceToAppend()})))}function updateBufferTimestampOffset(e){V&&V.updateTimestampOffset&&V.updateTimestampOffset(e)}function onDataUpdateCompleted(e){e.sender.getStreamProcessor()!==k||e.error||updateBufferTimestampOffset(e.currentRepresentation.MSETimeOffset)}function onStreamCompleted(e){e.fragmentModel===k.getFragmentModel()&&(H=e.request.index,checkIfBufferingCompleted())}function onCurrentTrackChanged(e){var t=V&&V.getAllBufferRanges();t&&e.newMediaInfo.type===O&&e.newMediaInfo.streamInfo.id===k.getStreamInfo().id&&(N.info("Track change asked"),x.getSwitchMode(O)===l.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&t&&t.length>0&&M.getTimeToStreamEnd()>b&&(B=!1,H=Number.POSITIVE_INFINITY))}function onWallclockTimeUpdated(){++Y*(R.getWallclockTimeUpdateInterval()/1e3)>=R.getBufferPruningInterval()&&(Y=0,pruneBuffer())}function onPlaybackRateChanged(){checkIfSufficientBuffer()}function setMediaSource(e,t){q=e,V&&t&&"function"==typeof V.discharge&&(z=V,createBuffer(t))}function getTotalBufferedTime(){var e,t=V.getAllBufferRanges(),r=0,n=void 0;if(!t)return r;for(n=0,e=t.length;n<e;n++)r+=t.end(n)-t.start(n);return r}function hasEnoughSpaceToAppend(){return getTotalBufferedTime()<j}function resetInitialSettings(e,t){j=Number.POSITIVE_INFINITY,K=void 0,F=s.default.QUALITY_DEFAULT,H=Number.POSITIVE_INFINITY,G=0,W=null,B=!1,X=!1,J=!1,U=0,Y=0,Z=[],V&&(e||V.abort(),V.reset(t),V=null),ee=!1}return L={getBufferControllerType:function getBufferControllerType(){return w},initialize:function initialize(e){setMediaSource(e),F=I.getQualityFor(O,k.getStreamInfo()),r.on(c.default.DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this),r.on(c.default.INIT_FRAGMENT_LOADED,onInitFragmentLoaded,this),r.on(c.default.MEDIA_FRAGMENT_LOADED,onMediaFragmentLoaded,this),r.on(c.default.QUALITY_CHANGE_REQUESTED,onQualityChanged,this),r.on(c.default.STREAM_COMPLETED,onStreamCompleted,this),r.on(c.default.PLAYBACK_PLAYING,onPlaybackPlaying,this),r.on(c.default.PLAYBACK_PROGRESS,onPlaybackProgression,this),r.on(c.default.PLAYBACK_TIME_UPDATED,onPlaybackProgression,this),r.on(c.default.PLAYBACK_RATE_CHANGED,onPlaybackRateChanged,this),r.on(c.default.PLAYBACK_SEEKING,onPlaybackSeeking,this),r.on(c.default.PLAYBACK_SEEKED,onPlaybackSeeked,this),r.on(c.default.PLAYBACK_STALLED,onPlaybackStalled,this),r.on(c.default.WALLCLOCK_TIME_UPDATED,onWallclockTimeUpdated,this),r.on(c.default.CURRENT_TRACK_CHANGED,onCurrentTrackChanged,this,u.default.EVENT_PRIORITY_HIGH),r.on(c.default.SOURCEBUFFER_REMOVE_COMPLETED,onRemoved,this)},createBuffer:createBuffer,dischargePreBuffer:function dischargePreBuffer(){if(V&&z&&"function"==typeof z.discharge){var e=z.getAllBufferRanges();if(e.length>0){for(var t="Beginning "+O+"PreBuffer discharge, adding buffer for:",r=0;r<e.length;r++)t+=" start: "+e.start(r)+", end: "+e.end(r)+";";N.debug(t)}else N.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var n=z.discharge(),i=null,a=0;a<n.length;a++){var o=n[a],s=Q.extract(o.streamId,o.representationId);s&&(i!==s&&(V.append(s),i=s),V.append(o))}z.reset(),z=null}},getType:function getType(){return O},getStreamProcessor:function getStreamProcessor(){return k},setSeekStartTime:function setSeekStartTime(e){$=e},getBuffer:function getBuffer(){return V},setBuffer:function setBuffer(e){V=e},getBufferLevel:function getBufferLevel(){return U},getRangeAt:getRangeAt,setMediaSource:setMediaSource,getMediaSource:function getMediaSource(){return q},getIsBufferingCompleted:function getIsBufferingCompleted(){return B},switchInitData:function switchInitData(e,t,n){var i=Q.extract(e,t);ee=!0===n&&n,i?(N.info("Append Init fragment",O," with representationId:",i.representationId," and quality:",i.quality,", data size:",i.bytes.byteLength),appendToBuffer(i)):r.trigger(c.default.INIT_REQUESTED,{sender:L})},getIsPruningInProgress:function getIsPruningInProgress(){return X},reset:function reset(e,t){r.off(c.default.DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this),r.off(c.default.QUALITY_CHANGE_REQUESTED,onQualityChanged,this),r.off(c.default.INIT_FRAGMENT_LOADED,onInitFragmentLoaded,this),r.off(c.default.MEDIA_FRAGMENT_LOADED,onMediaFragmentLoaded,this),r.off(c.default.STREAM_COMPLETED,onStreamCompleted,this),r.off(c.default.CURRENT_TRACK_CHANGED,onCurrentTrackChanged,this),r.off(c.default.PLAYBACK_PLAYING,onPlaybackPlaying,this),r.off(c.default.PLAYBACK_PROGRESS,onPlaybackProgression,this),r.off(c.default.PLAYBACK_TIME_UPDATED,onPlaybackProgression,this),r.off(c.default.PLAYBACK_RATE_CHANGED,onPlaybackRateChanged,this),r.off(c.default.PLAYBACK_SEEKING,onPlaybackSeeking,this),r.off(c.default.PLAYBACK_SEEKED,onPlaybackSeeked,this),r.off(c.default.PLAYBACK_STALLED,onPlaybackStalled,this),r.off(c.default.WALLCLOCK_TIME_UPDATED,onWallclockTimeUpdated,this),r.off(c.default.SOURCEBUFFER_REMOVE_COMPLETED,onRemoved,this),resetInitialSettings(e,t)}},function setup(){N=(0,p.default)(t).getInstance().getLogger(L),Q=(0,h.default)(t).getInstance(),resetInitialSettings()}(),L}BufferController.__dashjs_factory_name=w;var R=d.default.getClassFactory(BufferController);R.BUFFER_LOADED=v,R.BUFFER_EMPTY=_,d.default.updateClassFactory(BufferController.__dashjs_factory_name,R),t.default=R,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function FragmentRequest(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FragmentRequest),this.action=FragmentRequest.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null};n.ACTION_DOWNLOAD="download",n.ACTION_COMPLETE="complete",t.default=n,e.exports=t.default},function(e,t,r){"use strict";var n=r(158),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=Duplex;var a=r(132);a.inherits=r(109);var o=r(297),s=r(220);a.inherits(Duplex,o);for(var l=i(s.prototype),u=0;u<l.length;u++){var c=l[u];Duplex.prototype[c]||(Duplex.prototype[c]=s.prototype[c])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||n.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Duplex.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unescapeDollarsInTemplate=function unescapeDollarsInTemplate(e){return e?e.split("$$").join("$"):e},t.replaceIDForTemplate=function replaceIDForTemplate(e,t){if(!t||!e||-1===e.indexOf("$RepresentationID$"))return e;var r=t.toString();return e.split("$RepresentationID$").join(r)},t.replaceTokenForTemplate=replaceTokenForTemplate,t.getIndexBasedSegment=function getIndexBasedSegment(e,t,r,i){var a,o,s=void 0,l=void 0;l=r.segmentDuration,isNaN(l)&&(l=r.adaptation.period.duration);return a=parseFloat((r.adaptation.period.start+i*l).toFixed(5)),o=parseFloat((a+l).toFixed(5)),(s=new n.default).representation=r,s.duration=l,s.presentationStartTime=a,s.mediaStartTime=e.calcMediaTimeFromPresentationTime(s.presentationStartTime,r),s.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(s.presentationStartTime,r.adaptation.period.mpd,t),s.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(o,r.adaptation.period.mpd,t),s.wallStartTime=e.calcWallTimeForSegment(s,t),s.replacementNumber=getNumberForSegment(s,i),s.availabilityIdx=i,s},t.getTimeBasedSegment=function getTimeBasedSegment(e,t,r,i,a,o,s,l,u,c){var f,d,p=i/o,h=Math.min(a/o,r.adaptation.period.mpd.maxSegmentDuration),g=void 0;return f=e.calcPresentationTimeFromMediaTime(p,r),d=f+h,(g=new n.default).representation=r,g.duration=h,g.mediaStartTime=p,g.presentationStartTime=f,g.availabilityStartTime=r.adaptation.period.mpd.manifest.loadedTime,g.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(d,r.adaptation.period.mpd,t),g.wallStartTime=e.calcWallTimeForSegment(g,t),g.replacementTime=c||i,g.replacementNumber=getNumberForSegment(g,u),s=replaceTokenForTemplate(s,"Number",g.replacementNumber),s=replaceTokenForTemplate(s,"Time",g.replacementTime),g.media=s,g.mediaRange=l,g.availabilityIdx=u,g},t.getSegmentByIndex=getSegmentByIndex,t.decideSegmentListRangeForTemplate=function decideSegmentListRangeForTemplate(e,t,r,n,i,a){var o=r.segmentDuration,s=r.adaptation.period.mpd.manifest.minBufferTime,l=r.segmentAvailabilityRange,u={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(r,l?l.start:NaN),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(r,l?l.end:NaN)},c=r.segments,f=2*o,d=a||Math.max(2*s,10*o),p=NaN,h=null,g=void 0,m=void 0;if(u.start=Math.max(u.start,0),t&&!e.isTimeSyncCompleted())return g=Math.floor(u.start/o),m=Math.floor(u.end/o),{start:g,end:m};c&&c.length>0?(h=getSegmentByIndex(i,r),p=h?e.calcPeriodRelativeTimeFromMpdRelativeTime(r,h.presentationStartTime):i>0?i*o:e.calcPeriodRelativeTimeFromMpdRelativeTime(r,n)):p=i>0?i*o:t?u.end:u.start;return g=Math.floor(Math.max(p-f,u.start)/o),m=Math.floor(Math.min(g+d/o,u.end/o)),{start:g,end:m}};var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(223));function zeroPadToLength(e,t){for(;e.length<t;)e="0"+e;return e}function getNumberForSegment(e,t){return e.representation.startNumber+t}function replaceTokenForTemplate(e,t,r){var n=void 0,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=t.length,c="%0".length;if(!e)return e;for(;;){if((n=e.indexOf("$"+t))<0)return e;if((i=e.indexOf("$",n+u))<0)return e;if((a=e.indexOf("%0",n+u))>n&&a<i)switch(o=e.charAt(i-1),s=parseInt(e.substring(a+c,i-1),10),o){case"d":case"i":case"u":l=zeroPadToLength(r.toString(),s);break;case"x":l=zeroPadToLength(r.toString(16),s);break;case"X":l=zeroPadToLength(r.toString(16),s).toUpperCase();break;case"o":l=zeroPadToLength(r.toString(8),s);break;default:return e}else l=r;e=e.substring(0,n)+l+e.substring(i+1)}}function getSegmentByIndex(e,t){if(!t||!t.segments)return null;var r=t.segments.length,n=void 0,i=void 0;if(e<r&&(n=t.segments[e])&&n.availabilityIdx===e)return n;for(i=0;i<r;i++)if((n=t.segments[i])&&n.availabilityIdx===e)return n;return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=new(function(){function ProtectionConstants(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProtectionConstants),this.init()}return n(ProtectionConstants,[{key:"init",value:function init(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready"}}]),ProtectionConstants}());t.default=i,e.exports=t.default},function(e,t,r){var n=r(780),i=r(785);e.exports=function getNative(e,t){var r=i(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(800),i=r(834),a=r(48),o=r(47),s=r(139);e.exports=function baseIteratee(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):n(e):s(e)}},function(e,t,r){var n=r(866),i=r(868)(function(e,t){return null==e?{}:n(e,t)});e.exports=i},function(e,t){"function"==typeof Object.create?e.exports=function inherits(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function inherits(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){var n=r(37).f,i=r(54),a=r(28)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,r){var n=r(3),i=r(75),a=r(20),o=r(192),s="["+o+"]",l=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),c=function(e,t,r){var i={},s=a(function(){return!!o[e]()||""!=""[e]()}),l=i[e]=s?t(f):o[e];r&&(i[r]=l),n(n.P+n.F*s,"String",i)},f=c.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=c},function(e,t){e.exports={}},function(e,t,r){"use strict";var n=r(19),i=r(37),a=r(36),o=r(28)("species");e.exports=function(e){var t=n[e];a&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(51);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=new(function(){function MetricsConstants(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MetricsConstants),this.init()}return n(MetricsConstants,[{key:"init",value:function init(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}]),MetricsConstants}());t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkParameterType=function checkParameterType(e,t){if(typeof e!==t)throw n.default.BAD_ARGUMENT_ERROR},t.checkInteger=function checkInteger(e){if(null===e||isNaN(e)||e%1!=0)throw n.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"},t.checkRange=function checkRange(e,t,r){if(e<t||e>r)throw n.default.BAD_ARGUMENT_ERROR+" : argument out of range"},t.checkIsVideoOrAudioType=function checkIsVideoOrAudioType(e){if("string"!=typeof e||e!==n.default.AUDIO&&e!==n.default.VIDEO)throw n.default.BAD_ARGUMENT_ERROR};var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(11))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function CommonEncryption(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CommonEncryption)}return n(CommonEncryption,null,[{key:"findCencContentProtection",value:function findCencContentProtection(e){for(var t=null,r=0;r<e.length;++r){var n=e[r];"urn:mpeg:dash:mp4protection:2011"===n.schemeIdUri.toLowerCase()&&"cenc"===n.value.toLowerCase()&&(t=n)}return t}},{key:"getPSSHData",value:function getPSSHData(e){var t=8,r=new DataView(e),n=r.getUint8(t);return t+=20,n>0&&(t+=4+16*r.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function getPSSHForKeySystem(e,t){var r=CommonEncryption.parsePSSHList(t);return r.hasOwnProperty(e.uuid.toLowerCase())?r[e.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function parseInitDataFromContentProtection(e,t){return"pssh"in e?t.decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function parsePSSHList(e){if(null===e)return[];for(var t=new DataView(e.buffer||e),r={},n=0;;){var i,a,o=void 0,s=n;if(n>=t.buffer.byteLength)break;if(i=n+t.getUint32(n),n+=4,1886614376===t.getUint32(n))if(n+=4,0===(a=t.getUint8(n))||1===a){n++,n+=3,o="";var l=void 0,u=void 0;for(l=0;l<4;l++)o+=1===(u=t.getUint8(n+l).toString(16)).length?"0"+u:u;for(n+=4,o+="-",l=0;l<2;l++)o+=1===(u=t.getUint8(n+l).toString(16)).length?"0"+u:u;for(n+=2,o+="-",l=0;l<2;l++)o+=1===(u=t.getUint8(n+l).toString(16)).length?"0"+u:u;for(n+=2,o+="-",l=0;l<2;l++)o+=1===(u=t.getUint8(n+l).toString(16)).length?"0"+u:u;for(n+=2,o+="-",l=0;l<6;l++)o+=1===(u=t.getUint8(n+l).toString(16)).length?"0"+u:u;n+=6,o=o.toLowerCase(),t.getUint32(n),n+=4,r[o]=t.buffer.slice(s,i),n=i}else n=i;else n=i}return r}}]),CommonEncryption}();t.default=i,e.exports=t.default},function(e,t){e.exports=function eq(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(799),i=r(80);e.exports=function values(e){return null==e?[]:n(e,i(e))}},function(e,t,r){var n=r(859),i=r(47);e.exports=function orderBy(e,t,r,a){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(r=a?void 0:r)||(r=null==r?[]:[r]),n(e,t,r))}},function(e,t,r){"use strict";t.a={warn:function(e){0}}},function(e,t,r){var n=r(346),i=0;e.exports=function uniqueId(e){var t=++i;return n(e)+t}},function(e,t,r){"use strict";var n,i,a=0,o=0,s=0,l=1e3,u=0,c=0,f=0,d="object"==typeof performance&&performance.now?performance:Date,p="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function now(){return c||(p(clearNow),c=d.now()+f)}function clearNow(){c=0}function timer_Timer(){this._call=this._time=this._next=null}function timer(e,t,r){var n=new timer_Timer;return n.restart(e,t,r),n}function wake(){c=(u=d.now())+f,a=o=0;try{!function timerFlush(){now(),++a;for(var e,t=n;t;)(e=c-t._time)>=0&&t._call.call(null,e),t=t._next;--a}()}finally{a=0,function nap(){var e,t,r=n,a=1/0;for(;r;)r._call?(a>r._time&&(a=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:n=t);i=e,sleep(a)}(),c=0}}function poke(){var e=d.now(),t=e-u;t>l&&(f-=t,u=e)}function sleep(e){a||(o&&(o=clearTimeout(o)),e-c>24?(e<1/0&&(o=setTimeout(wake,e-d.now()-f)),s&&(s=clearInterval(s))):(s||(u=d.now(),s=setInterval(poke,l)),a=1,p(wake)))}timer_Timer.prototype=timer.prototype={constructor:timer_Timer,restart:function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?now():+r)+(null==t?0:+t),this._next||i===this||(i?i._next=this:n=this,i=this),this._call=e,this._time=r,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"a",function(){return h});var h=function(){function Timer(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Timer),this.shouldAnimate=!0,this.subscribers=[],this.loop=this.loop.bind(this),this.timer=timer(this.loop)}return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Timer,[{key:"bypassAnimation",value:function bypassAnimation(){this.shouldAnimate=!1}},{key:"resumeAnimation",value:function resumeAnimation(){this.shouldAnimate=!0}},{key:"loop",value:function loop(){this.subscribers.forEach(function(e){e.callback(now()-e.startTime,e.duration)})}},{key:"start",value:function start(){this.timer.start()}},{key:"stop",value:function stop(){this.timer.stop()}},{key:"subscribe",value:function subscribe(e,t){return t=this.shouldAnimate?t:0,this.subscribers.push({startTime:now(),callback:e,duration:t})}},{key:"unsubscribe",value:function unsubscribe(e){null!==e&&delete this.subscribers[e-1]}}]),Timer}()},function(e,t,r){"use strict";var n=r(48),i=r.n(n),a=r(5),o=r.n(a),s=r(2),l=r.n(s),u=r(1),c=r.n(u);function getDatumKey(e,t){return(e.key||t).toString()}function getKeyedData(e){return e.reduce(function(e,t,r){return e[getDatumKey(t,r)]=t,e},{})}function getKeyedDataDifference(e,t){var r=!1,n=Object.keys(e).reduce(function(e,n){return n in t||(r=!0,e[n]=!0),e},{});return r&&n}function getChildData(e){return e.type&&e.type.getData?e.type.getData(e.props):e.props&&e.props.data||!1}t.a={getInitialTransitionState:function getInitialTransitionState(e,t){var r=!1,n=!1,i=function(e,t){if(!t||e.type!==t.type)return{};var i=function getNodeTransitions(e,t){var r=e&&getKeyedData(e),n=t&&getKeyedData(t);return{entering:r&&getKeyedDataDifference(n,r),exiting:n&&getKeyedDataDifference(r,n)}}(getChildData(e),getChildData(t))||{},a=i.entering,o=i.exiting;return r=r||!!o,n=n||!!a,{entering:a||!1,exiting:o||!1}},a=function(e,t){return e.map(function(r,n){return r&&r.props&&r.props.children&&t[n]?a(c.a.Children.toArray(e[n].props.children),c.a.Children.toArray(t[n].props.children)):i(r,t[n])})},o=a(c.a.Children.toArray(e),c.a.Children.toArray(t));return{nodesWillExit:r,nodesWillEnter:n,childrenTransitions:o,nodesShouldEnter:!1}},getTransitionPropsFactory:function getTransitionPropsFactory(e,t,r){var n=t&&t.nodesWillExit,a=t&&t.nodesWillEnter,s=t&&t.nodesShouldEnter,u=t&&t.nodesShouldLoad,c=t&&t.nodesDoneLoad,f=t&&t.childrenTransitions||[],d={enter:e.animate&&e.animate.onEnter&&e.animate.onEnter.duration,exit:e.animate&&e.animate.onExit&&e.animate.onExit.duration,load:e.animate&&e.animate.onLoad&&e.animate.onLoad.duration,move:e.animate&&e.animate.duration},p=function(e,t,n){return u?function getChildOnLoad(e,t,r){if((e=l()({},e,{onEnd:r}))&&e.onLoad&&!e.onLoad.duration)return{animate:e,data:t};var n=e.onLoad&&e.onLoad.after?e.onLoad.after:i.a;return{animate:e,data:t=t.map(function(e,r){return l()({},e,n(e,r,t))})}}(n,t,function(){r({nodesShouldLoad:!1,nodesDoneLoad:!0})}):function getChildBeforeLoad(e,t,r,n){if((e=l()({},e,{onEnd:n}))&&e.onLoad&&!e.onLoad.duration)return{animate:e,data:r};var a=e.onLoad&&e.onLoad.before?e.onLoad.before:i.a;return{animate:e,data:r=r.map(function(e,t){return l()({},e,a(e,t,r))}),clipWidth:0}}(n,0,t,function(){r({nodesDoneLoad:!0})})},h=function(e,t,n,a){return function getChildPropsOnExit(e,t,r,n,a){var o=e&&e.onExit;if(e=l()({},e,o),n){e.onEnd=a;var s=e.onExit&&e.onExit.before?e.onExit.before:i.a;r=r.map(function(e,t){var i=(e.key||t).toString();return n[i]?l()({},e,s(e,t,r)):e})}return{animate:e,data:r}}(a,0,n,e,function(){r({nodesWillExit:!1})})},g=function(e,t,n,a){return s?function getChildPropsOnEnter(e,t,r,n){var a=e&&e.onEnter;if(e=l()({},e,a),r){e.onEnd=n;var o=e.onEnter&&e.onEnter.after?e.onEnter.after:i.a;t=t.map(function(e,n){var i=getDatumKey(e,n);return r[i]?l()({},e,o(e,n,t)):e})}return{animate:e,data:t}}(a,n,e,function(){r({nodesWillEnter:!1})}):function getChildPropsBeforeEnter(e,t,r,n,a){if(n){var o=(e=l()({},e,{onEnd:a})).onEnter&&e.onEnter.before?e.onEnter.before:i.a;r=r.map(function(e,t){var i=(e.key||t).toString();return n[i]?l()({},e,o(e,t,r)):e})}return{animate:e,data:r}}(a,0,n,e,function(){r({nodesShouldEnter:!0})})},m=function(e,t){var r=e.props.animate;if(!e.type)return{};var n=e.props&&e.props.polar&&e.type.defaultPolarTransitions||e.type.defaultTransitions;if(n){var i=r[t]&&r[t].duration;return void 0!==i?i:n[t]&&n[t].duration}return{}};return function getTransitionProps(r,u){var y=getChildData(r)||[],v=o()({},e.animate,r.props.animate),_=r.props.polar&&r.type.defaultPolarTransitions||r.type.defaultTransitions;v.onExit=o()({},v.onExit,_&&_.onExit),v.onEnter=o()({},v.onEnter,_&&_.onEnter),v.onLoad=o()({},v.onLoad,_&&_.onLoad);var b=f[u]||f[0];if(!c){var E={duration:void 0!==d.load?d.load:m(r,"onLoad")};return p(0,y,l()({},v,E))}if(n){var T=b&&b.exiting,S=void 0!==d.exit?d.exit:m(r,"onExit"),w=T?{duration:S}:{delay:S};return h(T,0,y,l()({},v,w))}if(a){var R=b&&b.entering,A=void 0!==d.enter?d.enter:m(r,"onEnter"),C=void 0!==d.move?d.move:r.props.animate&&r.props.animate.duration,x={duration:s&&R?A:C};return g(R,0,y,l()({},v,x))}return!t&&v&&v.onExit?function getInitialChildProps(e,t){var r=e.onEnter&&e.onEnter.after?e.onEnter.after:i.a;return{data:t.map(function(e,n){return l()({},e,r(e,n,t))})}}(v,y):{animate:v,data:y}}}}},function(e,t,r){var n=r(402);e.exports=function _objectWithoutProperties(e,t){if(null==e)return{};var r,i,a=n(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}},function(e,t,r){var n=r(74);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(74),i=r(28)("toStringTag"),a="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,r){var n=r(21),i=r(66),a=r(28)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||null==(r=n(o)[a])?t:i(r)}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(13)),i=_interopRequireDefault(r(632)),a=_interopRequireDefault(r(4)),o=_interopRequireDefault(r(215)),s=_interopRequireDefault(r(634));function BoxParser(){var e=void 0,t=void 0,r=this.context;function parse(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var t=o.default.parseBuffer(e),n=(0,i.default)(r).create();return n.setData(t),n}function parseUint32(e,t){return e[t+3]>>>0|e[t+2]<<8>>>0|e[t+1]<<16>>>0|e[t]<<24>>>0}function parseIsoBoxType(e,t){return String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t++])+String.fromCharCode(e[t])}return t={parse:parse,findLastTopIsoBoxCompleted:function findLastTopIsoBoxCompleted(e,t,r){if(void 0===r&&(r=0),!t||r+8>=t.byteLength)return new s.default(0,!1);for(var n=t instanceof ArrayBuffer?new Uint8Array(t):t,i=void 0,a=0;r<n.byteLength;){var o=parseUint32(n,r),l=parseIsoBoxType(n,r+4);if(0===o)break;r+o<=n.byteLength&&(e.indexOf(l)>=0?i=new s.default(r,!0,o):a=r+o),r+=o}return i||new s.default(a,!1)},getMediaTimescaleFromMoov:function getMediaTimescaleFromMoov(e){var t=parse(e),r=t?t.getBox("mdhd"):void 0;return r?r.timescale:NaN},getSamplesInfo:function getSamplesInfo(e){if(!e||0===e.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var t,r,n=parse(e),i=n.getBoxes("moof"),a=n.getBoxes("mfhd"),o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0;r=n.getBoxes("moof").length,t=a[a.length-1].sequence_number,s=0,c=[];var b=-1,E=-1;for(g=0;g<i.length;g++){var T=i[g],S=T.getChildBoxes("traf");for(p=0;p<S.length;p++){var w=S[p],R=w.getChildBox("tfhd"),A=w.getChildBox("tfdt");u=A.baseMediaDecodeTime;var C=w.getChildBoxes("trun"),x=w.getChildBoxes("subs");for(h=0;h<C.length;h++){var D=C[h];for(s=D.sample_count,v=(R.base_data_offset||0)+(D.data_offset||0),d=0;d<s;d++){o=void 0!==(f=D.samples[d]).sample_duration?f.sample_duration:R.default_sample_duration,l=void 0!==f.sample_size?f.sample_size:R.default_sample_size;var P={dts:u,cts:u+(void 0!==f.sample_composition_time_offset?f.sample_composition_time_offset:0),duration:o,offset:T.offset+v,size:l,subSizes:[l]};if(x)for(m=0;m<x.length;m++){var I=x[m];if(b<I.entry_count-1&&d>E&&(b++,E+=I.entries[b].sample_delta),d==E){P.subSizes=[];var M=I.entries[b];for(y=0;y<M.subsample_count;y++)P.subSizes.push(M.subsamples[y].subsample_size)}}c.push(P),v+=l,u+=o}}_=u-A.baseMediaDecodeTime}}return{sampleList:c,lastSequenceNumber:t,totalDuration:_,numSequences:r}},findInitRange:function findInitRange(t){var r=null,n=parse(t);if(!n)return r;var i=n.getBox("ftyp"),a=n.getBox("moov");return e.debug("Searching for initialization."),a&&a.isComplete&&(r=(i?i.offset:a.offset)+"-"+(a.offset+a.size-1),e.debug("Found the initialization.  Range: "+r)),r}},function setup(){e=(0,n.default)(r).getInstance().getLogger(t)}(),t}BoxParser.__dashjs_factory_name="BoxParser",t.default=a.default.getSingletonFactory(BoxParser),e.exports=t.default},function(e,t,r){(function(e){function objectToString(e){return Object.prototype.toString.call(e)}t.isArray=function isArray(e){return Array.isArray?Array.isArray(e):"[object Array]"===objectToString(e)},t.isBoolean=function isBoolean(e){return"boolean"==typeof e},t.isNull=function isNull(e){return null===e},t.isNullOrUndefined=function isNullOrUndefined(e){return null==e},t.isNumber=function isNumber(e){return"number"==typeof e},t.isString=function isString(e){return"string"==typeof e},t.isSymbol=function isSymbol(e){return"symbol"==typeof e},t.isUndefined=function isUndefined(e){return void 0===e},t.isRegExp=function isRegExp(e){return"[object RegExp]"===objectToString(e)},t.isObject=function isObject(e){return"object"==typeof e&&null!==e},t.isDate=function isDate(e){return"[object Date]"===objectToString(e)},t.isError=function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error},t.isFunction=function isFunction(e){return"function"==typeof e},t.isPrimitive=function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(89).Buffer)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(225)),i=_interopRequireDefault(r(679)),a=r(42),o=_interopRequireDefault(r(4)),s=_interopRequireDefault(r(38)),l=_interopRequireDefault(r(32));function HTTPLoader(e){e=e||{};var t,r=this.context,o=e.errHandler,u=e.metricsModel,c=e.mediaPlayerModel,f=e.requestModifier,d=e.boxParser,p=e.useFetch||!1,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0;return t={load:function load(e){e.request&&function internalLoad(e,t){var s=e.request,_=[],b=!0,E=!0,T=new Date,S=T,w=0,R=void 0;if(!f||!u||!o)throw new Error("config object is not correct or missing");var A=function handleLoaded(e){E=!1,s.requestStartDate=T,s.requestEndDate=new Date,s.firstByteDate=s.firstByteDate||T,s.checkExistenceOnly||(u.addHttpRequest(s.mediaType,null,s.type,s.url,R.response?R.response.responseURL:null,s.serviceLocation||null,s.range||null,s.requestStartDate,s.firstByteDate,s.requestEndDate,R.response?R.response.status:null,s.duration,R.response&&R.response.getAllResponseHeaders?R.response.getAllResponseHeaders():R.response?R.response.responseHeaders:[],e?_:null),s.type===a.HTTPRequest.MPD_TYPE&&u.addManifestUpdate("stream",s.type,s.requestStartDate,s.requestEndDate))},C=function onloadend(){-1!==h.indexOf(R)&&(h.splice(h.indexOf(R),1),E&&(A(!1),t>0?function(){t--;var r={config:e};m.push(r),r.timeout=setTimeout(function(){-1!==m.indexOf(r)&&(m.splice(m.indexOf(r),1),internalLoad(e,t))},c.getRetryIntervalForType(s.type))}():(o.downloadError(y[s.type],s.url,s),o.error(new l.default(v[s.type],s.url+" is not available",{request:s,response:R.response})),e.error&&e.error(s,"error",R.response.statusText),e.complete&&e.complete(s,R.response.statusText))))},x=void 0;x=p&&window.fetch&&"arraybuffer"===s.responseType&&s.type===a.HTTPRequest.MEDIA_SEGMENT_TYPE?(0,i.default)(r).create({requestModifier:f,boxParser:d}):(0,n.default)(r).create({requestModifier:f,boxParser:d});var D=f.modifyRequestURL(s.url),P=s.checkExistenceOnly?a.HTTPRequest.HEAD:a.HTTPRequest.GET,I=c.getXHRWithCredentialsForType(s.type);R={url:D,method:P,withCredentials:I,request:s,onload:function onload(){R.response.status>=200&&R.response.status<=299&&(A(!0),e.success&&e.success(R.response.response,R.response.statusText,R.response.responseURL),e.complete&&e.complete(s,R.response.statusText))},onend:C,onerror:C,progress:function progress(t){var r=new Date;b&&(b=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(s.firstByteDate=r)),t.lengthComputable&&(s.bytesLoaded=t.loaded,s.bytesTotal=t.total),t.noTrace||(_.push({s:S,d:t.time?t.time:r.getTime()-S.getTime(),b:[t.loaded?t.loaded-w:0]}),S=r,w=t.loaded),e.progress&&t&&e.progress(t)},onabort:function onabort(){e.abort&&e.abort(s)},loader:x};var M,O=(new Date).getTime();isNaN(s.delayLoadingTime)||O>=s.delayLoadingTime?(h.push(R),x.load(R)):(M={httpRequest:R},g.push(M),M.delayTimeout=setTimeout(function(){if(-1!==g.indexOf(M)){g.splice(g.indexOf(M),1);try{T=new Date,S=T,h.push(M.httpRequest),x.load(M.httpRequest)}catch(e){M.httpRequest.onerror()}}},s.delayLoadingTime-O))}(e,c.getRetryAttemptsForType(e.request.type))},abort:function abort(){m.forEach(function(e){clearTimeout(e.timeout),e.config.request&&e.config.abort&&e.config.abort(e.config.request)}),m=[],g.forEach(function(e){return clearTimeout(e.delayTimeout)}),g=[],h.forEach(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e),e.onabort()}),h=[]}},function setup(){var e,t;h=[],g=[],m=[],_defineProperty(e={},a.HTTPRequest.MPD_TYPE,s.default.DOWNLOAD_ERROR_ID_MANIFEST),_defineProperty(e,a.HTTPRequest.XLINK_EXPANSION_TYPE,s.default.DOWNLOAD_ERROR_ID_XLINK),_defineProperty(e,a.HTTPRequest.INIT_SEGMENT_TYPE,s.default.DOWNLOAD_ERROR_ID_INITIALIZATION),_defineProperty(e,a.HTTPRequest.MEDIA_SEGMENT_TYPE,s.default.DOWNLOAD_ERROR_ID_CONTENT),_defineProperty(e,a.HTTPRequest.INDEX_SEGMENT_TYPE,s.default.DOWNLOAD_ERROR_ID_CONTENT),_defineProperty(e,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,s.default.DOWNLOAD_ERROR_ID_CONTENT),_defineProperty(e,a.HTTPRequest.OTHER_TYPE,s.default.DOWNLOAD_ERROR_ID_CONTENT),y=e,_defineProperty(t={},a.HTTPRequest.MPD_TYPE,s.default.DOWNLOAD_ERROR_ID_MANIFEST_CODE),_defineProperty(t,a.HTTPRequest.XLINK_EXPANSION_TYPE,s.default.DOWNLOAD_ERROR_ID_XLINK_CODE),_defineProperty(t,a.HTTPRequest.INIT_SEGMENT_TYPE,s.default.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),_defineProperty(t,a.HTTPRequest.MEDIA_SEGMENT_TYPE,s.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),_defineProperty(t,a.HTTPRequest.INDEX_SEGMENT_TYPE,s.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),_defineProperty(t,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,s.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),_defineProperty(t,a.HTTPRequest.OTHER_TYPE,s.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),v=t}(),t}HTTPLoader.__dashjs_factory_name="HTTPLoader";var u=o.default.getClassFactory(HTTPLoader);t.default=u,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(302)),a=new(function(e){function ProtectionErrors(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProtectionErrors),n(Object.getPrototypeOf(ProtectionErrors.prototype),"constructor",this).call(this),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ProtectionErrors,i["default"]),ProtectionErrors}());t.default=a,e.exports=t.default},function(e,t,r){var n=r(78).Symbol;e.exports=n},function(e,t){e.exports=function arrayMap(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},function(e,t,r){var n=r(85),i=r(79),a="[object Symbol]";e.exports=function isSymbol(e){return"symbol"==typeof e||i(e)&&n(e)==a}},function(e,t,r){var n=r(137),i=1/0;e.exports=function toKey(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},function(e,t,r){var n=r(842),i=r(843),a=r(247),o=r(138);e.exports=function property(e){return a(e)?n(o(e)):i(e)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,a,o,s],c=0;(l=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t){e.exports=function isNil(e){return null==e}},function(e,t,r){var n=r(35),i=r(19),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(93)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(56),i=r(31),a=r(95);e.exports=function(e){return function(t,r,o){var s,l=n(t),u=i(l.length),c=a(o,u);if(e&&r!=r){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(74);e.exports=Array.isArray||function isArray(e){return"Array"==n(e)}},function(e,t,r){var n=r(28)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:r=!0}},a[n]=function(){return o},e(a)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(21);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){"use strict";var n=r(129),i=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var a=r.call(e,t);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,r){"use strict";r(279);var n=r(51),i=r(55),a=r(20),o=r(75),s=r(28),l=r(207),u=s("species"),c=!a(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var d=s(e),p=!a(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),h=p?!a(function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[u]=function(){return r}),r[d](""),!t}):void 0;if(!p||!h||"replace"===e&&!c||"split"===e&&!f){var g=/./[d],m=r(o,d,""[e],function maybeCallNative(e,t,r,n,i){return t.exec===l?p&&!i?{done:!0,value:g.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),y=m[0],v=m[1];n(String.prototype,e,y),i(RegExp.prototype,d,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},function(e,t,r){var n=r(65),i=r(274),a=r(202),o=r(21),s=r(31),l=r(204),u={},c={};(t=e.exports=function(e,t,r,f,d){var p,h,g,m,y=d?function(){return e}:l(e),v=n(r,f,t?2:1),_=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(a(y)){for(p=s(e.length);p>_;_++)if((m=t?v(o(h=e[_])[0],h[1]):v(e[_]))===u||m===c)return m}else for(g=y.call(e);!(h=g.next()).done;)if((m=i(g,v,h.value,t))===u||m===c)return m}).BREAK=u,t.RETURN=c},function(e,t,r){var n=r(19).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){"use strict";var n=r(19),i=r(3),a=r(51),o=r(115),s=r(83),l=r(150),u=r(114),c=r(22),f=r(20),d=r(146),p=r(110),h=r(193);e.exports=function(e,t,r,g,m,y){var v=n[e],_=v,b=m?"set":"add",E=_&&_.prototype,T={},S=function(e){var t=E[e];a(E,e,"delete"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function has(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function get(e){return y&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function add(e){return t.call(this,0===e?0:e),this}:function set(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof _&&(y||E.forEach&&!f(function(){(new _).entries().next()}))){var w=new _,R=w[b](y?{}:-0,1)!=w,A=f(function(){w.has(1)}),C=d(function(e){new _(e)}),x=!y&&f(function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)});C||((_=t(function(t,r){u(t,_,e);var n=h(new v,t,_);return null!=r&&l(r,m,n[b],n),n})).prototype=E,E.constructor=_),(A||x)&&(S("delete"),S("has"),m&&S("get")),(x||R)&&S(b),y&&E.clear&&delete E.clear}else _=g.getConstructor(t,e,m,b),o(_.prototype,r),s.NEED=!0;return p(_,e),T[e]=_,i(i.G+i.W+i.F*(_!=v),T),y||g.setStrong(_,e,m),_}},function(e,t,r){for(var n,i=r(19),a=r(55),o=r(92),s=o("typed_array"),l=o("view"),u=!(!i.ArrayBuffer||!i.DataView),c=u,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(n=i[d[f++]])?(a(n.prototype,s,!0),a(n.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:s,VIEW:l}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(12)),i=_interopRequireDefault(r(14)),a=_interopRequireDefault(r(4)),o=_interopRequireDefault(r(102)),s=_interopRequireDefault(r(13)),l="loading",u="executed",c="failed";function FragmentModel(e){e=e||{};var t=this.context,r=(0,n.default)(t).getInstance(),a=e.metricsModel,f=e.fragmentLoader,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0;function isFragmentLoaded(e){return!!e&&function check(t){var r=!1;return t.some(function(t){if(function isEqualMedia(e,t){return!isNaN(e.index)&&e.startTime===t.startTime&&e.adaptationIndex===t.adaptationIndex&&e.type===t.type}(e,t)||function isEqualInit(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality}(e,t)||function isEqualComplete(e,t){return e.action===o.default.ACTION_COMPLETE&&e.action===t.action}(e,t))return r=!0}),r}(g)}function getRequestThreshold(e){return isNaN(e.duration)?.25:Math.min(e.duration/8,.5)}function removeExecutedRequestsBeforeTime(e){g=g.filter(function(t){var r=getRequestThreshold(t);return isNaN(t.startTime)||void 0!==e&&t.startTime>=e-r})}function removeExecutedRequestsInTimeRange(e,t){t<=e+.5||(g=g.filter(function(r){var n=getRequestThreshold(r);return isNaN(r.startTime)||r.startTime>=t-n||isNaN(r.duration)||r.startTime+r.duration<=e+n}))}function getRequestForTime(e,t,r){for(var n=e.length-1;n>=0;n--){var i=e[n],a=i.startTime,o=a+i.duration;if(r=isNaN(r)?getRequestThreshold(i):r,!isNaN(a)&&!isNaN(o)&&t+r>=a&&t-r<o||isNaN(a)&&isNaN(t))return i}return null}function addSchedulingInfoMetrics(e,t){a.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t),a.addRequestsQueue(e.mediaType,m,g)}function onLoadingCompleted(e){e.sender===f&&(m.splice(m.indexOf(e.request),1),e.response&&!e.error&&g.push(e.request),addSchedulingInfoMetrics(e.request,e.error?c:u),r.trigger(i.default.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function onLoadingInProgress(e){e.sender===f&&r.trigger(i.default.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this})}function onLoadingAborted(e){e.sender===f&&r.trigger(i.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:this.getStreamProcessor(),request:e.request,mediaType:e.mediaType})}function resetInitialSettings(){g=[],m=[]}return d={setStreamProcessor:function setStreamProcessor(e){h=e},getStreamProcessor:function getStreamProcessor(){return h},getRequests:function getRequests(e){var t=e?e.state instanceof Array?e.state:[e.state]:[],r=[];return t.forEach(function(t){var n=function getRequestsForState(e){var t=void 0;switch(e){case l:t=m;break;case u:t=g;break;default:t=[]}return t}(t);r=r.concat(function filterRequests(e,t){if(t.hasOwnProperty("time"))return[getRequestForTime(e,t.time,t.threshold)];return e.filter(function(e){for(var r in t)if("state"!==r&&t.hasOwnProperty(r)&&e[r]!=t[r])return!1;return!0})}(n,e))}),r},isFragmentLoaded:isFragmentLoaded,isFragmentLoadedOrPending:function isFragmentLoadedOrPending(e){var t=!1,r=0,n=void 0;if(!(t=isFragmentLoaded(e)))for(r=0;r<m.length;r++)n=m[r],e.url===n.url&&e.startTime===n.startTime&&(t=!0);return t},removeExecutedRequestsBeforeTime:removeExecutedRequestsBeforeTime,removeExecutedRequestsAfterTime:function removeExecutedRequestsAfterTime(e){g=g.filter(function(t){return isNaN(t.startTime)||void 0!==e&&t.startTime+t.duration<e})},syncExecutedRequestsWithBufferedRange:function syncExecutedRequestsWithBufferedRange(e,t){if(e&&0!==e.length){for(var r=0,n=0,i=e.length;n<i;n++)removeExecutedRequestsInTimeRange(r,e.start(n)),r=e.end(n);t>0&&removeExecutedRequestsInTimeRange(r,t)}else removeExecutedRequestsBeforeTime()},abortRequests:function abortRequests(){f.abort(),m=[]},executeRequest:function executeRequest(e){switch(e.action){case o.default.ACTION_COMPLETE:g.push(e),addSchedulingInfoMetrics(e,u),p.debug("executeRequest trigger STREAM_COMPLETED"),r.trigger(i.default.STREAM_COMPLETED,{request:e,fragmentModel:this});break;case o.default.ACTION_DOWNLOAD:addSchedulingInfoMetrics(e,l),m.push(e),function loadCurrentFragment(e){r.trigger(i.default.FRAGMENT_LOADING_STARTED,{sender:d,request:e}),f.load(e)}(e);break;default:p.warn("Unknown request action.")}},reset:function reset(){r.off(i.default.LOADING_COMPLETED,onLoadingCompleted,this),r.off(i.default.LOADING_DATA_PROGRESS,onLoadingInProgress,this),r.off(i.default.LOADING_ABANDONED,onLoadingAborted,this),f&&f.reset(),resetInitialSettings()},addExecutedRequest:function addExecutedRequest(e){g.push(e)}},function setup(){p=(0,s.default)(t).getInstance().getLogger(d),resetInitialSettings(),r.on(i.default.LOADING_COMPLETED,onLoadingCompleted,d),r.on(i.default.LOADING_DATA_PROGRESS,onLoadingInProgress,d),r.on(i.default.LOADING_ABANDONED,onLoadingAborted,d)}(),d}FragmentModel.__dashjs_factory_name="FragmentModel";var f=a.default.getClassFactory(FragmentModel);f.FRAGMENT_MODEL_LOADING=l,f.FRAGMENT_MODEL_EXECUTED=u,f.FRAGMENT_MODEL_CANCELED="canceled",f.FRAGMENT_MODEL_FAILED=c,a.default.updateClassFactory(FragmentModel.__dashjs_factory_name,f),t.default=f,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function EventsBase(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EventsBase)}return n(EventsBase,[{key:"extend",value:function extend(e,t){if(e){var r=!!t&&t.override,n=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!r||n&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),EventsBase}();t.default=i,e.exports=t.default},function(e,t,r){!function(e){e.ns_tt="http://www.w3.org/ns/ttml",e.ns_tts="http://www.w3.org/ns/ttml#styling",e.ns_ttp="http://www.w3.org/ns/ttml#parameter",e.ns_xml="http://www.w3.org/XML/1998/namespace",e.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",e.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",e.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",e.ns_ebutts="urn:ebu:tt:style"}(t)},function(e,t,r){!function(e){var t=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,r=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,n=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,i={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};e.parseColor=function(e){var a,o=null,s=i[e.toLowerCase()];return void 0!==s?o=s:null!==(a=t.exec(e))?o=[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),void 0!==a[4]?parseInt(a[4],16):255]:null!==(a=r.exec(e))?o=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),255]:null!==(a=n.exec(e))&&(o=[parseInt(a[1]),parseInt(a[2]),parseInt(a[3]),parseInt(a[4])]),o};var a=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;e.parseLength=function(e){var t,r=null;return null!==(t=a.exec(e))&&(r={value:parseFloat(t[1]),unit:t[2]}),r},e.parseTextShadow=function(t){var r=t.split(","),n=[];for(var i in r){var a=r[i].split(" ");if(1===a.length&&"none"===a[0])return"none";if(a.length>1&&a.length<5){var o=[null,null,null,null],s=e.parseLength(a.shift());if(null===s)return null;if(o[0]=s,null===(s=e.parseLength(a.shift())))return null;if(o[1]=s,0===a.length){n.push(o);continue}if(null!==(s=e.parseLength(a[0]))&&(o[2]=s,a.shift()),0===a.length){n.push(o);continue}var l=e.parseColor(a[0]);if(null===l)return null;o[3]=l,n.push(o)}}return n},e.parsePosition=function(t){var r=t.split(" "),n=function(e){return"center"===e||"left"===e||"top"===e||"bottom"===e||"right"===e};if(r.length>4)return null;for(var i in r)if(!n(r[i])){var a=e.parseLength(r[i]);if(null===a)return null;r[i]=a}for(var o={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},s=0;s<r.length;){var l=r[s++];if(n(l)){var u={value:0,unit:"%"};2!==r.length&&s<r.length&&!n(r[s])&&(u=r[s++]),"right"===l?(o.h.edge=l,o.h.offset=u):"bottom"===l?(o.v.edge=l,o.v.offset=u):"left"===l?o.h.offset=u:"top"===l&&(o.v.offset=u)}else{if(1!==r.length&&2!==r.length)return null;1===s?o.h.offset=l:o.v.offset=l}}return o},e.ComputedLength=function(e,t){this.rw=e,this.rh=t},e.ComputedLength.prototype.toUsedLength=function(e,t){return e*this.rw+t*this.rh},e.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh},e.toComputedLength=function(t,r,n,i,a,o){return"%"===r&&i?new e.ComputedLength(i.rw*t/100,i.rh*t/100):"em"===r&&n?new e.ComputedLength(n.rw*t,n.rh*t):"c"===r&&a?new e.ComputedLength(t*a.rw,t*a.rh):"px"===r&&o?new e.ComputedLength(t*o.rw,t*o.rh):"rh"===r?new e.ComputedLength(0,t/100):"rw"===r?new e.ComputedLength(t/100,0):null}}(t)},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function nextTick(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function afterTickOne(){e.call(null,r)});case 3:return t.nextTick(function afterTickTwo(){e.call(null,r,n)});case 4:return t.nextTick(function afterTickThree(){e.call(null,r,n,i)});default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick(function afterTick(){e.apply(null,a)})}}}:e.exports=t}).call(this,r(90))},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(303)),i=_interopRequireDefault(r(11)),a=_interopRequireDefault(r(116)),o=_interopRequireDefault(r(304)),s=_interopRequireDefault(r(154)),l=_interopRequireDefault(r(12)),u=_interopRequireDefault(r(14)),c=_interopRequireDefault(r(4)),f=_interopRequireDefault(r(660)),d=_interopRequireDefault(r(77)),p=_interopRequireDefault(r(661)),h=_interopRequireDefault(r(662)),g=_interopRequireDefault(r(663)),m=r(42),y=_interopRequireDefault(r(13)),v=r(117),_="abandonload",b="allowload",E=1e3,T=100,S=0;function AbrController(){var e=this.context,t=(0,y.default)(e).getInstance(),r=(0,l.default)(e).getInstance(),c=void 0,w=void 0,R=void 0,A=void 0,C=void 0,x=void 0,D=void 0,P=void 0,I=void 0,M=void 0,O=void 0,k=void 0,L=void 0,N=void 0,F=void 0,B=void 0,U=void 0,j=void 0,q=void 0,G=void 0,H=void 0,V=void 0,z=void 0,K=void 0,W=void 0,Y=void 0,X=void 0,Q=void 0,$=void 0,J=void 0;function createAbrRulesCollection(){(R=(0,n.default)(e).create({metricsModel:Q,dashMetrics:$,mediaPlayerModel:H,adapter:q})).initialize()}function resetInitialSettings(){C={video:!0,audio:!0},x={},D={},P={},I={},O={},M={},K={},X={},L=!1,J=!0,N=!1,void 0===F&&(F=!1),z=void 0,W=void 0,Y=void 0,clearTimeout(k),k=null}function onQualityChangeRendered(e){e.mediaType===i.default.VIDEO&&(z=e.oldQuality,W.push(z,G.getPlaybackQuality()))}function onMetricAdded(e){e.metric!==a.default.HTTP_REQUEST||!e.value||e.value.type!==m.HTTPRequest.MEDIA_SEGMENT_TYPE||e.mediaType!==i.default.AUDIO&&e.mediaType!==i.default.VIDEO||Y.push(e.mediaType,e.value,J),e.metric!==a.default.BUFFER_LEVEL||e.mediaType!==i.default.AUDIO&&e.mediaType!==i.default.VIDEO||function updateIsUsingBufferOccupancyABR(e,t){var r=H.getABRStrategy();if(r===i.default.ABR_STRATEGY_BOLA)return void(X[e]=!0);if(r===i.default.ABR_STRATEGY_THROUGHPUT)return void(X[e]=!1);var n=H.getStableBufferTime(),a=n,o=.5*n,s=X[e],l=t>(s?o:a);X[e]=l,l!==s&&(l?w.info("AbrController ("+e+") switching from throughput to buffer occupancy ABR rule (buffer: "+t.toFixed(3)+")."):w.info("AbrController ("+e+") switching from buffer occupancy to throughput ABR rule (buffer: "+t.toFixed(3)+")."))}(e.mediaType,.001*e.value.level)}function getTopQualityIndexFor(e,t){return x[t]=x[t]||{},x[t].hasOwnProperty(e)||(x[t][e]=0),function checkPortalSize(e,t){if(t!==i.default.VIDEO||!L||!M[t])return e;F||setElementSize();var r=j.getValue(),n=q.getAdaptationForType(r,0,t).Representation,a=e;if(B>0&&U>0){for(;a>0&&n[a]&&B<n[a].width&&B-n[a-1].width<n[a].width-B;)a-=1;n.length-2>=a&&n[a].width===n[a+1].width&&(a=Math.min(e,a+1))}return a}(function checkMaxRepresentationRatio(e,t,r){var n=getMaxAllowedRepresentationRatioFor(t);if(isNaN(n)||n>=1||n<0)return e;return Math.min(e,Math.round(r*n))}(function checkMaxBitrate(e,t){var r=e;if(!M[t])return r;var n=getMinAllowedIndexFor(t);void 0!==n&&(r=Math.max(e,n));var i=getMaxAllowedIndexFor(t);void 0!==i&&(r=Math.min(r,i));return r}(x[t][e],e),e,x[t][e]),e)}function getMaxAllowedBitrateFor(e){return P.hasOwnProperty("max")&&P.max.hasOwnProperty(e)?P.max[e]:NaN}function getMinAllowedBitrateFor(e){return P.hasOwnProperty("min")&&P.min.hasOwnProperty(e)?P.min[e]:NaN}function getMaxAllowedIndexFor(e){var t=getMaxAllowedBitrateFor(e);return t?getQualityForBitrate(M[e].getMediaInfo(),t):void 0}function getMinAllowedIndexFor(e){var t=getMinAllowedBitrateFor(e);if(t){var r=M[e].getMediaInfo(),n=getBitrateList(r),i=getQualityForBitrate(r,t);return n[i]&&i<n.length-1&&n[i].bitrate<1e3*t&&i++,i}}function getMaxAllowedRepresentationRatioFor(e){return I.hasOwnProperty("max")&&I.max.hasOwnProperty(e)?I.max[e]:1}function getAutoSwitchBitrateFor(e){return C[e]}function setPlaybackQuality(e,t,r,n){var i=t.id,a=getQualityFor(e);(0,v.checkInteger)(r);var o=getTopQualityIndexFor(e,i);r!==a&&r>=0&&r<=o&&changeQuality(e,a,r,o,n)}function changeQuality(e,n,i,a,o){if(e&&M[e]){var s=M[e].getStreamInfo(),l=s?s.id:null;if(t.getLogToBrowserConsole()){var c=$.getCurrentBufferLevel(Q.getReadOnlyMetricsFor(e));w.info("AbrController ("+e+") switch from "+n+" to "+i+"/"+a+" (buffer: "+c+") "+(o?JSON.stringify(o):"."))}!function setQualityFor(e,t,r){D[t]=D[t]||{},D[t][e]=r}(e,l,i),r.trigger(u.default.QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:s,oldQuality:n,newQuality:i,reason:o})}}function setAbandonmentStateFor(e,t){O[e].state=t}function getQualityForBitrate(e,t,r){var n=e&&e.type?M[e.type].getRepresentationInfo():null;if(J&&r&&n&&n.fragmentDuration){r/=1e3;var i=n.fragmentDuration;if(r>i)return 0;t*=1-r/i}for(var a=getBitrateList(e),o=a.length-1;o>=0;o--){if(1e3*t>=a[o].bitrate)return o}return S}function getBitrateList(e){var t=[];if(!e||!e.bitrateList)return t;for(var r=e.bitrateList,n=e.type,i=void 0,a=0,s=r.length;a<s;a++)(i=new o.default).mediaType=n,i.qualityIndex=a,i.bitrate=r[a].bandwidth,i.width=r[a].width,i.height=r[a].height,i.scanType=r[a].scanType,t.push(i);return t}function useBufferOccupancyABR(e){return X[e]}function getQualityFor(e){if(e&&M[e]){var t=M[e].getStreamInfo(),r=t?t.id:null;if(r)return D[r]=D[r]||{},D[r].hasOwnProperty(e)||(D[r][e]=S),D[r][e]}return S}function setElementSize(){if(G){var e=N&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;B=G.getClientWidth()*e,U=G.getClientHeight()*e}}function onFragmentLoadProgress(t){var r=t.request.mediaType;if(getAutoSwitchBitrateFor(r)){var n=M[r];if(!n)return;var i=(0,f.default)(e).create({abrController:c,streamProcessor:n,currentRequest:t.request,useBufferOccupancyABR:useBufferOccupancyABR(r)}),a=R.shouldAbandonFragment(i);if(a.quality>d.default.NO_CHANGE){var o=n.getFragmentModel();o.getRequests({state:s.default.FRAGMENT_MODEL_LOADING,index:t.request.index})[0]&&(o.abortRequests(),setAbandonmentStateFor(r,_),K[r].reset(),K[r].push({oldValue:getQualityFor(r,A.getActiveStreamInfo()),newValue:a.quality,confidence:1,reason:a.reason}),setPlaybackQuality(r,A.getActiveStreamInfo(),a.quality,a.reason),clearTimeout(k),k=setTimeout(function(){setAbandonmentStateFor(r,b),k=null},H.getAbandonLoadTimeout()))}}}return c={isPlayingAtTopQuality:function isPlayingAtTopQuality(e){var t=e?e.id:null,r=getQualityFor(i.default.AUDIO),n=getQualityFor(i.default.VIDEO);return r===getTopQualityIndexFor(i.default.AUDIO,t)&&n===getTopQualityIndexFor(i.default.VIDEO,t)},updateTopQualityIndex:function updateTopQualityIndex(e){var t=e.type,r=e.streamInfo.id,n=e.representationCount-1;return function setTopQualityIndex(e,t,r){x[t]=x[t]||{},x[t][e]=r}(t,r,n),n},getThroughputHistory:function getThroughputHistory(){return Y},getBitrateList:getBitrateList,getQualityForBitrate:getQualityForBitrate,getMaxAllowedBitrateFor:getMaxAllowedBitrateFor,getTopBitrateInfoFor:function getTopBitrateInfoFor(e){if(e&&M&&M[e]){var t=M[e].getStreamInfo();if(t&&t.id){var r=getTopQualityIndexFor(e,t.id),n=getBitrateList(M[e].getMediaInfo());return n[r]?n[r]:null}}return null},getMinAllowedBitrateFor:getMinAllowedBitrateFor,setMaxAllowedBitrateFor:function setMaxAllowedBitrateFor(e,t){(0,v.checkParameterType)(t,"number"),(0,v.checkIsVideoOrAudioType)(e),P.max=P.max||{},P.max[e]=t},setMinAllowedBitrateFor:function setMinAllowedBitrateFor(e,t){(0,v.checkParameterType)(t,"number"),(0,v.checkIsVideoOrAudioType)(e),P.min=P.min||{},P.min[e]=t},getMaxAllowedIndexFor:getMaxAllowedIndexFor,getMinAllowedIndexFor:getMinAllowedIndexFor,getMaxAllowedRepresentationRatioFor:getMaxAllowedRepresentationRatioFor,setMaxAllowedRepresentationRatioFor:function setMaxAllowedRepresentationRatioFor(e,t){I.max=I.max||{},I.max[e]=t},getInitialBitrateFor:function getInitialBitrateFor(e){!function checkConfig(){if(!V||!V.hasOwnProperty("getSavedBitrateSettings"))throw new Error(i.default.MISSING_CONFIG_ERROR)}();var t=V.getSavedBitrateSettings(e);if(!P.hasOwnProperty(e))if(I.hasOwnProperty(e)){var r=j.getValue(),n=q.getAdaptationForType(r,0,e).Representation;if(Array.isArray(n)){var a=Math.max(Math.round(n.length*I[e])-1,0);P[e]=n[a].bandwidth}else P[e]=0}else isNaN(t)?P[e]=e===i.default.VIDEO?E:T:P[e]=t;return P[e]},setInitialBitrateFor:function setInitialBitrateFor(e,t){(0,v.checkIsVideoOrAudioType)(e),(0,v.checkParameterType)(t,"number"),P[e]=t},getInitialRepresentationRatioFor:function getInitialRepresentationRatioFor(e){return I.hasOwnProperty(e)?I[e]:null},setInitialRepresentationRatioFor:function setInitialRepresentationRatioFor(e,t){I[e]=t},setAutoSwitchBitrateFor:function setAutoSwitchBitrateFor(e,t){(0,v.checkParameterType)(t,"boolean"),(0,v.checkIsVideoOrAudioType)(e),C[e]=t},getAutoSwitchBitrateFor:getAutoSwitchBitrateFor,getUseDeadTimeLatency:function getUseDeadTimeLatency(){return J},setUseDeadTimeLatency:function setUseDeadTimeLatency(e){(0,v.checkParameterType)(e,"boolean"),J=e},setLimitBitrateByPortal:function setLimitBitrateByPortal(e){(0,v.checkParameterType)(e,"boolean"),L=e},getLimitBitrateByPortal:function getLimitBitrateByPortal(){return L},getUsePixelRatioInLimitBitrateByPortal:function getUsePixelRatioInLimitBitrateByPortal(){return N},setUsePixelRatioInLimitBitrateByPortal:function setUsePixelRatioInLimitBitrateByPortal(e){(0,v.checkParameterType)(e,"boolean"),N=e},getQualityFor:getQualityFor,getAbandonmentStateFor:function getAbandonmentStateFor(e){return O[e]?O[e].state:null},setPlaybackQuality:setPlaybackQuality,checkPlaybackQuality:function checkPlaybackQuality(r){if(r&&M&&M[r]){var n=M[r].getStreamInfo(),i=n?n.id:null,a=getQualityFor(r),o=(0,f.default)(e).create({abrController:c,streamProcessor:M[r],currentValue:a,switchHistory:K[r],droppedFramesHistory:W,useBufferOccupancyABR:useBufferOccupancyABR(r)});if(W){var s=G.getPlaybackQuality();s&&W.push(z,s)}if(getAutoSwitchBitrateFor(r)){var l=getMinAllowedIndexFor(r),u=getTopQualityIndexFor(r,i),p=R.getMaxQuality(o),h=p.quality;if(void 0!==l&&h<l&&(h=l),h>u&&(h=u),K[r].push({oldValue:a,newValue:h}),h>d.default.NO_CHANGE&&h!=a)(O[r].state===b||h>a)&&changeQuality(r,a,h,u,p.reason);else if(t.getLogToBrowserConsole()){var g=$.getCurrentBufferLevel(Q.getReadOnlyMetricsFor(r));w.debug("AbrController ("+r+") stay on "+a+"/"+u+" (buffer: "+g+")")}}}},getTopQualityIndexFor:getTopQualityIndexFor,setElementSize:setElementSize,setWindowResizeEventCalled:function setWindowResizeEventCalled(e){F=e},createAbrRulesCollection:createAbrRulesCollection,registerStreamType:function registerStreamType(t,n){K[t]=(0,p.default)(e).create(),M[t]=n,O[t]=O[t]||{},O[t].state=b,X[t]=!1,r.on(u.default.LOADING_PROGRESS,onFragmentLoadProgress,this),t==i.default.VIDEO&&(r.on(u.default.QUALITY_CHANGE_RENDERED,onQualityChangeRendered,this),W=(0,h.default)(e).create(),setElementSize()),r.on(u.default.METRIC_ADDED,onMetricAdded,this),r.on(u.default.PERIOD_SWITCH_COMPLETED,createAbrRulesCollection,this),Y=(0,g.default)(e).create({mediaPlayerModel:H})},unRegisterStreamType:function unRegisterStreamType(e){delete M[e]},setConfig:function setConfig(e){e&&(e.streamController&&(A=e.streamController),e.domStorage&&(V=e.domStorage),e.mediaPlayerModel&&(H=e.mediaPlayerModel),e.metricsModel&&(Q=e.metricsModel),e.dashMetrics&&($=e.dashMetrics),e.adapter&&(q=e.adapter),e.manifestModel&&(j=e.manifestModel),e.videoModel&&(G=e.videoModel))},reset:function reset(){resetInitialSettings(),r.off(u.default.LOADING_PROGRESS,onFragmentLoadProgress,this),r.off(u.default.QUALITY_CHANGE_RENDERED,onQualityChangeRendered,this),r.off(u.default.METRIC_ADDED,onMetricAdded,this),r.off(u.default.PERIOD_SWITCH_COMPLETED,createAbrRulesCollection,this),R&&R.reset()}},function setup(){w=t.getLogger(c),resetInitialSettings()}(),c}AbrController.__dashjs_factory_name="AbrController";var w=c.default.getSingletonFactory(AbrController);w.ABANDON_LOAD=_,w.QUALITY_DEFAULT=S,c.default.updateSingletonFactory(AbrController.__dashjs_factory_name,w),t.default=w,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function RequestModifier(){return{modifyRequestURL:function modifyRequestURL(e){return e},modifyRequestHeader:function modifyRequestHeader(e){return e}}}RequestModifier.__dashjs_factory_name="RequestModifier",t.default=n.default.getSingletonFactory(RequestModifier),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function BaseMatcher(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseMatcher),this._test=e,this._converter=t}return n(BaseMatcher,[{key:"test",get:function get(){return this._test}},{key:"converter",get:function get(){return this._converter}}]),BaseMatcher}();t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(155)),a=new(function(e){function MetricsReportingEvents(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MetricsReportingEvents),n(Object.getPrototypeOf(MetricsReportingEvents.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MetricsReportingEvents,i["default"]),MetricsReportingEvents}());t.default=a,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(118)),i=_interopRequireDefault(r(765)),a=_interopRequireDefault(r(766)),o=_interopRequireDefault(r(767)),s=_interopRequireDefault(r(768)),l=_interopRequireDefault(r(769)),u=_interopRequireDefault(r(770)),c=_interopRequireDefault(r(771)),f=_interopRequireDefault(r(772)),d=_interopRequireDefault(r(105));function ProtectionKeyController(){var e=this.context,t=void 0,r=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0;return t={initialize:function initialize(){h=[];var t=void 0;t=(0,s.default)(e).getInstance({BASE64:g}),h.push(t),t=(0,o.default)(e).getInstance({BASE64:g}),h.push(t),t=(0,i.default)(e).getInstance({BASE64:g}),h.push(t),m=t,t=(0,a.default)(e).getInstance({BASE64:g,debug:r}),h.push(t),y=t},setProtectionData:function setProtectionData(e){for(var t=function getProtectionData(t){var r=null;return e&&(r=t in e?e[t]:null),r},r=0;r<h.length;r++){var n=h[r];n.hasOwnProperty("init")&&n.init(t(n.systemString))}},isClearKey:function isClearKey(e){return e===m||e===y},initDataEquals:function initDataEquals(e,t){if(e.byteLength===t.byteLength){for(var r=new Uint8Array(e),n=new Uint8Array(t),i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}return!1},getKeySystems:function getKeySystems(){return h},getKeySystemBySystemString:function getKeySystemBySystemString(e){for(var t=0;t<h.length;t++)if(h[t].systemString===e)return h[t];return null},getSupportedKeySystemsFromContentProtection:function getSupportedKeySystemsFromContentProtection(e){var t=void 0,r=void 0,n=void 0,i=void 0,a=[];if(e)for(n=0;n<h.length;++n)for(r=h[n],i=0;i<e.length;++i)if((t=e[i]).schemeIdUri.toLowerCase()===r.schemeIdURI){var o=r.getInitData(t);o?a.push({ks:h[n],initData:o,cdmData:r.getCDMData(),sessionId:r.getSessionId(t)}):this.isClearKey(r)&&a.push({ks:r,initData:null})}return a},getSupportedKeySystems:function getSupportedKeySystems(e,t){for(var r=[],i=n.default.parsePSSHList(e),a=void 0,o=void 0,s=void 0,l=0;l<h.length;++l)o=(a=h[l]).systemString,s=!t||o in t,a.uuid in i&&s&&r.push({ks:a,initData:i[a.uuid],cdmData:a.getCDMData(),sessionId:a.getSessionId()});return r},getLicenseServer:function getLicenseServer(t,r,n){if("license-release"===n||"individualization-request"===n)return null;var i=null;return r&&r.hasOwnProperty("drmtoday")?i=(0,l.default)(e).getInstance({BASE64:g}):t.systemString===d.default.WIDEVINE_KEYSTEM_STRING?i=(0,c.default)(e).getInstance():t.systemString===d.default.PLAYREADY_KEYSTEM_STRING?i=(0,u.default)(e).getInstance():t.systemString===d.default.CLEARKEY_KEYSTEM_STRING&&(i=(0,f.default)(e).getInstance()),i},processClearKeyLicenseRequest:function processClearKeyLicenseRequest(e,t,r){try{return e.getClearKeysFromProtectionData(t,r)}catch(e){return p.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function setConfig(e){e&&(e.debug&&(r=e.debug,p=r.getLogger(t)),e.BASE64&&(g=e.BASE64))}}}ProtectionKeyController.__dashjs_factory_name="ProtectionKeyController",t.default=dashjs.FactoryMaker.getSingletonFactory(ProtectionKeyController),e.exports=t.default},function(e,t){var r=Object.prototype;e.exports=function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(788),i=r(79),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t){e.exports=function baseUnary(e){return function(t){return e(t)}}},function(e,t,r){var n=r(119),i=r(71),a=r(168),o=r(40);e.exports=function isIterateeCall(e,t,r){if(!o(r))return!1;var s=typeof t;return!!("number"==s?i(r)&&a(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},function(e,t){var r=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=function isIndex(e,t){var i=typeof e;return!!(t=null==t?r:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(802),i=r(803),a=r(804),o=r(805),s=r(806);function ListCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache.prototype.clear=n,ListCache.prototype.delete=i,ListCache.prototype.get=a,ListCache.prototype.has=o,ListCache.prototype.set=s,e.exports=ListCache},function(e,t,r){var n=r(119);e.exports=function assocIndexOf(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t,r){var n=r(106)(Object,"create");e.exports=n},function(e,t,r){var n=r(820);e.exports=function getMapData(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t,r){var n=r(47),i=r(247),a=r(836),o=r(346);e.exports=function castPath(e,t){return n(e)?e:i(e,t)?[e]:a(o(e))}},function(e,t){e.exports=function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){var n=r(107),i=r(348);e.exports=function uniqBy(e,t){return e&&e.length?i(e,n(t,2)):[]}},function(e,t,r){var n=r(864)();e.exports=n},function(e,t,r){"use strict";var n=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(r.length>0)return r.reduce(function(e,t){return[e,n(t)].join(" ")},n(e)).trim();if(null==e||"string"==typeof e)return e;var a=[];for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];a.push("".concat(o,"(").concat(s,")"))}return a.join(" ").trim()};t.a={toTransformString:n,getColorScale:function(e){var t={grayscale:["#cccccc","#969696","#636363","#252525"],qualitative:["#334D5C","#45B29D","#EFC94C","#E27A3F","#DF5A49","#4F7DA1","#55DBC1","#EFDA97","#E2A37F","#DF948A"],heatmap:["#428517","#77D200","#D6D305","#EC8E19","#C92B05"],warm:["#940031","#C43343","#DC5429","#FF821D","#FFAF55"],cool:["#2746B9","#0B69D4","#2794DB","#31BB76","#60E83B"],red:["#FCAE91","#FB6A4A","#DE2D26","#A50F15","#750B0E"],blue:["#002C61","#004B8F","#006BC9","#3795E5","#65B4F4"],green:["#354722","#466631","#649146","#8AB25C","#A9C97E"]};return e?t[e]:t.grayscale}}},function(e,t,r){"use strict";var n=r(0),i=r.n(n),a=r(6),o={categories:i.a.oneOfType([i.a.arrayOf(i.a.string),i.a.shape({x:i.a.arrayOf(i.a.string),y:i.a.arrayOf(i.a.string)})]),data:i.a.oneOfType([i.a.array,i.a.object]),dataComponent:i.a.element,labelComponent:i.a.element,labels:i.a.oneOfType([i.a.func,i.a.array]),samples:a.a.nonNegative,sortKey:i.a.oneOfType([i.a.func,a.a.allOfType([a.a.integer,a.a.nonNegative]),i.a.string,i.a.arrayOf(i.a.string)]),sortOrder:i.a.oneOf(["ascending","descending"]),style:i.a.shape({parent:i.a.object,data:i.a.object,labels:i.a.object}),x:i.a.oneOfType([i.a.func,a.a.allOfType([a.a.integer,a.a.nonNegative]),i.a.string,i.a.arrayOf(i.a.string)]),y:i.a.oneOfType([i.a.func,a.a.allOfType([a.a.integer,a.a.nonNegative]),i.a.string,i.a.arrayOf(i.a.string)]),y0:i.a.oneOfType([i.a.func,a.a.allOfType([a.a.integer,a.a.nonNegative]),i.a.string,i.a.arrayOf(i.a.string)])},s={animate:i.a.oneOfType([i.a.bool,i.a.object]),containerComponent:i.a.element,domain:i.a.oneOfType([a.a.domain,i.a.shape({x:a.a.domain,y:a.a.domain})]),maxDomain:i.a.oneOfType([i.a.number,i.a.instanceOf(Date),i.a.shape({x:i.a.oneOfType([i.a.number,i.a.instanceOf(Date)]),y:i.a.oneOfType([i.a.number,i.a.instanceOf(Date)])})]),minDomain:i.a.oneOfType([i.a.number,i.a.instanceOf(Date),i.a.shape({x:i.a.oneOfType([i.a.number,i.a.instanceOf(Date)]),y:i.a.oneOfType([i.a.number,i.a.instanceOf(Date)])})]),domainPadding:i.a.oneOfType([i.a.shape({x:i.a.oneOfType([i.a.number,i.a.arrayOf(i.a.number)]),y:i.a.oneOfType([i.a.number,i.a.arrayOf(i.a.number)])}),i.a.number,i.a.arrayOf(i.a.number)]),eventKey:i.a.oneOfType([i.a.func,a.a.allOfType([a.a.integer,a.a.nonNegative]),i.a.string]),events:i.a.arrayOf(i.a.shape({target:i.a.oneOf(["data","labels","parent"]),eventKey:i.a.oneOfType([i.a.array,a.a.allOfType([a.a.integer,a.a.nonNegative]),i.a.string]),eventHandlers:i.a.object})),externalEventMutations:i.a.arrayOf(i.a.shape({callback:i.a.function,childName:i.a.oneOfType([i.a.string,i.a.array]),eventKey:i.a.oneOfType([i.a.array,a.a.allOfType([a.a.integer,a.a.nonNegative]),i.a.string]),mutation:i.a.function,target:i.a.oneOfType([i.a.string,i.a.array])})),groupComponent:i.a.element,height:a.a.nonNegative,name:i.a.string,origin:i.a.shape({x:i.a.number,y:i.a.number}),padding:i.a.oneOfType([i.a.number,i.a.shape({top:i.a.number,bottom:i.a.number,left:i.a.number,right:i.a.number})]),polar:i.a.bool,range:i.a.oneOfType([a.a.domain,i.a.shape({x:a.a.domain,y:a.a.domain})]),scale:i.a.oneOfType([a.a.scale,i.a.shape({x:a.a.scale,y:a.a.scale})]),sharedEvents:i.a.shape({events:i.a.array,getEventState:i.a.func}),singleQuadrantDomainPadding:i.a.oneOfType([i.a.bool,i.a.shape({x:i.a.oneOfType([i.a.bool]),y:i.a.oneOfType([i.a.bool])})]),standalone:i.a.bool,theme:i.a.object,width:a.a.nonNegative},l={active:i.a.bool,className:i.a.string,clipPath:i.a.string,data:i.a.oneOfType([i.a.array,i.a.object]),events:i.a.object,id:i.a.oneOfType([i.a.number,i.a.string]),index:i.a.oneOfType([i.a.number,i.a.string]),origin:i.a.shape({x:i.a.number,y:i.a.number}),polar:i.a.bool,role:i.a.string,scale:i.a.oneOfType([a.a.scale,i.a.shape({x:a.a.scale,y:a.a.scale})]),shapeRendering:i.a.string,style:i.a.object,transform:i.a.string};t.a={baseProps:s,dataProps:o,primitiveProps:l}},function(e,t,r){"undefined"!=typeof window&&function webpackUniversalModuleDefinition(t,r){e.exports=r()}(0,function(){return function(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)__webpack_require__.d(r,n,function(t){return e[t]}.bind(null,n));return r},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="/dist/",__webpack_require__(__webpack_require__.s="./src/hls.js")}({"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function Events(){}function EE(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function addListener(e,t,r,n,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new EE(r,n||e,a),s=i?i+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function clearEvent(e,t){0==--e._eventsCount?e._events=new Events:delete e._events[t]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(i=!1)),EventEmitter.prototype.eventNames=function eventNames(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},EventEmitter.prototype.listeners=function listeners(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,o=new Array(a);n<a;n++)o[n]=r[n].fn;return o},EventEmitter.prototype.listenerCount=function listenerCount(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},EventEmitter.prototype.emit=function emit(e,t,r,n,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,a),!0;case 6:return c.fn.call(c.context,t,r,n,a,o),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,n);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},EventEmitter.prototype.on=function on(e,t,r){return addListener(this,e,t,r,!1)},EventEmitter.prototype.once=function once(e,t,r){return addListener(this,e,t,r,!0)},EventEmitter.prototype.removeListener=function removeListener(e,t,r,n){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return clearEvent(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||clearEvent(this,a);else{for(var s=0,l=[],u=o.length;s<u;s++)(o[s].fn!==t||n&&!o[s].once||r&&o[s].context!==r)&&l.push(o[s]);l.length?this._events[a]=1===l.length?l[0]:l:clearEvent(this,a)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){var t;return e?(t=i?i+e:e,this._events[t]&&clearEvent(this,t)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=i,EventEmitter.EventEmitter=EventEmitter,e.exports=EventEmitter},"./node_modules/node-libs-browser/node_modules/events/events.js":
/*!**********************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/events/events.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}e.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!function isNumber(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,r,n,i,a,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(isUndefined(r=this._events[e]))return!1;if(isFunction(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(isObject(r))for(i=Array.prototype.slice.call(arguments,1),n=(o=r.slice()).length,a=0;a<n;a++)o[a].apply(this,i);return!0},EventEmitter.prototype.addListener=function(e,t){var r;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(r=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){if(!isFunction(t))throw TypeError("listener must be a function");var r=!1;function g(){this.removeListener(e,g),r||(r=!0,t.apply(this,arguments))}return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var r,n,i,a;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||isFunction(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(r)){for(a=i;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(isFunction(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){return this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){var n,i,a,o,s;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var n=s.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=i.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var u={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var c=o.path,f=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=s.normalizePath(f)}else u.path=o.path,a.params||(u.params=o.params,a.query||(u.query=o.query));return null===u.path&&(u.path=r.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){function webpackBootstrapFunc(e){var t={};function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="/",__webpack_require__.oe=function(e){throw console.error(e),e};var r=__webpack_require__(__webpack_require__.s=ENTRY_MODULE);return r.default||r}var n="[\\.|\\-|\\+|\\w|/|@]+",i="\\((/\\*.*?\\*/)?s?.*?("+n+").*?\\)";function quoteRegExp(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function getModuleDependencies(e,t,a){var o={};o[a]=[];var s=t.toString(),l=s.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!l)return o;for(var u,c=l[1],f=new RegExp("(\\\\n|\\W)"+quoteRegExp(c)+i,"g");u=f.exec(s);)"dll-reference"!==u[3]&&o[a].push(u[3]);for(f=new RegExp("\\("+quoteRegExp(c)+'\\("(dll-reference\\s('+n+'))"\\)\\)'+i,"g");u=f.exec(s);)e[u[2]]||(o[a].push(u[1]),e[u[2]]=r(u[1]).m),o[u[2]]=o[u[2]]||[],o[u[2]].push(u[4]);for(var d,p=Object.keys(o),h=0;h<p.length;h++)for(var g=0;g<o[p[h]].length;g++)d=o[p[h]][g],isNaN(1*d)||(o[p[h]][g]=1*o[p[h]][g]);return o}function hasValuesInQueues(e){return Object.keys(e).reduce(function(t,r){return t||e[r].length>0},!1)}e.exports=function(e,t){t=t||{};var n={main:r.m},i=t.all?{main:Object.keys(n.main)}:function getRequiredModules(e,t){for(var r={main:[t]},n={main:[]},i={main:{}};hasValuesInQueues(r);)for(var a=Object.keys(r),o=0;o<a.length;o++){var s=a[o],l=r[s].pop();if(i[s]=i[s]||{},!i[s][l]&&e[s][l]){i[s][l]=!0,n[s]=n[s]||[],n[s].push(l);for(var u=getModuleDependencies(e,e[s][l],s),c=Object.keys(u),f=0;f<c.length;f++)r[c[f]]=r[c[f]]||[],r[c[f]]=r[c[f]].concat(u[c[f]])}}return n}(n,e),a="";Object.keys(i).filter(function(e){return"main"!==e}).forEach(function(e){for(var t=0;i[e][t];)t++;i[e].push(t),n[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+e+" = ("+webpackBootstrapFunc.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i[e].map(function(t){return JSON.stringify(t)+": "+n[e][t].toString()}).join(",")+"});\n"}),a=a+"new (("+webpackBootstrapFunc.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+i.main.map(function(e){return JSON.stringify(e)+": "+n.main[e].toString()}).join(",")+"}))(self);";var o=new window.Blob([a],{type:"text/javascript"});if(t.bare)return o;var s=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(o),l=new window.Worker(s);return l.objectURL=s,l}},"./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./controller/abr-controller */"./src/controller/abr-controller.js"),i=r(/*! ./controller/buffer-controller */"./src/controller/buffer-controller.js"),a=r(/*! ./controller/cap-level-controller */"./src/controller/cap-level-controller.js"),o=r(/*! ./controller/fps-controller */"./src/controller/fps-controller.js"),s=r(/*! ./utils/xhr-loader */"./src/utils/xhr-loader.js"),l=r(/*! ./controller/audio-track-controller */"./src/controller/audio-track-controller.js"),u=r(/*! ./controller/audio-stream-controller */"./src/controller/audio-stream-controller.js"),c=r(/*! ./utils/cues */"./src/utils/cues.js"),f=r(/*! ./controller/timeline-controller */"./src/controller/timeline-controller.js"),d=r(/*! ./controller/subtitle-track-controller */"./src/controller/subtitle-track-controller.js"),p=r(/*! ./controller/subtitle-stream-controller */"./src/controller/subtitle-stream-controller.js"),h=r(/*! ./controller/eme-controller */"./src/controller/eme-controller.js"),g=r(/*! ./utils/mediakeys-helper */"./src/utils/mediakeys-helper.js");t.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:n.default,bufferController:i.default,capLevelController:a.default,fpsController:o.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess},t.hlsDefaultConfig.subtitleStreamController=p.SubtitleStreamController,t.hlsDefaultConfig.subtitleTrackController=d.default,t.hlsDefaultConfig.timelineController=f.default,t.hlsDefaultConfig.cueHandler=c,t.hlsDefaultConfig.enableCEA708Captions=!0,t.hlsDefaultConfig.enableWebVTT=!0,t.hlsDefaultConfig.captionsTextTrack1Label="English",t.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",t.hlsDefaultConfig.captionsTextTrack2Label="Spanish",t.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",t.hlsDefaultConfig.audioStreamController=u.default,t.hlsDefaultConfig.audioTrackController=l.default,t.hlsDefaultConfig.emeController=h.default},"./src/controller/abr-controller.js":
/*!******************************************!*\
  !*** ./src/controller/abr-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),l=r(/*! ../errors */"./src/errors.js"),u=r(/*! ../utils/logger */"./src/utils/logger.js"),c=r(/*! ../utils/ewma-bandwidth-estimator */"./src/utils/ewma-bandwidth-estimator.js"),f=window.performance,d=function(t){function AbrController(e){var r=t.call(this,e,a.default.FRAG_LOADING,a.default.FRAG_LOADED,a.default.FRAG_BUFFERED,a.default.ERROR)||this;return r.lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=e,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(r),r}return i(AbrController,t),AbrController.prototype.destroy=function(){this.clearTimer(),o.default.prototype.destroy.call(this)},AbrController.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r=this.hls,n=r.config,i=t.level,a=void 0,o=void 0;r.levels[i].details.live?(a=n.abrEwmaFastLive,o=n.abrEwmaSlowLive):(a=n.abrEwmaFastVoD,o=n.abrEwmaSlowVoD),this._bwEstimator=new c.default(r,o,a,n.abrEwmaDefaultEstimate)}},AbrController.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,r=this.fragCurrent;if(r){var n=r.loader,i=e.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var o=n.stats;if(t&&o&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var l=f.now()-o.trequest,c=Math.abs(t.playbackRate);if(l>500*r.duration/c){var d=e.levels,p=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/l),h=d[r.level],g=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,m=o.total?o.total:Math.max(o.loaded,Math.round(r.duration*g/8)),y=t.currentTime,v=(m-o.loaded)/p,_=(s.BufferHelper.bufferInfo(t,y,e.config.maxBufferHole).end-y)/c;if(_<2*r.duration/c&&v>_){var b=void 0,E=void 0;for(E=r.level-1;E>i;E--){var T=d[E].realBitrate?Math.max(d[E].realBitrate,d[E].bitrate):d[E].bitrate;if((b=r.duration*T/(6.4*p))<_)break}b<v&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+E+":fragLoadedDelay["+E+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+b.toFixed(1)+"<"+v.toFixed(1)+":"+_.toFixed(1)),e.nextLoadLevel=E,this._bwEstimator.sample(l,o.loaded),n.abort(),this.clearTimer(),e.trigger(a.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:o}))}}}}},AbrController.prototype.onFragLoaded=function(t){var r=t.frag;if("main"===r.type&&e.isFinite(r.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[r.level],i=(n.loaded?n.loaded.bytes:0)+t.stats.loaded,a=(n.loaded?n.loaded.duration:0)+t.frag.duration;n.loaded={bytes:i,duration:a},n.realBitrate=Math.round(8*i/a)}if(t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}},AbrController.prototype.onFragBuffered=function(t){var r=t.stats,n=t.frag;if(!0!==r.aborted&&"main"===n.type&&e.isFinite(n.sn)&&(!n.bitrateTest||r.tload===r.tbuffered)){var i=r.tparsed-r.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(r.tfirst-r.trequest)+"/"+Math.round(r.tload-r.tfirst)+"/"+Math.round(r.tparsed-r.tload)+"/"+Math.round(r.tbuffered-r.tparsed)+"/"+Math.round(8*r.loaded/(r.tbuffered-r.trequest))),this._bwEstimator.sample(i,r.loaded),r.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},AbrController.prototype.onError=function(e){switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},AbrController.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(AbrController.prototype,"nextAutoLevel",{get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var r=this._nextABRAutoLevel;return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(AbrController.prototype,"_nextABRAutoLevel",{get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,n=e.config,i=e.minAutoLevel,a=e.media,o=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,c=a?a.currentTime:0,f=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,p=(s.BufferHelper.bufferInfo(a,c,n.maxBufferHole).end-c)/f,h=this._findBestLevel(o,l,d,i,t,p,n.abrBandWidthFactor,n.abrBandWidthUpFactor,r);if(h>=0)return h;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=l?Math.min(l,n.maxStarvationDelay):n.maxStarvationDelay,m=n.abrBandWidthFactor,y=n.abrBandWidthUpFactor;if(0===p){var v=this.bitrateTestDelay;if(v)g=(l?Math.min(l,n.maxLoadingDelay):n.maxLoadingDelay)-v,u.logger.trace("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),m=y=1}return h=this._findBestLevel(o,l,d,i,t,p+g,m,y,r),Math.max(h,0)},enumerable:!0,configurable:!0}),AbrController.prototype._findBestLevel=function(e,t,r,n,i,a,o,s,l){for(var c=i;c>=n;c--){var f=l[c];if(f){var d=f.details,p=d?d.totalduration/d.fragments.length:t,h=!!d&&d.live,g=void 0;g=c<=e?o*r:s*r;var m=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,y=m*p/g;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(g)+"/"+m+"/"+p+"/"+a+"/"+y),g>m&&(!y||h&&!this.bitrateTestDelay||y<a))return c}}return-1},AbrController}(o.default);t.default=d}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-stream-controller.js":
/*!***************************************************!*\
  !*** ./src/controller/audio-stream-controller.js ***!
  \***************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../utils/binary-search */"./src/utils/binary-search.js"),o=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),s=r(/*! ../demux/demuxer */"./src/demux/demuxer.js"),l=r(/*! ../events */"./src/events.js"),u=r(/*! ./level-helper */"./src/controller/level-helper.js"),c=r(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),f=r(/*! ../errors */"./src/errors.js"),d=r(/*! ../utils/logger */"./src/utils/logger.js"),p=r(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),h=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),g=r(/*! ../loader/fragment */"./src/loader/fragment.js"),m=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),y=window.performance,v=function(t){function AudioStreamController(e,r){var n=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.AUDIO_TRACKS_UPDATED,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.BUFFER_RESET,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED,l.default.INIT_PTS_FOUND)||this;return n.fragmentTracker=r,n.config=e.config,n.audioCodecSwap=!1,n._state=m.State.STOPPED,n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}return i(AudioStreamController,t),AudioStreamController.prototype.onInitPtsFound=function(e){var t=e.id,r=e.frag.cc,n=e.initPTS;"main"===t&&(this.initPTS[r]=n,this.videoTrackCC=r,d.logger.log("InitPTS for cc: "+r+" found from video track: "+n),this.state===m.State.WAITING_INIT_PTS&&this.tick())},AudioStreamController.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(d.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=m.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=m.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=m.State.STOPPED},Object.defineProperty(AudioStreamController.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,d.logger.log("audio stream:"+t+"->"+e)}},enumerable:!0,configurable:!0}),AudioStreamController.prototype.doTick=function(){var t,r,n,i=this.hls,s=i.config;switch(this.state){case m.State.ERROR:case m.State.PAUSED:case m.State.BUFFER_FLUSHING:break;case m.State.STARTING:this.state=m.State.WAITING_TRACK,this.loadedmetadata=!1;break;case m.State.IDLE:var u=this.tracks;if(!u)break;if(!this.media&&(this.startFragRequested||!s.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var c=this.mediaBuffer?this.mediaBuffer:this.media,f=this.videoBuffer?this.videoBuffer:this.media,g=o.BufferHelper.bufferInfo(c,t,s.maxBufferHole),v=o.BufferHelper.bufferInfo(f,t,s.maxBufferHole),_=g.len,b=g.end,E=this.fragPrevious,T=Math.min(s.maxBufferLength,s.maxMaxBufferLength),S=Math.max(T,v.len),w=this.audioSwitch,R=this.trackId;if((_<S||w)&&R<u.length){if(void 0===(n=u[R].details)){this.state=m.State.WAITING_TRACK;break}if(!w&&this._streamEnded(g,n))return this.hls.trigger(l.default.BUFFER_EOS,{type:"audio"}),void(this.state=m.State.ENDED);var A=n.fragments,C=A.length,x=A[0].start,D=A[C-1].start+A[C-1].duration,P=void 0;if(w)if(n.live&&!n.PTSKnown)d.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),b=0;else if(b=t,n.PTSKnown&&t<x){if(!(g.end>x||g.nextStart))return;d.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=x+.05}if(n.initSegment&&!n.initSegment.data)P=n.initSegment;else if(b<=x){if(P=A[0],null!==this.videoTrackCC&&P.cc!==this.videoTrackCC&&(P=p.findFragWithCC(A,this.videoTrackCC)),n.live&&P.loadIdx&&P.loadIdx===this.fragLoadIdx){var I=g.nextStart?g.nextStart:x;return d.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(I+.05)),void(this.media.currentTime=I+.05)}}else{var M=void 0,O=s.maxFragLookUpTolerance,k=E?A[E.sn-A[0].sn+1]:void 0,L=function(e){var t=Math.min(O,e.duration);return e.start+e.duration-t<=b?1:e.start-t>b&&e.start?-1:0};b<D?(b>D-O&&(O=0),M=k&&!L(k)?k:a.default.search(A,L)):M=A[C-1],M&&(P=M,x=M.start,E&&P.level===E.level&&P.sn===E.sn&&(P.sn<n.endSN?(P=A[P.sn+1-n.startSN],d.logger.log("SN just loaded, load next one: "+P.sn)):P=null))}P&&(P.encrypted?(d.logger.log("Loading key for "+P.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+R),this.state=m.State.KEY_LOADING,i.trigger(l.default.KEY_LOADING,{frag:P})):(d.logger.log("Loading "+P.sn+", cc: "+P.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+R+", currentTime:"+t+",bufferEnd:"+b.toFixed(3)),this.fragCurrent=P,(w||this.fragmentTracker.getState(P)===h.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,e.isFinite(P.sn)&&(this.nextLoadPosition=P.start+P.duration),i.trigger(l.default.FRAG_LOADING,{frag:P}),this.state=m.State.FRAG_LOADING)))}break;case m.State.WAITING_TRACK:(r=this.tracks[this.trackId])&&r.details&&(this.state=m.State.IDLE);break;case m.State.FRAG_LOADING_WAITING_RETRY:var N=y.now(),F=this.retryDate,B=(c=this.media)&&c.seeking;(!F||N>=F||B)&&(d.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=m.State.IDLE);break;case m.State.WAITING_INIT_PTS:var U=this.videoTrackCC;if(void 0===this.initPTS[U])break;var j=this.waitingFragment;if(j){var q=j.frag.cc;U!==q?(r=this.tracks[this.trackId]).details&&r.details.live&&(d.logger.warn("Waiting fragment CC ("+q+") does not match video track CC ("+U+")"),this.waitingFragment=null,this.state=m.State.IDLE):(this.state=m.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=m.State.IDLE;break;case m.State.STOPPED:case m.State.FRAG_LOADING:case m.State.PARSING:case m.State.PARSED:case m.State.ENDED:}},AudioStreamController.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},AudioStreamController.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(d.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},AudioStreamController.prototype.onAudioTracksUpdated=function(e){d.logger.log("audio tracks updated"),this.tracks=e.audioTracks},AudioStreamController.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=m.State.PAUSED,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=m.State.IDLE),this.tick()},AudioStreamController.prototype.onAudioTrackLoaded=function(t){var r=t.details,n=t.id,i=this.tracks[n],a=r.totalduration,o=0;if(d.logger.log("track "+n+" loaded ["+r.startSN+","+r.endSN+"],duration:"+a),r.live){var s=i.details;s&&r.fragments.length>0?(u.mergeDetails(s,r),o=r.fragments[0].start,r.PTSKnown?d.logger.log("live audio playlist sliding:"+o.toFixed(3)):d.logger.log("live audio playlist - outdated PTS, unknown sliding")):(r.PTSKnown=!1,d.logger.log("live audio playlist - first load, unknown sliding"))}else r.PTSKnown=!1;if(i.details=r,!this.startFragRequested){if(-1===this.startPosition){var l=r.startTimeOffset;e.isFinite(l)?(d.logger.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===m.State.WAITING_TRACK&&(this.state=m.State.IDLE),this.tick()},AudioStreamController.prototype.onKeyLoaded=function(){this.state===m.State.KEY_LOADING&&(this.state=m.State.IDLE,this.tick())},AudioStreamController.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag;if(this.state===m.State.FRAG_LOADING&&t&&"audio"===r.type&&r.level===t.level&&r.sn===t.sn){var n=this.tracks[this.trackId],i=n.details,a=i.totalduration,o=t.level,u=t.sn,c=t.cc,f=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",p=this.stats=e.stats;if("initSegment"===u)this.state=m.State.IDLE,p.tparsed=p.tbuffered=y.now(),i.initSegment.data=e.payload,this.hls.trigger(l.default.FRAG_BUFFERED,{stats:p,frag:t,id:"audio"}),this.tick();else{this.state=m.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new s.default(this.hls,"audio"));var h=this.initPTS[c],g=i.initSegment?i.initSegment.data:[];if(i.initSegment||void 0!==h){this.pendingBuffering=!0,d.logger.log("Demuxing "+u+" of ["+i.startSN+" ,"+i.endSN+"],track "+o);this.demuxer.push(e.payload,g,f,null,t,a,!1,h)}else d.logger.log("unknown video PTS for continuity counter "+c+", waiting for video PTS before demuxing audio frag "+u+" of ["+i.startSN+" ,"+i.endSN+"],track "+o),this.waitingFragment=e,this.state=m.State.WAITING_INIT_PTS}}this.fragLoadError=0},AudioStreamController.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===m.State.PARSING){var n=e.tracks,i=void 0;if(n.video&&delete n.video,i=n.audio){i.levelCodec=i.codec,i.id=e.id,this.hls.trigger(l.default.BUFFER_CODECS,n),d.logger.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var a=i.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,o))}this.tick()}}},AudioStreamController.prototype.onFragParsingData=function(t){var r=this,n=this.fragCurrent,i=t.frag;if(n&&"audio"===t.id&&"audio"===t.type&&i.sn===n.sn&&i.level===n.level&&this.state===m.State.PARSING){var a=this.trackId,o=this.tracks[a],s=this.hls;e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),n.addElementaryStream(g.default.ElementaryStreamTypes.AUDIO),d.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),u.updateFragPTSDTS(o.details,n,t.startPTS,t.endPTS);var c=this.audioSwitch,p=this.media,h=!1;if(c&&p)if(p.readyState){var y=p.currentTime;d.logger.log("switching audio track : currentTime:"+y),y>=t.startPTS&&(d.logger.log("switching audio track : flushing all audio"),this.state=m.State.BUFFER_FLUSHING,s.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),h=!0,this.audioSwitch=!1,s.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:a}))}else this.audioSwitch=!1,s.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:a});var v=this.pendingData;if(!v)return d.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void s.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&v.push({type:t.type,data:e,parent:"audio",content:"data"})}),!h&&v.length&&(v.forEach(function(e){r.state===m.State.PARSING&&(r.pendingBuffering=!0,r.hls.trigger(l.default.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},AudioStreamController.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===m.State.PARSING&&(this.stats.tparsed=y.now(),this.state=m.State.PARSED,this._checkAppendedParsed())},AudioStreamController.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},AudioStreamController.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},AudioStreamController.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==m.State.PARSING&&t!==m.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},AudioStreamController.prototype._checkAppendedParsed=function(){if(!(this.state!==m.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,r=this.hls;if(e){this.fragPrevious=e,t.tbuffered=y.now(),r.trigger(l.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;d.logger.log("audio buffered : "+c.default.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=m.State.IDLE}this.tick()}},AudioStreamController.prototype.onError=function(t){var r=t.frag;if(!r||"audio"===r.type)switch(t.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:var n=t.frag;if(n&&"audio"!==n.type)break;if(!t.fatal){var i=this.fragLoadError;if(i?i++:i=1,i<=(s=this.config).fragLoadingMaxRetry){this.fragLoadError=i;var a=Math.min(Math.pow(2,i-1)*s.fragLoadingRetryDelay,s.fragLoadingMaxRetryTimeout);d.logger.warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=y.now()+a,this.state=m.State.FRAG_LOADING_WAITING_RETRY}else d.logger.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=m.State.ERROR}break;case f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case f.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==m.State.ERROR&&(this.state=t.fatal?m.State.ERROR:m.State.IDLE,d.logger.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case f.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===m.State.PARSING||this.state===m.State.PARSED)){var s,u=this.mediaBuffer,c=this.media.currentTime;if(u&&o.BufferHelper.isBuffered(u,c)&&o.BufferHelper.isBuffered(u,c+.5))(s=this.config).maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,d.logger.warn("AudioStreamController: reduce max buffer length to "+s.maxMaxBufferLength+"s")),this.state=m.State.IDLE;else d.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=m.State.BUFFER_FLUSHING,this.hls.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"})}}},AudioStreamController.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(d.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach(function(t){e.hls.trigger(l.default.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=m.State.PARSED):(this.state=m.State.IDLE,this.fragPrevious=null,this.tick())},AudioStreamController}(m.default);t.default=v}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-track-controller.js":
/*!**************************************************!*\
  !*** ./src/controller/audio-track-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../task-loop */"./src/task-loop.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),l=r(/*! ../errors */"./src/errors.js"),u=function(e){function AudioTrackController(t){var r=e.call(this,t,a.default.MANIFEST_LOADING,a.default.MANIFEST_PARSED,a.default.AUDIO_TRACK_LOADED,a.default.AUDIO_TRACK_SWITCHED,a.default.LEVEL_LOADED,a.default.ERROR)||this;return r._trackId=-1,r._selectDefaultTrack=!0,r.tracks=[],r.trackIdBlacklist=Object.create(null),r.audioGroupId=null,r}return i(AudioTrackController,e),AudioTrackController.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},AudioTrackController.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(a.default.AUDIO_TRACKS_UPDATED,{audioTracks:t})},AudioTrackController.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)s.logger.warn("Invalid audio track id:",e.id);else{if(s.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},AudioTrackController.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},AudioTrackController.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var r=t.audioGroupIds[t.urlId];this.audioGroupId!==r&&(this.audioGroupId=r,this._selectInitialAudioTrack())}},AudioTrackController.prototype.onError=function(e){e.type===l.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(s.logger.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},Object.defineProperty(AudioTrackController.prototype,"audioTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(AudioTrackController.prototype,"audioTrack",{get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),AudioTrackController.prototype._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)s.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)s.logger.warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];s.logger.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var r=t.url,n=t.type,i=t.id;this.hls.trigger(a.default.AUDIO_TRACK_SWITCHING,{id:i,type:n,url:r}),this._loadTrackDetailsIfNeeded(t)}},AudioTrackController.prototype.doTick=function(){this._updateTrack(this._trackId)},AudioTrackController.prototype._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var r=this.tracks[this._trackId],n=null;if(r&&(n=r.name),this._selectDefaultTrack){var i=t.filter(function(e){return e.default});i.length?t=i:s.logger.warn("No default audio tracks defined")}var o=!1,u=function(){t.forEach(function(t){o||e.audioGroupId&&t.groupId!==e.audioGroupId||n&&n!==t.name||(e._setAudioTrack(t.id),o=!0)})};u(),o||(n=null,u()),o||(s.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(a.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},AudioTrackController.prototype._needsTrackLoading=function(e){var t=e.details,r=e.url;return!(t&&!t.live)&&!!r},AudioTrackController.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,r=e.id;s.logger.log("loading audio-track playlist for id: "+r),this.hls.trigger(a.default.AUDIO_TRACK_LOADING,{url:t,id:r})}},AudioTrackController.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,s.logger.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},AudioTrackController.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],r=t.name,n=t.language,i=t.groupId;s.logger.warn("Loading failed on audio track id: "+e+", group-id: "+i+', name/language: "'+r+'" / "'+n+'"');for(var a=e,o=0;o<this.tracks.length;o++){if(!this.trackIdBlacklist[o])if(this.tracks[o].name===r){a=o;break}}a!==e?(s.logger.log("Attempting audio-track fallback id:",a,"group-id:",this.tracks[a].groupId),this._setAudioTrack(a)):s.logger.warn('No fallback audio-track found for name/language: "'+r+'" / "'+n+'"')},AudioTrackController}(o.default);t.default=u},"./src/controller/base-stream-controller.js":
/*!**************************************************!*\
  !*** ./src/controller/base-stream-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../task-loop */"./src/task-loop.js"),o=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),s=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js");t.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var u=function(r){function BaseStreamController(){return null!==r&&r.apply(this,arguments)||this}return i(BaseStreamController,r),BaseStreamController.prototype.doTick=function(){},BaseStreamController.prototype.startLoad=function(){},BaseStreamController.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=t.State.STOPPED},BaseStreamController.prototype._streamEnded=function(e,t){var r=this.fragCurrent,n=this.fragmentTracker;if(!t.live&&r&&!r.backtracked&&r.sn===t.endSN&&!e.nextStart){var i=n.getState(r);return i===o.FragmentState.PARTIAL||i===o.FragmentState.OK}return!1},BaseStreamController.prototype.onMediaSeeking=function(){var r=this.config,n=this.media,i=this.mediaBuffer,a=this.state,o=n?n.currentTime:null,u=s.BufferHelper.bufferInfo(i||n,o,this.config.maxBufferHole);if(e.isFinite(o)&&l.logger.log("media seeking to "+o.toFixed(3)),a===t.State.FRAG_LOADING){var c=this.fragCurrent;if(0===u.len&&c){var f=r.maxFragLookUpTolerance,d=c.start-f,p=c.start+c.duration+f;o<d||o>p?(c.loader&&(l.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),c.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=t.State.IDLE):l.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else a===t.State.ENDED&&(0===u.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=t.State.IDLE);n&&(this.lastCurrentTime=o),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=o),this.tick()},BaseStreamController.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},BaseStreamController.prototype.onHandlerDestroying=function(){this.stopLoad(),r.prototype.onHandlerDestroying.call(this)},BaseStreamController.prototype.onHandlerDestroyed=function(){this.state=t.State.STOPPED,this.fragmentTracker=null},BaseStreamController}(a.default);t.default=u}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":
/*!*********************************************!*\
  !*** ./src/controller/buffer-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),l=r(/*! ../errors */"./src/errors.js"),u=r(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js").getMediaSource(),c=function(t){function BufferController(e){var r=t.call(this,e,a.default.MEDIA_ATTACHING,a.default.MEDIA_DETACHING,a.default.MANIFEST_PARSED,a.default.BUFFER_RESET,a.default.BUFFER_APPENDING,a.default.BUFFER_CODECS,a.default.BUFFER_EOS,a.default.BUFFER_FLUSHING,a.default.LEVEL_PTS_UPDATED,a.default.LEVEL_UPDATED)||this;return r._msDuration=null,r._levelDuration=null,r._levelTargetDuration=10,r._live=null,r._objectUrl=null,r.bufferCodecEventsExpected=0,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return i(BufferController,t),BufferController.prototype.destroy=function(){o.default.prototype.destroy.call(this)},BufferController.prototype.onLevelPtsUpdated=function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-e.start)>.1){var i=n.updating;try{n.abort()}catch(e){s.logger.warn("can not abort audio buffer: "+e)}i?this.audioTimestampOffset=e.start:(s.logger.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+e.start),n.timestampOffset=e.start)}}},BufferController.prototype.onManifestParsed=function(e){this.bufferCodecEventsExpected=e.altAudio?2:1,s.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},BufferController.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new u;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),t.src=window.URL.createObjectURL(r),this._objectUrl=t.src}},BufferController.prototype.onMediaDetaching=function(){s.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){s.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):s.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(a.default.MEDIA_DETACHED)},BufferController.prototype.onMediaSourceOpen=function(){s.logger.log("media source opened"),this.hls.trigger(a.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},BufferController.prototype.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,r=Object.keys(t).length;(r&&!e||2===r)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},BufferController.prototype.onMediaSourceClose=function(){s.logger.log("media source closed")},BufferController.prototype.onMediaSourceEnded=function(){s.logger.log("media source ended")},BufferController.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;s.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,r=this.segments.reduce(function(e,r){return r.parent===t?e+1:e},0),n={},i=this.sourceBuffer;for(var o in i)n[o]=i[o].buffered;this.hls.trigger(a.default.BUFFER_APPENDED,{parent:t,pending:r,timeRanges:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===r&&this.flushLiveBackBuffer()},BufferController.prototype.onSBUpdateError=function(e){s.logger.error("sourceBuffer error:",e),this.hls.trigger(a.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},BufferController.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},BufferController.prototype.onBufferCodecs=function(e){var t=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(e).forEach(function(r){t.pendingTracks[r]=e[r]});var r=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),r&&"open"===r.readyState&&this.checkPendingTracks()}},BufferController.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var n in e)if(!t[n]){var i=e[n],o=i.levelCodec||i.codec,u=i.container+";codecs="+o;s.logger.log("creating sourceBuffer("+u+")");try{var c=t[n]=r.addSourceBuffer(u);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[n]={codec:o,container:i.container},i.buffer=c}catch(e){s.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(a.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:u})}}this.hls.trigger(a.default.BUFFER_CREATED,{tracks:e})},BufferController.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},BufferController.prototype.onBufferAppendFail=function(e){s.logger.error("sourceBuffer error:",e.event),this.hls.trigger(a.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},BufferController.prototype.onBufferEos=function(e){var t=this.sourceBuffer,r=e.type;for(var n in t)r&&n!==r||t[n].ended||(t[n].ended=!0,s.logger.log(n+" sourceBuffer now EOS"));this.checkEos()},BufferController.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var r in e){var n=e[r];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}s.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){s.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},BufferController.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},BufferController.prototype.flushLiveBackBuffer=function(){if(this._live){var e=this.hls.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))for(var t=this.media.currentTime,r=this.sourceBuffer,n=Object.keys(r),i=t-Math.max(e,this._levelTargetDuration),a=n.length-1;a>=0;a--){var o=n[a],s=r[o].buffered;s.length>0&&i>s.start(0)&&this.removeBufferRange(o,r[o],0,i)}}},BufferController.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},BufferController.prototype.updateMediaElementDuration=function(){var t,r=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===r.liveDurationInfinity?(s.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!e.isFinite(t))&&(s.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},BufferController.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var n in r)t+=r[n].buffered.length}catch(e){s.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(a.default.BUFFER_FLUSHED)}},BufferController.prototype.doAppending=function(){var e=this.hls,t=this.segments,r=this.sourceBuffer;if(Object.keys(r).length){if(this.media.error)return this.segments=[],void s.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(t&&t.length){var n=t.shift();try{var i=r[n.type];i?i.updating?t.unshift(n):(i.ended=!1,this.parent=n.parent,i.appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(r){s.logger.error("error while trying to append buffer:"+r.message),t.unshift(n);var o={type:l.ErrorTypes.MEDIA_ERROR,parent:n.parent};22!==r.code?(this.appendError?this.appendError++:this.appendError=1,o.details=l.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(s.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],o.fatal=!0,e.trigger(a.default.ERROR,o)):(o.fatal=!1,e.trigger(a.default.ERROR,o))):(this.segments=[],o.details=l.ErrorDetails.BUFFER_FULL_ERROR,o.fatal=!1,e.trigger(a.default.ERROR,o))}}}},BufferController.prototype.flushBuffer=function(e,t,r){var n,i=this.sourceBuffer;if(Object.keys(i).length){if(s.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var a in i)if(!r||a===r){if((n=i[a]).ended=!1,n.updating)return s.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(a,n,e,t))return this.flushBufferCounter++,!1}}else s.logger.warn("abort flushing too many retries");s.logger.log("buffer flushed")}return!0},BufferController.prototype.removeBufferRange=function(e,t,r,n){try{for(var i=0;i<t.buffered.length;i++){var a=t.buffered.start(i),o=t.buffered.end(i),l=Math.max(a,r),u=Math.min(o,n);if(Math.min(u,o)-l>.5)return s.logger.log("sb remove "+e+" ["+l+","+u+"], of ["+a+","+o+"], pos:"+this.media.currentTime),t.remove(l,u),!0}}catch(e){s.logger.warn("removeBufferRange failed",e)}return!1},BufferController}(o.default);t.default=c}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":
/*!************************************************!*\
  !*** ./src/controller/cap-level-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=function(t){function CapLevelController(r){var n=t.call(this,r,a.default.FPS_DROP_LEVEL_CAPPING,a.default.MEDIA_ATTACHING,a.default.MANIFEST_PARSED,a.default.BUFFER_CODECS,a.default.MEDIA_DETACHING)||this;return n.autoLevelCapping=e.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n}return i(CapLevelController,t),CapLevelController.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},CapLevelController.prototype.onFpsDropLevelCapping=function(e){CapLevelController.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},CapLevelController.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},CapLevelController.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this._startCapping()},CapLevelController.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},CapLevelController.prototype.onLevelsUpdated=function(e){this.levels=e.levels},CapLevelController.prototype.onMediaDetaching=function(){this._stopCapping()},CapLevelController.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},CapLevelController.prototype.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var r=this.levels.filter(function(r,n){return CapLevelController.isLevelAllowed(n,t.restrictedLevels)&&n<=e});return CapLevelController.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},CapLevelController.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=e.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},CapLevelController.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=e.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(CapLevelController.prototype,"mediaWidth",{get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=CapLevelController.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(CapLevelController.prototype,"mediaHeight",{get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=CapLevelController.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(CapLevelController,"contentScaleFactor",{get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e},enumerable:!0,configurable:!0}),CapLevelController.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},CapLevelController.getMaxLevelByMediaSize=function(e,t,r){if(!e||e&&!e.length)return-1;for(var n,i,a=e.length-1,o=0;o<e.length;o+=1){var s=e[o];if((s.width>=t||s.height>=r)&&(n=s,!(i=e[o+1])||n.width!==i.width||n.height!==i.height)){a=o;break}}return a},CapLevelController}(r(/*! ../event-handler */"./src/event-handler.js").default);t.default=o}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/eme-controller.js":
/*!******************************************!*\
  !*** ./src/controller/eme-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../events */"./src/events.js"),s=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=window.XMLHttpRequest,c="com.widevine.alpha",f="com.microsoft.playready",d=function(e){function EMEController(t){var r=e.call(this,t,o.default.MEDIA_ATTACHED,o.default.MANIFEST_PARSED)||this;return r._widevineLicenseUrl=t.config.widevineLicenseUrl,r._licenseXhrSetup=t.config.licenseXhrSetup,r._emeEnabled=t.config.emeEnabled,r._requestMediaKeySystemAccess=t.config.requestMediaKeySystemAccessFunc,r._mediaKeysList=[],r._media=null,r._hasSetMediaKeys=!1,r._isMediaEncrypted=!1,r._requestLicenseFailureCount=0,r}return i(EMEController,e),EMEController.prototype.getLicenseServerUrl=function(e){var t;switch(e){case c:t=this._widevineLicenseUrl;break;default:t=null}return t||(l.logger.error('No license server URL configured for key-system "'+e+'"'),this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},EMEController.prototype._attemptKeySystemAccess=function(e,t,r){var n=this,i=function(e,t,r){switch(e){case c:return function(e,t,r){var n={videoCapabilities:[]};return t.forEach(function(e){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})}),[n]}(0,r);default:throw Error("Unknown key-system: "+e)}}(e,0,r);i?(l.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(e,i).then(function(t){n._onMediaKeySystemAccessObtained(e,t)}).catch(function(t){l.logger.error('Failed to obtain key-system "'+e+'" access:',t)})):l.logger.warn("Can not create config for key-system (maybe because platform is not supported):",e)},Object.defineProperty(EMEController.prototype,"requestMediaKeySystemAccess",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),EMEController.prototype._onMediaKeySystemAccessObtained=function(e,t){var r=this;l.logger.log('Access for key-system "'+e+'" obtained');var n={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(n),t.createMediaKeys().then(function(t){n.mediaKeys=t,l.logger.log('Media-keys created for key-system "'+e+'"'),r._onMediaKeysCreated()}).catch(function(e){l.logger.error("Failed to create media-keys:",e)})},EMEController.prototype._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach(function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))})},EMEController.prototype._onNewMediaKeySession=function(e){var t=this;l.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",function(r){t._onKeySessionMessage(e,r.message)},!1)},EMEController.prototype._onKeySessionMessage=function(e,t){l.logger.log("Got EME message event, creating license request"),this._requestLicense(t,function(t){l.logger.log("Received license data, updating key-session"),e.update(t)})},EMEController.prototype._onMediaEncrypted=function(e,t){l.logger.log('Media is encrypted using "'+e+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},EMEController.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return l.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});l.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},EMEController.prototype._generateRequestWithPreferredKeySession=function(){var e=this,t=this._mediaKeysList[0];if(!t)return l.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(t.mediaKeysSessionInitialized)l.logger.warn("Key-Session already initialized but requested again");else{var r=t.mediaKeysSession;r||(l.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var n=this._mediaEncryptionInitDataType,i=this._mediaEncryptionInitData;l.logger.log('Generating key-session request for "'+n+'" init data type'),t.mediaKeysSessionInitialized=!0,r.generateRequest(n,i).then(function(){l.logger.debug("Key-session generation succeeded")}).catch(function(t){l.logger.error("Error generating key-session request:",t),e.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},EMEController.prototype._createLicenseXhr=function(e,t,r){var n=new u,i=this._licenseXhrSetup;try{if(i)try{i(n,e)}catch(t){n.open("POST",e,!0),i(n,e)}n.readyState||n.open("POST",e,!0)}catch(e){return l.logger.error("Error setting up key-system license XHR",e),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,e,t,r),n},EMEController.prototype._onLicenseRequestReadyStageChange=function(e,t,r,n){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,l.logger.log("License request succeeded"),n(e.response);else{if(l.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var i=3-this._requestLicenseFailureCount+1;return l.logger.warn("Retrying license request, "+i+" attempts left"),void this._requestLicense(r,n)}this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},EMEController.prototype._generateLicenseRequestChallenge=function(e,t){var r;return e.mediaKeySystemDomain===f?l.logger.error("PlayReady is not supported (yet)"):e.mediaKeySystemDomain===c?r=t:l.logger.error("Unsupported key-system:",e.mediaKeySystemDomain),r},EMEController.prototype._requestLicense=function(e,t){l.logger.log("Requesting content license for key-system");var r=this._mediaKeysList[0];if(!r)return l.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var n=this.getLicenseServerUrl(r.mediaKeySystemDomain),i=this._createLicenseXhr(n,e,t);l.logger.log("Sending license request to URL: "+n),i.send(this._generateLicenseRequestChallenge(r,e))},EMEController.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var r=e.media;this._media=r,r.addEventListener("encrypted",function(e){t._onMediaEncrypted(e.initDataType,e.initData)})}},EMEController.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map(function(e){return e.audioCodec}),r=e.levels.map(function(e){return e.videoCodec});this._attemptKeySystemAccess(c,t,r)}},EMEController}(a.default);t.default=d},"./src/controller/fps-controller.js":
/*!******************************************!*\
  !*** ./src/controller/fps-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),l=window.performance,u=function(e){function FPSController(t){return e.call(this,t,a.default.MEDIA_ATTACHING)||this}return i(FPSController,e),FPSController.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},FPSController.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},FPSController.prototype.checkFPS=function(e,t,r){var n=l.now();if(t){if(this.lastTime){var i=n-this.lastTime,o=r-this.lastDroppedFrames,u=t-this.lastDecodedFrames,c=1e3*o/i,f=this.hls;if(f.trigger(a.default.FPS_DROP,{currentDropped:o,currentDecoded:u,totalDroppedFrames:r}),c>0&&o>f.config.fpsDroppedMonitoringThreshold*u){var d=f.currentLevel;s.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===f.autoLevelCapping||f.autoLevelCapping>=d)&&(d-=1,f.trigger(a.default.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:f.currentLevel}),f.autoLevelCapping=d,f.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},FPSController.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},FPSController}(o.default);t.default=u},"./src/controller/fragment-finders.js":
/*!********************************************!*\
  !*** ./src/controller/fragment-finders.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/binary-search */"./src/utils/binary-search.js");function fragmentWithinToleranceTest(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0);var n=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=e?1:r.start-n>e&&r.start?-1:0}function pdtWithinToleranceTest(e,t,r){var n=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.endProgramDateTime-n>e}t.findFragmentByPDT=function findFragmentByPDT(t,r,n){if(!Array.isArray(t)||!t.length||!e.isFinite(r))return null;if(r<t[0].programDateTime)return null;if(r>=t[t.length-1].endProgramDateTime)return null;n=n||0;for(var i=0;i<t.length;++i){var a=t[i];if(pdtWithinToleranceTest(r,n,a))return a}return null},t.findFragmentByPTS=function findFragmentByPTS(e,t,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var a=e?t[e.sn-t[0].sn+1]:null;return a&&!fragmentWithinToleranceTest(r,i,a)?a:n.default.search(t,fragmentWithinToleranceTest.bind(null,r,i))},t.fragmentWithinToleranceTest=fragmentWithinToleranceTest,t.pdtWithinToleranceTest=pdtWithinToleranceTest}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":
/*!********************************************!*\
  !*** ./src/controller/fragment-tracker.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../events */"./src/events.js");t.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var s=function(r){function FragmentTracker(e){var t=r.call(this,e,o.default.BUFFER_APPENDED,o.default.FRAG_BUFFERED,o.default.FRAG_LOADED)||this;return t.bufferPadding=.2,t.fragments=Object.create(null),t.timeRanges=Object.create(null),t.config=e.config,t}return i(FragmentTracker,r),FragmentTracker.prototype.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,a.default.prototype.destroy.call(this),r.prototype.destroy.call(this)},FragmentTracker.prototype.getBufferedFrag=function(e,t){var r=this.fragments,n=Object.keys(r).filter(function(n){var i=r[n];if(i.body.type!==t)return!1;if(!i.buffered)return!1;var a=i.body;return a.startPTS<=e&&e<=a.endPTS});if(0===n.length)return null;var i=n.pop();return r[i].body},FragmentTracker.prototype.detectEvictedFragments=function(e,t){var r,n,i=this;Object.keys(this.fragments).forEach(function(a){var o=i.fragments[a];if(!0===o.buffered){var s=o.range[e];if(s){r=s.time;for(var l=0;l<r.length;l++)if(n=r[l],!1===i.isTimeBuffered(n.startPTS,n.endPTS,t)){i.removeFragment(o.body);break}}}})},FragmentTracker.prototype.detectPartialFragments=function(e){var t=this,r=this.getFragmentKey(e),n=this.fragments[r];n&&(n.buffered=!0,Object.keys(this.timeRanges).forEach(function(r){if(e.hasElementaryStream(r)){var i=t.timeRanges[r];n.range[r]=t.getBufferedTimes(e.startPTS,e.endPTS,i)}}))},FragmentTracker.prototype.getBufferedTimes=function(e,t,r){for(var n,i,a=[],o=!1,s=0;s<r.length;s++){if(n=r.start(s)-this.bufferPadding,i=r.end(s)+this.bufferPadding,e>=n&&t<=i){a.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))});break}if(e<i&&t>n)a.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))}),o=!0;else if(t<=n)break}return{time:a,partial:o}},FragmentTracker.prototype.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},FragmentTracker.prototype.getPartialFragment=function(e){var t,r,n,i=this,a=null,o=0;return Object.keys(this.fragments).forEach(function(s){var l=i.fragments[s];i.isPartial(l)&&(r=l.body.startPTS-i.bufferPadding,n=l.body.endPTS+i.bufferPadding,e>=r&&e<=n&&(t=Math.min(e-r,n-e),o<=t&&(a=l.body,o=t)))}),a},FragmentTracker.prototype.getState=function(e){var r=this.getFragmentKey(e),n=this.fragments[r],i=t.FragmentState.NOT_LOADED;return void 0!==n&&(i=n.buffered?!0===this.isPartial(n)?t.FragmentState.PARTIAL:t.FragmentState.OK:t.FragmentState.APPENDING),i},FragmentTracker.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},FragmentTracker.prototype.isTimeBuffered=function(e,t,r){for(var n,i,a=0;a<r.length;a++){if(n=r.start(a)-this.bufferPadding,i=r.end(a)+this.bufferPadding,e>=n&&t<=i)return!0;if(t<=n)return!1}return!1},FragmentTracker.prototype.onFragLoaded=function(t){var r=t.frag;e.isFinite(r.sn)&&!r.bitrateTest&&(this.fragments[this.getFragmentKey(r)]={body:r,range:Object.create(null),buffered:!1})},FragmentTracker.prototype.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach(function(e){var r=t.timeRanges[e];t.detectEvictedFragments(e,r)})},FragmentTracker.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},FragmentTracker.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},FragmentTracker.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},FragmentTracker.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},FragmentTracker}(a.default);t.FragmentTracker=s}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":
/*!******************************************!*\
  !*** ./src/controller/gap-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),i=r(/*! ../errors */"./src/errors.js"),a=r(/*! ../events */"./src/events.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js"),s=function(){function GapController(e,t,r,n){this.config=e,this.media=t,this.fragmentTracker=r,this.hls=n,this.stallReported=!1}return GapController.prototype.poll=function(e,t){var r=this.config,i=this.media,a=i.currentTime,s=window.performance.now();if(a!==e)return this.stallReported&&(o.logger.warn("playback not stuck anymore @"+a+", after "+Math.round(s-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(i.ended||!i.buffered.length||i.readyState>2||i.seeking&&n.BufferHelper.isBuffered(i,a))){var l=s-this.stalled,u=n.BufferHelper.bufferInfo(i,a,r.maxBufferHole);this.stalled?(l>=1e3&&this._reportStall(u.len),this._tryFixBufferStall(u,l)):this.stalled=s}},GapController.prototype._tryFixBufferStall=function(e,t){var r=this.config,n=this.fragmentTracker,i=this.media.currentTime,a=n.getPartialFragment(i);a&&this._trySkipBufferHole(a),e.len>.5&&t>1e3*r.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},GapController.prototype._reportStall=function(e){var t=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,o.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer"),t.trigger(a.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},GapController.prototype._trySkipBufferHole=function(e){for(var t=this.hls,r=this.media,n=r.currentTime,s=0,l=0;l<r.buffered.length;l++){var u=r.buffered.start(l);if(n>=s&&n<u)return r.currentTime=Math.max(u,r.currentTime+.1),o.logger.warn("skipping hole, adjusting currentTime from "+n+" to "+r.currentTime),this.stalled=null,void t.trigger(a.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+n+" to "+r.currentTime,frag:e});s=r.buffered.end(l)}},GapController.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,n=r.currentTime,s=(this.nudgeRetry||0)+1;if(this.nudgeRetry=s,s<e.nudgeMaxRetry){var l=n+s*e.nudgeOffset;o.logger.log("adjust currentTime from "+n+" to "+l),r.currentTime=l,t.trigger(a.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.logger.error("still stuck in high buffer @"+n+" after "+e.nudgeMaxRetry+", raise fatal error"),t.trigger(a.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},GapController}();t.default=s},"./src/controller/id3-track-controller.js":
/*!************************************************!*\
  !*** ./src/controller/id3-track-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../demux/id3 */"./src/demux/id3.js"),l=r(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js"),u=function(e){function ID3TrackController(t){var r=e.call(this,t,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.FRAG_PARSING_METADATA)||this;return r.id3Track=void 0,r.media=void 0,r}return i(ID3TrackController,e),ID3TrackController.prototype.destroy=function(){o.default.prototype.destroy.call(this)},ID3TrackController.prototype.onMediaAttached=function(e){this.media=e.media,this.media},ID3TrackController.prototype.onMediaDetaching=function(){l.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},ID3TrackController.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return l.sendAddTrackEvent(r,this.media),r}return this.media.addTextTrack("metadata","id3")},ID3TrackController.prototype.onFragParsingMetadata=function(e){var t=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<r.length;i++){var a=s.default.getID3Frames(r[i].data);if(a){var o=r[i].pts,l=i<r.length-1?r[i+1].pts:t.endPTS;o===l&&(l+=1e-4);for(var u=0;u<a.length;u++){var c=a[u];if(!s.default.isTimeStampFrame(c)){var f=new n(o,l,"");f.value=c,this.id3Track.addCue(f)}}}}},ID3TrackController}(o.default);t.default=u},"./src/controller/level-controller.js":
/*!********************************************!*\
  !*** ./src/controller/level-controller.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a,o=r(/*! ../events */"./src/events.js"),s=r(/*! ../event-handler */"./src/event-handler.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=r(/*! ../errors */"./src/errors.js"),c=r(/*! ../utils/codecs */"./src/utils/codecs.js"),f=r(/*! ./level-helper */"./src/controller/level-helper.js"),d=(window.performance,function(e){function LevelController(t){var r=e.call(this,t,o.default.MANIFEST_LOADED,o.default.LEVEL_LOADED,o.default.AUDIO_TRACK_SWITCHED,o.default.FRAG_LOADED,o.default.ERROR)||this;return r.canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,a=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),r}return i(LevelController,e),LevelController.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},LevelController.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},LevelController.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},LevelController.prototype.stopLoad=function(){this.canload=!1},LevelController.prototype.onManifestLoaded=function(e){var t,r=[],n=[],i={},s=null,d=!1,p=!1;if(e.levels.forEach(function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,d=d||!!e.videoCodec,p=p||!!e.audioCodec,a&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(s=i[e.bitrate])?s.url.push(e.url):(e.url=[e.url],e.urlId=0,i[e.bitrate]=e,r.push(e)),t&&(t.AUDIO&&(p=!0,f.addGroupId(s||e,"audio",t.AUDIO)),t.SUBTITLES&&f.addGroupId(s||e,"text",t.SUBTITLES))}),d&&p&&(r=r.filter(function(e){return!!e.videoCodec})),r=r.filter(function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||c.isCodecSupportedInMp4(t,"audio"))&&(!r||c.isCodecSupportedInMp4(r,"video"))}),e.audioTracks&&(n=e.audioTracks.filter(function(e){return!e.audioCodec||c.isCodecSupportedInMp4(e.audioCodec,"audio")})).forEach(function(e,t){e.id=t}),r.length>0){t=r[0].bitrate,r.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=r;for(var h=0;h<r.length;h++)if(r[h].bitrate===t){this._firstLevel=h,l.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(o.default.MANIFEST_PARSED,{levels:r,audioTracks:n,firstLevel:this._firstLevel,stats:e.stats,audio:p,video:d,altAudio:n.some(function(e){return!!e.url})})}else this.hls.trigger(o.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(LevelController.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(LevelController.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))},enumerable:!0,configurable:!0}),LevelController.prototype.setLevelInternal=function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){l.logger.log("switching to level "+e),this.currentLevelIndex=e;var n=t[e];n.level=e,r.trigger(o.default.LEVEL_SWITCHING,n)}var i=t[e],a=i.details;if(!a||a.live){var s=i.urlId;r.trigger(o.default.LEVEL_LOADING,{url:i.url[s],level:e,id:s})}}else r.trigger(o.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(LevelController.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)},enumerable:!0,configurable:!0}),Object.defineProperty(LevelController.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(e){this._firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(LevelController.prototype,"startLevel",{get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e},enumerable:!0,configurable:!0}),LevelController.prototype.onError=function(e){if(e.fatal)e.type===u.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,r=!1,n=!1;switch(e.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:case u.ErrorDetails.KEY_LOAD_ERROR:case u.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,n=!0;break;case u.ErrorDetails.LEVEL_LOAD_ERROR:case u.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,r=!0;break;case u.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,r=!0}void 0!==t&&this.recoverLevel(e,t,r,n)}},LevelController.prototype.recoverLevel=function(e,t,r,n){var i,a,o,s=this,u=this.hls.config,c=e.details,f=this._levels[t];if(f.loadError++,f.fragmentError=n,r){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return l.logger.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);a=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return s.loadLevel()},a),e.levelRetry=!0,this.levelRetryCount++,l.logger.warn("level controller, "+c+", retry in "+a+" ms, current retry count is "+this.levelRetryCount)}(r||n)&&((i=f.url.length)>1&&f.loadError<i?(f.urlId=(f.urlId+1)%i,f.details=void 0,l.logger.warn("level controller, "+c+" for level "+t+": switching to redundant URL-id "+f.urlId)):-1===this.manualLevelIndex?(o=0===t?this._levels.length-1:t-1,l.logger.warn("level controller, "+c+": switch to "+o),this.hls.nextAutoLevel=this.currentLevelIndex=o):n&&(l.logger.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},LevelController.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var r=this._levels[t.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},LevelController.prototype.onLevelLoaded=function(e){var t=this,r=e.level,n=e.details;if(r===this.currentLevelIndex){var i=this._levels[r];if(i.fragmentError||(i.loadError=0,this.levelRetryCount=0),n.live){var a=f.computeReloadInterval(i.details,n,e.stats.trequest);l.logger.log("live playlist, reload in "+Math.round(a)+" ms"),this.timer=setTimeout(function(){return t.loadLevel()},a)}else this.clearTimer()}},LevelController.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var n=-1,i=0;i<r.audioGroupIds.length;i++)if(r.audioGroupIds[i]===t){n=i;break}n!==r.urlId&&(r.urlId=n,this.startLoad())}},LevelController.prototype.loadLevel=function(){if(l.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,r=e.urlId,n=e.url[r];l.logger.log("Attempt loading level index "+t+" with URL-id "+r),this.hls.trigger(o.default.LEVEL_LOADING,{url:n,level:t,id:r})}}},Object.defineProperty(LevelController.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)},enumerable:!0,configurable:!0}),LevelController}(s.default));t.default=d},"./src/controller/level-helper.js":
/*!****************************************!*\
  !*** ./src/controller/level-helper.js ***!
  \****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/logger */"./src/utils/logger.js");function updatePTS(t,r,i){var a=t[r],o=t[i],s=o.startPTS;e.isFinite(s)?i>r?(a.duration=s-a.start,a.duration<0&&n.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!")):(o.duration=a.start-s,o.duration<0&&n.logger.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!")):o.start=i>r?a.start+a.duration:Math.max(a.start-o.duration,0)}function updateFragPTSDTS(t,r,n,i,a,o){var s=n;if(e.isFinite(r.startPTS)){var l=Math.abs(r.startPTS-n);e.isFinite(r.deltaPTS)?r.deltaPTS=Math.max(l,r.deltaPTS):r.deltaPTS=l,s=Math.max(n,r.startPTS),n=Math.min(n,r.startPTS),i=Math.max(i,r.endPTS),a=Math.min(a,r.startDTS),o=Math.max(o,r.endDTS)}var u=n-r.start;r.start=r.startPTS=n,r.maxStartPTS=s,r.endPTS=i,r.startDTS=a,r.endDTS=o,r.duration=i-n;var c,f,d,p=r.sn;if(!t||p<t.startSN||p>t.endSN)return 0;for(c=p-t.startSN,(f=t.fragments)[c]=r,d=c;d>0;d--)updatePTS(f,d,d-1);for(d=c;d<f.length-1;d++)updatePTS(f,d,d+1);return t.PTSKnown=!0,u}function mapFragmentIntersection(e,t,r){if(e&&t)for(var n=Math.max(e.startSN,t.startSN)-t.startSN,i=Math.min(e.endSN,t.endSN)-t.startSN,a=t.startSN-e.startSN,o=n;o<=i;o++){var s=e.fragments[a+o],l=t.fragments[o];if(!s||!l)break;r(s,l,o)}}function adjustSliding(e,t){var r=t.startSN-e.startSN,n=e.fragments,i=t.fragments;if(!(r<0||r>n.length))for(var a=0;a<i.length;a++)i[a].start+=n[r].start}t.addGroupId=function addGroupId(e,t,r){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r)}},t.updatePTS=updatePTS,t.updateFragPTSDTS=updateFragPTSDTS,t.mergeDetails=function mergeDetails(t,r){r.initSegment&&t.initSegment&&(r.initSegment=t.initSegment);var i,a=0;if(mapFragmentIntersection(t,r,function(t,n){a=t.cc-n.cc,e.isFinite(t.startPTS)&&(n.start=n.startPTS=t.startPTS,n.endPTS=t.endPTS,n.duration=t.duration,n.backtracked=t.backtracked,n.dropped=t.dropped,i=n),r.PTSKnown=!0}),r.PTSKnown){if(a){n.logger.log("discontinuity sliding from playlist, take drift into account");for(var o=r.fragments,s=0;s<o.length;s++)o[s].cc+=a}i?updateFragPTSDTS(r,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):adjustSliding(t,r),r.PTSKnown=t.PTSKnown}},t.mergeSubtitlePlaylists=function mergeSubtitlePlaylists(e,t,r){void 0===r&&(r=0);var n=-1;mapFragmentIntersection(e,t,function(e,t,r){t.start=e.start,n=r});var i=t.fragments;if(n<0)i.forEach(function(e){e.start+=r});else for(var a=n+1;a<i.length;a++)i[a].start=i[a-1].start+i[a-1].duration},t.mapFragmentIntersection=mapFragmentIntersection,t.adjustSliding=adjustSliding,t.computeReloadInterval=function computeReloadInterval(e,t,r){var n=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),i=n/2;return e&&t.endSN===e.endSN&&(n=i),r&&(n=Math.max(i,n-(window.performance.now()-r))),Math.round(n)}}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":
/*!*********************************************!*\
  !*** ./src/controller/stream-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../utils/binary-search */"./src/utils/binary-search.js"),o=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),s=r(/*! ../demux/demuxer */"./src/demux/demuxer.js"),l=r(/*! ../events */"./src/events.js"),u=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),c=r(/*! ../loader/fragment */"./src/loader/fragment.js"),f=r(/*! ../loader/playlist-loader */"./src/loader/playlist-loader.js"),d=r(/*! ./level-helper */"./src/controller/level-helper.js"),p=r(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),h=r(/*! ../errors */"./src/errors.js"),g=r(/*! ../utils/logger */"./src/utils/logger.js"),m=r(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),y=r(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),v=r(/*! ./gap-controller */"./src/controller/gap-controller.js"),_=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),b=function(t){function StreamController(e,r){var n=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.MANIFEST_LOADING,l.default.MANIFEST_PARSED,l.default.LEVEL_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_LOAD_EMERGENCY_ABORTED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_SWITCHED,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED)||this;return n.fragmentTracker=r,n.config=e.config,n.audioCodecSwap=!1,n._state=_.State.STOPPED,n.stallReported=!1,n.gapController=null,n}return i(StreamController,t),StreamController.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(g.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=_.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=_.State.STOPPED},StreamController.prototype.stopLoad=function(){this.forceStartLoad=!1,t.prototype.stopLoad.call(this)},StreamController.prototype.doTick=function(){switch(this.state){case _.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case _.State.IDLE:this._doTickIdle();break;case _.State.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=_.State.IDLE);break;case _.State.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(g.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=_.State.IDLE);break;case _.State.ERROR:case _.State.STOPPED:case _.State.FRAG_LOADING:case _.State.PARSING:case _.State.PARSED:case _.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},StreamController.prototype._doTickIdle=function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&t.startFragPrefetch)){var n;n=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,a=this.levels[i];if(a){var s,u=a.bitrate;s=u?Math.max(8*t.maxBufferSize/u,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var c=o.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,n,t.maxBufferHole),f=c.len;if(!(f>=s)){g.logger.trace("buffer length of "+f.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var d=a.details;if(!d||d.live&&this.levelLastLoaded!==i)this.state=_.State.WAITING_LEVEL;else{if(this._streamEnded(c,d)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(l.default.BUFFER_EOS,p),void(this.state=_.State.ENDED)}this._fetchPayloadOrEos(n,c,d)}}}}},StreamController.prototype._fetchPayloadOrEos=function(e,t,r){var n=this.fragPrevious,i=this.level,a=r.fragments,o=a.length;if(0!==o){var s,l=a[0].start,u=a[o-1].start+a[o-1].duration,c=t.end;if(r.initSegment&&!r.initSegment.data)s=r.initSegment;else if(r.live){var f=this.config.initialLiveManifestSize;if(o<f)return void g.logger.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+f);if(null===(s=this._ensureFragmentAtLivePoint(r,c,l,u,n,a,o)))return}else c<l&&(s=a[0]);s||(s=this._findFragment(l,n,o,a,c,u,r)),s&&(s.encrypted?(g.logger.log("Loading key for "+s.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+i),this._loadKey(s)):(g.logger.log("Loading "+s.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+i+", currentTime:"+e.toFixed(3)+",bufferEnd:"+c.toFixed(3)),this._loadFragment(s)))}},StreamController.prototype._ensureFragmentAtLivePoint=function(e,t,r,n,i,o,s){var l,u=this.hls.config,c=this.media,f=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(r-u.maxFragLookUpTolerance,n-f)){var d=this.liveSyncPosition=this.computeLivePosition(r,e);g.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),t=d,c&&c.readyState&&c.duration>d&&(c.currentTime=d),this.nextLoadPosition=d}if(e.PTSKnown&&t>n&&c&&c.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(i)if(e.hasProgramDateTime)g.logger.log("live playlist, switching playlist, load frag with same PDT: "+i.programDateTime),l=y.findFragmentByPDT(o,i.endProgramDateTime,u.maxFragLookUpTolerance);else{var p=i.sn+1;if(p>=e.startSN&&p<=e.endSN){var h=o[p-e.startSN];i.cc===h.cc&&(l=h,g.logger.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=a.default.search(o,function(e){return i.cc-e.cc}))&&g.logger.log("live playlist, switching playlist, load frag with same CC: "+l.sn)}l||(l=o[Math.min(s-1,Math.round(s/2))],g.logger.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l},StreamController.prototype._findFragment=function(e,t,r,n,i,a,o){var s,l=this.hls.config;if(i<a){var u=i>a-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance;s=y.findFragmentByPTS(t,n,i,u)}else s=n[r-1];if(s){var c=s.sn-o.startSN,f=t&&s.level===t.level,d=n[c-1],p=n[c+1];if(t&&s.sn===t.sn)if(f&&!s.backtracked)if(s.sn<o.endSN){var h=t.deltaPTS;h&&h>l.maxBufferHole&&t.dropped&&c?(s=d,g.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(s=p,g.logger.log("SN just loaded, load next one: "+s.sn,s))}else s=null;else s.backtracked&&(p&&p.backtracked?(g.logger.warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+p.sn),s=p):(g.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,d?(s=d).backtracked=!0:c&&(s=null)))}return s},StreamController.prototype._loadKey=function(e){this.state=_.State.KEY_LOADING,this.hls.trigger(l.default.KEY_LOADING,{frag:e})},StreamController.prototype._loadFragment=function(t){var r=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,e.isFinite(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||r===u.FragmentState.NOT_LOADED||r===u.FragmentState.PARTIAL?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(l.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new s.default(this.hls,"main")),this.state=_.State.FRAG_LOADING):r===u.FragmentState.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},Object.defineProperty(StreamController.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,g.logger.log("main stream:"+t+"->"+e),this.hls.trigger(l.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},enumerable:!0,configurable:!0}),StreamController.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,f.default.LevelType.MAIN)},Object.defineProperty(StreamController.prototype,"currentLevel",{get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(StreamController.prototype,"nextBufferedFrag",{get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null},enumerable:!0,configurable:!0}),StreamController.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},Object.defineProperty(StreamController.prototype,"nextLevel",{get:function(){var e=this.nextBufferedFrag;return e?e.level:-1},enumerable:!0,configurable:!0}),StreamController.prototype._checkFragmentChanged=function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((t=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),o.BufferHelper.isBuffered(r,t)?e=this.getBufferedFrag(t):o.BufferHelper.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var n=e;if(n!==this.fragPlaying){this.hls.trigger(l.default.FRAG_CHANGED,{frag:n});var i=n.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(l.default.LEVEL_SWITCHED,{level:i}),this.fragPlaying=n}}},StreamController.prototype.immediateLevelSwitch=function(){if(g.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,r=void 0;t?(r=t.paused,t.pause()):r=!0,this.previouslyPaused=r}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)},StreamController.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,o.BufferHelper.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},StreamController.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var r,n=void 0,i=void 0;if((r=this.getBufferedFrag(t.currentTime))&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),t.paused)n=0;else{var a=this.hls.nextLoadLevel,o=this.levels[a],s=this.fragLastKbps;n=s&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*s)+1:0}if((i=this.getBufferedFrag(t.currentTime+n))&&(i=this.followingBufferedFrag(i))){var l=this.fragCurrent;l&&l.loader&&l.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,e.POSITIVE_INFINITY)}}},StreamController.prototype.flushMainBuffer=function(e,t){this.state=_.State.BUFFER_FLUSHING;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(l.default.BUFFER_FLUSHING,r)},StreamController.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new v.default(r,t,this.fragmentTracker,this.hls)},StreamController.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(g.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},StreamController.prototype.onMediaSeeked=function(){var t=this.media,r=t?t.currentTime:void 0;e.isFinite(r)&&g.logger.log("media seeked to "+r.toFixed(3)),this.tick()},StreamController.prototype.onManifestLoading=function(){g.logger.log("trigger BUFFER_RESET"),this.hls.trigger(l.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},StreamController.prototype.onManifestParsed=function(e){var t,r=!1,n=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(n=!0))}),this.audioCodecSwitch=r&&n,this.audioCodecSwitch&&g.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},StreamController.prototype.onLevelLoaded=function(t){var r=t.details,n=t.level,i=this.levels[this.levelLastLoaded],a=this.levels[n],o=r.totalduration,s=0;if(g.logger.log("level "+n+" loaded ["+r.startSN+","+r.endSN+"],duration:"+o),r.live){var u=a.details;u&&r.fragments.length>0?(d.mergeDetails(u,r),s=r.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,u),r.PTSKnown&&e.isFinite(s)?g.logger.log("live playlist sliding:"+s.toFixed(3)):(g.logger.log("live playlist - outdated PTS, unknown sliding"),m.alignStream(this.fragPrevious,i,r))):(g.logger.log("live playlist - first load, unknown sliding"),r.PTSKnown=!1,m.alignStream(this.fragPrevious,i,r))}else r.PTSKnown=!1;if(a.details=r,this.levelLastLoaded=n,this.hls.trigger(l.default.LEVEL_UPDATED,{details:r,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var c=r.startTimeOffset;e.isFinite(c)?(c<0&&(g.logger.log("negative start time offset "+c+", count from end of last fragment"),c=s+o+c),g.logger.log("start time offset found in playlist, adjust startPosition to "+c),this.startPosition=c):r.live?(this.startPosition=this.computeLivePosition(s,r),g.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===_.State.WAITING_LEVEL&&(this.state=_.State.IDLE),this.tick()},StreamController.prototype.onKeyLoaded=function(){this.state===_.State.KEY_LOADING&&(this.state=_.State.IDLE,this.tick())},StreamController.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=this.hls,n=this.levels,i=this.media,a=e.frag;if(this.state===_.State.FRAG_LOADING&&t&&"main"===a.type&&a.level===t.level&&a.sn===t.sn){var o=e.stats,u=n[t.level],c=u.details;if(this.bitrateTest=!1,this.stats=o,g.logger.log("Loaded "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level),a.bitrateTest&&r.nextLoadLevel)this.state=_.State.IDLE,this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),r.trigger(l.default.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else if("initSegment"===a.sn)this.state=_.State.IDLE,o.tparsed=o.tbuffered=window.performance.now(),c.initSegment.data=e.payload,r.trigger(l.default.FRAG_BUFFERED,{stats:o,frag:t,id:"main"}),this.tick();else{g.logger.log("Parsing "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level+", cc "+t.cc),this.state=_.State.PARSING,this.pendingBuffering=!0,this.appended=!1,a.bitrateTest&&(a.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:a}));var f=!(i&&i.seeking)&&(c.PTSKnown||!c.live),d=c.initSegment?c.initSegment.data:[],p=this._getAudioCodec(u);(this.demuxer=this.demuxer||new s.default(this.hls,"main")).push(e.payload,d,p,u.videoCodec,t,c.totalduration,f)}}this.fragLoadError=0},StreamController.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===_.State.PARSING){var n=e.tracks,i=void 0,a=void 0;if(n.audio&&this.altAudio&&delete n.audio,a=n.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==a.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==a.container&&(o="mp4a.40.2",g.logger.log("Android: force audio codec to "+o)),a.levelCodec=o,a.id=e.id}for(i in(a=n.video)&&(a.levelCodec=this.levels[this.level].videoCodec,a.id=e.id),this.hls.trigger(l.default.BUFFER_CODECS,n),n){a=n[i],g.logger.log("main track:"+i+",container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var u=a.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,{type:i,data:u,parent:"main",content:"initSegment"}))}this.tick()}},StreamController.prototype.onFragParsingData=function(t){var r=this,n=this.fragCurrent,i=t.frag;if(n&&"main"===t.id&&i.sn===n.sn&&i.level===n.level&&("audio"!==t.type||!this.altAudio)&&this.state===_.State.PARSING){var a=this.levels[this.level],o=n;if(e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),!0===t.hasAudio&&o.addElementaryStream(c.default.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&o.addElementaryStream(c.default.ElementaryStreamTypes.VIDEO),g.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(o.dropped=t.dropped,o.dropped)if(o.backtracked)g.logger.warn("Already backtracked on this fragment, appending with the gap",o.sn);else{var s=a.details;if(!s||o.sn!==s.startSN)return g.logger.warn("missing video frame(s), backtracking fragment",o.sn),this.fragmentTracker.removeFragment(o),o.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=_.State.IDLE,this.fragPrevious=o,void this.tick();g.logger.warn("missing video frame(s) on first frag, appending with gap",o.sn)}else o.backtracked=!1;var u=d.updateFragPTSDTS(a.details,o,t.startPTS,t.endPTS,t.startDTS,t.endDTS),f=this.hls;f.trigger(l.default.LEVEL_PTS_UPDATED,{details:a.details,level:this.level,drift:u,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(e){e&&e.length&&r.state===_.State.PARSING&&(r.appended=!0,r.pendingBuffering=!0,f.trigger(l.default.BUFFER_APPENDING,{type:t.type,data:e,parent:"main",content:"data"}))}),this.tick()}},StreamController.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===_.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=_.State.PARSED,this._checkAppendedParsed())},StreamController.prototype.onAudioTrackSwitching=function(t){var r=!!t.url,n=t.id;if(!r){if(this.mediaBuffer!==this.media){g.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(g.logger.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=_.State.IDLE}var a=this.hls;a.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),a.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},StreamController.prototype.onAudioTrackSwitched=function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(g.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=r,this.tick()},StreamController.prototype.onBufferCreated=function(e){var t,r,n=e.tracks,i=!1;for(var a in n){var o=n[a];"main"===o.id?(r=a,t=o,"video"===a&&(this.videoBuffer=n[a].buffer)):i=!0}i&&t?(g.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},StreamController.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==_.State.PARSING&&t!==_.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},StreamController.prototype._checkAppendedParsed=function(){if(!(this.state!==_.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;g.logger.log("main buffered : "+p.default.toString(t.buffered)),this.fragPrevious=e;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(l.default.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.state=_.State.IDLE}this.tick()}},StreamController.prototype.onError=function(t){var r=t.frag||this.fragCurrent;if(!r||"main"===r.type){var n=!!this.media&&o.BufferHelper.isBuffered(this.media,this.media.currentTime)&&o.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);g.logger.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=window.performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=_.State.FRAG_LOADING_WAITING_RETRY}else g.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=_.State.ERROR;break;case h.ErrorDetails.LEVEL_LOAD_ERROR:case h.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==_.State.ERROR&&(t.fatal?(this.state=_.State.ERROR,g.logger.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==_.State.WAITING_LEVEL||(this.state=_.State.IDLE));break;case h.ErrorDetails.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==_.State.PARSING&&this.state!==_.State.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=_.State.IDLE):(g.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)))}}},StreamController.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,g.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},StreamController.prototype._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},StreamController.prototype.onFragLoadEmergencyAborted=function(){this.state=_.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},StreamController.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(c.default.ElementaryStreamTypes.VIDEO,e.buffered),this.state=_.State.IDLE,this.fragPrevious=null},StreamController.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},StreamController.prototype.computeLivePosition=function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)},StreamController.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,r=e.seeking?t:this.startPosition;t!==r&&(g.logger.log("target start position not buffered, seek to buffered.start(0) "+r+" from current time "+t+" "),e.currentTime=r)},StreamController.prototype._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},Object.defineProperty(StreamController.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e},enumerable:!0,configurable:!0}),StreamController}(_.default);t.default=b}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/subtitle-stream-controller.js":
/*!******************************************************!*\
  !*** ./src/controller/subtitle-stream-controller.js ***!
  \******************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js"),s=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),l=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),u=r(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),c=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),f=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),d=r(/*! ./level-helper */"./src/controller/level-helper.js"),p=window.performance,h=function(e){function SubtitleStreamController(t,r){var n=e.call(this,t,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.ERROR,a.default.KEY_LOADED,a.default.FRAG_LOADED,a.default.SUBTITLE_TRACKS_UPDATED,a.default.SUBTITLE_TRACK_SWITCH,a.default.SUBTITLE_TRACK_LOADED,a.default.SUBTITLE_FRAG_PROCESSED,a.default.LEVEL_UPDATED)||this;return n.fragmentTracker=r,n.config=t.config,n.state=f.State.STOPPED,n.tracks=[],n.tracksBuffered=[],n.currentTrackId=-1,n.decrypter=new s.default(t,t.config),n.lastAVStart=0,n._onMediaSeeking=n.onMediaSeeking.bind(n),n}return i(SubtitleStreamController,e),SubtitleStreamController.prototype.onSubtitleFragProcessed=function(e){var t=e.frag,r=e.success;if(this.fragPrevious=t,this.state=f.State.IDLE,r){var n=this.tracksBuffered[this.currentTrackId];if(n){for(var i,a=t.start,o=0;o<n.length;o++)if(a>=n[o].start&&a<=n[o].end){i=n[o];break}var s=t.start+t.duration;i?i.end=s:(i={start:a,end:s},n.push(i))}}},SubtitleStreamController.prototype.onMediaAttached=function(e){var t=e.media;this.media=t,t.addEventListener("seeking",this._onMediaSeeking),this.state=f.State.IDLE},SubtitleStreamController.prototype.onMediaDetaching=function(){this.media.removeEventListener("seeking",this._onMediaSeeking),this.media=null,this.state=f.State.STOPPED},SubtitleStreamController.prototype.onError=function(e){var t=e.frag;t&&"subtitle"===t.type&&(this.state=f.State.IDLE)},SubtitleStreamController.prototype.onSubtitleTracksUpdated=function(e){var t=this;o.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]})},SubtitleStreamController.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(500)}else this.clearInterval()},SubtitleStreamController.prototype.onSubtitleTrackLoaded=function(e){var t=e.id,r=e.details,n=this.currentTrackId,i=this.tracks,a=i[n];t>=i.length||t!==n||!a||(r.live&&d.mergeSubtitlePlaylists(a.details,r,this.lastAVStart),a.details=r,this.setInterval(500))},SubtitleStreamController.prototype.onKeyLoaded=function(){this.state===f.State.KEY_LOADING&&(this.state=f.State.IDLE)},SubtitleStreamController.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag.decryptdata,n=e.frag,i=this.hls;if(this.state===f.State.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&r&&r.key&&"AES-128"===r.method){var o=p.now();this.decrypter.decrypt(e.payload,r.key.buffer,r.iv.buffer,function(e){var t=p.now();i.trigger(a.default.FRAG_DECRYPTED,{frag:n,payload:e,stats:{tstart:o,tdecrypt:t}})})}},SubtitleStreamController.prototype.onLevelUpdated=function(e){var t=e.details.fragments;this.lastAVStart=t.length?t[0].start:0},SubtitleStreamController.prototype.doTick=function(){if(this.media)switch(this.state){case f.State.IDLE:var e=this,t=e.config,r=e.currentTrackId,n=e.fragmentTracker,i=e.media,s=e.tracks;if(!s||!s[r]||!s[r].details)break;var d=t.maxBufferHole,p=t.maxFragLookUpTolerance,h=Math.min(t.maxBufferLength,t.maxMaxBufferLength),g=l.BufferHelper.bufferedInfo(this._getBuffered(),i.currentTime,d),m=g.end,y=g.len,v=s[r].details,_=v.fragments,b=_.length,E=_[b-1].start+_[b-1].duration;if(y>h)return;var T=void 0,S=this.fragPrevious;m<E?(S&&v.hasProgramDateTime&&(T=u.findFragmentByPDT(_,S.endProgramDateTime,p)),T||(T=u.findFragmentByPTS(S,_,m,p))):T=_[b-1],T&&T.encrypted?(o.logger.log("Loading key for "+T.sn),this.state=f.State.KEY_LOADING,this.hls.trigger(a.default.KEY_LOADING,{frag:T})):T&&n.getState(T)===c.FragmentState.NOT_LOADED&&(this.fragCurrent=T,this.state=f.State.FRAG_LOADING,this.hls.trigger(a.default.FRAG_LOADING,{frag:T}))}else this.state=f.State.IDLE},SubtitleStreamController.prototype.stopLoad=function(){this.lastAVStart=0,e.prototype.stopLoad.call(this)},SubtitleStreamController.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},SubtitleStreamController.prototype.onMediaSeeking=function(){this.fragPrevious=null},SubtitleStreamController}(f.default);t.SubtitleStreamController=h},"./src/controller/subtitle-track-controller.js":
/*!*****************************************************!*\
  !*** ./src/controller/subtitle-track-controller.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),l=r(/*! ./level-helper */"./src/controller/level-helper.js"),u=function(t){function SubtitleTrackController(e){var r=t.call(this,e,a.default.MEDIA_ATTACHED,a.default.MEDIA_DETACHING,a.default.MANIFEST_LOADED,a.default.SUBTITLE_TRACK_LOADED)||this;return r.tracks=[],r.trackId=-1,r.media=null,r.stopped=!0,r.subtitleDisplay=!0,r}return i(SubtitleTrackController,t),SubtitleTrackController.prototype.destroy=function(){o.default.prototype.destroy.call(this)},SubtitleTrackController.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},SubtitleTrackController.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},SubtitleTrackController.prototype.onManifestLoaded=function(e){var t=this,r=e.subtitles||[];this.tracks=r,this.hls.trigger(a.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},SubtitleTrackController.prototype.onSubtitleTrackLoaded=function(e){var t=this,r=e.id,n=e.details,i=this.trackId,a=this.tracks,o=a[i];if(r>=a.length||r!==i||!o||this.stopped)this._clearReloadTimer();else if(s.logger.log("subtitle track "+r+" loaded"),n.live){var u=l.computeReloadInterval(o.details,n,e.stats.trequest);s.logger.log("Reloading live subtitle playlist in "+u+"ms"),this.timer=setTimeout(function(){t._loadCurrentTrack()},u)}else this._clearReloadTimer()},SubtitleTrackController.prototype.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},SubtitleTrackController.prototype.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},Object.defineProperty(SubtitleTrackController.prototype,"subtitleTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(SubtitleTrackController.prototype,"subtitleTrack",{get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this._setSubtitleTrackInternal(e))},enumerable:!0,configurable:!0}),SubtitleTrackController.prototype._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},SubtitleTrackController.prototype._loadCurrentTrack=function(){var e=this.trackId,t=this.tracks,r=this.hls,n=t[e];e<0||!n||n.details&&!n.details.live||(s.logger.log("Loading subtitle track "+e),r.trigger(a.default.SUBTITLE_TRACK_LOADING,{url:n.url,id:e}))},SubtitleTrackController.prototype._toggleTrackModes=function(e){var t=this.media,r=this.subtitleDisplay,n=this.trackId;if(t){var i=filterSubtitleTracks(t.textTracks);if(-1===e)[].slice.call(i).forEach(function(e){e.mode="disabled"});else{var a=i[n];a&&(a.mode="disabled")}var o=i[e];o&&(o.mode=r?"showing":"hidden")}},SubtitleTrackController.prototype._setSubtitleTrackInternal=function(t){var r=this.hls,n=this.tracks;!e.isFinite(t)||t<-1||t>=n.length||(this.trackId=t,s.logger.log("Switching to subtitle track "+t),r.trigger(a.default.SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},SubtitleTrackController.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=filterSubtitleTracks(this.media.textTracks),r=0;r<t.length;r++)if("hidden"===t[r].mode)e=r;else if("showing"===t[r].mode){e=r;break}this.subtitleTrack=e}},SubtitleTrackController}(o.default);function filterSubtitleTracks(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"subtitles"===n.kind&&n.label&&t.push(e[r])}return t}t.default=u}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/timeline-controller.js":
/*!***********************************************!*\
  !*** ./src/controller/timeline-controller.js ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../utils/cea-608-parser */"./src/utils/cea-608-parser.js"),l=r(/*! ../utils/output-filter */"./src/utils/output-filter.js"),u=r(/*! ../utils/webvtt-parser */"./src/utils/webvtt-parser.js"),c=r(/*! ../utils/logger */"./src/utils/logger.js"),f=r(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js");function canReuseVttTextTrack(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}var d=function(t){function TimelineController(e){var r=t.call(this,e,a.default.MEDIA_ATTACHING,a.default.MEDIA_DETACHING,a.default.FRAG_PARSING_USERDATA,a.default.FRAG_DECRYPTED,a.default.MANIFEST_LOADING,a.default.MANIFEST_LOADED,a.default.FRAG_LOADED,a.default.LEVEL_SWITCHING,a.default.INIT_PTS_FOUND)||this;if(r.hls=e,r.config=e.config,r.enabled=!0,r.Cues=e.config.cueHandler,r.textTracks=[],r.tracks=[],r.unparsedVttFrags=[],r.initPTS=[],r.cueRanges=[],r.captionsTracks={},r.captionsProperties={textTrack1:{label:r.config.captionsTextTrack1Label,languageCode:r.config.captionsTextTrack1LanguageCode},textTrack2:{label:r.config.captionsTextTrack2Label,languageCode:r.config.captionsTextTrack2LanguageCode}},r.config.enableCEA708Captions){var n=new l.default(r,"textTrack1"),i=new l.default(r,"textTrack2");r.cea608Parser=new s.default(0,n,i)}return r}return i(TimelineController,t),TimelineController.prototype.addCues=function(e,t,r,n){for(var i,a,o,s,l=this.cueRanges,u=!1,c=l.length;c--;){var f=l[c],d=(i=f[0],a=f[1],o=t,s=r,Math.min(a,s)-Math.max(i,o));if(d>=0&&(f[0]=Math.min(f[0],t),f[1]=Math.max(f[1],r),u=!0,d/(r-t)>.5))return}u||l.push([t,r]),this.Cues.newCue(this.captionsTracks[e],t,r,n)},TimelineController.prototype.onInitPtsFound=function(e){var t=this;if("main"===e.id&&(this.initPTS[e.frag.cc]=e.initPTS),this.unparsedVttFrags.length){var r=this.unparsedVttFrags;this.unparsedVttFrags=[],r.forEach(function(e){t.onFragLoaded(e)})}},TimelineController.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var n=t.textTracks[r];if(n[e])return n}return null},TimelineController.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],r=t.label,n=t.languageCode,i=this.captionsTracks;if(!i[e]){var a=this.getExistingTrack(e);if(a)i[e]=a,f.clearCurrentCues(i[e]),f.sendAddTrackEvent(i[e],this.media);else{var o=this.createTextTrack("captions",r,n);o&&(o[e]=!0,i[e]=o)}}},TimelineController.prototype.createTextTrack=function(e,t,r){var n=this.media;if(n)return n.addTextTrack(e,t,r)},TimelineController.prototype.destroy=function(){o.default.prototype.destroy.call(this)},TimelineController.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},TimelineController.prototype.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach(function(t){f.clearCurrentCues(e[t]),delete e[t]})},TimelineController.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},TimelineController.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)f.clearCurrentCues(t[r])}},TimelineController.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,n){var i;if(n<r.length){for(var a=null,o=0;o<r.length;o++)if(canReuseVttTextTrack(r[o],e)){a=r[o];break}a&&(i=a)}i||(i=t.createTextTrack("subtitles",e.name,e.lang)),e.default?i.mode=t.hls.subtitleDisplay?"showing":"hidden":i.mode="disabled",t.textTracks.push(i)})}},TimelineController.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},TimelineController.prototype.onFragLoaded=function(t){var r=t.frag,n=t.payload;if("main"===r.type){var i=r.sn;if(i!==this.lastSn+1){var o=this.cea608Parser;o&&o.reset()}this.lastSn=i}else if("subtitle"===r.type)if(n.byteLength){if(!e.isFinite(this.initPTS[r.cc]))return this.unparsedVttFrags.push(t),void(this.initPTS.length&&this.hls.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r}));var s=r.decryptdata;null!=s&&null!=s.key&&"AES-128"===s.method||this._parseVTTs(r,n)}else this.hls.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r})},TimelineController.prototype._parseVTTs=function(e,t){var r=this.vttCCs;r[e.cc]||(r[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var n=this.textTracks,i=this.hls;u.default.parse(t,this.initPTS[e.cc],r,e.cc,function(t){var r=n[e.level];"disabled"!==r.mode?(t.forEach(function(e){if(!r.cues.getCueById(e.id))try{r.addCue(e)}catch(n){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,r.addCue(t)}}),i.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})):i.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},function(t){c.logger.log("Failed to parse VTT cue: "+t),i.trigger(a.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},TimelineController.prototype.onFragDecrypted=function(t){var r=t.payload,n=t.frag;if("subtitle"===n.type){if(!e.isFinite(this.initPTS[n.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(n,r)}},TimelineController.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var r=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,r)}},TimelineController.prototype.extractCea608Data=function(e){for(var t,r,n,i=31&e[0],a=2,o=[],s=0;s<i;s++)t=e[a++],r=127&e[a++],n=127&e[a++],0===r&&0===n||0!=(4&t)&&0===(3&t)&&(o.push(r),o.push(n));return o},TimelineController}(o.default);t.default=d}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":
/*!*********************************!*\
  !*** ./src/crypt/aes-crypto.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function AESCrypto(e,t){this.subtle=e,this.aesIV=t}return AESCrypto.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},AESCrypto}();t.default=n},"./src/crypt/aes-decryptor.js":
/*!************************************!*\
  !*** ./src/crypt/aes-decryptor.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";function removePadding(e){var t=e.byteLength,r=t&&new DataView(e).getUint8(t-1);return r?e.slice(0,t-r):e}Object.defineProperty(t,"__esModule",{value:!0}),t.removePadding=removePadding;var n=function(){function AESDecryptor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return AESDecryptor.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},AESDecryptor.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],i=r[1],a=r[2],o=r[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],f=s[3],d=new Uint32Array(256),p=0,h=0,g=0;for(g=0;g<256;g++)d[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=h^h<<1^h<<2^h<<3^h<<4;m=m>>>8^255&m^99,e[p]=m,t[m]=p;var y=d[p],v=d[y],_=d[v],b=257*d[m]^16843008*m;n[p]=b<<24|b>>>8,i[p]=b<<16|b>>>16,a[p]=b<<8|b>>>24,o[p]=b,b=16843009*_^65537*v^257*y^16843008*p,l[m]=b<<24|b>>>8,u[m]=b<<16|b>>>16,c[m]=b<<8|b>>>24,f[m]=b,p?(p=y^d[d[d[_^y]]],h^=d[d[h]]):p=h=1}},AESDecryptor.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,o,s,l,u=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(u),f=this.invKeySchedule=new Uint32Array(u),d=this.sBox,p=this.rcon,h=this.invSubMix,g=h[0],m=h[1],y=h[2],v=h[3];for(a=0;a<u;a++)a<i?s=c[a]=t[a]:(l=s,a%i==0?(l=d[(l=l<<8|l>>>24)>>>24]<<24|d[l>>>16&255]<<16|d[l>>>8&255]<<8|d[255&l],l^=p[a/i|0]<<24):i>6&&a%i==4&&(l=d[l>>>24]<<24|d[l>>>16&255]<<16|d[l>>>8&255]<<8|d[255&l]),c[a]=s=(c[a-i]^l)>>>0);for(o=0;o<u;o++)a=u-o,l=3&o?c[a]:c[a-4],f[o]=o<4||a<=4?l:g[d[l>>>24]]^m[d[l>>>16&255]]^y[d[l>>>8&255]]^v[d[255&l]],f[o]=f[o]>>>0}},AESDecryptor.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},AESDecryptor.prototype.decrypt=function(e,t,r,n){for(var i,a,o,s,l,u,c,f,d,p,h,g,m,y,v=this.keySize+6,_=this.invKeySchedule,b=this.invSBox,E=this.invSubMix,T=E[0],S=E[1],w=E[2],R=E[3],A=this.uint8ArrayToUint32Array_(r),C=A[0],x=A[1],D=A[2],P=A[3],I=new Int32Array(e),M=new Int32Array(I.length),O=this.networkToHostOrderSwap;t<I.length;){for(d=O(I[t]),p=O(I[t+1]),h=O(I[t+2]),g=O(I[t+3]),l=d^_[0],u=g^_[1],c=h^_[2],f=p^_[3],m=4,y=1;y<v;y++)i=T[l>>>24]^S[u>>16&255]^w[c>>8&255]^R[255&f]^_[m],a=T[u>>>24]^S[c>>16&255]^w[f>>8&255]^R[255&l]^_[m+1],o=T[c>>>24]^S[f>>16&255]^w[l>>8&255]^R[255&u]^_[m+2],s=T[f>>>24]^S[l>>16&255]^w[u>>8&255]^R[255&c]^_[m+3],l=i,u=a,c=o,f=s,m+=4;i=b[l>>>24]<<24^b[u>>16&255]<<16^b[c>>8&255]<<8^b[255&f]^_[m],a=b[u>>>24]<<24^b[c>>16&255]<<16^b[f>>8&255]<<8^b[255&l]^_[m+1],o=b[c>>>24]<<24^b[f>>16&255]<<16^b[l>>8&255]<<8^b[255&u]^_[m+2],s=b[f>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^_[m+3],m+=3,M[t]=O(i^C),M[t+1]=O(s^x),M[t+2]=O(o^D),M[t+3]=O(a^P),C=d,x=p,D=h,P=g,t+=4}return n?removePadding(M.buffer):M.buffer},AESDecryptor.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},AESDecryptor}();t.default=n},"./src/crypt/decrypter.js":
/*!********************************!*\
  !*** ./src/crypt/decrypter.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./aes-crypto */"./src/crypt/aes-crypto.js"),i=r(/*! ./fast-aes-key */"./src/crypt/fast-aes-key.js"),a=r(/*! ./aes-decryptor */"./src/crypt/aes-decryptor.js"),o=r(/*! ../errors */"./src/errors.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),l=r(/*! ../events */"./src/events.js"),u=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope(),c=function(){function Decrypter(e,t,r){var n=(void 0===r?{}:r).removePKCS7Padding,i=void 0===n||n;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var a=u.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}return Decrypter.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},Decrypter.prototype.decrypt=function(e,t,r,o){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new a.default),u.expandKey(t),o(u.decrypt(e,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new i.default(c,t)),this.fastAesKey.expandKey().then(function(i){new n.default(c,r).decrypt(e,i).catch(function(n){l.onWebCryptoError(n,e,t,r,o)}).then(function(e){o(e)})}).catch(function(n){l.onWebCryptoError(n,e,t,r,o)})}},Decrypter.prototype.onWebCryptoError=function(e,t,r,n,i){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,n,i)):(s.logger.error("decrypting error : "+e.message),this.observer.trigger(l.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},Decrypter.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},Decrypter}();t.default=c},"./src/crypt/fast-aes-key.js":
/*!***********************************!*\
  !*** ./src/crypt/fast-aes-key.js ***!
  \***********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function FastAESKey(e,t){this.subtle=e,this.key=t}return FastAESKey.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},FastAESKey}();t.default=n},"./src/demux/aacdemuxer.js":
/*!*********************************!*\
  !*** ./src/demux/aacdemuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./adts */"./src/demux/adts.js"),i=r(/*! ../utils/logger */"./src/utils/logger.js"),a=r(/*! ../demux/id3 */"./src/demux/id3.js"),o=function(){function AACDemuxer(e,t,r){this.observer=e,this.config=r,this.remuxer=t}return AACDemuxer.prototype.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},AACDemuxer.prototype.resetTimeStamp=function(){},AACDemuxer.probe=function(e){if(!e)return!1;for(var t=(a.default.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(n.probe(e,t))return i.logger.log("ADTS sync word found !"),!0;return!1},AACDemuxer.prototype.append=function(t,r,o,s){for(var l=this._audioTrack,u=a.default.getID3Data(t,0)||[],c=a.default.getTimeStamp(u),f=e.isFinite(c)?90*c:9e4*r,d=0,p=f,h=t.length,g=u.length,m=[{pts:p,dts:p,data:u}];g<h-1;)if(n.isHeader(t,g)&&g+5<h){n.initTrackConfig(l,this.observer,t,g,l.manifestCodec);var y=n.appendFrame(l,t,g,f,d);if(!y){i.logger.log("Unable to parse AAC frame");break}g+=y.length,p=y.sample.pts,d++}else a.default.isHeader(t,g)?(u=a.default.getID3Data(t,g),m.push({pts:p,dts:p,data:u}),g+=u.length):g++;this.remuxer.remux(l,{samples:[]},{samples:m,inputTimeScale:9e4},{samples:[]},r,o,s)},AACDemuxer.prototype.destroy=function(){},AACDemuxer}();t.default=o}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/adts.js":
/*!***************************!*\
  !*** ./src/demux/adts.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/logger */"./src/utils/logger.js"),i=r(/*! ../errors */"./src/errors.js"),a=r(/*! ../events */"./src/events.js");function getAudioConfig(e,t,r,o){var s,l,u,c,f,d=navigator.userAgent.toLowerCase(),p=o,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(s=1+((192&t[r+2])>>>6),!((l=(60&t[r+2])>>>2)>h.length-1))return c=(1&t[r+2])<<2,c|=(192&t[r+3])>>>6,n.logger.log("manifest codec:"+o+",ADTS data:type:"+s+",sampleingIndex:"+l+"["+h[l]+"Hz],channelConfig:"+c),/firefox/i.test(d)?l>=6?(s=5,f=new Array(4),u=l-3):(s=2,f=new Array(2),u=l):-1!==d.indexOf("android")?(s=2,f=new Array(2),u=l):(s=5,f=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&l>=6?u=l-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(l>=6&&1===c||/vivaldi/i.test(d))||!o&&1===c)&&(s=2,f=new Array(2)),u=l)),f[0]=s<<3,f[0]|=(14&l)>>1,f[1]|=(1&l)<<7,f[1]|=c<<3,5===s&&(f[1]|=(14&u)>>1,f[2]=(1&u)<<7,f[2]|=8,f[3]=0),{config:f,samplerate:h[l],channelCount:c,codec:"mp4a.40."+s,manifestCodec:p};e.trigger(a.default.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}function isHeaderPattern(e,t){return 255===e[t]&&240==(246&e[t+1])}function getHeaderLength(e,t){return 1&e[t+1]?7:9}function getFullFrameLength(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function getFrameDuration(e){return 9216e4/e}function parseFrameHeader(e,t,r,n,i){var a,o,s=e.length;if(a=getHeaderLength(e,t),o=getFullFrameLength(e,t),(o-=a)>0&&t+a+o<=s)return{headerLength:a,frameLength:o,stamp:r+n*i}}t.getAudioConfig=getAudioConfig,t.isHeaderPattern=isHeaderPattern,t.getHeaderLength=getHeaderLength,t.getFullFrameLength=getFullFrameLength,t.isHeader=function isHeader(e,t){return!!(t+1<e.length&&isHeaderPattern(e,t))},t.probe=function probe(e,t){if(t+1<e.length&&isHeaderPattern(e,t)){var r=getHeaderLength(e,t);t+5<e.length&&(r=getFullFrameLength(e,t));var n=t+r;if(n===e.length||n+1<e.length&&isHeaderPattern(e,n))return!0}return!1},t.initTrackConfig=function initTrackConfig(e,t,r,i,a){if(!e.samplerate){var o=getAudioConfig(t,r,i,a);e.config=o.config,e.samplerate=o.samplerate,e.channelCount=o.channelCount,e.codec=o.codec,e.manifestCodec=o.manifestCodec,n.logger.log("parsed codec:"+e.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}},t.getFrameDuration=getFrameDuration,t.parseFrameHeader=parseFrameHeader,t.appendFrame=function appendFrame(e,t,r,n,i){var a=parseFrameHeader(t,r,n,i,getFrameDuration(e.samplerate));if(a){var o=a.stamp,s=a.headerLength,l=a.frameLength,u={unit:t.subarray(r+s,r+s+l),pts:o,dts:o};return e.samples.push(u),e.len+=l,{sample:u,length:l+s}}}},"./src/demux/demuxer-inline.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-inline.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(/*! ../events */"./src/events.js"),a=r(/*! ../errors */"./src/errors.js"),o=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),s=r(/*! ../demux/aacdemuxer */"./src/demux/aacdemuxer.js"),l=r(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),u=r(/*! ../demux/tsdemuxer */"./src/demux/tsdemuxer.js"),c=r(/*! ../demux/mp3demuxer */"./src/demux/mp3demuxer.js"),f=r(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.js"),d=r(/*! ../remux/passthrough-remuxer */"./src/remux/passthrough-remuxer.js"),p=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),h=r(/*! ../utils/logger */"./src/utils/logger.js"),g=p.getSelfScope();try{n=g.performance.now.bind(g.performance)}catch(e){h.logger.debug("Unable to use Performance API on this environment"),n=g.Date.now}var m=function(){function DemuxerInline(e,t,r,n){this.observer=e,this.typeSupported=t,this.config=r,this.vendor=n}return DemuxerInline.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},DemuxerInline.prototype.push=function(e,t,r,a,s,l,u,c,f,d,p,h){var g=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var m=this.decrypter;null==m&&(m=this.decrypter=new o.default(this.observer,this.config));var y=n();m.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var o=n();g.observer.trigger(i.default.FRAG_DECRYPTED,{stats:{tstart:y,tdecrypt:o}}),g.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),a,s,l,u,c,f,d,p,h)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),a,s,l,u,c,f,d,p,h)},DemuxerInline.prototype.pushDecrypted=function(e,t,r,n,o,p,h,g,m,y,v,_){var b=this.demuxer;if(!b||(h||g)&&!this.probe(e)){for(var E=this.observer,T=this.typeSupported,S=this.config,w=[{demux:u.default,remux:f.default},{demux:l.default,remux:d.default},{demux:s.default,remux:f.default},{demux:c.default,remux:f.default}],R=0,A=w.length;R<A;R++){var C=w[R],x=C.demux.probe;if(x(e)){var D=this.remuxer=new C.remux(E,S,T,this.vendor);b=new C.demux(E,D,S,T),this.probe=x;break}}if(!b)return void E.trigger(i.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=b}var P=this.remuxer;(h||g)&&(b.resetInitSegment(r,n,o,y),P.resetInitSegment()),h&&(b.resetTimeStamp(_),P.resetTimeStamp(_)),"function"==typeof b.setDecryptData&&b.setDecryptData(t),b.append(e,p,m,v)},DemuxerInline}();t.default=m},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),i=r(/*! ../events */"./src/events.js"),a=r(/*! ../utils/logger */"./src/utils/logger.js"),o=r(/*! events */"./node_modules/node-libs-browser/node_modules/events/events.js");t.default=function(e){var t=new o.EventEmitter;t.trigger=function trigger(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];t.emit.apply(t,[e,e].concat(r))},t.off=function off(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];t.removeListener.apply(t,[e].concat(r))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",function(i){var o=i.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.demuxer=new n.default(t,o.typeSupported,s,o.vendor),a.enableLogs(s.debug),r("init",null);break;case"demux":e.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),t.on(i.default.FRAG_DECRYPTED,r),t.on(i.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(i.default.FRAG_PARSED,r),t.on(i.default.ERROR,r),t.on(i.default.FRAG_PARSING_METADATA,r),t.on(i.default.FRAG_PARSING_USERDATA,r),t.on(i.default.INIT_PTS_FOUND,r),t.on(i.default.FRAG_PARSING_DATA,function(t,r){var n=[],i={event:t,data:r};r.data1&&(i.data1=r.data1.buffer,n.push(r.data1.buffer),delete r.data1),r.data2&&(i.data2=r.data2.buffer,n.push(r.data2.buffer),delete r.data2),e.postMessage(i,n)})}},"./src/demux/demuxer.js":
/*!******************************!*\
  !*** ./src/demux/demuxer.js ***!
  \******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! webworkify-webpack */"./node_modules/webworkify-webpack/index.js"),i=r(/*! ../events */"./src/events.js"),a=r(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js"),s=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js"),u=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),c=r(/*! ../observer */"./src/observer.js"),f=u.getSelfScope(),d=l.getMediaSource(),p=function(){function Demuxer(e,t){var r=this;this.hls=e,this.id=t;var l=this.observer=new c.Observer,u=e.config,p=function(t,n){(n=n||{}).frag=r.frag,n.id=r.id,e.trigger(t,n)};l.on(i.default.FRAG_DECRYPTED,p),l.on(i.default.FRAG_PARSING_INIT_SEGMENT,p),l.on(i.default.FRAG_PARSING_DATA,p),l.on(i.default.FRAG_PARSED,p),l.on(i.default.ERROR,p),l.on(i.default.FRAG_PARSING_METADATA,p),l.on(i.default.FRAG_PARSING_USERDATA,p),l.on(i.default.INIT_PTS_FOUND,p);var h={mp4:d.isTypeSupported("video/mp4"),mpeg:d.isTypeSupported("audio/mpeg"),mp3:d.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(u.enableWorker&&"undefined"!=typeof Worker){o.logger.log("demuxing in webworker");var m=void 0;try{m=this.w=n(/*! ../demux/demuxer-worker.js */"./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),m.addEventListener("message",this.onwmsg),m.onerror=function(t){e.trigger(i.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},m.postMessage({cmd:"init",typeSupported:h,vendor:g,id:t,config:JSON.stringify(u)})}catch(e){o.logger.warn("Error in worker:",e),o.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),m&&f.URL.revokeObjectURL(m.objectURL),this.demuxer=new a.default(l,h,u,g),this.w=void 0}}else this.demuxer=new a.default(l,h,u,g)}return Demuxer.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},Demuxer.prototype.push=function(t,r,n,i,a,s,l,u){var c=this.w,f=e.isFinite(a.startPTS)?a.startPTS:a.start,d=a.decryptdata,p=this.frag,h=!(p&&a.cc===p.cc),g=!(p&&a.level===p.level),m=p&&a.sn===p.sn+1,y=!g&&m;if(h&&o.logger.log(this.id+":discontinuity detected"),g&&o.logger.log(this.id+":switch detected"),this.frag=a,c)c.postMessage({cmd:"demux",data:t,decryptdata:d,initSegment:r,audioCodec:n,videoCodec:i,timeOffset:f,discontinuity:h,trackSwitch:g,contiguous:y,duration:s,accurateTimeOffset:l,defaultInitPTS:u},t instanceof ArrayBuffer?[t]:[]);else{var v=this.demuxer;v&&v.push(t,d,r,n,i,f,h,g,y,s,l,u)}},Demuxer.prototype.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":f.URL.revokeObjectURL(this.w.objectURL);break;case i.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},Demuxer}();t.default=p}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":
/*!*********************************!*\
  !*** ./src/demux/exp-golomb.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/logger */"./src/utils/logger.js"),i=function(){function ExpGolomb(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return ExpGolomb.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(e.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},ExpGolomb.prototype.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},ExpGolomb.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&n.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},ExpGolomb.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},ExpGolomb.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},ExpGolomb.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},ExpGolomb.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},ExpGolomb.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},ExpGolomb.prototype.readBoolean=function(){return 1===this.readBits(1)},ExpGolomb.prototype.readUByte=function(){return this.readBits(8)},ExpGolomb.prototype.readUShort=function(){return this.readBits(16)},ExpGolomb.prototype.readUInt=function(){return this.readBits(32)},ExpGolomb.prototype.skipScalingList=function(e){var t,r=8,n=8;for(t=0;t<e;t++)0!==n&&(n=(r+this.readEG()+256)%256),r=0===n?r:n},ExpGolomb.prototype.readSPS=function(){var e,t,r,n,i,a,o,s=0,l=0,u=0,c=0,f=this.readUByte.bind(this),d=this.readBits.bind(this),p=this.readUEG.bind(this),h=this.readBoolean.bind(this),g=this.skipBits.bind(this),m=this.skipEG.bind(this),y=this.skipUEG.bind(this),v=this.skipScalingList.bind(this);if(f(),e=f(),d(5),g(3),f(),y(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var _=p();if(3===_&&g(1),y(),y(),g(1),h())for(a=3!==_?8:12,o=0;o<a;o++)h()&&v(o<6?16:64)}y();var b=p();if(0===b)p();else if(1===b)for(g(1),m(),m(),t=p(),o=0;o<t;o++)m();y(),g(1),r=p(),n=p(),0===(i=d(1))&&g(1),g(1),h()&&(s=p(),l=p(),u=p(),c=p());var E=[1,1];if(h()&&h())switch(f()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[f()<<8|f(),f()<<8|f()]}return{width:Math.ceil(16*(r+1)-2*s-2*l),height:(2-i)*(n+1)*16-(i?2:4)*(u+c),pixelRatio:E}},ExpGolomb.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},ExpGolomb}();t.default=i},"./src/demux/id3.js":
/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function ID3(){}return ID3.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},ID3.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},ID3.getID3Data=function(e,t){for(var r=t,n=0;ID3.isHeader(e,t);){n+=10,n+=ID3._readSize(e,t+6),ID3.isFooter(e,t+10)&&(n+=10),t+=n}if(n>0)return e.subarray(r,r+n)},ID3._readSize=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3]},ID3.getTimeStamp=function(e){for(var t=ID3.getID3Frames(e),r=0;r<t.length;r++){var n=t[r];if(ID3.isTimeStampFrame(n))return ID3._readTimeStamp(n)}},ID3.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},ID3._getFrameData=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),r=ID3._readSize(e,4);return{type:t,size:r,data:e.subarray(10,10+r)}},ID3.getID3Frames=function(e){for(var t=0,r=[];ID3.isHeader(e,t);){for(var n=ID3._readSize(e,t+6),i=(t+=10)+n;t+8<i;){var a=ID3._getFrameData(e.subarray(t)),o=ID3._decodeFrame(a);o&&r.push(o),t+=a.size+10}ID3.isFooter(e,t)&&(t+=10)}return r},ID3._decodeFrame=function(e){return"PRIV"===e.type?ID3._decodePrivFrame(e):"T"===e.type[0]?ID3._decodeTextFrame(e):"W"===e.type[0]?ID3._decodeURLFrame(e):void 0},ID3._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},ID3._decodePrivFrame=function(e){if(!(e.size<2)){var t=ID3._utf8ArrayToStr(e.data,!0),r=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:r.buffer}}},ID3._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,r=ID3._utf8ArrayToStr(e.data.subarray(t));t+=r.length+1;var n=ID3._utf8ArrayToStr(e.data.subarray(t));return{key:e.type,info:r,data:n}}var i=ID3._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:i}}},ID3._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,r=ID3._utf8ArrayToStr(e.data.subarray(t));t+=r.length+1;var n=ID3._utf8ArrayToStr(e.data.subarray(t));return{key:e.type,info:r,data:n}}var i=ID3._utf8ArrayToStr(e.data);return{key:e.type,data:i}},ID3._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);for(var r,n,i,a=e.length,o="",s=0;s<a;){if(0===(r=e[s++])&&t)return o;if(0!==r&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(r);break;case 12:case 13:n=e[s++],o+=String.fromCharCode((31&r)<<6|63&n);break;case 14:n=e[s++],i=e[s++],o+=String.fromCharCode((15&r)<<12|(63&n)<<6|(63&i)<<0)}}return o},ID3}(),i=n._utf8ArrayToStr;t.utf8ArrayToStr=i,t.default=n},"./src/demux/mp3demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp3demuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../demux/id3 */"./src/demux/id3.js"),i=r(/*! ../utils/logger */"./src/utils/logger.js"),a=r(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),o=function(){function MP3Demuxer(e,t,r){this.observer=e,this.config=r,this.remuxer=t}return MP3Demuxer.prototype.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},MP3Demuxer.prototype.resetTimeStamp=function(){},MP3Demuxer.probe=function(e){var t,r,o=n.default.getID3Data(e,0);if(o&&void 0!==n.default.getTimeStamp(o))for(t=o.length,r=Math.min(e.length-1,t+100);t<r;t++)if(a.default.probe(e,t))return i.logger.log("MPEG Audio sync word found !"),!0;return!1},MP3Demuxer.prototype.append=function(e,t,r,i){for(var o=n.default.getID3Data(e,0),s=n.default.getTimeStamp(o),l=s?90*s:9e4*t,u=o.length,c=e.length,f=0,d=0,p=this._audioTrack,h=[{pts:l,dts:l,data:o}];u<c;)if(a.default.isHeader(e,u)){var g=a.default.appendFrame(p,e,u,l,f);if(!g)break;u+=g.length,d=g.sample.pts,f++}else n.default.isHeader(e,u)?(o=n.default.getID3Data(e,u),h.push({pts:d,dts:d,data:o}),u+=o.length):u++;this.remuxer.remux(p,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,r,i)},MP3Demuxer.prototype.destroy=function(){},MP3Demuxer}();t.default=o},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/logger */"./src/utils/logger.js"),i=r(/*! ../events */"./src/events.js"),a=Math.pow(2,32)-1,o=function(){function MP4Demuxer(e,t){this.observer=e,this.remuxer=t}return MP4Demuxer.prototype.resetTimeStamp=function(e){this.initPTS=e},MP4Demuxer.prototype.resetInitSegment=function(e,t,r,n){if(e&&e.byteLength){var a=this.initData=MP4Demuxer.parseInitSegment(e);null==t&&(t="mp4a.40.5"),null==r&&(r="avc1.42e01e");var o={};a.audio&&a.video?o.audiovideo={container:"video/mp4",codec:t+","+r,initSegment:n?e:null}:(a.audio&&(o.audio={container:"audio/mp4",codec:t,initSegment:n?e:null}),a.video&&(o.video={container:"video/mp4",codec:r,initSegment:n?e:null})),this.observer.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,{tracks:o})}else t&&(this.audioCodec=t),r&&(this.videoCodec=r)},MP4Demuxer.probe=function(e){return MP4Demuxer.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},MP4Demuxer.bin2str=function(e){return String.fromCharCode.apply(null,e)},MP4Demuxer.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<8|e[t+1];return r<0?65536+r:r},MP4Demuxer.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r},MP4Demuxer.writeUint32=function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},MP4Demuxer.findBox=function(e,t){var r,n,i,a,o,s,l=[];if(e.data?(o=e.start,i=e.end,e=e.data):(o=0,i=e.byteLength),!t.length)return null;for(r=o;r<i;)s=(n=MP4Demuxer.readUint32(e,r))>1?r+n:i,MP4Demuxer.bin2str(e.subarray(r+4,r+8))===t[0]&&(1===t.length?l.push({data:e,start:r+8,end:s}):(a=MP4Demuxer.findBox({data:e,start:r+8,end:s},t.slice(1))).length&&(l=l.concat(a))),r=s;return l},MP4Demuxer.parseSegmentIndex=function(e){var t,r=MP4Demuxer.findBox(e,["moov"])[0],n=r?r.end:null,i=0,a=MP4Demuxer.findBox(e,["sidx"]);if(!a||!a[0])return null;t=[];var o=(a=a[0]).data[0];i=0===o?8:16;var s=MP4Demuxer.readUint32(a,i);i+=4;i+=0===o?8:16,i+=2;var l=a.end+0,u=MP4Demuxer.readUint16(a,i);i+=2;for(var c=0;c<u;c++){var f=i,d=MP4Demuxer.readUint32(a,f);f+=4;var p=2147483647&d;if(1===(2147483648&d)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var h=MP4Demuxer.readUint32(a,f);f+=4,t.push({referenceSize:p,subsegmentDuration:h,info:{duration:h/s,start:l,end:l+p-1}}),l+=p,i=f+=4}return{earliestPresentationTime:0,timescale:s,version:o,referencesCount:u,references:t,moovEndOffset:n}},MP4Demuxer.parseInitSegment=function(e){var t=[];return MP4Demuxer.findBox(e,["moov","trak"]).forEach(function(e){var r=MP4Demuxer.findBox(e,["tkhd"])[0];if(r){var i=r.data[r.start],a=0===i?12:20,o=MP4Demuxer.readUint32(r,a),s=MP4Demuxer.findBox(e,["mdia","mdhd"])[0];if(s){a=0===(i=s.data[s.start])?12:20;var l=MP4Demuxer.readUint32(s,a),u=MP4Demuxer.findBox(e,["mdia","hdlr"])[0];if(u){var c={soun:"audio",vide:"video"}[MP4Demuxer.bin2str(u.data.subarray(u.start+8,u.start+12))];if(c){var f=MP4Demuxer.findBox(e,["mdia","minf","stbl","stsd"]);if(f.length){f=f[0];var d=MP4Demuxer.bin2str(f.data.subarray(f.start+12,f.start+16));n.logger.log("MP4Demuxer:"+c+":"+d+" found")}t[o]={timescale:l,type:c},t[c]={timescale:l,id:o}}}}}}),t},MP4Demuxer.getStartDTS=function(e,t){var r,n,i;return r=MP4Demuxer.findBox(t,["moof","traf"]),n=[].concat.apply([],r.map(function(t){return MP4Demuxer.findBox(t,["tfhd"]).map(function(r){var n,i;return n=MP4Demuxer.readUint32(r,4),i=e[n].timescale||9e4,MP4Demuxer.findBox(t,["tfdt"]).map(function(e){var t,r;return t=e.data[e.start],r=MP4Demuxer.readUint32(e,4),1===t&&(r*=Math.pow(2,32),r+=MP4Demuxer.readUint32(e,8)),r})[0]/i})})),i=Math.min.apply(null,n),isFinite(i)?i:0},MP4Demuxer.offsetStartDTS=function(e,t,r){MP4Demuxer.findBox(t,["moof","traf"]).map(function(t){return MP4Demuxer.findBox(t,["tfhd"]).map(function(n){var i=MP4Demuxer.readUint32(n,4),o=e[i].timescale||9e4;MP4Demuxer.findBox(t,["tfdt"]).map(function(e){var t=e.data[e.start],n=MP4Demuxer.readUint32(e,4);if(0===t)MP4Demuxer.writeUint32(e,4,n-r*o);else{n*=Math.pow(2,32),n+=MP4Demuxer.readUint32(e,8),n-=r*o,n=Math.max(n,0);var i=Math.floor(n/(a+1)),s=Math.floor(n%(a+1));MP4Demuxer.writeUint32(e,4,i),MP4Demuxer.writeUint32(e,8,s)}})})})},MP4Demuxer.prototype.append=function(e,t,r,n){var a=this.initData;a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),a=this.initData);var o,s=this.initPTS;if(void 0===s){var l=MP4Demuxer.getStartDTS(a,e);this.initPTS=s=l-t,this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:s})}MP4Demuxer.offsetStartDTS(a,e,s),o=MP4Demuxer.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,o,r,n,e)},MP4Demuxer.prototype.destroy=function(){},MP4Demuxer}();t.default=o},"./src/demux/mpegaudio.js":
/*!********************************!*\
  !*** ./src/demux/mpegaudio.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,r,n,i){if(!(r+24>t.length)){var a=this.parseHeader(t,r);if(a&&r+a.frameLength<=t.length){var o=n+i*(9e4*a.samplesPerFrame/a.sampleRate),s={unit:t.subarray(r,r+a.frameLength),pts:o,dts:o};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(s),e.len+=a.frameLength,{sample:s,length:a.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,i=e[t+1]>>1&3,a=e[t+2]>>4&15,o=e[t+2]>>2&3,s=e[t+2]>>1&1;if(1!==r&&0!==a&&15!==a&&3!==o){var l=3===r?3-i:3===i?3:4,u=1e3*n.BitratesMap[14*l+a-1],c=3===r?0:2===r?1:2,f=n.SamplingRateMap[3*c+o],d=e[t+3]>>6==3?1:2,p=n.SamplesCoefficients[r][i],h=n.BytesInSlot[i],g=8*p*h;return{sampleRate:f,channelCount:d,frameLength:parseInt(p*u/f+s,10)*h,samplesPerFrame:g}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),n=4;r&&r.frameLength&&(n=r.frameLength);var i=t+n;if(i===e.length||i+1<e.length&&this.isHeaderPattern(e,i))return!0}return!1}};t.default=n},"./src/demux/sample-aes.js":
/*!*********************************!*\
  !*** ./src/demux/sample-aes.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),i=function(){function SampleAesDecrypter(e,t,r,i){this.decryptdata=r,this.discardEPB=i,this.decrypter=new n.default(e,t,{removePKCS7Padding:!1})}return SampleAesDecrypter.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},SampleAesDecrypter.prototype.decryptAacSample=function(e,t,r,n){var i=e[t].unit,a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,function(a){a=new Uint8Array(a),i.set(a,16),n||s.decryptAacSamples(e,t+1,r)})},SampleAesDecrypter.prototype.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,n),!n)return}}},SampleAesDecrypter.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),n=0,i=32;i<=e.length-16;i+=160,n+=16)r.set(e.subarray(i,i+16),n);return r},SampleAesDecrypter.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var r=0,n=32;n<=e.length-16;n+=160,r+=16)e.set(t.subarray(r,r+16),n);return e},SampleAesDecrypter.prototype.decryptAvcSample=function(e,t,r,n,i,a){var o=this.discardEPB(i.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,function(s){i.data=l.getAvcDecryptedUnit(o,s),a||l.decryptAvcSamples(e,t,r+1,n)})},SampleAesDecrypter.prototype.decryptAvcSamples=function(e,t,r,n){for(;;t++,r=0){if(t>=e.length)return void n();for(var i=e[t].units;!(r>=i.length);r++){var a=i[r];if(!(a.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,n,a,o),!o)return}}}},SampleAesDecrypter}();t.default=i},"./src/demux/tsdemuxer.js":
/*!********************************!*\
  !*** ./src/demux/tsdemuxer.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./adts */"./src/demux/adts.js"),i=r(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),a=r(/*! ../events */"./src/events.js"),o=r(/*! ./exp-golomb */"./src/demux/exp-golomb.js"),s=r(/*! ./sample-aes */"./src/demux/sample-aes.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=r(/*! ../errors */"./src/errors.js"),c={video:1,audio:2,id3:3,text:4},f=function(){function TSDemuxer(e,t,r,n){this.observer=e,this.config=r,this.typeSupported=n,this.remuxer=t,this.sampleAes=null}return TSDemuxer.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new s.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},TSDemuxer.probe=function(e){var t=TSDemuxer._syncOffset(e);return!(t<0)&&(t&&l.logger.warn("MPEG2-TS detected but first sync word found @ offset "+t+", junk ahead ?"),!0)},TSDemuxer._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return-1},TSDemuxer.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:c[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},TSDemuxer.prototype.resetInitSegment=function(e,t,r,n){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=TSDemuxer.createTrack("video",n),this._audioTrack=TSDemuxer.createTrack("audio",n),this._id3Track=TSDemuxer.createTrack("id3",n),this._txtTrack=TSDemuxer.createTrack("text",n),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=r,this._duration=n},TSDemuxer.prototype.resetTimeStamp=function(){},TSDemuxer.prototype.append=function(e,t,r,n){var i,o,s,c,f,d=e.length,p=!1;this.contiguous=r;var h=this.pmtParsed,g=this._avcTrack,m=this._audioTrack,y=this._id3Track,v=g.pid,_=m.pid,b=y.pid,E=this._pmtId,T=g.pesData,S=m.pesData,w=y.pesData,R=this._parsePAT,A=this._parsePMT,C=this._parsePES,x=this._parseAVCPES.bind(this),D=this._parseAACPES.bind(this),P=this._parseMPEGPES.bind(this),I=this._parseID3PES.bind(this),M=TSDemuxer._syncOffset(e);for(d-=(d+M)%188,i=M;i<d;i+=188)if(71===e[i]){if(o=!!(64&e[i+1]),s=((31&e[i+1])<<8)+e[i+2],(48&e[i+3])>>4>1){if((c=i+5+e[i+4])===i+188)continue}else c=i+4;switch(s){case v:o&&(T&&(f=C(T))&&void 0!==f.pts&&x(f,!1),T={data:[],size:0}),T&&(T.data.push(e.subarray(c,i+188)),T.size+=i+188-c);break;case _:o&&(S&&(f=C(S))&&void 0!==f.pts&&(m.isAAC?D(f):P(f)),S={data:[],size:0}),S&&(S.data.push(e.subarray(c,i+188)),S.size+=i+188-c);break;case b:o&&(w&&(f=C(w))&&void 0!==f.pts&&I(f),w={data:[],size:0}),w&&(w.data.push(e.subarray(c,i+188)),w.size+=i+188-c);break;case 0:o&&(c+=e[c]+1),E=this._pmtId=R(e,c);break;case E:o&&(c+=e[c]+1);var O=A(e,c,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(v=O.avc)>0&&(g.pid=v),(_=O.audio)>0&&(m.pid=_,m.isAAC=O.isAAC),(b=O.id3)>0&&(y.pid=b),p&&!h&&(l.logger.log("reparse from beginning"),p=!1,i=M-188),h=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});T&&(f=C(T))&&void 0!==f.pts?(x(f,!0),g.pesData=null):g.pesData=T,S&&(f=C(S))&&void 0!==f.pts?(m.isAAC?D(f):P(f),m.pesData=null):(S&&S.size&&l.logger.log("last AAC PES packet truncated,might overlap between fragments"),m.pesData=S),w&&(f=C(w))&&void 0!==f.pts?(I(f),y.pesData=null):y.pesData=w,null==this.sampleAes?this.remuxer.remux(m,g,y,this._txtTrack,t,r,n):this.decryptAndRemux(m,g,y,this._txtTrack,t,r,n)},TSDemuxer.prototype.decryptAndRemux=function(e,t,r,n,i,a,o){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,r,n,i,a,o)})}else this.decryptAndRemuxAvc(e,t,r,n,i,a,o)},TSDemuxer.prototype.decryptAndRemuxAvc=function(e,t,r,n,i,a,o){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,r,n,i,a,o)})}else this.remuxer.remux(e,t,r,n,i,a,o)},TSDemuxer.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},TSDemuxer.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},TSDemuxer.prototype._parsePMT=function(e,t,r,n){var i,a,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<i;){switch(a=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!n){l.logger.log("unkown stream type:"+e[t]);break}case 15:-1===o.audio&&(o.audio=a);break;case 21:-1===o.id3&&(o.id3=a);break;case 219:if(!n){l.logger.log("unkown stream type:"+e[t]);break}case 27:-1===o.avc&&(o.avc=a);break;case 3:case 4:r?-1===o.audio&&(o.audio=a,o.isAAC=!1):l.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:l.logger.warn("HEVC stream type found, not supported for now");break;default:l.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return o},TSDemuxer.prototype._parsePES=function(e){var t,r,n,i,a,o,s,u,c=0,f=e.data;if(!e||0===e.size)return null;for(;f[0].length<19&&f.length>1;){var d=new Uint8Array(f[0].length+f[1].length);d.set(f[0]),d.set(f[1],f[0].length),f[0]=d,f.splice(1,1)}if(1===((t=f[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;192&(r=t[7])&&((o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(o-=8589934592),64&r?((s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592),o-s>54e5&&(l.logger.warn(Math.round((o-s)/9e4)+"s delta between PTS and DTS, align them"),o=s)):s=o),u=(i=t[8])+9,e.size-=u,a=new Uint8Array(e.size);for(var p=0,h=f.length;p<h;p++){var g=(t=f[p]).byteLength;if(u){if(u>g){u-=g;continue}t=t.subarray(u),g-=u,u=0}a.set(t,c),c+=g}return n&&(n-=i+3),{data:a,pts:o,dts:s,len:n}}return null},TSDemuxer.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var r=t.samples,n=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(n||this.contiguous)?(e.id=n,r.push(e)):t.dropped++}e.debug.length&&l.logger.log(e.pts+"/"+e.dts+":"+e.debug)},TSDemuxer.prototype._parseAVCPES=function(e,t){var r,n,i,a=this,s=this._avcTrack,l=this._parseAVCNALu(e.data),u=this.avcSample,c=!1,f=this.pushAccesUnit.bind(this),d=function(e,t,r,n){return{key:e,pts:t,dts:r,units:[],debug:n}};e.data=null,u&&l.length&&!s.audFound&&(f(u,s),u=this.avcSample=d(!1,e.pts,e.dts,"")),l.forEach(function(t){switch(t.type){case 1:n=!0,u||(u=a.avcSample=d(!0,e.pts,e.dts,"")),u.frame=!0;var l=t.data;if(c&&l.length>4){var p=new o.default(l).readSliceType();2!==p&&4!==p&&7!==p&&9!==p||(u.key=!0)}break;case 5:n=!0,u||(u=a.avcSample=d(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:n=!0,(r=new o.default(a.discardEPB(t.data))).readUByte();for(var h=0,g=0,m=!1,y=0;!m&&r.bytesAvailable>1;){h=0;do{h+=y=r.readUByte()}while(255===y);g=0;do{g+=y=r.readUByte()}while(255===y);if(4===h&&0!==r.bytesAvailable){if(m=!0,181===r.readUByte())if(49===r.readUShort())if(1195456820===r.readUInt())if(3===r.readUByte()){var v=r.readUByte(),_=31&v,b=[v,r.readUByte()];for(i=0;i<_;i++)b.push(r.readUByte()),b.push(r.readUByte()),b.push(r.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:e.pts,bytes:b})}}else if(g<r.bytesAvailable)for(i=0;i<g;i++)r.readUByte()}break;case 7:if(n=!0,c=!0,!s.sps){var E=(r=new o.default(t.data)).readSPS();s.width=E.width,s.height=E.height,s.pixelRatio=E.pixelRatio,s.sps=[t.data],s.duration=a._duration;var T=t.data.subarray(1,4),S="avc1.";for(i=0;i<3;i++){var w=T[i].toString(16);w.length<2&&(w="0"+w),S+=w}s.codec=S}break;case 8:n=!0,s.pps||(s.pps=[t.data]);break;case 9:n=!1,s.audFound=!0,u&&f(u,s),u=a.avcSample=d(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}u&&n&&u.units.push(t)}),t&&u&&(f(u,s),this.avcSample=null)},TSDemuxer.prototype._insertSampleInOrder=function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var n=r-1;n>=0;n--)if(t.pts<e[n].pts){e.splice(n,0,t);break}}else e.push(t)},TSDemuxer.prototype._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var r=this._avcTrack.samples;t=r[r.length-1]}if(t){var n=t.units;e=n[n.length-1]}return e},TSDemuxer.prototype._parseAVCNALu=function(e){var t,r,n,i,a=0,o=e.byteLength,s=this._avcTrack,l=s.naluState||0,u=l,c=[],f=-1;for(-1===l&&(f=0,i=31&e[0],l=0,a=1);a<o;)if(t=e[a++],l)if(1!==l)if(t)if(1===t){var d,p;if(f>=0)n={data:e.subarray(f,a-l-1),type:i},c.push(n);else if(d=this._getLastNalUnit())if(u&&a<=4-u&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-u)),(r=a-l-1)>0)(p=new Uint8Array(d.data.byteLength+r)).set(d.data,0),p.set(e.subarray(0,r),d.data.byteLength),d.data=p;a<o?(f=a,i=31&e[a],l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;(f>=0&&l>=0&&(n={data:e.subarray(f,o),type:i,state:l},c.push(n)),0===c.length)&&((d=this._getLastNalUnit())&&((p=new Uint8Array(d.data.byteLength+e.byteLength)).set(d.data,0),p.set(e,d.data.byteLength),d.data=p));return s.naluState=l,c},TSDemuxer.prototype.discardEPB=function(e){for(var t,r,n=e.byteLength,i=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(i.push(a+2),a+=2):a++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===i[0]&&(o++,i.shift()),r[a]=e[o];return r},TSDemuxer.prototype._parseAACPES=function(e){var t,r,i,o,s,c=this._audioTrack,f=e.data,d=e.pts,p=this.aacOverFlow,h=this.aacLastPTS;if(p){var g=new Uint8Array(p.byteLength+f.byteLength);g.set(p,0),g.set(f,p.byteLength),f=g}for(i=0,s=f.length;i<s-1&&!n.isHeader(f,i);i++);if(i){var m=void 0,y=void 0;if(i<s-1?(m="AAC PES did not start with ADTS header,offset:"+i,y=!1):(m="no ADTS header found in AAC PES",y=!0),l.logger.warn("parsing error:"+m),this.observer.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:y,reason:m}),y)return}if(n.initTrackConfig(c,this.observer,f,i,this.audioCodec),r=0,t=n.getFrameDuration(c.samplerate),p&&h){var v=h+t;Math.abs(v-d)>1&&(l.logger.log("AAC: align PTS for overlapping frames by "+Math.round((v-d)/90)),d=v)}for(;i<s;)if(n.isHeader(f,i)&&i+5<s){var _=n.appendFrame(c,f,i,d,r);if(!_)break;i+=_.length,o=_.sample.pts,r++}else i++;p=i<s?f.subarray(i,s):null,this.aacOverFlow=p,this.aacLastPTS=o},TSDemuxer.prototype._parseMPEGPES=function(e){for(var t=e.data,r=t.length,n=0,a=0,o=e.pts;a<r;)if(i.default.isHeader(t,a)){var s=i.default.appendFrame(this._audioTrack,t,a,o,n);if(!s)break;a+=s.length,n++}else a++},TSDemuxer.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},TSDemuxer}();t.default=f},"./src/errors.js":
/*!***********************!*\
  !*** ./src/errors.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},t.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":
/*!******************************!*\
  !*** ./src/event-handler.js ***!
  \******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./utils/logger */"./src/utils/logger.js"),i=r(/*! ./errors */"./src/errors.js"),a=r(/*! ./events */"./src/events.js"),o={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},s=function(){function EventHandler(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.hls=e,this.onEvent=this.onEvent.bind(this),this.handledEvents=t,this.useGenericHandler=!0,this.registerListeners()}return EventHandler.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},EventHandler.prototype.onHandlerDestroying=function(){},EventHandler.prototype.onHandlerDestroyed=function(){},EventHandler.prototype.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},EventHandler.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if(o[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)},this)},EventHandler.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},EventHandler.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},EventHandler.prototype.onEventGeneric=function(e,t){try{(function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)}).call(this,e,t).call()}catch(t){n.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(a.default.ERROR,{type:i.ErrorTypes.OTHER_ERROR,details:i.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},EventHandler}();t.default=s},"./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":
/*!********************!*\
  !*** ./src/hls.js ***!
  \********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),o=r(/*! ./errors */"./src/errors.js"),s=r(/*! ./loader/playlist-loader */"./src/loader/playlist-loader.js"),l=r(/*! ./loader/fragment-loader */"./src/loader/fragment-loader.js"),u=r(/*! ./loader/key-loader */"./src/loader/key-loader.js"),c=r(/*! ./controller/fragment-tracker */"./src/controller/fragment-tracker.js"),f=r(/*! ./controller/stream-controller */"./src/controller/stream-controller.js"),d=r(/*! ./controller/level-controller */"./src/controller/level-controller.js"),p=r(/*! ./controller/id3-track-controller */"./src/controller/id3-track-controller.js"),h=r(/*! ./is-supported */"./src/is-supported.js"),g=r(/*! ./utils/logger */"./src/utils/logger.js"),m=r(/*! ./config */"./src/config.js"),y=r(/*! ./events */"./src/events.js"),v=function(e){function Hls(t){void 0===t&&(t={});var r=e.call(this)||this,n=Hls.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var i in n)i in t||(t[i]=n[i]);if(void 0!==t.liveMaxLatencyDurationCount&&t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(t.liveMaxLatencyDuration<=t.liveSyncDuration||void 0===t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');g.enableLogs(t.debug),r.config=t,r._autoLevelCapping=-1;var a=r.abrController=new t.abrController(r),o=new t.bufferController(r),h=new t.capLevelController(r),m=new t.fpsController(r),y=new s.default(r),v=new l.default(r),_=new u.default(r),b=new p.default(r),E=r.levelController=new d.default(r),T=new c.FragmentTracker(r),S=[E,r.streamController=new f.default(r,T)],w=t.audioStreamController;w&&S.push(new w(r,T)),r.networkControllers=S;var R=[y,v,_,a,o,h,m,b,T];if(w=t.audioTrackController){var A=new w(r);r.audioTrackController=A,R.push(A)}if(w=t.subtitleTrackController){var C=new w(r);r.subtitleTrackController=C,S.push(C)}if(w=t.emeController){var x=new w(r);r.emeController=x,R.push(x)}return(w=t.subtitleStreamController)&&S.push(new w(r,T)),(w=t.timelineController)&&R.push(new w(r)),r.coreComponents=R,r}return i(Hls,e),Object.defineProperty(Hls,"version",{get:function(){return"0.12.4"},enumerable:!0,configurable:!0}),Hls.isSupported=function(){return h.isSupported()},Object.defineProperty(Hls,"Events",{get:function(){return y.default},enumerable:!0,configurable:!0}),Object.defineProperty(Hls,"ErrorTypes",{get:function(){return o.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(Hls,"ErrorDetails",{get:function(){return o.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(Hls,"DefaultConfig",{get:function(){return Hls.defaultConfig?Hls.defaultConfig:m.hlsDefaultConfig},set:function(e){Hls.defaultConfig=e},enumerable:!0,configurable:!0}),Hls.prototype.destroy=function(){g.logger.log("destroy"),this.trigger(y.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},Hls.prototype.attachMedia=function(e){g.logger.log("attachMedia"),this.media=e,this.trigger(y.default.MEDIA_ATTACHING,{media:e})},Hls.prototype.detachMedia=function(){g.logger.log("detachMedia"),this.trigger(y.default.MEDIA_DETACHING),this.media=null},Hls.prototype.loadSource=function(e){e=a.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),g.logger.log("loadSource:"+e),this.url=e,this.trigger(y.default.MANIFEST_LOADING,{url:e})},Hls.prototype.startLoad=function(e){void 0===e&&(e=-1),g.logger.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},Hls.prototype.stopLoad=function(){g.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},Hls.prototype.swapAudioCodec=function(){g.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},Hls.prototype.recoverMediaError=function(){g.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},Object.defineProperty(Hls.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(e){g.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(e){g.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(e){g.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){g.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(e){g.logger.log("set startLevel:"+e);-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(e){g.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"minAutoLevel",{get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,r=e?e.length:0,n=0;n<r;n++){if((e[n].realBitrate?Math.max(e[n].realBitrate,e[n].bitrate):e[n].bitrate)>t)return n}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"maxAutoLevel",{get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"nextAutoLevel",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"audioTracks",{get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"audioTrack",{get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"subtitleTracks",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"subtitleTrack",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(Hls.prototype,"subtitleDisplay",{get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)},enumerable:!0,configurable:!0}),Hls}(r(/*! ./observer */"./src/observer.js").Observer);t.default=v},"./src/is-supported.js":
/*!*****************************!*\
  !*** ./src/is-supported.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./utils/mediasource-helper */"./src/utils/mediasource-helper.js");t.isSupported=function isSupported(){var e=n.getMediaSource(),t=window.SourceBuffer||window.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!r&&!!i}},"./src/loader/fragment-loader.js":
/*!***************************************!*\
  !*** ./src/loader/fragment-loader.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=function(t){function FragmentLoader(e){var r=t.call(this,e,a.default.FRAG_LOADING)||this;return r.loaders={},r}return i(FragmentLoader,t),FragmentLoader.prototype.destroy=function(){var e=this.loaders;for(var r in e){var n=e[r];n&&n.destroy()}this.loaders={},t.prototype.destroy.call(this)},FragmentLoader.prototype.onFragLoading=function(t){var r=t.frag,n=r.type,i=this.loaders,a=this.hls.config,o=a.fLoader,s=a.loader;r.loaded=0;var u,c,f,d=i[n];d&&(l.logger.warn("abort previous fragment loader for type: "+n),d.abort()),d=i[n]=r.loader=a.fLoader?new o(a):new s(a),u={url:r.url,frag:r,responseType:"arraybuffer",progressData:!1};var p=r.byteRangeStartOffset,h=r.byteRangeEndOffset;e.isFinite(p)&&e.isFinite(h)&&(u.rangeStart=p,u.rangeEnd=h),c={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:a.fragLoadingMaxRetryTimeout},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},d.load(u,c,f)},FragmentLoader.prototype.loadsuccess=function(e,t,r,n){void 0===n&&(n=null);var i=e.data,o=r.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(a.default.FRAG_LOADED,{payload:i,frag:o,stats:t,networkDetails:n})},FragmentLoader.prototype.loaderror=function(e,t,r){void 0===r&&(r=null);var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})},FragmentLoader.prototype.loadtimeout=function(e,t,r){void 0===r&&(r=null);var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})},FragmentLoader.prototype.loadprogress=function(e,t,r,n){void 0===n&&(n=null);var i=t.frag;i.loaded=e.loaded,this.hls.trigger(a.default.FRAG_LOAD_PROGRESS,{frag:i,stats:e,networkDetails:n})},FragmentLoader}(o.default);t.default=u}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/fragment.js":
/*!********************************!*\
  !*** ./src/loader/fragment.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),i=r(/*! ./level-key */"./src/loader/level-key.js"),a=function(){function Fragment(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((e={})[Fragment.ElementaryStreamTypes.AUDIO]=!1,e[Fragment.ElementaryStreamTypes.VIDEO]=!1,e)}return Object.defineProperty(Fragment,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=n.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var r=this.lastByteRangeEndOffset;e[0]=r||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"endProgramDateTime",{get:function(){if(!e.isFinite(this.programDateTime))return null;var t=e.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*t},enumerable:!0,configurable:!0}),Object.defineProperty(Fragment.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),Fragment.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},Fragment.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},Fragment.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},Fragment.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&((r=new i.default).method=e.method,r.baseuri=e.baseuri,r.reluri=e.reluri,r.iv=this.createInitializationVector(t)),r},Fragment}();t.default=a}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":
/*!**********************************!*\
  !*** ./src/loader/key-loader.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=function(e){function KeyLoader(t){var r=e.call(this,t,a.default.KEY_LOADING)||this;return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return i(KeyLoader,e),KeyLoader.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},o.default.prototype.destroy.call(this)},KeyLoader.prototype.onKeyLoading=function(e){var t=e.frag,r=t.type,n=this.loaders[r],i=t.decryptdata,o=i.uri;if(o!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;n&&(l.logger.warn("abort previous key loader for type:"+r),n.abort()),t.loader=this.loaders[r]=new s.loader(s),this.decrypturl=o,this.decryptkey=null;var u,c,f;u={url:o,frag:t,responseType:"arraybuffer"},c={timeout:s.fragLoadingTimeOut,maxRetry:0,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(u,c,f)}else this.decryptkey&&(i.key=this.decryptkey,this.hls.trigger(a.default.KEY_LOADED,{frag:t}))},KeyLoader.prototype.loadsuccess=function(e,t,r){var n=r.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(a.default.KEY_LOADED,{frag:n})},KeyLoader.prototype.loaderror=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},KeyLoader.prototype.loadtimeout=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},KeyLoader}(o.default);t.default=u},"./src/loader/level-key.js":
/*!*********************************!*\
  !*** ./src/loader/level-key.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),i=function(){function LevelKey(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(LevelKey.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=n.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),LevelKey}();t.default=i},"./src/loader/level.js":
/*!*****************************!*\
  !*** ./src/loader/level.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function Level(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}return Object.defineProperty(Level.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!e.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),Level}();t.default=r}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":
/*!***********************************!*\
  !*** ./src/loader/m3u8-parser.js ***!
  \***********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),i=r(/*! ./fragment */"./src/loader/fragment.js"),a=r(/*! ./level */"./src/loader/level.js"),o=r(/*! ./level-key */"./src/loader/level-key.js"),s=r(/*! ../utils/attr-list */"./src/utils/attr-list.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=r(/*! ../utils/codecs */"./src/utils/codecs.js"),c=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,f=/#EXT-X-MEDIA:(.*)/g,d=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),p=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,h=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function M3U8Parser(){}return M3U8Parser.findGroup=function(e,t){if(!e)return null;for(var r=null,n=0;n<e.length;n++){var i=e[n];i.id===t&&(r=i)}return r},M3U8Parser.convertAVC1ToAVCOTI=function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t},M3U8Parser.resolve=function(e,t){return n.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},M3U8Parser.parseMasterPlaylist=function(e,t){var r,n=[];function setCodecs(e,t){["video","audio"].forEach(function(r){var n=e.filter(function(e){return u.isCodecType(e,r)});if(n.length){var i=n.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});t[r+"Codec"]=i.length>0?i[0]:n[0],e=e.filter(function(e){return-1===n.indexOf(e)})}}),t.unknownCodecs=e}for(c.lastIndex=0;null!=(r=c.exec(e));){var i={},a=i.attrs=new s.default(r[1]);i.url=M3U8Parser.resolve(r[2],t);var o=a.decimalResolution("RESOLUTION");o&&(i.width=o.width,i.height=o.height),i.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),i.name=a.NAME,setCodecs([].concat((a.CODECS||"").split(/[ ,]+/)),i),i.videoCodec&&-1!==i.videoCodec.indexOf("avc1")&&(i.videoCodec=M3U8Parser.convertAVC1ToAVCOTI(i.videoCodec)),n.push(i)}return n},M3U8Parser.parseMasterPlaylistMedia=function(e,t,r,n){var i;void 0===n&&(n=[]);var a=[],o=0;for(f.lastIndex=0;null!==(i=f.exec(e));){var l={},u=new s.default(i[1]);if(u.TYPE===r){if(l.groupId=u["GROUP-ID"],l.name=u.NAME,l.type=r,l.default="YES"===u.DEFAULT,l.autoselect="YES"===u.AUTOSELECT,l.forced="YES"===u.FORCED,u.URI&&(l.url=M3U8Parser.resolve(u.URI,t)),l.lang=u.LANGUAGE,l.name||(l.name=l.lang),n.length){var c=M3U8Parser.findGroup(n,l.groupId);l.audioCodec=c?c.codec:n[0].codec}l.id=o++,a.push(l)}}return a},M3U8Parser.parseLevelPlaylist=function(t,r,n,u,c){var f,g,m=0,y=0,v=new a.default(r),_=new o.default,b=0,E=null,T=new i.default,S=null;for(d.lastIndex=0;null!==(f=d.exec(t));){var w=f[1];if(w){T.duration=parseFloat(w);var R=(" "+f[2]).slice(1);T.title=R||null,T.tagList.push(R?["INF",w,R]:["INF",w])}else if(f[3]){if(e.isFinite(T.duration)){var A=m++;T.type=u,T.start=y,T.levelkey=_,T.sn=A,T.level=n,T.cc=b,T.urlId=c,T.baseurl=r,T.relurl=(" "+f[3]).slice(1),assignProgramDateTime(T,E),v.fragments.push(T),E=T,y+=T.duration,T=new i.default}}else if(f[4]){if(T.rawByteRange=(" "+f[4]).slice(1),E){var C=E.byteRangeEndOffset;C&&(T.lastByteRangeEndOffset=C)}}else if(f[5])T.rawProgramDateTime=(" "+f[5]).slice(1),T.tagList.push(["PROGRAM-DATE-TIME",T.rawProgramDateTime]),null===S&&(S=v.fragments.length);else{for(f=f[0].match(p),g=1;g<f.length&&void 0===f[g];g++);var x=(" "+f[g+1]).slice(1),D=(" "+f[g+2]).slice(1);switch(f[g]){case"#":T.tagList.push(D?[x,D]:[x]);break;case"PLAYLIST-TYPE":v.type=x.toUpperCase();break;case"MEDIA-SEQUENCE":m=v.startSN=parseInt(x);break;case"TARGETDURATION":v.targetduration=parseFloat(x);break;case"VERSION":v.version=parseInt(x);break;case"EXTM3U":break;case"ENDLIST":v.live=!1;break;case"DIS":b++,T.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":b=parseInt(x);break;case"KEY":var P=x,I=new s.default(P),M=I.enumeratedString("METHOD"),O=I.URI,k=I.hexadecimalInteger("IV");M&&(_=new o.default,O&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(M)>=0&&(_.method=M,_.baseuri=r,_.reluri=O,_.key=null,_.iv=k));break;case"START":var L=x,N=new s.default(L).decimalFloatingPoint("TIME-OFFSET");e.isFinite(N)&&(v.startTimeOffset=N);break;case"MAP":var F=new s.default(x);T.relurl=F.URI,T.rawByteRange=F.BYTERANGE,T.baseurl=r,T.level=n,T.type=u,T.sn="initSegment",v.initSegment=T,(T=new i.default).rawProgramDateTime=v.initSegment.rawProgramDateTime;break;default:l.logger.warn("line parsed but not handled: "+f)}}}return(T=E)&&!T.relurl&&(v.fragments.pop(),y-=T.duration),v.totalduration=y,v.averagetargetduration=y/v.fragments.length,v.endSN=m-1,v.startCC=v.fragments[0]?v.fragments[0].cc:0,v.endCC=b,!v.initSegment&&v.fragments.length&&v.fragments.every(function(e){return h.test(e.relurl)})&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(T=new i.default).relurl=v.fragments[0].relurl,T.baseurl=r,T.level=n,T.type=u,T.sn="initSegment",v.initSegment=T,v.needSidxRanges=!0),S&&function backfillProgramDateTimes(e,t){for(var r=e[t],n=t-1;n>=0;n--){var i=e[n];i.programDateTime=r.programDateTime-1e3*i.duration,r=i}}(v.fragments,S),v},M3U8Parser}();function assignProgramDateTime(t,r){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):r&&r.programDateTime&&(t.programDateTime=r.endProgramDateTime),e.isFinite(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}t.default=g}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":
/*!***************************************!*\
  !*** ./src/loader/playlist-loader.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=r(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),c=r(/*! ./m3u8-parser */"./src/loader/m3u8-parser.js"),f=window.performance,d={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},p={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},h=function(t){function PlaylistLoader(e){var r=t.call(this,e,a.default.MANIFEST_LOADING,a.default.LEVEL_LOADING,a.default.AUDIO_TRACK_LOADING,a.default.SUBTITLE_TRACK_LOADING)||this;return r.loaders={},r}return i(PlaylistLoader,t),Object.defineProperty(PlaylistLoader,"ContextType",{get:function(){return d},enumerable:!0,configurable:!0}),Object.defineProperty(PlaylistLoader,"LevelType",{get:function(){return p},enumerable:!0,configurable:!0}),PlaylistLoader.canHaveQualityLevels=function(e){return e!==d.AUDIO_TRACK&&e!==d.SUBTITLE_TRACK},PlaylistLoader.mapContextToLevelType=function(e){switch(e.type){case d.AUDIO_TRACK:return p.AUDIO;case d.SUBTITLE_TRACK:return p.SUBTITLE;default:return p.MAIN}},PlaylistLoader.getResponseUrl=function(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r},PlaylistLoader.prototype.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,n=t.loader,i=new(r||n)(t);return e.loader=i,this.loaders[e.type]=i,i},PlaylistLoader.prototype.getInternalLoader=function(e){return this.loaders[e.type]},PlaylistLoader.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},PlaylistLoader.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},PlaylistLoader.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},PlaylistLoader.prototype.onManifestLoading=function(e){this.load(e.url,{type:d.MANIFEST,level:0,id:null})},PlaylistLoader.prototype.onLevelLoading=function(e){this.load(e.url,{type:d.LEVEL,level:e.level,id:e.id})},PlaylistLoader.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:d.AUDIO_TRACK,level:null,id:e.id})},PlaylistLoader.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:d.SUBTITLE_TRACK,level:null,id:e.id})},PlaylistLoader.prototype.load=function(e,t){var r=this.hls.config;l.logger.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var n,i,a,o,s=this.getInternalLoader(t);if(s){var u=s.context;if(u&&u.url===e)return l.logger.trace("playlist request ongoing"),!1;l.logger.warn("aborting previous loader for type: "+t.type),s.abort()}switch(t.type){case d.MANIFEST:n=r.manifestLoadingMaxRetry,i=r.manifestLoadingTimeOut,a=r.manifestLoadingRetryDelay,o=r.manifestLoadingMaxRetryTimeout;break;case d.LEVEL:n=0,i=r.levelLoadingTimeOut;break;default:n=r.levelLoadingMaxRetry,i=r.levelLoadingTimeOut,a=r.levelLoadingRetryDelay,o=r.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||"";var c={timeout:i,maxRetry:n,retryDelay:a,maxRetryDelay:o},f={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return l.logger.debug("Calling internal loader delegate for URL: "+e),s.load(t,c,f),!0},PlaylistLoader.prototype.loadsuccess=function(e,t,r,n){if(void 0===n&&(n=null),r.isSidxRequest)return this._handleSidxRequest(e,r),void this._handlePlaylistLoaded(e,t,r,n);this.resetInternalLoader(r.type);var i=e.data;t.tload=f.now(),0===i.indexOf("#EXTM3U")?i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,r,n):this._handleMasterPlaylist(e,t,r,n):this._handleManifestParsingError(e,r,"no EXTM3U delimiter",n)},PlaylistLoader.prototype.loaderror=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!1,e)},PlaylistLoader.prototype.loadtimeout=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!0)},PlaylistLoader.prototype._handleMasterPlaylist=function(e,t,r,n){var i=this.hls,o=e.data,s=PlaylistLoader.getResponseUrl(e,r),u=c.default.parseMasterPlaylist(o,s);if(u.length){var f=u.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),d=c.default.parseMasterPlaylistMedia(o,s,"AUDIO",f),p=c.default.parseMasterPlaylistMedia(o,s,"SUBTITLES");if(d.length){var h=!1;d.forEach(function(e){e.url||(h=!0)}),!1===h&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(l.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),d.unshift({type:"main",name:"main"}))}i.trigger(a.default.MANIFEST_LOADED,{levels:u,audioTracks:d,subtitles:p,url:s,stats:t,networkDetails:n})}else this._handleManifestParsingError(e,r,"no level found in manifest",n)},PlaylistLoader.prototype._handleTrackOrLevelPlaylist=function(t,r,n,i){var o=this.hls,s=n.id,l=n.level,u=n.type,p=PlaylistLoader.getResponseUrl(t,n),h=e.isFinite(s)?s:0,g=e.isFinite(l)?l:h,m=PlaylistLoader.mapContextToLevelType(n),y=c.default.parseLevelPlaylist(t.data,p,g,m,h);if(y.tload=r.tload,u===d.MANIFEST){var v={url:p,details:y};o.trigger(a.default.MANIFEST_LOADED,{levels:[v],audioTracks:[],url:p,stats:r,networkDetails:i})}if(r.tparsed=f.now(),y.needSidxRanges){var _=y.initSegment.url;this.load(_,{isSidxRequest:!0,type:u,level:l,levelDetails:y,id:s,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else n.levelDetails=y,this._handlePlaylistLoaded(t,r,n,i)},PlaylistLoader.prototype._handleSidxRequest=function(e,t){var r=u.default.parseSegmentIndex(new Uint8Array(e.data));if(r){var n=r.references,i=t.levelDetails;n.forEach(function(e,t){var r=e.info,n=i.fragments[t];0===n.byteRange.length&&(n.rawByteRange=String(1+r.end-r.start)+"@"+String(r.start))}),i.initSegment.rawByteRange=String(r.moovEndOffset)+"@0"}},PlaylistLoader.prototype._handleManifestParsingError=function(e,t,r,n){this.hls.trigger(a.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:r,networkDetails:n})},PlaylistLoader.prototype._handleNetworkError=function(e,t,r,n){var i,o;void 0===r&&(r=!1),void 0===n&&(n=null),l.logger.info("A network error occured while loading a "+e.type+"-type playlist");var u=this.getInternalLoader(e);switch(e.type){case d.MANIFEST:i=r?s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:s.ErrorDetails.MANIFEST_LOAD_ERROR,o=!0;break;case d.LEVEL:i=r?s.ErrorDetails.LEVEL_LOAD_TIMEOUT:s.ErrorDetails.LEVEL_LOAD_ERROR,o=!1;break;case d.AUDIO_TRACK:i=r?s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,o=!1;break;default:o=!1}u&&(u.abort(),this.resetInternalLoader(e.type));var c={type:s.ErrorTypes.NETWORK_ERROR,details:i,fatal:o,url:u.url,loader:u,context:e,networkDetails:t};n&&(c.response=n),this.hls.trigger(a.default.ERROR,c)},PlaylistLoader.prototype._handlePlaylistLoaded=function(e,t,r,n){var i=r.type,o=r.level,s=r.id,l=r.levelDetails;if(l.targetduration)if(PlaylistLoader.canHaveQualityLevels(r.type))this.hls.trigger(a.default.LEVEL_LOADED,{details:l,level:o||0,id:s||0,stats:t,networkDetails:n});else switch(i){case d.AUDIO_TRACK:this.hls.trigger(a.default.AUDIO_TRACK_LOADED,{details:l,id:s,stats:t,networkDetails:n});break;case d.SUBTITLE_TRACK:this.hls.trigger(a.default.SUBTITLE_TRACK_LOADED,{details:l,id:s,stats:t,networkDetails:n})}else this._handleManifestParsingError(e,r,"invalid target duration",n)},PlaylistLoader}(o.default);t.default=h}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/observer.js":
/*!*************************!*\
  !*** ./src/observer.js ***!
  \*************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function Observer(){return null!==e&&e.apply(this,arguments)||this}return i(Observer,e),Observer.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.emit.apply(this,[e,e].concat(t))},Observer}(r(/*! eventemitter3 */"./node_modules/eventemitter3/index.js").EventEmitter);t.Observer=a},"./src/polyfills/number.js":
/*!*********************************!*\
  !*** ./src/polyfills/number.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope().Number;t.Number=n,n.isFinite=n.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},"./src/remux/aac-helper.js":
/*!*********************************!*\
  !*** ./src/remux/aac-helper.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function AAC(){}return AAC.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},AAC}();t.default=n},"./src/remux/mp4-generator.js":
/*!************************************!*\
  !*** ./src/remux/mp4-generator.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Math.pow(2,32)-1,i=function(){function MP4(){}return MP4.init=function(){var e;for(e in MP4.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},MP4.types)MP4.types.hasOwnProperty(e)&&(MP4.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);MP4.HDLR_TYPES={video:t,audio:r};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);MP4.STTS=MP4.STSC=MP4.STCO=i,MP4.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),MP4.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),MP4.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),MP4.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),s=new Uint8Array([0,0,0,1]);MP4.FTYP=MP4.box(MP4.types.ftyp,a,s,a,o),MP4.DINF=MP4.box(MP4.types.dinf,MP4.box(MP4.types.dref,n))},MP4.box=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),n=8,i=r.length,a=i;i--;)n+=r[i].byteLength;for((t=new Uint8Array(n))[0]=n>>24&255,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=255&n,t.set(e,4),i=0,n=8;i<a;i++)t.set(r[i],n),n+=r[i].byteLength;return t},MP4.hdlr=function(e){return MP4.box(MP4.types.hdlr,MP4.HDLR_TYPES[e])},MP4.mdat=function(e){return MP4.box(MP4.types.mdat,e)},MP4.mdhd=function(e,t){t*=e;var r=Math.floor(t/(n+1)),i=Math.floor(t%(n+1));return MP4.box(MP4.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},MP4.mdia=function(e){return MP4.box(MP4.types.mdia,MP4.mdhd(e.timescale,e.duration),MP4.hdlr(e.type),MP4.minf(e))},MP4.mfhd=function(e){return MP4.box(MP4.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},MP4.minf=function(e){return"audio"===e.type?MP4.box(MP4.types.minf,MP4.box(MP4.types.smhd,MP4.SMHD),MP4.DINF,MP4.stbl(e)):MP4.box(MP4.types.minf,MP4.box(MP4.types.vmhd,MP4.VMHD),MP4.DINF,MP4.stbl(e))},MP4.moof=function(e,t,r){return MP4.box(MP4.types.moof,MP4.mfhd(e),MP4.traf(r,t))},MP4.moov=function(e){for(var t=e.length,r=[];t--;)r[t]=MP4.trak(e[t]);return MP4.box.apply(null,[MP4.types.moov,MP4.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(MP4.mvex(e)))},MP4.mvex=function(e){for(var t=e.length,r=[];t--;)r[t]=MP4.trex(e[t]);return MP4.box.apply(null,[MP4.types.mvex].concat(r))},MP4.mvhd=function(e,t){t*=e;var r=Math.floor(t/(n+1)),i=Math.floor(t%(n+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return MP4.box(MP4.types.mvhd,a)},MP4.sdtp=function(e){var t,r,n=e.samples||[],i=new Uint8Array(4+n.length);for(r=0;r<n.length;r++)t=n[r].flags,i[r+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return MP4.box(MP4.types.sdtp,i)},MP4.stbl=function(e){return MP4.box(MP4.types.stbl,MP4.stsd(e),MP4.box(MP4.types.stts,MP4.STTS),MP4.box(MP4.types.stsc,MP4.STSC),MP4.box(MP4.types.stsz,MP4.STSZ),MP4.box(MP4.types.stco,MP4.STCO))},MP4.avc1=function(e){var t,r,n,i=[],a=[];for(t=0;t<e.sps.length;t++)n=(r=e.sps[t]).byteLength,i.push(n>>>8&255),i.push(255&n),i=i.concat(Array.prototype.slice.call(r));for(t=0;t<e.pps.length;t++)n=(r=e.pps[t]).byteLength,a.push(n>>>8&255),a.push(255&n),a=a.concat(Array.prototype.slice.call(r));var o=MP4.box(MP4.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(a))),s=e.width,l=e.height,u=e.pixelRatio[0],c=e.pixelRatio[1];return MP4.box(MP4.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,MP4.box(MP4.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),MP4.box(MP4.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,c>>24,c>>16&255,c>>8&255,255&c])))},MP4.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},MP4.mp4a=function(e){var t=e.samplerate;return MP4.box(MP4.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0]),MP4.box(MP4.types.esds,MP4.esds(e)))},MP4.mp3=function(e){var t=e.samplerate;return MP4.box(MP4.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,255&t,0,0]))},MP4.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?MP4.box(MP4.types.stsd,MP4.STSD,MP4.mp4a(e)):MP4.box(MP4.types.stsd,MP4.STSD,MP4.mp3(e)):MP4.box(MP4.types.stsd,MP4.STSD,MP4.avc1(e))},MP4.tkhd=function(e){var t=e.id,r=e.duration*e.timescale,i=e.width,a=e.height,o=Math.floor(r/(n+1)),s=Math.floor(r%(n+1));return MP4.box(MP4.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))},MP4.traf=function(e,t){var r=MP4.sdtp(e),i=e.id,a=Math.floor(t/(n+1)),o=Math.floor(t%(n+1));return MP4.box(MP4.types.traf,MP4.box(MP4.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),MP4.box(MP4.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),MP4.trun(e,r.length+16+20+8+16+8+8),r)},MP4.trak=function(e){return e.duration=e.duration||4294967295,MP4.box(MP4.types.trak,MP4.tkhd(e),MP4.mdia(e))},MP4.trex=function(e){var t=e.id;return MP4.box(MP4.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},MP4.trun=function(e,t){var r,n,i,a,o,s,l=e.samples||[],u=l.length,c=12+16*u,f=new Uint8Array(c);for(t+=8+c,f.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0),r=0;r<u;r++)i=(n=l[r]).duration,a=n.size,o=n.flags,s=n.cts,f.set([i>>>24&255,i>>>16&255,i>>>8&255,255&i,a>>>24&255,a>>>16&255,a>>>8&255,255&a,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,s>>>24&255,s>>>16&255,s>>>8&255,255&s],12+16*r);return MP4.box(MP4.types.trun,f)},MP4.initSegment=function(e){MP4.types||MP4.init();var t,r=MP4.moov(e);return(t=new Uint8Array(MP4.FTYP.byteLength+r.byteLength)).set(MP4.FTYP),t.set(r,MP4.FTYP.byteLength),t},MP4}();t.default=i},"./src/remux/mp4-remuxer.js":
/*!**********************************!*\
  !*** ./src/remux/mp4-remuxer.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./aac-helper */"./src/remux/aac-helper.js"),i=r(/*! ./mp4-generator */"./src/remux/mp4-generator.js"),a=r(/*! ../events */"./src/events.js"),o=r(/*! ../errors */"./src/errors.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),l=function(){function MP4Remuxer(e,t,r,n){this.observer=e,this.config=t,this.typeSupported=r;var i=navigator.userAgent;this.isSafari=n&&n.indexOf("Apple")>-1&&i&&!i.match("CriOS"),this.ISGenerated=!1}return MP4Remuxer.prototype.destroy=function(){},MP4Remuxer.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},MP4Remuxer.prototype.resetInitSegment=function(){this.ISGenerated=!1},MP4Remuxer.prototype.remux=function(e,t,r,n,i,o,l){if(this.ISGenerated||this.generateIS(e,t,i),this.ISGenerated){var u=e.samples.length,c=t.samples.length,f=i,d=i;if(u&&c){var p=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;f+=Math.max(0,p),d+=Math.max(0,-p)}if(u){e.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,i));var h=this.remuxAudio(e,f,o,l);if(c){var g=void 0;h&&(g=h.endPTS-h.startPTS),t.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,i)),this.remuxVideo(t,d,o,g,l)}}else if(c){var m=this.remuxVideo(t,d,o,0,l);m&&e.codec&&this.remuxEmptyAudio(e,f,o,m)}}r.samples.length&&this.remuxID3(r,i),n.samples.length&&this.remuxText(n,i),this.observer.trigger(a.default.FRAG_PARSED)},MP4Remuxer.prototype.generateIS=function(e,t,r){var n,l,u=this.observer,c=e.samples,f=t.samples,d=this.typeSupported,p="audio/mp4",h={},g={tracks:h},m=void 0===this._initPTS;if(m&&(n=l=1/0),e.config&&c.length&&(e.timescale=e.samplerate,s.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(d.mpeg?(p="audio/mpeg",e.codec=""):d.mp3&&(e.codec="mp3")),h.audio={container:p,codec:e.codec,initSegment:!e.isAAC&&d.mpeg?new Uint8Array:i.default.initSegment([e]),metadata:{channelCount:e.channelCount}},m&&(n=l=c[0].pts-e.inputTimeScale*r)),t.sps&&t.pps&&f.length){var y=t.inputTimeScale;t.timescale=y,h.video={container:"video/mp4",codec:t.codec,initSegment:i.default.initSegment([t]),metadata:{width:t.width,height:t.height}},m&&(n=Math.min(n,f[0].pts-y*r),l=Math.min(l,f[0].dts-y*r),this.observer.trigger(a.default.INIT_PTS_FOUND,{initPTS:n}))}Object.keys(h).length?(u.trigger(a.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,m&&(this._initPTS=n,this._initDTS=l)):u.trigger(a.default.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},MP4Remuxer.prototype.remuxVideo=function(e,t,r,n,l){var u,c,f,d,p,h,g,m=8,y=e.timescale,v=e.samples,_=[],b=v.length,E=this._PTSNormalize,T=this._initPTS,S=this.nextAvcDts,w=this.isSafari;if(0!==b){w&&(r|=v.length&&S&&(l&&Math.abs(t-S/y)<.1||Math.abs(v[0].pts-S-T)<y/5)),r||(S=t*y),v.forEach(function(e){e.pts=E(e.pts-T,S),e.dts=E(e.dts-T,S)}),v.sort(function(e,t){var r=e.dts-t.dts,n=e.pts-t.pts;return r||n||e.id-t.id});var R=v.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(R<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(R/90)+" ms to overcome this issue");for(var A=0;A<v.length;A++)v[A].dts+=R}var C=v[0];p=Math.max(C.dts,0),d=Math.max(C.pts,0);var x=Math.round((p-S)/90);r&&x&&(x>1?s.logger.log("AVC:"+x+" ms hole between fragments detected,filling it"):x<-1&&s.logger.log("AVC:"+-x+" ms overlapping between fragments detected"),p=S,v[0].dts=p,d=Math.max(d-x,S),v[0].pts=d,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(d/90)+"/"+Math.round(p/90)+",delta:"+x+" ms")),C=v[v.length-1],g=Math.max(C.dts,0),h=Math.max(C.pts,0,g),w&&(u=Math.round((g-p)/(v.length-1)));var D=0,P=0;for(A=0;A<b;A++){for(var I=v[A],M=I.units,O=M.length,k=0,L=0;L<O;L++)k+=M[L].data.length;P+=k,D+=O,I.length=k,I.dts=w?p+A*u:Math.max(I.dts,p),I.pts=Math.max(I.pts,I.dts)}var N=P+4*D+8;try{c=new Uint8Array(N)}catch(e){return void this.observer.trigger(a.default.ERROR,{type:o.ErrorTypes.MUX_ERROR,details:o.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var F=new DataView(c.buffer);F.setUint32(0,N),c.set(i.default.types.mdat,4);for(A=0;A<b;A++){var B=v[A],U=B.units,j=0,q=void 0;for(L=0,O=U.length;L<O;L++){var G=U[L],H=G.data,V=G.data.byteLength;F.setUint32(m,V),m+=4,c.set(H,m),m+=V,j+=4+V}if(w)q=Math.max(0,u*Math.round((B.pts-B.dts)/u));else{if(A<b-1)u=v[A+1].dts-B.dts;else{var z=this.config,K=B.dts-v[A>0?A-1:A].dts;if(z.stretchShortVideoTrack){var W=z.maxBufferHole,Y=Math.floor(W*y),X=(n?d+n*y:this.nextAudioPts)-B.pts;X>Y?((u=X-K)<0&&(u=K),s.logger.log("It is approximately "+X/90+" ms to the next segment; using duration "+u/90+" ms for the last video frame.")):u=K}else u=K}q=Math.round(B.pts-B.dts)}_.push({size:j,duration:u,cts:q,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:B.key?2:1,isNonSync:B.key?0:1}})}this.nextAvcDts=g+u;var Q=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,_.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var $=_[0].flags;$.dependsOn=2,$.isNonSync=0}e.samples=_,f=i.default.moof(e.sequenceNumber++,p,e),e.samples=[];var J={data1:f,data2:c,startPTS:d/y,endPTS:(h+u)/y,startDTS:p/y,endDTS:this.nextAvcDts/y,type:"video",hasAudio:!1,hasVideo:!0,nb:_.length,dropped:Q};return this.observer.trigger(a.default.FRAG_PARSING_DATA,J),J}},MP4Remuxer.prototype.remuxAudio=function(e,t,r,l){var u,c,f,d,p,h,g,m=e.inputTimeScale,y=e.timescale,v=m/y,_=(e.isAAC?1024:1152)*v,b=this._PTSNormalize,E=this._initPTS,T=!e.isAAC&&this.typeSupported.mpeg,S=e.samples,w=[],R=this.nextAudioPts;if(r|=S.length&&R&&(l&&Math.abs(t-R/m)<.1||Math.abs(S[0].pts-R-E)<20*_),S.forEach(function(e){e.pts=e.dts=b(e.pts-E,t*m)}),0!==(S=S.filter(function(e){return e.pts>=0})).length){if(r||(R=l?t*m:S[0].pts),e.isAAC)for(var A=this.config.maxAudioFramesDrift,C=0,x=R;C<S.length;){var D,P=S[C];D=(B=P.pts)-x;var I=Math.abs(1e3*D/m);if(D<=-A*_)s.logger.warn("Dropping 1 audio frame @ "+(x/m).toFixed(3)+"s due to "+Math.round(I)+" ms overlap."),S.splice(C,1),e.len-=P.unit.length;else if(D>=A*_&&I<1e4&&x){var M=Math.round(D/_);s.logger.warn("Injecting "+M+" audio frame @ "+(x/m).toFixed(3)+"s due to "+Math.round(1e3*D/m)+" ms gap.");for(var O=0;O<M;O++){var k=Math.max(x,0);(f=n.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),f=P.unit.subarray()),S.splice(C,0,{unit:f,pts:k,dts:k}),e.len+=f.length,x+=_,C++}P.pts=P.dts=x,x+=_,C++}else Math.abs(D),P.pts=P.dts=x,x+=_,C++}O=0;for(var L=S.length;O<L;O++){var N=S[O],F=N.unit,B=N.pts;if(void 0!==g)c.duration=Math.round((B-g)/v);else{var U=Math.round(1e3*(B-R)/m),j=0;if(r&&e.isAAC&&U){if(U>0&&U<1e4)j=Math.round((B-R)/_),s.logger.log(U+" ms hole between AAC samples detected,filling it"),j>0&&((f=n.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(f=F.subarray()),e.len+=j*f.length);else if(U<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(R/m).toFixed(3)+"s/"+(B/m).toFixed(3)+"s/"+-U+"ms"),e.len-=F.byteLength;continue}B=R}if(h=B,!(e.len>0))return;var q=T?e.len:e.len+8;u=T?0:8;try{d=new Uint8Array(q)}catch(e){return void this.observer.trigger(a.default.ERROR,{type:o.ErrorTypes.MUX_ERROR,details:o.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:q,reason:"fail allocating audio mdat "+q})}T||(new DataView(d.buffer).setUint32(0,q),d.set(i.default.types.mdat,4));for(C=0;C<j;C++)(f=n.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),f=F.subarray()),d.set(f,u),u+=f.byteLength,c={size:f.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(c)}d.set(F,u);var G=F.byteLength;u+=G,c={size:G,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},w.push(c),g=B}var H=0,V=w.length;if(V>=2&&(H=w[V-2].duration,c.duration=H),V){this.nextAudioPts=R=g+v*H,e.len=0,e.samples=w,p=T?new Uint8Array:i.default.moof(e.sequenceNumber++,h/v,e),e.samples=[];var z=h/m,K=R/m,W={data1:p,data2:d,startPTS:z,endPTS:K,startDTS:z,endDTS:K,type:"audio",hasAudio:!0,hasVideo:!1,nb:V};return this.observer.trigger(a.default.FRAG_PARSING_DATA,W),W}return null}},MP4Remuxer.prototype.remuxEmptyAudio=function(e,t,r,i){var a=e.inputTimeScale,o=a/(e.samplerate?e.samplerate:a),l=this.nextAudioPts,u=(void 0!==l?l:i.startDTS*a)+this._initDTS,c=i.endDTS*a+this._initDTS,f=1024*o,d=Math.ceil((c-u)/f),p=n.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(s.logger.warn("remux empty Audio"),p){for(var h=[],g=0;g<d;g++){var m=u+g*f;h.push({unit:p,pts:m,dts:m}),e.len+=p.length}e.samples=h,this.remuxAudio(e,t,r)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},MP4Remuxer.prototype.remuxID3=function(e){var t,r=e.samples.length,n=e.inputTimeScale,i=this._initPTS,o=this._initDTS;if(r){for(var s=0;s<r;s++)(t=e.samples[s]).pts=(t.pts-i)/n,t.dts=(t.dts-o)/n;this.observer.trigger(a.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},MP4Remuxer.prototype.remuxText=function(e){e.samples.sort(function(e,t){return e.pts-t.pts});var t,r=e.samples.length,n=e.inputTimeScale,i=this._initPTS;if(r){for(var o=0;o<r;o++)(t=e.samples[o]).pts=(t.pts-i)/n;this.observer.trigger(a.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},MP4Remuxer.prototype._PTSNormalize=function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e},MP4Remuxer}();t.default=l},"./src/remux/passthrough-remuxer.js":
/*!******************************************!*\
  !*** ./src/remux/passthrough-remuxer.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),i=function(){function PassThroughRemuxer(e){this.observer=e}return PassThroughRemuxer.prototype.destroy=function(){},PassThroughRemuxer.prototype.resetTimeStamp=function(){},PassThroughRemuxer.prototype.resetInitSegment=function(){},PassThroughRemuxer.prototype.remux=function(e,t,r,i,a,o,s,l){var u=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),u.trigger(n.default.FRAG_PARSING_DATA,{data1:l,startPTS:a,startDTS:a,type:c,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),u.trigger(n.default.FRAG_PARSED)},PassThroughRemuxer}();t.default=i},"./src/task-loop.js":
/*!**************************!*\
  !*** ./src/task-loop.js ***!
  \**************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function TaskLoop(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=e.apply(this,[t].concat(r))||this;return i._tickInterval=null,i._tickTimer=null,i._tickCallCount=0,i._boundTick=i.tick.bind(i),i}return i(TaskLoop,e),TaskLoop.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},TaskLoop.prototype.hasInterval=function(){return!!this._tickInterval},TaskLoop.prototype.hasNextTick=function(){return!!this._tickTimer},TaskLoop.prototype.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)},TaskLoop.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},TaskLoop.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},TaskLoop.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},TaskLoop.prototype.doTick=function(){},TaskLoop}(r(/*! ./event-handler */"./src/event-handler.js").default);t.default=a},"./src/utils/attr-list.js":
/*!********************************!*\
  !*** ./src/utils/attr-list.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=/^(\d+)x(\d+)$/,n=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,i=function(){function AttrList(e){for(var t in"string"==typeof e&&(e=AttrList.parseAttrList(e)),e)e.hasOwnProperty(t)&&(this[t]=e[t])}return AttrList.prototype.decimalInteger=function(t){var r=parseInt(this[t],10);return r>e.MAX_SAFE_INTEGER?1/0:r},AttrList.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null},AttrList.prototype.hexadecimalIntegerAsNumber=function(t){var r=parseInt(this[t],16);return r>e.MAX_SAFE_INTEGER?1/0:r},AttrList.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},AttrList.prototype.enumeratedString=function(e){return this[e]},AttrList.prototype.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},AttrList.parseAttrList=function(e){var t,r={};for(n.lastIndex=0;null!==(t=n.exec(e));){var i=t[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),r[t[1]]=i}return r},AttrList}();t.default=i}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":
/*!************************************!*\
  !*** ./src/utils/binary-search.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={search:function(e,t){for(var r=0,n=e.length-1,i=null,a=null;r<=n;){var o=t(a=e[i=(r+n)/2|0]);if(o>0)r=i+1;else{if(!(o<0))return a;n=i-1}}return null}}},"./src/utils/buffer-helper.js":
/*!************************************!*\
  !*** ./src/utils/buffer-helper.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function BufferHelper(){}return BufferHelper.isBuffered=function(e,t){try{if(e)for(var r=e.buffered,n=0;n<r.length;n++)if(t>=r.start(n)&&t<=r.end(n))return!0}catch(e){}return!1},BufferHelper.bufferInfo=function(e,t,r){try{if(e){var n=e.buffered,i=[],a=void 0;for(a=0;a<n.length;a++)i.push({start:n.start(a),end:n.end(a)});return this.bufferedInfo(i,t,r)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},BufferHelper.bufferedInfo=function(e,t,r){var n,i,a,o,s,l=[];for(e.sort(function(e,t){var r=e.start-t.start;return r||t.end-e.end}),s=0;s<e.length;s++){var u=l.length;if(u){var c=l[u-1].end;e[s].start-c<r?e[s].end>c&&(l[u-1].end=e[s].end):l.push(e[s])}else l.push(e[s])}for(s=0,n=0,i=a=t;s<l.length;s++){var f=l[s].start,d=l[s].end;if(t+r>=f&&t<d)i=f,n=(a=d)-t;else if(t+r<f){o=f;break}}return{len:n,start:i,end:a,nextStart:o}},BufferHelper}();t.BufferHelper=n},"./src/utils/cea-608-parser.js":
/*!*************************************!*\
  !*** ./src/utils/cea-608-parser.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},i=function(e){var t=e;return n.hasOwnProperty(e)&&(t=n[e]),String.fromCharCode(t)},a=15,o=100,s={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},l={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},f=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],d={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e];this.verboseLevel}},p=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},h=function(){function PenState(e,t,r,n,i){this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1}return PenState.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},PenState.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}},PenState.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},PenState.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},PenState.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},PenState.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},PenState}(),g=function(){function StyledUnicodeChar(e,t,r,n,i,a){this.uchar=e||" ",this.penState=new h(t,r,n,i,a)}return StyledUnicodeChar.prototype.reset=function(){this.uchar=" ",this.penState.reset()},StyledUnicodeChar.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},StyledUnicodeChar.prototype.setPenState=function(e){this.penState.copy(e)},StyledUnicodeChar.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},StyledUnicodeChar.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},StyledUnicodeChar.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},StyledUnicodeChar}(),m=function(){function Row(){this.chars=[];for(var e=0;e<o;e++)this.chars.push(new g);this.pos=0,this.currPenState=new h}return Row.prototype.equals=function(e){for(var t=!0,r=0;r<o;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},Row.prototype.copy=function(e){for(var t=0;t<o;t++)this.chars[t].copy(e.chars[t])},Row.prototype.isEmpty=function(){for(var e=!0,t=0;t<o;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},Row.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(d.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>o&&(d.log("ERROR","Too large cursor position "+this.pos),this.pos=o)},Row.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},Row.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},Row.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=i(e);this.pos>=o?d.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},Row.prototype.clearFromPos=function(e){var t;for(t=e;t<o;t++)this.chars[t].reset()},Row.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},Row.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},Row.prototype.getTextString=function(){for(var e=[],t=!0,r=0;r<o;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},Row.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},Row}(),y=function(){function CaptionScreen(){this.rows=[];for(var e=0;e<a;e++)this.rows.push(new m);this.currRow=a-1,this.nrRollUpRows=null,this.reset()}return CaptionScreen.prototype.reset=function(){for(var e=0;e<a;e++)this.rows[e].clear();this.currRow=a-1},CaptionScreen.prototype.equals=function(e){for(var t=!0,r=0;r<a;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},CaptionScreen.prototype.copy=function(e){for(var t=0;t<a;t++)this.rows[t].copy(e.rows[t])},CaptionScreen.prototype.isEmpty=function(){for(var e=!0,t=0;t<a;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},CaptionScreen.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},CaptionScreen.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},CaptionScreen.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},CaptionScreen.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},CaptionScreen.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},CaptionScreen.prototype.setCursor=function(e){d.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},CaptionScreen.prototype.setPAC=function(e){d.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<a;r++)this.rows[r].clear();var n=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var o=i.rows[n].cueStartTime;if(o&&o<d.time)for(r=0;r<this.nrRollUpRows;r++)this.rows[t-this.nrRollUpRows+r+1].copy(i.rows[n+r])}}this.currRow=t;var s=this.rows[this.currRow];if(null!==e.indent){var l=e.indent,u=Math.max(l-1,0);s.setCursor(e.indent),e.color=s.chars[u].penState.foreground}var c={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(c)},CaptionScreen.prototype.setBkgData=function(e){d.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},CaptionScreen.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},CaptionScreen.prototype.rollUp=function(){if(null!==this.nrRollUpRows){d.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),d.log("INFO","Rolling up")}else d.log("DEBUG","roll_up but nrRollUpRows not set yet")},CaptionScreen.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],r="",n=-1,i=0;i<a;i++){var o=this.rows[i].getTextString();o&&(n=i+1,e?t.push("Row "+n+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},CaptionScreen.prototype.getTextAndFormat=function(){return this.rows},CaptionScreen}(),v=function(){function Cea608Channel(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new y,this.nonDisplayedMemory=new y,this.lastOutputScreen=new y,this.currRollUpRow=this.displayedMemory.rows[a-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return Cea608Channel.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[a-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},Cea608Channel.prototype.getHandler=function(){return this.outputFilter},Cea608Channel.prototype.setHandler=function(e){this.outputFilter=e},Cea608Channel.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},Cea608Channel.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},Cea608Channel.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,d.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},Cea608Channel.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";d.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(d.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},Cea608Channel.prototype.ccRCL=function(){d.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},Cea608Channel.prototype.ccBS=function(){d.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},Cea608Channel.prototype.ccAOF=function(){},Cea608Channel.prototype.ccAON=function(){},Cea608Channel.prototype.ccDER=function(){d.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},Cea608Channel.prototype.ccRU=function(e){d.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},Cea608Channel.prototype.ccFON=function(){d.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},Cea608Channel.prototype.ccRDC=function(){d.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},Cea608Channel.prototype.ccTR=function(){d.log("INFO","TR"),this.setMode("MODE_TEXT")},Cea608Channel.prototype.ccRTD=function(){d.log("INFO","RTD"),this.setMode("MODE_TEXT")},Cea608Channel.prototype.ccEDM=function(){d.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},Cea608Channel.prototype.ccCR=function(){d.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},Cea608Channel.prototype.ccENM=function(){d.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},Cea608Channel.prototype.ccEOC=function(){if(d.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,d.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},Cea608Channel.prototype.ccTO=function(e){d.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},Cea608Channel.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}d.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},Cea608Channel.prototype.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=d.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},Cea608Channel.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},Cea608Channel}(),_=function(){function Cea608Parser(e,t,r){this.field=e||1,this.outputs=[t,r],this.channels=[new v(1,t),new v(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return Cea608Parser.prototype.getHandler=function(e){return this.channels[e].getHandler()},Cea608Parser.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},Cea608Parser.prototype.addData=function(e,t){var r,n,i,a=!1;this.lastTime=e,d.setTime(e);for(var o=0;o<t.length;o+=2)if(n=127&t[o],i=127&t[o+1],0!==n||0!==i){if(d.log("DATA","["+p([t[o],t[o+1]])+"] -> ("+p([n,i])+")"),(r=this.parseCmd(n,i))||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),!r)if(a=this.parseChars(n,i))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(a);else d.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,d.log("WARNING","Couldn't parse cleaned data "+p([n,i])+" orig: "+p([t[o],t[o+1]])))}else this.dataCounters.padding+=2},Cea608Parser.prototype.parseCmd=function(e,t){var r=null;if(!((20===e||28===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,d.log("DEBUG","Repeated command ("+p([e,t])+") is dropped"),!0;r=20===e||23===e?1:2;var n=this.channels[r-1];return 20===e||28===e?32===t?n.ccRCL():33===t?n.ccBS():34===t?n.ccAOF():35===t?n.ccAON():36===t?n.ccDER():37===t?n.ccRU(2):38===t?n.ccRU(3):39===t?n.ccRU(4):40===t?n.ccFON():41===t?n.ccRDC():42===t?n.ccTR():43===t?n.ccRTD():44===t?n.ccEDM():45===t?n.ccCR():46===t?n.ccENM():47===t&&n.ccEOC():n.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},Cea608Parser.prototype.parseMidrow=function(e,t){var r=null;return(17===e||25===e)&&t>=32&&t<=47&&((r=17===e?1:2)!==this.currChNr?(d.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[r-1].ccMIDROW(t),d.log("DEBUG","MIDROW ("+p([e,t])+")"),!0))},Cea608Parser.prototype.parsePAC=function(e,t){var r,n=null;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=e<=23?1:2,n=t>=64&&t<=95?1===r?s[e]:u[e]:1===r?l[e]:c[e];var i=this.interpretPAC(n,t);return this.channels[r-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},Cea608Parser.prototype.interpretPAC=function(e,t){var r=t,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1==(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},Cea608Parser.prototype.parseChars=function(e,t){var r=null,n=null,a=null;if(e>=25?(r=2,a=e-8):(r=1,a=e),a>=17&&a<=19){var o=t;o=17===a?t+80:18===a?t+112:t+144,d.log("INFO","Special char '"+i(o)+"' in channel "+r),n=[o]}else e>=32&&e<=127&&(n=0===t?[e]:[e,t]);if(n){var s=p(n);d.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return n},Cea608Parser.prototype.parseBackgroundAttributes=function(e,t){var r,n,i;return((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47)&&(r={},16===e||24===e?(n=Math.floor((t-32)/2),r.background=f[n],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),i=e<24?1:2,this.channels[i-1].setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},Cea608Parser.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},Cea608Parser.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},Cea608Parser}();t.default=_},"./src/utils/codecs.js":
/*!*****************************!*\
  !*** ./src/utils/codecs.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};t.isCodecType=function isCodecType(e,t){var r=n[t];return!!r&&!0===r[e.slice(0,4)]},t.isCodecSupportedInMp4=function isCodecSupportedInMp4(e,t){return window.MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.js":
/*!***************************!*\
  !*** ./src/utils/cues.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./vttparser */"./src/utils/vttparser.js");t.newCue=function newCue(e,t,r,i){for(var a,o,s,l,u,c=window.VTTCue||window.TextTrackCue,f=0;f<i.rows.length;f++)if(s=!0,l=0,u="",!(a=i.rows[f]).isEmpty()){for(var d=0;d<a.chars.length;d++)a.chars[d].uchar.match(/\s/)&&s?l++:(u+=a.chars[d].uchar,s=!1);a.cueStartTime=t,t===r&&(r+=1e-4),o=new c(t,r,n.fixLineBreaks(u.trim())),l>=16?l--:l++,navigator.userAgent.match(/Firefox\//)?o.line=f+1:o.line=f>7?f-2:f+1,o.align="left",o.position=Math.max(0,Math.min(100,l/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(o)}}},"./src/utils/discontinuities.js":
/*!**************************************!*\
  !*** ./src/utils/discontinuities.js ***!
  \**************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./binary-search */"./src/utils/binary-search.js"),i=r(/*! ../utils/logger */"./src/utils/logger.js");function findFirstFragWithCC(e,t){for(var r=null,n=0;n<e.length;n+=1){var i=e[n];if(i&&i.cc===t){r=i;break}}return r}function shouldAlignOnDiscontinuities(e,t,r){var n=!1;return t&&t.details&&r&&(r.endCC>r.startCC||e&&e.cc<r.startCC)&&(n=!0),n}function findDiscontinuousReferenceFrag(e,t){var r=e.fragments,n=t.fragments;if(n.length&&r.length){var a=findFirstFragWithCC(r,n[0].cc);if(a&&(!a||a.startPTS))return a;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function adjustPts(e,t){t.fragments.forEach(function(t){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}),t.PTSKnown=!0}function alignDiscontinuities(e,t,r){if(shouldAlignOnDiscontinuities(e,r,t)){var n=findDiscontinuousReferenceFrag(r.details,t);n&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level"),adjustPts(n.start,t))}}function alignPDT(t,r){if(r&&r.fragments.length){if(!t.hasProgramDateTime||!r.hasProgramDateTime)return;var n=r.fragments[0].programDateTime,a=(t.fragments[0].programDateTime-n)/1e3+r.fragments[0].start;e.isFinite(a)&&(i.logger.log("adjusting PTS using programDateTime delta, sliding:"+a.toFixed(3)),adjustPts(a,t))}}t.findFirstFragWithCC=findFirstFragWithCC,t.findFragWithCC=function findFragWithCC(e,t){return n.default.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})},t.shouldAlignOnDiscontinuities=shouldAlignOnDiscontinuities,t.findDiscontinuousReferenceFrag=findDiscontinuousReferenceFrag,t.adjustPts=adjustPts,t.alignStream=function alignStream(e,t,r){alignDiscontinuities(e,r,t),!r.PTSKnown&&t&&alignPDT(r,t.details)},t.alignDiscontinuities=alignDiscontinuities,t.alignPDT=alignPDT}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":
/*!***********************************************!*\
  !*** ./src/utils/ewma-bandwidth-estimator.js ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/ewma */"./src/utils/ewma.js"),i=function(){function EwmaBandWidthEstimator(e,t,r,i){this.hls=e,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n.default(t),this.fast_=new n.default(r)}return EwmaBandWidthEstimator.prototype.sample=function(e,t){var r=8e3*t/(e=Math.max(e,this.minDelayMs_)),n=e/1e3;this.fast_.sample(n,r),this.slow_.sample(n,r)},EwmaBandWidthEstimator.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},EwmaBandWidthEstimator.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},EwmaBandWidthEstimator.prototype.destroy=function(){},EwmaBandWidthEstimator}();t.default=i},"./src/utils/ewma.js":
/*!***************************!*\
  !*** ./src/utils/ewma.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function EWMA(e){this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return EWMA.prototype.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},EWMA.prototype.getTotalWeight=function(){return this.totalWeight_},EWMA.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},EWMA}();t.default=n},"./src/utils/get-self-scope.js":
/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelfScope=function getSelfScope(){return"undefined"==typeof window?self:window}},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./get-self-scope */"./src/utils/get-self-scope.js");function noop(){}var i={trace:noop,debug:noop,log:noop,warn:noop,info:noop,error:noop},a=i;function formatMsg(e,t){return t="["+e+"] > "+t}var o=n.getSelfScope();function exportLoggerFunctions(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];t.forEach(function(t){a[t]=e[t]?e[t].bind(e):function consolePrintFn(e){var t=o.console[e];return t?function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r[0]&&(r[0]=formatMsg(e,r[0])),t.apply(o.console,r)}:noop}(t)})}t.enableLogs=function(e){if(!0===e||"object"==typeof e){exportLoggerFunctions(e,"debug","log","info","warn","error");try{a.log()}catch(e){a=i}}else a=i},t.logger=a},"./src/utils/mediakeys-helper.js":
/*!***************************************!*\
  !*** ./src/utils/mediakeys-helper.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;t.requestMediaKeySystemAccess=n},"./src/utils/mediasource-helper.js":
/*!*****************************************!*\
  !*** ./src/utils/mediasource-helper.js ***!
  \*****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaSource=function getMediaSource(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/output-filter.js":
/*!************************************!*\
  !*** ./src/utils/output-filter.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function OutputFilter(e,t){this.timelineController=e,this.trackName=t,this.startTime=null,this.endTime=null,this.screen=null}return OutputFilter.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},OutputFilter.prototype.newCue=function(e,t,r){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},OutputFilter}();t.default=n},"./src/utils/texttrack-utils.js":
/*!**************************************!*\
  !*** ./src/utils/texttrack-utils.js ***!
  \**************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddTrackEvent=function sendAddTrackEvent(e,t){var r=null;try{r=new window.Event("addtrack")}catch(e){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)},t.clearCurrentCues=function clearCurrentCues(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},"./src/utils/time-ranges.js":
/*!**********************************!*\
  !*** ./src/utils/time-ranges.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={toString:function(e){for(var t="",r=e.length,n=0;n<r;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}}},"./src/utils/vttcue.js":
/*!*****************************!*\
  !*** ./src/utils/vttcue.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var e="auto",t={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function findAlignSetting(e){return"string"==typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function extend(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function VTTCue(r,n,i){var a=this,o=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),s={};o?a=document.createElement("custom"):s.enumerable=!0,a.hasBeenReset=!1;var l="",u=!1,c=r,f=n,d=i,p=null,h="",g=!0,m="auto",y="start",v=50,_="middle",b=50,E="middle";if(Object.defineProperty(a,"id",extend({},s,{get:function(){return l},set:function(e){l=""+e}})),Object.defineProperty(a,"pauseOnExit",extend({},s,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(a,"startTime",extend({},s,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",extend({},s,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",extend({},s,{get:function(){return d},set:function(e){d=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",extend({},s,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",extend({},s,{get:function(){return h},set:function(e){var r=function findDirectionSetting(e){return"string"==typeof e&&(!!t[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");h=r,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",extend({},s,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",extend({},s,{get:function(){return m},set:function(t){if("number"!=typeof t&&t!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",extend({},s,{get:function(){return y},set:function(e){var t=findAlignSetting(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",extend({},s,{get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",extend({},s,{get:function(){return _},set:function(e){var t=findAlignSetting(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",extend({},s,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",extend({},s,{get:function(){return E},set:function(e){var t=findAlignSetting(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");E=t,this.hasBeenReset=!0}})),a.displayState=void 0,o)return a}return VTTCue.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},VTTCue}()},"./src/utils/vttparser.js":
/*!********************************!*\
  !*** ./src/utils/vttparser.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./vttcue */"./src/utils/vttcue.js"),i=function StringDecoder(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function VTTParser(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[]}function Settings(){this.values=Object.create(null)}function parseOptions(e,t,r,n){var i=n?e.split(n):[e];for(var a in i)if("string"==typeof i[a]){var o=i[a].split(r);if(2===o.length)t(o[0],o[1])}}Settings.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var a=new n.default(0,0,0),o="middle"===a.align?"middle":"center";function parseCue(e,t,r){var n=e;function consumeTimeStamp(){var t=function parseTimeStamp(e){function computeSeconds(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}var t=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return t?t[3]?computeSeconds(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?computeSeconds(t[1],t[2],0,t[4]):computeSeconds(0,t[1],t[2],t[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function skipWhitespace(){e=e.replace(/^\s+/,"")}if(skipWhitespace(),t.startTime=consumeTimeStamp(),skipWhitespace(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.substr(3),skipWhitespace(),t.endTime=consumeTimeStamp(),skipWhitespace(),function consumeCueSettings(e,t){var n=new Settings;parseOptions(e,function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===t){n.set(e,r[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),s=a[0];n.integer(e,s),n.percent(e,s)&&n.set("snapToLines",!1),n.alt(e,s,["auto"]),2===a.length&&n.alt("lineAlign",a[1],["start",o,"end"]);break;case"position":a=t.split(","),n.percent(e,a[0]),2===a.length&&n.alt("positionAlign",a[1],["start",o,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",o,"end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");var i=n.get("line","auto");"auto"===i&&-1===a.line&&(i=-1),t.line=i,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",o);var s=n.get("position","auto");"auto"===s&&50===a.position&&(s="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=s}(e,t)}function fixLineBreaks(e){return e.replace(/<br(?: \/)?>/gi,"\n")}t.fixLineBreaks=fixLineBreaks,VTTParser.prototype={parse:function(e){var t=this;function collectNextLine(){var e=t.buffer,r=0;for(e=fixLineBreaks(e);r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var n=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),n}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r=void 0;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(r=collectNextLine()).match(/^()?WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:r=collectNextLine(),t.state){case"HEADER":/:/.test(r)?parseOptions(r,function(e,t){},/:/):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new n.default(0,0,""),t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":try{parseCue(r,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var o=-1!==r.indexOf("--\x3e");if(!r||o&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r;continue;case"BADCUE":r||(t.state="ID");continue}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.default=VTTParser},"./src/utils/webvtt-parser.js":
/*!************************************!*\
  !*** ./src/utils/webvtt-parser.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ./vttparser */"./src/utils/vttparser.js"),i=r(/*! ../demux/id3 */"./src/demux/id3.js"),a=function(e,t,r){return e.substr(r||0,t.length)===t},o=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()},s={parse:function(t,r,s,l,u,c){var f,d=i.utf8ArrayToStr(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),p="00:00.000",h=0,g=0,m=0,y=[],v=!0,_=new n.default;_.oncue=function(e){var t=s[l],r=s.ccOffset;t&&t.new&&(void 0!==g?r=s.ccOffset=t.start:function(e,t,r){var n=e[t],i=e[n.prevCC];if(!i||!i.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);for(;i&&i.new;)e.ccOffset+=n.start-i.start,n.new=!1,i=e[(n=i).prevCC];e.presentationOffset=r}(s,l,m)),m&&(r=m-s.presentationOffset),e.startTime+=r-g,e.endTime+=r-g,e.id=o(e.startTime.toString())+o(e.endTime.toString())+o(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&y.push(e)},_.onparsingerror=function(e){f=e},_.onflush=function(){f&&c?c(f):u(y)},d.forEach(function(t){if(v){if(a(t,"X-TIMESTAMP-MAP=")){v=!1,t.substr(16).split(",").forEach(function(e){a(e,"LOCAL:")?p=e.substr(6):a(e,"MPEGTS:")&&(h=parseInt(e.substr(7)))});try{r+(9e4*s[l].start||0)<0&&(r+=8589934592),h-=r,n=p,i=parseInt(n.substr(-3)),o=parseInt(n.substr(-6,2)),u=parseInt(n.substr(-9,2)),c=n.length>9?parseInt(n.substr(0,n.indexOf(":"))):0,g=(e.isFinite(i)&&e.isFinite(o)&&e.isFinite(u)&&e.isFinite(c)?(i+=1e3*o,i+=6e4*u,i+=36e5*c):-1)/1e3,m=h/9e4,-1===g&&(f=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){f=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(v=!1)}var n,i,o,u,c;_.parse(t+"\n")}),_.flush()}};t.default=s}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/xhr-loader.js":
/*!*********************************!*\
  !*** ./src/utils/xhr-loader.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/logger */"./src/utils/logger.js"),i=window.performance,a=window.XMLHttpRequest,o=function(){function XhrLoader(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return XhrLoader.prototype.destroy=function(){this.abort(),this.loader=null},XhrLoader.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},XhrLoader.prototype.load=function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:i.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},XhrLoader.prototype.loadInternal=function(){var e,t=this.context;e=this.loader=new a;var r=this.stats;r.tfirst=0,r.loaded=0;var n=this.xhrSetup;try{if(n)try{n(e,t.url)}catch(r){e.open("GET",t.url,!0),n(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(r){return void this.callbacks.onError({code:e.status,text:r.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},XhrLoader.prototype.readystatechange=function(e){var t=e.currentTarget,r=t.readyState,a=this.stats,o=this.context,s=this.config;if(!a.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===a.tfirst&&(a.tfirst=Math.max(i.now(),a.trequest)),4===r){var l=t.status;if(l>=200&&l<300){a.tload=Math.max(a.tfirst,i.now());var u=void 0,c=void 0;c="arraybuffer"===o.responseType?(u=t.response).byteLength:(u=t.responseText).length,a.loaded=a.total=c;var f={url:t.responseURL,data:u};this.callbacks.onSuccess(f,a,o,t)}else a.retry>=s.maxRetry||l>=400&&l<499?(n.logger.error(l+" while loading "+o.url),this.callbacks.onError({code:l,text:t.statusText},o,t)):(n.logger.warn(l+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),a.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)},XhrLoader.prototype.loadtimeout=function(){n.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},XhrLoader.prototype.loadprogress=function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var n=this.callbacks.onProgress;n&&n(r,this.context,null,t)},XhrLoader}();t.default=o}}).default})},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(627),i=_interopRequireDefault(r(743)),a=_interopRequireDefault(r(762)),o=_interopRequireDefault(r(777)),s=_interopRequireDefault(r(13));dashjs.Protection=a.default,dashjs.MetricsReporting=i.default,dashjs.MediaPlayerFactory=o.default,dashjs.Debug=s.default,t.default=dashjs,t.MediaPlayer=n.MediaPlayer,t.Protection=a.default,t.MetricsReporting=i.default,t.MediaPlayerFactory=o.default,t.Debug=s.default},function(e,t,r){var n=r(136),i=r(107),a=r(356),o=r(870);e.exports=function pickBy(e,t){if(null==e)return{};var r=n(o(e),function(e){return[e]});return t=i(t),a(e,r,function(e,r){return t(e,r[0])})}},function(e,t,r){"use strict";var n=r(252).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(e){var t;switch(this.encoding=function normalizeEncoding(e){var t=function _normalizeEncoding(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function utf8CheckByte(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed,r=function utf8CheckExtraBytes(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function utf16Text(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}t.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},StringDecoder.prototype.end=function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},StringDecoder.prototype.text=function utf8Text(e,t){var r=function utf8CheckIncomplete(e,t,r){var n=t.length-1;if(n<r)return 0;var i=utf8CheckByte(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=utf8CheckByte(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=utf8CheckByte(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function ReflectApply(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function NumberIsNaN(e){return e!=e};function EventEmitter(){EventEmitter.init.call(this)}e.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var s=10;function $getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,t,r,n){var i,a,o;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=$getMaxListeners(e))>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=o.length,function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}(s)}return e}function _onceWrap(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=function onceWrapper(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,e))}.bind(n);return i.listener=r,n.wrapFn=i,i}function _listeners(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):arrayClone(i,i.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function emit(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)a(l,this,t);else{var u=l.length,c=arrayClone(l,u);for(r=0;r<u;++r)a(c[r],this,t)}return!0},EventEmitter.prototype.addListener=function addListener(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function once(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function removeListener(e,t){var r,n,i,a,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},EventEmitter.prototype.listeners=function listeners(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function rawListeners(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?n(this._events):[]}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function _initializerWarningHelper(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}},function(e,t,r){var n=r(22),i=r(19).document,a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){t.f=r(28)},function(e,t,r){var n=r(142)("keys"),i=r(92);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(19).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(22),i=r(21),a=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(65)(Function.call,r(68).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function setPrototypeOf(e,r){return a(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:a}},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,r){var n=r(22),i=r(191).set;e.exports=function(e,t,r){var a,o=t.constructor;return o!==r&&"function"==typeof o&&(a=o.prototype)!==r.prototype&&n(a)&&i&&i(e,a),e}},function(e,t,r){"use strict";var n=r(67),i=r(75);e.exports=function repeat(e){var t=String(i(this)),r="",a=n(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},function(e,t){e.exports=Math.sign||function sign(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function expm1(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},function(e,t,r){var n=r(67),i=r(75);e.exports=function(e){return function(t,r){var a,o,s=String(i(t)),l=n(r),u=s.length;return l<0||l>=u?e?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):a:e?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(93),i=r(3),a=r(51),o=r(55),s=r(112),l=r(273),u=r(110),c=r(98),f=r(28)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,h,g,m,y){l(r,t,h);var v,_,b,E=function(e){if(!d&&e in R)return R[e];switch(e){case"keys":return function keys(){return new r(this,e)};case"values":return function values(){return new r(this,e)}}return function entries(){return new r(this,e)}},T=t+" Iterator",S="values"==g,w=!1,R=e.prototype,A=R[f]||R["@@iterator"]||g&&R[g],C=A||E(g),x=g?S?E("entries"):C:void 0,D="Array"==t&&R.entries||A;if(D&&(b=c(D.call(new e)))!==Object.prototype&&b.next&&(u(b,T,!0),n||"function"==typeof b[f]||o(b,f,p)),S&&A&&"values"!==A.name&&(w=!0,C=function values(){return A.call(this)}),n&&!y||!d&&!w&&R[f]||o(R,f,C),s[t]=C,s[T]=p,g)if(v={values:S?C:E("values"),keys:m?C:E("keys"),entries:x},y)for(_ in v)_ in R||a(R,_,v[_]);else i(i.P+i.F*(d||w),t,v);return v}},function(e,t,r){var n=r(200),i=r(75);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(e))}},function(e,t,r){var n=r(22),i=r(74),a=r(28)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,r){var n=r(28)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){var n=r(112),i=r(28)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},function(e,t,r){"use strict";var n=r(37),i=r(91);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){var n=r(129),i=r(28)("iterator"),a=r(112);e.exports=r(35).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},function(e,t,r){"use strict";var n=r(44),i=r(95),a=r(31);e.exports=function fill(e){for(var t=n(this),r=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,u=void 0===l?r:i(l,r);u>s;)t[s++]=e;return t}},function(e,t,r){"use strict";var n=r(99),i=r(278),a=r(112),o=r(56);e.exports=r(198)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t,r){"use strict";var n,i,a=r(147),o=RegExp.prototype.exec,s=String.prototype.replace,l=o,u=(n=/a/,i=/b*/g,o.call(n,"a"),o.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),c=void 0!==/()??/.exec("")[1];(u||c)&&(l=function exec(e){var t,r,n,i,l=this;return c&&(r=new RegExp("^"+l.source+"$(?!\\s)",a.call(l))),u&&(t=l.lastIndex),n=o.call(l,e),u&&n&&(l.lastIndex=l.global?n.index+n[0].length:t),c&&n&&n.length>1&&s.call(n[0],r,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)}),n}),e.exports=l},function(e,t,r){"use strict";var n=r(197)(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){var n,i,a,o=r(65),s=r(267),l=r(190),u=r(186),c=r(19),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,g=c.Dispatch,m=0,y={},v=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},_=function(e){v.call(e.data)};d&&p||(d=function setImmediate(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++m]=function(){s("function"==typeof e?e:Function(e),t)},n(m),m},p=function clearImmediate(e){delete y[e]},"process"==r(74)(f)?n=function(e){f.nextTick(o(v,e,1))}:g&&g.now?n=function(e){g.now(o(v,e,1))}:h?(a=(i=new h).port2,i.port1.onmessage=_,n=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",_,!1)):n="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(o(v,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,r){"use strict";var n=r(19),i=r(36),a=r(93),o=r(153),s=r(55),l=r(115),u=r(20),c=r(114),f=r(67),d=r(31),p=r(286),h=r(97).f,g=r(37).f,m=r(205),y=r(110),v="prototype",_="Wrong index!",b=n.ArrayBuffer,E=n.DataView,T=n.Math,S=n.RangeError,w=n.Infinity,R=b,A=T.abs,C=T.pow,x=T.floor,D=T.log,P=T.LN2,I=i?"_b":"buffer",M=i?"_l":"byteLength",O=i?"_o":"byteOffset";function packIEEE754(e,t,r){var n,i,a,o=new Array(r),s=8*r-t-1,l=(1<<s)-1,u=l>>1,c=23===t?C(2,-24)-C(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=A(e))!=e||e===w?(i=e!=e?1:0,n=l):(n=x(D(e)/P),e*(a=C(2,-n))<1&&(n--,a*=2),(e+=n+u>=1?c/a:c*C(2,1-u))*a>=2&&(n++,a/=2),n+u>=l?(i=0,n=l):n+u>=1?(i=(e*a-1)*C(2,t),n+=u):(i=e*C(2,u-1)*C(2,t),n=0));t>=8;o[f++]=255&i,i/=256,t-=8);for(n=n<<t|i,s+=t;s>0;o[f++]=255&n,n/=256,s-=8);return o[--f]|=128*d,o}function unpackIEEE754(e,t,r){var n,i=8*r-t-1,a=(1<<i)-1,o=a>>1,s=i-7,l=r-1,u=e[l--],c=127&u;for(u>>=7;s>0;c=256*c+e[l],l--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=t;s>0;n=256*n+e[l],l--,s-=8);if(0===c)c=1-o;else{if(c===a)return n?NaN:u?-w:w;n+=C(2,t),c-=o}return(u?-1:1)*n*C(2,c-t)}function unpackI32(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function packI8(e){return[255&e]}function packI16(e){return[255&e,e>>8&255]}function packI32(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function packF64(e){return packIEEE754(e,52,8)}function packF32(e){return packIEEE754(e,23,4)}function addGetter(e,t,r){g(e[v],t,{get:function(){return this[r]}})}function get(e,t,r,n){var i=p(+r);if(i+t>e[M])throw S(_);var a=e[I]._b,o=i+e[O],s=a.slice(o,o+t);return n?s:s.reverse()}function set(e,t,r,n,i,a){var o=p(+r);if(o+t>e[M])throw S(_);for(var s=e[I]._b,l=o+e[O],u=n(+i),c=0;c<t;c++)s[l+c]=u[a?c:t-c-1]}if(o.ABV){if(!u(function(){b(1)})||!u(function(){new b(-1)})||u(function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name})){for(var k,L=(b=function ArrayBuffer(e){return c(this,b),new R(p(e))})[v]=R[v],N=h(R),F=0;N.length>F;)(k=N[F++])in b||s(b,k,R[k]);a||(L.constructor=b)}var B=new E(new b(2)),U=E[v].setInt8;B.setInt8(0,2147483648),B.setInt8(1,2147483649),!B.getInt8(0)&&B.getInt8(1)||l(E[v],{setInt8:function setInt8(e,t){U.call(this,e,t<<24>>24)},setUint8:function setUint8(e,t){U.call(this,e,t<<24>>24)}},!0)}else b=function ArrayBuffer(e){c(this,b,"ArrayBuffer");var t=p(e);this._b=m.call(new Array(t),0),this[M]=t},E=function DataView(e,t,r){c(this,E,"DataView"),c(e,b,"DataView");var n=e[M],i=f(t);if(i<0||i>n)throw S("Wrong offset!");if(i+(r=void 0===r?n-i:d(r))>n)throw S("Wrong length!");this[I]=e,this[O]=i,this[M]=r},i&&(addGetter(b,"byteLength","_l"),addGetter(E,"buffer","_b"),addGetter(E,"byteLength","_l"),addGetter(E,"byteOffset","_o")),l(E[v],{getInt8:function getInt8(e){return get(this,1,e)[0]<<24>>24},getUint8:function getUint8(e){return get(this,1,e)[0]},getInt16:function getInt16(e){var t=get(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function getUint16(e){var t=get(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function getInt32(e){return unpackI32(get(this,4,e,arguments[1]))},getUint32:function getUint32(e){return unpackI32(get(this,4,e,arguments[1]))>>>0},getFloat32:function getFloat32(e){return unpackIEEE754(get(this,4,e,arguments[1]),23,4)},getFloat64:function getFloat64(e){return unpackIEEE754(get(this,8,e,arguments[1]),52,8)},setInt8:function setInt8(e,t){set(this,1,e,packI8,t)},setUint8:function setUint8(e,t){set(this,1,e,packI8,t)},setInt16:function setInt16(e,t){set(this,2,e,packI16,t,arguments[2])},setUint16:function setUint16(e,t){set(this,2,e,packI16,t,arguments[2])},setInt32:function setInt32(e,t){set(this,4,e,packI32,t,arguments[2])},setUint32:function setUint32(e,t){set(this,4,e,packI32,t,arguments[2])},setFloat32:function setFloat32(e,t){set(this,4,e,packF32,t,arguments[2])},setFloat64:function setFloat64(e,t){set(this,8,e,packF64,t,arguments[2])}});y(b,"ArrayBuffer"),y(E,"DataView"),s(E[v],o.VIEW,!0),t.ArrayBuffer=b,t.DataView=E},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){e.exports=!r(291)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(4)),a=_interopRequireDefault(r(630)),o=_interopRequireDefault(r(216)),s=_interopRequireDefault(r(651)),l=_interopRequireDefault(r(652)),u=_interopRequireDefault(r(12)),c=_interopRequireDefault(r(14)),f=r(117);function TextController(){var e=this.context,t=void 0,r=void 0,i=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,E=void 0,T=void 0,S=void 0,w=void 0,R=void 0;function onTextTracksAdded(e){var t=this,r=e.tracks,n=e.index;r.some(function(e,r){if(e.lang===E)return t.setTextTrack(r),n=r,!0}),S||this.setTextTrack(-1),T=n,b.trigger(c.default.TEXT_TRACKS_ADDED,{enabled:isTextEnabled(),index:n,tracks:r})}function isTextEnabled(){var e=!0;return w&&!R&&(e=!1),e}function resetInitialSettings(){w=!1}return t={setConfig:function setConfig(e){e&&(e.errHandler&&(i=e.errHandler),e.dashManifestModel&&(d=e.dashManifestModel),e.manifestModel&&(p=e.manifestModel),e.mediaController&&(h=e.mediaController),e.videoModel&&(g=e.videoModel),e.streamController&&(m=e.streamController),e.textTracks&&(y=e.textTracks),e.vttParser&&(v=e.vttParser),e.ttmlParser&&(_=e.ttmlParser),r.setConfig({errHandler:i,dashManifestModel:d,manifestModel:p,mediaController:h,videoModel:g,streamController:m,textTracks:y,vttParser:v,ttmlParser:_}))},getTextSourceBuffer:function getTextSourceBuffer(){return r},getAllTracksAreDisabled:function getAllTracksAreDisabled(){return w},addEmbeddedTrack:function addEmbeddedTrack(e){r.addEmbeddedTrack(e)},getTextDefaultLanguage:function getTextDefaultLanguage(){return E},setTextDefaultLanguage:function setTextDefaultLanguage(e){(0,f.checkParameterType)(e,"string"),E=e},setTextDefaultEnabled:function setTextDefaultEnabled(e){(0,f.checkParameterType)(e,"boolean"),(S=e)||this.setTextTrack(-1)},getTextDefaultEnabled:function getTextDefaultEnabled(){return S},enableText:function enableText(e){(0,f.checkParameterType)(e,"boolean"),isTextEnabled()!==e&&(e&&this.setTextTrack(T),e||(T=this.getCurrentTrackIdx(),this.setTextTrack(-1)))},isTextEnabled:isTextEnabled,setTextTrack:function setTextTrack(e){var t=r.getConfig(),i=t.fragmentModel,a=t.fragmentedTracks,o=t.videoModel,s=void 0,l=void 0;w=-1===e;var u=y.getCurrentTrackIdx();if(u!==e){y.setModeForTrackIdx(u,n.default.TEXT_HIDDEN),y.setCurrentTrackIdx(e),y.setModeForTrackIdx(e,n.default.TEXT_SHOWING);var c=y.getCurrentTrackInfo();if(c&&c.isFragmented&&!c.isEmbedded)for(var f=0;f<a.length;f++){var d=a[f];if(c.lang===d.lang&&c.index===d.index&&(d.id?c.id===d.id:c.id===d.index))if(d!==h.getCurrentTrackFor(n.default.FRAGMENTED_TEXT,m.getActiveStreamInfo()))i.abortRequests(),i.removeExecutedRequestsBeforeTime(),r.remove(),y.deleteCuesFromTrackIdx(u),h.setTrack(d),r.setCurrentFragmentedTrackIdx(f);else if(-1===u){for(var p=m.getActiveStreamProcessors(),g=0;g<p.length;g++)if(p[g].getType()===n.default.FRAGMENTED_TEXT){l=p[g];break}l.getIndexHandler().setCurrentTime(o.getTime()),l.getScheduleController().start()}}else if(c&&!c.isFragmented){for(p=m.getActiveStreamProcessors(),f=0;f<p.length;f++)if(p[f].getType()===n.default.TEXT){s=(l=p[f]).getMediaInfoArr();break}if(l&&s)for(f=0;f<s.length;f++)if(s[f].index===c.index&&s[f].lang===c.lang){l.selectMediaInfo(s[f]);break}}}},getCurrentTrackIdx:function getCurrentTrackIdx(){return y.getCurrentTrackIdx()},enableForcedTextStreaming:function enableForcedTextStreaming(e){(0,f.checkParameterType)(e,"boolean"),R=e},reset:function reset(){resetInitialSettings(),r.resetEmbedded(),r.reset()}},function setup(){E="",T=-1,S=!0,R=!1,y=(0,o.default)(e).getInstance(),v=(0,s.default)(e).getInstance(),_=(0,l.default)(e).getInstance(),r=(0,a.default)(e).getInstance(),b=(0,u.default)(e).getInstance(),y.initialize(),b.on(c.default.TEXT_TRACKS_QUEUE_INITIALIZED,onTextTracksAdded,t),resetInitialSettings()}(),t}TextController.__dashjs_factory_name="TextController",t.default=i.default.getSingletonFactory(TextController),e.exports=t.default},function(e,t,r){
/*! codem-isoboxer v0.3.6 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
var n={parseBuffer:function(e){return new i(e).parse()},addBoxProcessor:function(e,t){"string"==typeof e&&"function"==typeof t&&(a.prototype._boxProcessors[e]=t)},createFile:function(){return new i},createBox:function(e,t,r){var n=a.create(e);return t&&t.append(n,r),n},createFullBox:function(e,t,r){var i=n.createBox(e,t,r);return i.version=0,i.flags=0,i},Utils:{}};n.Utils.dataViewToString=function(e,t){var r=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(r).decode(e);var n=[],i=0;if("utf-8"===r)for(;i<e.byteLength;){var a=e.getUint8(i++);a<128||(a<224?(a=(31&a)<<6,a|=63&e.getUint8(i++)):a<240?(a=(15&a)<<12,a|=(63&e.getUint8(i++))<<6,a|=63&e.getUint8(i++)):(a=(7&a)<<18,a|=(63&e.getUint8(i++))<<12,a|=(63&e.getUint8(i++))<<6,a|=63&e.getUint8(i++))),n.push(String.fromCharCode(a))}else for(;i<e.byteLength;)n.push(String.fromCharCode(e.getUint8(i++)));return n.join("")},n.Utils.utf8ToByteArray=function(e){var t,r;if("undefined"!=typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],r=0;r<e.length;++r){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?(t.push(192|n>>6),t.push(128|63&n)):n<65536?(t.push(224|n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(240|n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n))}return t},n.Utils.appendBox=function(e,t,r){if(t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,-1!==r)if(null!=r){var n,i=-1;if("number"==typeof r)i=r;else{if("string"==typeof r)n=r;else{if("object"!=typeof r||!r.type)return void e.boxes.push(t);n=r.type}for(var a=0;a<e.boxes.length;a++)if(n===e.boxes[a].type){i=a+1;break}}e.boxes.splice(i,0,t)}else e.boxes.push(t)},t.parseBuffer=n.parseBuffer,t.addBoxProcessor=n.addBoxProcessor,t.createFile=n.createFile,t.createBox=n.createBox,t.createFullBox=n.createFullBox,t.Utils=n.Utils,n.Cursor=function(e){this.offset=void 0===e?0:e};var i=function(e){this._cursor=new n.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var r=[];return i._sweep.call(this,e,r,t),r},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=a.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,r){for(var n in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&r)return;i._sweep.call(this.boxes[n],e,t,r)}},i.prototype.write=function(){var e,t=0;for(e=0;e<this.boxes.length;e++)t+=this.boxes[e].getLength(!1);var r=new Uint8Array(t);for(this._rawo=new DataView(r.buffer),this.bytes=r,this._cursor.offset=0,e=0;e<this.boxes.length;e++)this.boxes[e].write();return r.buffer},i.prototype.append=function(e,t){n.Utils.appendBox(this,e,t)};var a=function(){this._cursor=new n.Cursor};a.parse=function(e){var t=new a;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},a.create=function(e){var t=new a;return t.type=e,t.boxes=[],t},a.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],a.prototype._boxProcessors={},a.prototype._procField=function(e,t,r){this._parsing?this[e]=this._readField(t,r):this._writeField(t,r,this[e])},a.prototype._procFieldArray=function(e,t,r,n){var i;if(this._parsing)for(this[e]=[],i=0;i<t;i++)this[e][i]=this._readField(r,n);else for(i=0;i<this[e].length;i++)this._writeField(r,n,this[e][i])},a.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},a.prototype._procEntries=function(e,t,r){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push({}),r.call(this,this[e][n]);else for(n=0;n<t;n++)r.call(this,this[e][n])},a.prototype._procSubEntries=function(e,t,r,n){var i;if(this._parsing)for(e[t]=[],i=0;i<r;i++)e[t].push({}),n.call(this,e[t][i]);else for(i=0;i<r;i++)n.call(this,e[t][i])},a.prototype._procEntryField=function(e,t,r,n){this._parsing?e[t]=this._readField(r,n):this._writeField(r,n,e[t])},a.prototype._procSubBoxes=function(e,t){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e].push(a.parse(this));else for(r=0;r<t;r++)this._rawo?this[e][r].write():this.size+=this[e][r].getLength()},a.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},a.prototype._readInt=function(e){var t=null,r=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(r);break;case 16:t=this._raw.getInt16(r);break;case 32:t=this._raw.getInt32(r);break;case 64:var n=this._raw.getInt32(r),i=this._raw.getInt32(r+4);t=n*Math.pow(2,32)+i}return this._cursor.offset+=e>>3,t},a.prototype._readUint=function(e){var t,r,n=null,i=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:n=this._raw.getUint8(i);break;case 16:n=this._raw.getUint16(i);break;case 24:n=((t=this._raw.getUint16(i))<<8)+(r=this._raw.getUint8(i+2));break;case 32:n=this._raw.getUint32(i);break;case 64:t=this._raw.getUint32(i),r=this._raw.getUint32(i+4),n=t*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,n},a.prototype._readString=function(e){for(var t="",r=0;r<e;r++){var n=this._readUint(8);t+=String.fromCharCode(n)}return t},a.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},a.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},a.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);if(t>0){var r=new Uint8Array(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,r}return null},a.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;return e>0&&(t=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),t?n.Utils.dataViewToString(t):t},a.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},a.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},a.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(a.parse(this))},a.prototype.append=function(e,t){n.Utils.appendBox(this,e,t)},a.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},a.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},a.prototype._writeInt=function(e,t){if(this._rawo){var r=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(r,t);break;case 16:this._rawo.setInt16(r,t);break;case 32:this._rawo.setInt32(r,t);break;case 64:var n=Math.floor(t/Math.pow(2,32)),i=t-n*Math.pow(2,32);this._rawo.setUint32(r,n),this._rawo.setUint32(r+4,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},a.prototype._writeUint=function(e,t){if(this._rawo){var r,n,i=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(i,t);break;case 16:this._rawo.setUint16(i,t);break;case 24:r=(16776960&t)>>8,n=255&t,this._rawo.setUint16(i,r),this._rawo.setUint8(i+2,n);break;case 32:this._rawo.setUint32(i,t);break;case 64:n=t-(r=Math.floor(t/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(i,r),this._rawo.setUint32(i+4,n)}this._cursor.offset+=e>>3}else this.size+=e>>3},a.prototype._writeString=function(e,t){for(var r=0;r<e;r++)this._writeUint(8,t.charCodeAt(r))},a.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},a.prototype._writeTemplate=function(e,t){var r=Math.floor(t),n=(t-r)*Math.pow(2,e/2);this._writeUint(e/2,r),this._writeUint(e/2,n)},a.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var t=this._cursor.offset-this._rawo.byteOffset,r=0;r<e.length;r++)this._rawo.setInt8(t+r,e[r]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},a.prototype._writeUTF8String=function(e){var t=n.Utils.utf8ToByteArray(e);if(this._rawo)for(var r=new DataView(this._rawo.buffer,this._cursor.offset,t.length),i=0;i<t.length;i++)r.setUint8(i,t[i]);else this.size+=t.length},a.prototype._writeField=function(e,t,r){switch(e){case"uint":this._writeUint(t,r);break;case"int":this._writeInt(t,r);break;case"template":this._writeTemplate(t,r);break;case"string":-1==t?this._writeTerminatedString(r):this._writeString(t,r);break;case"data":this._writeData(r);break;case"utf8":this._writeUTF8String(r)}},a.prototype._boxProcessors.avc1=a.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},a.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},a.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)})},a.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},a.prototype._boxProcessors.free=a.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},a.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},a.prototype._boxProcessors.ftyp=a.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},a.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},a.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},a.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},a.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},a.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},a.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},a.prototype._boxProcessors.mp4a=a.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},a.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},a.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},a.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},a.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},a.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},a.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)})},a.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},a.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)})})},a.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},a.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)})})},a.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},a.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},a.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},a.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},a.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},a.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},a.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},a.prototype._boxProcessors["url "]=a.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},a.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},a.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},a.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},a.prototype._boxProcessors.vtte=function(){}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(12)),a=_interopRequireDefault(r(14)),o=_interopRequireDefault(r(4)),s=_interopRequireDefault(r(13)),l=r(296);function TextTracks(){var e=this.context,t=(0,i.default)(e).getInstance(),r=void 0,o=void 0,u=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,E=void 0,T=void 0,S=void 0;function createTrackForUserAgent(e){var t=f[e].kind,r=void 0!==f[e].id?f[e].id:f[e].lang,n=f[e].lang,i=f[e].isTTML,a=f[e].isEmbedded,o=c.addTextTrack(t,r,n);return o.isEmbedded=a,o.isTTML=i,o}function checkVideoSize(e,r){var n=c.getClientWidth(),i=c.getClientHeight(),o=c.getVideoWidth(),s=c.getVideoHeight(),l=c.getVideoRelativeOffsetTop(),u=c.getVideoRelativeOffsetLeft(),f=o/s,d=!1;e.isFromCEA608&&(f=3.5/3,d=!0);var p=function getVideoVisibleVideoSize(e,t,r,n,i,a){var o=0,s=0;e/t>r/n?o=(s=t)/n*r:s=(o=e)/r*n;var l,u,c=0,f=0;return o/s>i?(f=s,c=s*i):(c=o,f=o/i),l=(e-c)/2,u=(t-f)/2,a?{x:l+.1*c,y:u+.1*f,w:.8*c,h:.8*f}:{x:l,y:u,w:c,h:f}}.call(this,n,i,o,s,f,d),_=p.w,T=p.h,w=p.x,R=p.y;if(_!=m||T!=y||w!=h||R!=g||r){if(h=w+u,g=R+l,m=_,y=T,v){var A=v.style;A.left=h+"px",A.top=g+"px",A.width=m+"px",A.height=y+"px",A.zIndex=b&&document[b]||E?S:null,t.trigger(a.default.CAPTION_CONTAINER_RESIZE,{})}var C=e.activeCues;if(C)for(var x=C.length,D=0;D<x;++D){var P=C[D];P.scaleCue(P)}}}function scaleCue(e){var t=m,r=y,n=void 0,i=void 0,a=void 0,o=void 0,s=void 0;if(e.cellResolution){var l=[t/e.cellResolution[0],r/e.cellResolution[1]];if(e.linePadding)for(n in e.linePadding)if(e.linePadding.hasOwnProperty(n)){i=(e.linePadding[n]*l[0]).toString();for(var u=document.getElementsByClassName("spanPadding"),c=0;c<u.length;c++)u[c].style.cssText=u[c].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i),u[c].style.cssText=u[c].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.fontSize){for(n in e.fontSize)if(e.fontSize.hasOwnProperty(n)){"%"===e.fontSize[n][0]?a=e.fontSize[n][1]/100:"c"===e.fontSize[n][0]&&(a=e.fontSize[n][1]),i=(a*l[1]).toString(),s="defaultFontSize"!==n?document.getElementsByClassName(n):document.getElementsByClassName("paragraph");for(var f=0;f<s.length;f++)s[f].style.cssText=s[f].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}if(e.lineHeight)for(n in e.lineHeight)if(e.lineHeight.hasOwnProperty(n)){"%"===e.lineHeight[n][0]?o=e.lineHeight[n][1]/100:"c"===e.fontSize[n][0]&&(o=e.lineHeight[n][1]),i=(o*l[1]).toString(),s=document.getElementsByClassName(n);for(var d=0;d<s.length;d++)s[d].style.cssText=s[d].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}}}if(e.isd){var p=document.getElementById(e.cueID);p&&v.removeChild(p),renderCaption(e)}}function renderCaption(e){if(v){var r=document.createElement("div");v.appendChild(r),T=(0,l.renderHTML)(e.isd,r,function(t){var r=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,n=/^#(.*)$/;if(r.test(t)){var i=r.exec(t),a=parseInt(i[4],10)-1;return"data:image/png;base64,"+btoa(e.images[a])}if(n.test(t)){a=(i=n.exec(t))[1];return"data:image/png;base64,"+e.embeddedImages[a]}return null},v.clientHeight,v.clientWidth,!1,function(e){o.info("renderCaption :",e)},T,!0),r.id=e.cueID,t.trigger(a.default.CAPTION_RENDERED,{captionDiv:r,currentTrackIdx:p})}}function getTrackByIdx(e){return e>=0&&f[e]?c.getTextTrack(f[e].kind,f[e].id,f[e].lang,f[e].isTTML,f[e].isEmbedded):null}function setCurrentTrackIdx(e){if(e!==p){var t=getTrackByIdx(p=e);(function setCueStyleOnTrack(e){clearCaptionContainer.call(this),e&&"html"===e.renderingType?function setNativeCueStyle(){var e=document.getElementById("native-cue-style");if(e)return;(e=document.createElement("style")).id="native-cue-style",document.head.appendChild(e);var t=e.sheet,r=c.getElement();try{r&&(r.id?t.insertRule("#"+r.id+"::cue {background: transparent}",0):0!==r.classList.length?t.insertRule("."+r.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0))}catch(e){o.info(""+e.message)}}.call(this):removeNativeCueStyle.call(this)}).call(this,t),_&&(clearInterval(_),_=null),t&&"html"===t.renderingType&&(checkVideoSize.call(this,t,!0),_=setInterval(checkVideoSize.bind(this,t),500))}}function deleteTrackCues(e){if(e.cues)for(var t=e.cues,r=t.length-1;r>=0;r--)e.removeCue(t[r])}function removeNativeCueStyle(){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}function clearCaptionContainer(){if(v)for(;v.firstChild;)v.removeChild(v.firstChild)}return r={initialize:function initialize(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(u=window.VTTCue||window.TextTrackCue,f=[],d=[],p=-1,h=0,g=0,m=0,y=0,v=null,_=null,E=!1,S=2147483647,T=null,void 0!==document.fullscreenElement?b="fullscreenElement":void 0!==document.webkitIsFullScreen?b="webkitIsFullScreen":document.msFullscreenElement?b="msFullscreenElement":document.mozFullScreen&&(b="mozFullScreen"))},displayCConTop:function displayCConTop(e){E=e,v&&!document[b]&&(v.style.zIndex=e?S:null)},addTextTrack:function addTextTrack(e,r){if(f.length!==r){if(f.push(e),f.length===r){f.sort(function(e,t){return e.index-t.index}),v=c.getTTMLRenderingDiv();for(var i=-1,s=0;s<f.length;s++){var l=createTrackForUserAgent.call(this,s);d.push(l),f[s].defaultTrack&&(l.default=!0,i=s);var u=getTrackByIdx(s);u&&(u.mode=n.default.TEXT_SHOWING,v&&(f[s].isTTML||f[s].isEmbedded)?u.renderingType="html":u.renderingType="default"),this.addCaptions(s,0,f[s].captionData),t.trigger(a.default.TEXT_TRACK_ADDED)}if(setCurrentTrackIdx.call(this,i),i>=0)for(var h=0;h<f.length;h++){var g=getTrackByIdx(h);g&&(g.mode=h===i?n.default.TEXT_SHOWING:n.default.TEXT_HIDDEN)}t.trigger(a.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:p,tracks:f})}}else o.error("Trying to add too many tracks.")},addCaptions:function addCaptions(e,r,i){var s=getTrackByIdx(e),l=this;if(s&&i&&0!==i.length)for(var c=0;c<i.length;c++){var f=void 0,d=i[c];s.cellResolution=d.cellResolution,s.isFromCEA608=d.isFromCEA608,"html"===d.type&&v?((f=new u(d.start-r,d.end-r,"")).cueHTMLElement=d.cueHTMLElement,f.isd=d.isd,f.images=d.images,f.embeddedImages=d.embeddedImages,f.cueID=d.cueID,f.scaleCue=scaleCue.bind(l),f.cellResolution=d.cellResolution,f.lineHeight=d.lineHeight,f.linePadding=d.linePadding,f.fontSize=d.fontSize,v.style.left=h+"px",v.style.top=g+"px",v.style.width=m+"px",v.style.height=y+"px",f.onenter=function(){s.mode===n.default.TEXT_SHOWING&&(this.isd?(renderCaption(this),o.debug("Cue enter id:"+this.cueID)):(v.appendChild(this.cueHTMLElement),scaleCue.call(l,this),t.trigger(a.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:p})))},f.onexit=function(){if(v)for(var e=v.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&(o.debug("Cue exit id:"+e[t].id),v.removeChild(e[t]))}):d.data&&(f=new u(d.start-r,d.end-r,d.data),d.styles&&(void 0!==d.styles.align&&"align"in f&&(f.align=d.styles.align),void 0!==d.styles.line&&"line"in f&&(f.line=d.styles.line),void 0!==d.styles.position&&"position"in f&&(f.position=d.styles.position),void 0!==d.styles.size&&"size"in f&&(f.size=d.styles.size)),f.onenter=function(){s.mode===n.default.TEXT_SHOWING&&t.trigger(a.default.CAPTION_RENDERED,{currentTrackIdx:p})});try{f?s.addCue(f):o.error("impossible to display subtitles.")}catch(e){throw deleteTrackCues(s),s.addCue(f),e}}},getCurrentTrackIdx:function getCurrentTrackIdx(){return p},setCurrentTrackIdx:setCurrentTrackIdx,getTrackIdxForId:function getTrackIdxForId(e){for(var t=-1,r=0;r<f.length;r++)if(f[r].id===e){t=r;break}return t},getCurrentTrackInfo:function getCurrentTrackInfo(){return f[p]},setModeForTrackIdx:function setModeForTrackIdx(e,t){var r=getTrackByIdx(e);r&&r.mode!==t&&(r.mode=t)},deleteCuesFromTrackIdx:function deleteCuesFromTrackIdx(e){var t=getTrackByIdx(e);t&&deleteTrackCues(t)},deleteAllTextTracks:function deleteAllTextTracks(){for(var e=d?d.length:0,t=0;t<e;t++){var r=getTrackByIdx(t);r&&(deleteTrackCues.call(this,r),r.mode="disabled")}d=[],f=[],_&&(clearInterval(_),_=null),p=-1,clearCaptionContainer.call(this)},deleteTextTrack:function deleteTextTrack(e){c.removeChild(d[e]),d.splice(e,1)},setConfig:function setConfig(e){e&&e.videoModel&&(c=e.videoModel)}},function setup(){o=(0,s.default)(e).getInstance().getLogger(r)}(),r}TextTracks.__dashjs_factory_name="TextTracks",t.default=o.default.getSingletonFactory(TextTracks),e.exports=t.default},function(e,t,r){!function(e,t,r){function StylingAttributeDefinition(e,t,r,n,i,a,o,s){this.name=t,this.ns=e,this.qname=e+" "+t,this.inherit=i,this.animatable=a,this.initial=r,this.applies=n,this.parse=o,this.compute=s}for(var n in e.all=[new StylingAttributeDefinition(t.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,r.parseColor,null),new StylingAttributeDefinition(t.ns_tts,"color","white",["span"],!0,!0,r.parseColor,null),new StylingAttributeDefinition(t.ns_tts,"direction","ltr",["p","span"],!0,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"displayAlign","before",["region"],!1,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"extent","auto",["tt","region"],!1,!0,function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var n=r.parseLength(t[0]),i=r.parseLength(t[1]);return i&&n?{h:i,w:n}:null},function(e,t,n,i,a){var o,s;if("auto"===i)o=new r.ComputedLength(0,1);else if(null===(o=r.toComputedLength(i.h.value,i.h.unit,null,e.dimensions.h,null,e.pxLength.h)))return null;if("auto"===i)s=new r.ComputedLength(1,0);else if(null===(s=r.toComputedLength(i.w.value,i.w.unit,null,e.dimensions.w,null,e.pxLength.w)))return null;return{h:o,w:s}}),new StylingAttributeDefinition(t.ns_tts,"fontFamily","default",["span"],!0,!0,function(e){var t=e.split(","),r=[];for(var n in t)"'"!==t[n].charAt(0)&&'"'!==t[n].charAt(0)&&"default"===t[n]?r.push("monospaceSerif"):r.push(t[n]);return r},null),new StylingAttributeDefinition(t.ns_tts,"shear","0%",["p"],!0,!0,r.parseLength,function(e,t,r,n){return"%"!==n.unit?null:Math.abs(n.value)>100?100*Math.sign(n.value):n.value}),new StylingAttributeDefinition(t.ns_tts,"fontSize","1c",["span"],!0,!0,r.parseLength,function(t,n,i,a,o){return r.toComputedLength(a.value,a.unit,null!==n?n.styleAttrs[e.byName.fontSize.qname]:t.cellLength.h,null!==n?n.styleAttrs[e.byName.fontSize.qname]:t.cellLength.h,t.cellLength.h,t.pxLength.h)}),new StylingAttributeDefinition(t.ns_tts,"fontStyle","normal",["span"],!0,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"fontWeight","normal",["span"],!0,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"lineHeight","normal",["p"],!0,!0,function(e){return"normal"===e?e:r.parseLength(e)},function(t,n,i,a,o){var s;if("normal"===a)s=a;else if(null===(s=r.toComputedLength(a.value,a.unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h)))return null;return s}),new StylingAttributeDefinition(t.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new StylingAttributeDefinition(t.ns_tts,"origin","auto",["region"],!1,!0,function(e){if("auto"===e)return e;var t=e.split(" ");if(2!==t.length)return null;var n=r.parseLength(t[0]),i=r.parseLength(t[1]);return i&&n?{h:i,w:n}:null},function(e,t,n,i,a){var o,s;if("auto"===i)o=new r.ComputedLength(0,0);else if(null===(o=r.toComputedLength(i.h.value,i.h.unit,null,e.dimensions.h,null,e.pxLength.h)))return null;if("auto"===i)s=new r.ComputedLength(0,0);else if(null===(s=r.toComputedLength(i.w.value,i.w.unit,null,e.dimensions.w,null,e.pxLength.w)))return null;return{h:o,w:s}}),new StylingAttributeDefinition(t.ns_tts,"overflow","hidden",["region"],!1,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"padding","0px",["region"],!1,!0,function(e){var t=e.split(" ");if(t.length>4)return null;var n=[];for(var i in t){var a=r.parseLength(t[i]);if(!a)return null;n.push(a)}return n},function(t,n,i,a,o){var s;if(1===a.length)s=[a[0],a[0],a[0],a[0]];else if(2===a.length)s=[a[0],a[1],a[0],a[1]];else if(3===a.length)s=[a[0],a[1],a[2],a[1]];else{if(4!==a.length)return null;s=[a[0],a[1],a[2],a[3]]}var l=i.styleAttrs[e.byName.writingMode.qname];if("lrtb"===l||"lr"===l)s=[s[0],s[3],s[2],s[1]];else if("rltb"===l||"rl"===l)s=[s[0],s[1],s[2],s[3]];else if("tblr"===l)s=[s[3],s[0],s[1],s[2]];else{if("tbrl"!==l&&"tb"!==l)return null;s=[s[3],s[2],s[1],s[0]]}var u=[];for(var c in s)if(0===s[c].value)u[c]=new r.ComputedLength(0,0);else if(u[c]=r.toComputedLength(s[c].value,s[c].unit,i.styleAttrs[e.byName.fontSize.qname],"0"===c||"2"===c?i.styleAttrs[e.byName.extent.qname].h:i.styleAttrs[e.byName.extent.qname].w,"0"===c||"2"===c?t.cellLength.h:t.cellLength.w,"0"===c||"2"===c?t.pxLength.h:t.pxLength.w),null===u[c])return null;return u}),new StylingAttributeDefinition(t.ns_tts,"position","top left",["region"],!1,!0,function(e){return r.parsePosition(e)},function(t,n,i,a){var o,s;return null===(o=r.toComputedLength(a.v.offset.value,a.v.offset.unit,null,new r.ComputedLength(-i.styleAttrs[e.byName.extent.qname].h.rw,t.dimensions.h.rh-i.styleAttrs[e.byName.extent.qname].h.rh),null,t.pxLength.h))?null:("bottom"===a.v.edge&&(o=new r.ComputedLength(-o.rw-i.styleAttrs[e.byName.extent.qname].h.rw,t.dimensions.h.rh-o.rh-i.styleAttrs[e.byName.extent.qname].h.rh)),s=r.toComputedLength(a.h.offset.value,a.h.offset.unit,null,new r.ComputedLength(t.dimensions.w.rw-i.styleAttrs[e.byName.extent.qname].w.rw,-i.styleAttrs[e.byName.extent.qname].w.rh),null,t.pxLength.w),null===o?null:("right"===a.h.edge&&(s=new r.ComputedLength(t.dimensions.w.rw-s.rw-i.styleAttrs[e.byName.extent.qname].w.rw,-s.rh-i.styleAttrs[e.byName.extent.qname].w.rh)),{h:o,w:s}))}),new StylingAttributeDefinition(t.ns_tts,"ruby","none",["span"],!1,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"rubyAlign","center",["span"],!0,!0,function(e){return"center"!==e&&"spaceAround"!==e?null:e},null),new StylingAttributeDefinition(t.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"rubyReserve","none",["p"],!0,!0,function(e){var t=e.split(" "),n=[null,null];if(0===t.length||t.length>2)return null;if("none"!==t[0]&&"both"!==t[0]&&"after"!==t[0]&&"before"!==t[0]&&"outside"!==t[0])return null;if(n[0]=t[0],2===t.length&&"none"!==t[0]){var i=r.parseLength(t[1]);if(!i)return null;n[1]=i}return n},function(t,n,i,a,o){if("none"===a[0])return a;var s=null;return null===(s=null===a[1]?new r.ComputedLength(.5*i.styleAttrs[e.byName.fontSize.qname].rw,.5*i.styleAttrs[e.byName.fontSize.qname].rh):r.toComputedLength(a[1].value,a[1].unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h))?null:[a[0],s]}),new StylingAttributeDefinition(t.ns_tts,"showBackground","always",["region"],!1,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"textAlign","start",["p"],!0,!0,function(e){return e},function(e,t,r,n,i){return"left"===n?"start":"right"===n?"end":n}),new StylingAttributeDefinition(t.ns_tts,"textCombine","none",["span"],!0,!0,function(e){var t=e.split(" ");return 1!==t.length||"none"!==t[0]&&"all"!==t[0]?null:[t[0]]},null),new StylingAttributeDefinition(t.ns_tts,"textDecoration","none",["span"],!0,!0,function(e){return e.split(" ")},null),new StylingAttributeDefinition(t.ns_tts,"textEmphasis","none",["span"],!1,!0,function(e){var t=e.split(" "),n={style:"filled",symbol:"circle",color:null,position:null};for(var i in t)if("none"===t[i]||"auto"===t[i])n.style=t[i];else if("filled"===t[i]||"open"===t[i])n.style=t[i];else if("circle"===t[i]||"dot"===t[i]||"sesame"===t[i])n.symbol=t[i];else if("current"===t[i])n.color=t[i];else if("outside"===t[i]||"before"===t[i]||"after"===t[i])n.position=t[i];else if(n.color=r.parseColor(t[i]),null===n.color)return null;return n},null),new StylingAttributeDefinition(t.ns_tts,"textOutline","none",["span"],!0,!0,function(e){if("none"===e)return e;var t={},n=e.split(" ");if(0===n.length||n.length>2)return null;var i=r.parseColor(n[0]);if(t.color=i,null!==i&&n.shift(),1!==n.length)return null;var a=r.parseLength(n[0]);return a?(t.thickness=a,t):null},function(t,n,i,a,o){if("none"===a)return a;var s={};return null===a.color?s.color=i.styleAttrs[e.byName.color.qname]:s.color=a.color,s.thickness=r.toComputedLength(a.thickness.value,a.thickness.unit,i.styleAttrs[e.byName.fontSize.qname],i.styleAttrs[e.byName.fontSize.qname],t.cellLength.h,t.pxLength.h),null===s.thickness?null:s}),new StylingAttributeDefinition(t.ns_tts,"textShadow","none",["span"],!0,!0,r.parseTextShadow,function(t,n,i,a){if("none"===a)return a;var o=[];for(var s in a){var l={};if(l.x_off=r.toComputedLength(a[s][0].value,a[s][0].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.w),null===l.x_off)return null;if(l.y_off=r.toComputedLength(a[s][1].value,a[s][1].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.h),null===l.y_off)return null;if(null===a[s][2])l.b_radius=0;else if(l.b_radius=r.toComputedLength(a[s][2].value,a[s][2].unit,null,i.styleAttrs[e.byName.fontSize.qname],null,t.pxLength.h),null===l.b_radius)return null;null===a[s][3]?l.color=i.styleAttrs[e.byName.color.qname]:l.color=a[s][3],o.push(l)}return o}),new StylingAttributeDefinition(t.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(e){return e},null),new StylingAttributeDefinition(t.ns_tts,"zIndex","auto",["region"],!1,!0,function(e){var t;return"auto"===e?t=e:(t=parseInt(e),isNaN(t)&&(t=null)),t},null),new StylingAttributeDefinition(t.ns_ebutts,"linePadding","0c",["p"],!0,!1,r.parseLength,function(e,t,n,i,a){return r.toComputedLength(i.value,i.unit,null,null,e.cellLength.w,null)}),new StylingAttributeDefinition(t.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(e){return e},null),new StylingAttributeDefinition(t.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(e){return e},null),new StylingAttributeDefinition(t.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(e){return"true"===e},null),new StylingAttributeDefinition(t.ns_itts,"fillLineGap","false",["p"],!0,!0,function(e){return"true"===e},null)],e.byQName={},e.all)e.byQName[e.all[n].qname]=e.all[n];for(var i in e.byName={},e.all)e.byName[e.all[i].name]=e.all[i]}(t,"undefined"==typeof imscNames?r(156):imscNames,"undefined"==typeof imscUtils?r(157):imscUtils)},function(e,t,r){(t=e.exports=r(297)).Stream=t,t.Readable=t,t.Writable=r(220),t.Duplex=r(103),t.Transform=r(300),t.PassThrough=r(644)},function(e,t,r){var n=r(89),i=n.Buffer;function copyProps(e,t){for(var r in e)t[r]=e[r]}function SafeBuffer(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(copyProps(n,t),t.Buffer=SafeBuffer),copyProps(i,SafeBuffer),SafeBuffer.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},SafeBuffer.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},SafeBuffer.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},SafeBuffer.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";(function(t,n,i){var a=r(158);function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function onCorkedFinish(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=Writable;var o,s=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:a.nextTick;Writable.WritableState=WritableState;var l=r(132);l.inherits=r(109);var u={deprecate:r(382)},c=r(298),f=r(219).Buffer,d=i.Uint8Array||function(){};var p,h=r(299);function nop(){}function WritableState(e,t){o=o||r(103),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,l=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function onwrite(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function onwriteError(e,t,r,n,i){--t.pendingcb,r?(a.nextTick(i,n),a.nextTick(finishMaybe,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),finishMaybe(e,t))}(e,r,n,t,i);else{var o=needFinish(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),n?s(afterWrite,e,r,o,i):afterWrite(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){if(o=o||r(103),!(p.call(Writable,this)||this instanceof o))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function doWrite(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function afterWrite(e,t,r,n){r||function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),finishMaybe(e,t)}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var o=0,s=!0;r;)i[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,doWrite(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new CorkedRequest(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,c=r.callback;if(doWrite(e,t,!1,t.objectMode?1:l.length,l,u,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),finishMaybe(e,t)})}function finishMaybe(e,t){var r=needFinish(t);return r&&(!function prefinish(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(callFinal,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}l.inherits(Writable,c),WritableState.prototype.getBuffer=function getBuffer(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===Writable&&(e&&e._writableState instanceof WritableState)}})):p=function(e){return e instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&function _isUint8Array(e){return f.isBuffer(e)||e instanceof d}(e);return o&&!f.isBuffer(e)&&(e=function _uint8ArrayToBuffer(e){return f.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=nop),n.ended?function writeAfterEnd(e,t){var r=new Error("write after end");e.emit("error",r),a.nextTick(t,r)}(this,r):(o||function validChunk(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(n,o),i=!1),i}(this,n,e,r))&&(n.pendingcb++,i=function writeOrBuffer(e,t,r,n,i,a){if(!r){var o=function decodeChunk(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,r));return t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,s,n,i,a);return l}(this,n,o,e,t,r)),i},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?a.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable.prototype.destroy=h.destroy,Writable.prototype._undestroy=h.undestroy,Writable.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(90),r(642).setImmediate,r(59))},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(14)),a=_interopRequireDefault(r(12)),o=_interopRequireDefault(r(4)),s=_interopRequireDefault(r(13)),l="neverReplace",u="alwaysReplace",c="highestBitrate",f="widestRange",d=c;function MediaController(){var e=this.context,t=(0,a.default)(e).getInstance(),r=void 0,o=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=[u,l],_=[c,f];function getTracksFor(e,t){if(!e||!t)return[];var r=t.id;return p[r]&&p[r][e]?p[r][e].list:[]}function getCurrentTrackFor(e,t){return!e||!t||t&&!p[t.id]?null:p[t.id][e].current}function setTrack(e){if(e&&e.streamInfo){var r=e.type,n=e.streamInfo,a=n.id,o=getCurrentTrackFor(r,n);if(p[a]&&p[a][r]&&!isTracksEqual(e,o)){p[a][r].current=e,p[a][r].current&&t.trigger(i.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:o,newMediaInfo:e,switchMode:m[r]});var s=function extractSettings(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration};return t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0?t:null}(e);s&&p[a][r].storeLastSettings&&(s.roles&&(s.role=s.roles[0],delete s.roles),s.accessibility&&(s.accessibility=s.accessibility[0]),s.audioChannelConfiguration&&(s.audioChannelConfiguration=s.audioChannelConfiguration[0]),y.setSavedMediaSettings(r,s))}}}function setInitialSettings(e,t){e&&t&&(h[e]=t)}function getInitialSettings(e){return e?h[e]:null}function getSelectionModeForInitialTrack(){return g||d}function isMultiTrackSupportedByType(e){return e===n.default.AUDIO||e===n.default.VIDEO||e===n.default.TEXT||e===n.default.FRAGMENTED_TEXT||e===n.default.IMAGE}function isTracksEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var r=e.id===t.id,n=e.viewpoint===t.viewpoint,i=e.lang===t.lang,a=e.roles.toString()===t.roles.toString(),o=e.accessibility.toString()===t.accessibility.toString(),s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return r&&n&&i&&a&&o&&s}function reset(){p={},function resetInitialSettings(){h={audio:null,video:null}}(),function resetSwitchMode(){m={audio:u,video:l}}()}function matchSettings(e,t){var r=!e.lang||e.lang===t.lang,n=!e.viewpoint||e.viewpoint===t.viewpoint,i=!e.role||!!t.roles.filter(function(t){return t===e.role})[0],a=!e.accessibility||!!t.accessibility.filter(function(t){return t===e.accessibility})[0],o=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter(function(t){return t===e.audioChannelConfiguration})[0];return r&&n&&i&&a&&o}function selectInitialTrack(e){var t=getSelectionModeForInitialTrack(),r=[],n=function getTracksWithHighestBitrate(e){var t=0,r=[],n=void 0;return e.forEach(function(e){(n=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth})))>t?(t=n,r=[e]):n===t&&r.push(e)}),r},i=function getTracksWithWidestRange(e){var t=0,r=[],n=void 0;return e.forEach(function(e){(n=e.representationCount)>t?(t=n,r=[e]):n===t&&r.push(e)}),r};switch(t){case c:(r=n(e)).length>1&&(r=i(r));break;case f:(r=i(e)).length>1&&(r=n(e));break;default:o.warn("Track selection mode is not supported: "+t)}return r[0]}return r={checkInitialMediaSettingsForType:function checkInitialMediaSettingsForType(e,t){var r=getInitialSettings(e),i=getTracksFor(e,t),a=[];e!==n.default.FRAGMENTED_TEXT?(r||setInitialSettings(e,r=y.getSavedMediaSettings(e)),i&&0!==i.length&&(r&&i.forEach(function(e){matchSettings(r,e)&&a.push(e)}),0===a.length?setTrack(selectInitialTrack(i)):a.length>1?setTrack(selectInitialTrack(a)):setTrack(a[0]))):setTrack(i[0])},addTrack:function addTrack(e){if(e){var t=e.type;if(isMultiTrackSupportedByType(t)){var r=e.streamInfo.id;p[r]||(p[r]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var n=p[r][t].list,i=0,a=n.length;i<a;++i)if(isTracksEqual(n[i],e))return;n.push(e);var o=getInitialSettings(t);o&&matchSettings(o,e)&&!getCurrentTrackFor(t,e.streamInfo)&&setTrack(e)}}},getTracksFor:getTracksFor,getCurrentTrackFor:getCurrentTrackFor,isCurrentTrack:function isCurrentTrack(e){if(!e)return!1;var t=e.type,r=e.streamInfo.id;return p[r]&&p[r][t]&&isTracksEqual(p[r][t].current,e)},setTrack:setTrack,setInitialSettings:setInitialSettings,getInitialSettings:getInitialSettings,setSwitchMode:function setSwitchMode(e,t){-1!==v.indexOf(t)?m[e]=t:o.warn("Track switch mode is not supported: "+t)},getSwitchMode:function getSwitchMode(e){return m[e]},setSelectionModeForInitialTrack:function setSelectionModeForInitialTrack(e){-1!==_.indexOf(e)?g=e:o.warn("Track selection mode is not supported: "+e)},getSelectionModeForInitialTrack:getSelectionModeForInitialTrack,isMultiTrackSupportedByType:isMultiTrackSupportedByType,isTracksEqual:isTracksEqual,setConfig:function setConfig(e){e&&e.domStorage&&(y=e.domStorage)},reset:reset},function setup(){o=(0,s.default)(e).getInstance().getLogger(r),reset()}(),r}MediaController.__dashjs_factory_name="MediaController";var p=o.default.getSingletonFactory(MediaController);p.TRACK_SWITCH_MODE_NEVER_REPLACE=l,p.TRACK_SWITCH_MODE_ALWAYS_REPLACE=u,p.TRACK_SELECTION_MODE_HIGHEST_BITRATE=c,p.TRACK_SELECTION_MODE_WIDEST_RANGE=f,p.DEFAULT_INIT_TRACK_SELECTION_MODE=d,o.default.updateSingletonFactory(MediaController.__dashjs_factory_name,p),t.default=p,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function InitCache(){var e={};return{save:function save(t){var r=t.streamId,n=t.representationId;e[r]=e[r]||{},e[r][n]=t},extract:function extract(t,r){return e&&e[t]&&e[t][r]?e[t][r]:null},reset:function reset(){e={}}}}InitCache.__dashjs_factory_name="InitCache",t.default=n.default.getSingletonFactory(InitCache),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function Segment(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Segment),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(57)),a=function(){function Representation(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Representation),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}return n(Representation,null,[{key:"hasInitialization",value:function hasInitialization(e){return null!==e.initialization||null!==e.range}},{key:"hasSegments",value:function hasSegments(e){return e.segmentInfoType!==i.default.BASE_URL&&e.segmentInfoType!==i.default.SEGMENT_BASE&&!e.indexRange}}]),Representation}();t.default=a,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function XHRLoader(e){var t=(e=e||{}).requestModifier;return{load:function load(e){var r=new Date,n=e.request,i=new XMLHttpRequest;i.open(e.method,e.url,!0),n.responseType&&(i.responseType=n.responseType),n.range&&i.setRequestHeader("Range","bytes="+n.range),n.requestStartDate||(n.requestStartDate=r),t&&(i=t.modifyRequestHeader(i)),i.withCredentials=e.withCredentials,i.onload=e.onload,i.onloadend=e.onend,i.onerror=e.onerror,i.onprogress=e.progress,i.onabort=e.onabort,i.send(),e.response=i},abort:function abort(e){var t=e.response;t.onloadend=t.onerror=t.onprogress=void 0,t.abort()}}}XHRLoader.__dashjs_factory_name="XHRLoader";var i=n.default.getClassFactory(XHRLoader);t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function KeySystemConfiguration(e,t,r,n,i){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeySystemConfiguration),this.initDataTypes=["cenc"],e&&e.length&&(this.audioCapabilities=e),t&&t.length&&(this.videoCapabilities=t),this.distinctiveIdentifier=r,this.persistentState=n,this.sessionTypes=i},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function KeyPair(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeyPair),this.keyID=e,this.key=t},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function ClearKeyKeySet(e,t){if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClearKeyKeySet),t&&"persistent"!==t&&"temporary"!==t)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=e,this.type=t}return n(ClearKeyKeySet,[{key:"toJWK",value:function toJWK(){var e=void 0,t=this.keyPairs.length,r={keys:[]};for(e=0;e<t;e++){var n={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};r.keys.push(n)}this.type&&(r.type=this.type);var i=JSON.stringify(r),a=i.length,o=new ArrayBuffer(a),s=new Uint8Array(o);for(e=0;e<a;e++)s[e]=i.charCodeAt(e);return o}}]),ClearKeyKeySet}();t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function NeedKey(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NeedKey),this.initData=e,this.initDataType=t},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function KeyMessage(e,t,r,n){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeyMessage),this.sessionToken=e,this.message=t,this.defaultURL=r,this.messageType=n||"license-request"},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function KeySystemAccess(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeySystemAccess),this.keySystem=e,this.ksConfiguration=t},e.exports=t.default},function(e,t,r){var n,i,a;
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(o,s){"use strict";e.exports?e.exports=s(r(321),r(322),r(323)):(i=[r(321),r(322),r(323)],void 0===(a="function"==typeof(n=s)?n.apply(t,i):n)||(e.exports=a))}(0,function(e,t,r,n){"use strict";var i=n&&n.URI;function URI(e,t){var r=arguments.length>=1,n=arguments.length>=2;if(!(this instanceof URI))return r?n?new URI(e,t):new URI(e):new URI;if(void 0===e){if(r)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&r)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}URI.version="1.19.1";var a=URI.prototype,o=Object.prototype.hasOwnProperty;function escapeRegEx(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function getType(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function isArray(e){return"Array"===getType(e)}function filterArrayValues(e,t){var r,n,i={};if("RegExp"===getType(t))i=null;else if(isArray(t))for(r=0,n=t.length;r<n;r++)i[t[r]]=!0;else i[t]=!0;for(r=0,n=e.length;r<n;r++){(i&&void 0!==i[e[r]]||!i&&t.test(e[r]))&&(e.splice(r,1),n--,r--)}return e}function arrayContains(e,t){var r,n;if(isArray(t)){for(r=0,n=t.length;r<n;r++)if(!arrayContains(e,t[r]))return!1;return!0}var i=getType(t);for(r=0,n=e.length;r<n;r++)if("RegExp"===i){if("string"==typeof e[r]&&e[r].match(t))return!0}else if(e[r]===t)return!0;return!1}function arraysEqual(e,t){if(!isArray(e)||!isArray(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function trimSlashes(e){return e.replace(/^\/+|\/+$/g,"")}function escapeForDumbFirefox36(e){return escape(e)}function strictEncodeURIComponent(e){return encodeURIComponent(e).replace(/[!'()*]/g,escapeForDumbFirefox36).replace(/\*/g,"%2A")}URI._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:URI.preventInvalidHostname,duplicateQueryParameters:URI.duplicateQueryParameters,escapeQuerySpace:URI.escapeQuerySpace}},URI.preventInvalidHostname=!1,URI.duplicateQueryParameters=!1,URI.escapeQuerySpace=!0,URI.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,URI.idn_expression=/[^a-z0-9\._-]/i,URI.punycode_expression=/(xn--)/i,URI.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,URI.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,URI.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,URI.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},URI.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},URI.hostProtocols=["http","https"],URI.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,URI.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},URI.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return URI.domAttributes[t]}},URI.encode=strictEncodeURIComponent,URI.decode=decodeURIComponent,URI.iso8859=function(){URI.encode=escape,URI.decode=unescape},URI.unicode=function(){URI.encode=strictEncodeURIComponent,URI.decode=decodeURIComponent},URI.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},URI.encodeQuery=function(e,t){var r=URI.encode(e+"");return void 0===t&&(t=URI.escapeQuerySpace),t?r.replace(/%20/g,"+"):r},URI.decodeQuery=function(e,t){e+="",void 0===t&&(t=URI.escapeQuerySpace);try{return URI.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var s,l={encode:"encode",decode:"decode"},u=function(e,t){return function(r){try{return URI[t](r+"").replace(URI.characters[e][t].expression,function(r){return URI.characters[e][t].map[r]})}catch(e){return r}}};for(s in l)URI[s+"PathSegment"]=u("pathname",l[s]),URI[s+"UrnPathSegment"]=u("urnpath",l[s]);var c=function(e,t,r){return function(n){var i;i=r?function(e){return URI[t](URI[r](e))}:URI[t];for(var a=(n+"").split(e),o=0,s=a.length;o<s;o++)a[o]=i(a[o]);return a.join(e)}};function generateSimpleAccessor(e){return function(t,r){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!r),this)}}function generatePrefixAccessor(e,t){return function(r,n){return void 0===r?this._parts[e]||"":(null!==r&&(r+="").charAt(0)===t&&(r=r.substring(1)),this._parts[e]=r,this.build(!n),this)}}URI.decodePath=c("/","decodePathSegment"),URI.decodeUrnPath=c(":","decodeUrnPathSegment"),URI.recodePath=c("/","encodePathSegment","decode"),URI.recodeUrnPath=c(":","encodeUrnPathSegment","decode"),URI.encodeReserved=u("reserved","encode"),URI.parse=function(e,t){var r;return t||(t={preventInvalidHostname:URI.preventInvalidHostname}),(r=e.indexOf("#"))>-1&&(t.fragment=e.substring(r+1)||null,e=e.substring(0,r)),(r=e.indexOf("?"))>-1&&(t.query=e.substring(r+1)||null,e=e.substring(0,r)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=URI.parseAuthority(e,t)):(r=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,r)||null,t.protocol&&!t.protocol.match(URI.protocol_expression)?t.protocol=void 0:"//"===e.substring(r+1,r+3)?(e=e.substring(r+3),e=URI.parseAuthority(e,t)):(e=e.substring(r+1),t.urn=!0)),t.path=e,t},URI.parseHost=function(e,t){e||(e="");var r,n,i=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===i&&(i=e.length),"["===e.charAt(0))r=e.indexOf("]"),t.hostname=e.substring(1,r)||null,t.port=e.substring(r+2,i)||null,"/"===t.port&&(t.port=null);else{var a=e.indexOf(":"),o=e.indexOf("/"),s=e.indexOf(":",a+1);-1!==s&&(-1===o||s<o)?(t.hostname=e.substring(0,i)||null,t.port=null):(n=e.substring(0,i).split(":"),t.hostname=n[0]||null,t.port=n[1]||null)}return t.hostname&&"/"!==e.substring(i).charAt(0)&&(i++,e="/"+e),t.preventInvalidHostname&&URI.ensureValidHostname(t.hostname,t.protocol),t.port&&URI.ensureValidPort(t.port),e.substring(i)||"/"},URI.parseAuthority=function(e,t){return e=URI.parseUserinfo(e,t),URI.parseHost(e,t)},URI.parseUserinfo=function(e,t){var r,n=e.indexOf("/"),i=e.lastIndexOf("@",n>-1?n:e.length-1);return i>-1&&(-1===n||i<n)?(r=e.substring(0,i).split(":"),t.username=r[0]?URI.decode(r[0]):null,r.shift(),t.password=r[0]?URI.decode(r.join(":")):null,e=e.substring(i+1)):(t.username=null,t.password=null),e},URI.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var r,n,i,a={},s=e.split("&"),l=s.length,u=0;u<l;u++)r=s[u].split("="),n=URI.decodeQuery(r.shift(),t),i=r.length?URI.decodeQuery(r.join("="),t):null,o.call(a,n)?("string"!=typeof a[n]&&null!==a[n]||(a[n]=[a[n]]),a[n].push(i)):a[n]=i;return a},URI.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=URI.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},URI.buildHost=function(e){var t="";return e.hostname?(URI.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},URI.buildAuthority=function(e){return URI.buildUserinfo(e)+URI.buildHost(e)},URI.buildUserinfo=function(e){var t="";return e.username&&(t+=URI.encode(e.username)),e.password&&(t+=":"+URI.encode(e.password)),t&&(t+="@"),t},URI.buildQuery=function(e,t,r){var n,i,a,s,l="";for(i in e)if(o.call(e,i)&&i)if(isArray(e[i]))for(n={},a=0,s=e[i].length;a<s;a++)void 0!==e[i][a]&&void 0===n[e[i][a]+""]&&(l+="&"+URI.buildQueryParameter(i,e[i][a],r),!0!==t&&(n[e[i][a]+""]=!0));else void 0!==e[i]&&(l+="&"+URI.buildQueryParameter(i,e[i],r));return l.substring(1)},URI.buildQueryParameter=function(e,t,r){return URI.encodeQuery(e,r)+(null!==t?"="+URI.encodeQuery(t,r):"")},URI.addQuery=function(e,t,r){if("object"==typeof t)for(var n in t)o.call(t,n)&&URI.addQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=r);"string"==typeof e[t]&&(e[t]=[e[t]]),isArray(r)||(r=[r]),e[t]=(e[t]||[]).concat(r)}},URI.setQuery=function(e,t,r){if("object"==typeof t)for(var n in t)o.call(t,n)&&URI.setQuery(e,n,t[n]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===r?null:r}},URI.removeQuery=function(e,t,r){var n,i,a;if(isArray(t))for(n=0,i=t.length;n<i;n++)e[t[n]]=void 0;else if("RegExp"===getType(t))for(a in e)t.test(a)&&(e[a]=void 0);else if("object"==typeof t)for(a in t)o.call(t,a)&&URI.removeQuery(e,a,t[a]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==r?"RegExp"===getType(r)?!isArray(e[t])&&r.test(e[t])?e[t]=void 0:e[t]=filterArrayValues(e[t],r):e[t]!==String(r)||isArray(r)&&1!==r.length?isArray(e[t])&&(e[t]=filterArrayValues(e[t],r)):e[t]=void 0:e[t]=void 0}},URI.hasQuery=function(e,t,r,n){switch(getType(t)){case"String":break;case"RegExp":for(var i in e)if(o.call(e,i)&&t.test(i)&&(void 0===r||URI.hasQuery(e,i,r)))return!0;return!1;case"Object":for(var a in t)if(o.call(t,a)&&!URI.hasQuery(e,a,t[a]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(getType(r)){case"Undefined":return t in e;case"Boolean":return r===Boolean(isArray(e[t])?e[t].length:e[t]);case"Function":return!!r(e[t],t,e);case"Array":return!!isArray(e[t])&&(n?arrayContains:arraysEqual)(e[t],r);case"RegExp":return isArray(e[t])?!!n&&arrayContains(e[t],r):Boolean(e[t]&&e[t].match(r));case"Number":r=String(r);case"String":return isArray(e[t])?!!n&&arrayContains(e[t],r):e[t]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},URI.joinPaths=function(){for(var e=[],t=[],r=0,n=0;n<arguments.length;n++){var i=new URI(arguments[n]);e.push(i);for(var a=i.segment(),o=0;o<a.length;o++)"string"==typeof a[o]&&t.push(a[o]),a[o]&&r++}if(!t.length||!r)return new URI("");var s=new URI("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||s.path("/"+s.path()),s.normalize()},URI.commonPath=function(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r)){r--;break}return r<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(r)&&"/"===t.charAt(r)||(r=e.substring(0,r).lastIndexOf("/")),e.substring(0,r+1))},URI.withinString=function(e,t,r){r||(r={});var n=r.start||URI.findUri.start,i=r.end||URI.findUri.end,a=r.trim||URI.findUri.trim,o=r.parens||URI.findUri.parens,s=/[a-z0-9-]=["']?$/i;for(n.lastIndex=0;;){var l=n.exec(e);if(!l)break;var u=l.index;if(r.ignoreHtml){var c=e.slice(Math.max(u-3,0),u);if(c&&s.test(c))continue}for(var f=u+e.slice(u).search(i),d=e.slice(u,f),p=-1;;){var h=o.exec(d);if(!h)break;var g=h.index+h[0].length;p=Math.max(p,g)}if(!((d=p>-1?d.slice(0,p)+d.slice(p).replace(a,""):d.replace(a,"")).length<=l[0].length||r.ignore&&r.ignore.test(d))){var m=t(d,u,f=u+d.length,e);void 0!==m?(m=String(m),e=e.slice(0,u)+m+e.slice(f),n.lastIndex=u+m.length):n.lastIndex=f}}return n.lastIndex=0,e},URI.ensureValidHostname=function(t,r){var n=!!t,i=!1;if(!!r&&(i=arrayContains(URI.hostProtocols,r)),i&&!n)throw new TypeError("Hostname cannot be empty, if protocol is "+r);if(t&&t.match(URI.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(URI.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},URI.ensureValidPort=function(e){if(e){var t=Number(e);if(!(function isInteger(e){return/^[0-9]+$/.test(e)}(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},URI.noConflict=function(e){if(e){var t={URI:this.noConflict()};return n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(t.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(t.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=n.SecondLevelDomains.noConflict()),t}return n.URI===this&&(n.URI=i),this},a.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=URI.build(this._parts),this._deferred_build=!1),this},a.clone=function(){return new URI(this)},a.valueOf=a.toString=function(){return this.build(!1)._string},a.protocol=generateSimpleAccessor("protocol"),a.username=generateSimpleAccessor("username"),a.password=generateSimpleAccessor("password"),a.hostname=generateSimpleAccessor("hostname"),a.port=generateSimpleAccessor("port"),a.query=generatePrefixAccessor("query","?"),a.fragment=generatePrefixAccessor("fragment","#"),a.search=function(e,t){var r=this.query(e,t);return"string"==typeof r&&r.length?"?"+r:r},a.hash=function(e,t){var r=this.fragment(e,t);return"string"==typeof r&&r.length?"#"+r:r},a.pathname=function(e,t){if(void 0===e||!0===e){var r=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?URI.decodeUrnPath:URI.decodePath)(r):r}return this._parts.urn?this._parts.path=e?URI.recodeUrnPath(e):"":this._parts.path=e?URI.recodePath(e):"/",this.build(!t),this},a.path=a.pathname,a.href=function(e,t){var r;if(void 0===e)return this.toString();this._string="",this._parts=URI._parts();var n=e instanceof URI,i="object"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[URI.getDomAttribute(e)]||"",i=!1);if(!n&&i&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=URI.parse(String(e),this._parts);else{if(!n&&!i)throw new TypeError("invalid input");var a=n?e._parts:e;for(r in a)"query"!==r&&o.call(this._parts,r)&&(this._parts[r]=a[r]);a.query&&this.query(a.query,!1)}return this.build(!t),this},a.is=function(e){var t=!1,n=!1,i=!1,a=!1,o=!1,s=!1,l=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,n=URI.ip4_expression.test(this._parts.hostname),i=URI.ip6_expression.test(this._parts.hostname),o=(a=!(t=n||i))&&r&&r.has(this._parts.hostname),s=a&&URI.idn_expression.test(this._parts.hostname),l=a&&URI.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return a;case"sld":return o;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return i;case"idn":return s;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var f=a.protocol,d=a.port,p=a.hostname;a.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(URI.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return f.call(this,e,t)},a.scheme=a.protocol,a.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),URI.ensureValidPort(e))),d.call(this,e,t))},a.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var r={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==URI.parseHost(e,r))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=r.hostname,this._parts.preventInvalidHostname&&URI.ensureValidHostname(e,this._parts.protocol)}return p.call(this,e,t)},a.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var r=this.protocol();return this.authority()?(r?r+"://":"")+this.authority():""}var n=URI(e);return this.protocol(n.protocol()).authority(n.authority()).build(!t),this},a.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?URI.buildHost(this._parts):"";if("/"!==URI.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?URI.buildAuthority(this._parts):"";if("/"!==URI.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},a.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var r=URI.buildUserinfo(this._parts);return r?r.substring(0,r.length-1):r}return"@"!==e[e.length-1]&&(e+="@"),URI.parseUserinfo(e,this._parts),this.build(!t),this},a.resource=function(e,t){var r;return void 0===e?this.path()+this.search()+this.hash():(r=URI.parse(e),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!t),this)},a.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var n=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,n),a=new RegExp("^"+escapeRegEx(i));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&URI.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(a,e),this.build(!t),this},a.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var n=this._parts.hostname.length-this.tld(t).length-1;return n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(URI.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var i=new RegExp(escapeRegEx(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},a.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(n+1);return!0!==t&&r&&r.list[i.toLowerCase()]&&r.get(this._parts.hostname)||i}var a;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');a=new RegExp(escapeRegEx(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(escapeRegEx(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,e)}return this.build(!t),this},a.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return e?URI.decodePath(n):n}var i=this._parts.path.length-this.filename().length,a=this._parts.path.substring(0,i),o=new RegExp("^"+escapeRegEx(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=URI.recodePath(e),this._parts.path=this._parts.path.replace(o,e),this.build(!t),this},a.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(r+1);return e?URI.decodePathSegment(n):n}var i=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(i=!0);var a=new RegExp(escapeRegEx(this.filename())+"$");return e=URI.recodePath(e),this._parts.path=this._parts.path.replace(a,e),i?this.normalizePath(t):this.build(!t),this},a.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var r,n,i=this.filename(),a=i.lastIndexOf(".");return-1===a?"":(r=i.substring(a+1),n=/^[a-z0-9%]+$/i.test(r)?r:"",e?URI.decodePathSegment(n):n)}"."===e.charAt(0)&&(e=e.substring(1));var o,s=this.suffix();if(s)o=e?new RegExp(escapeRegEx(s)+"$"):new RegExp(escapeRegEx("."+s)+"$");else{if(!e)return this;this._parts.path+="."+URI.recodePath(e)}return o&&(e=URI.recodePath(e),this._parts.path=this._parts.path.replace(o,e)),this.build(!t),this},a.segment=function(e,t,r){var n=this._parts.urn?":":"/",i=this.path(),a="/"===i.substring(0,1),o=i.split(n);if(void 0!==e&&"number"!=typeof e&&(r=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(a&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(isArray(t)){o=[];for(var s=0,l=t.length;s<l;s++)(t[s].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(trimSlashes(t[s])))}else(t||"string"==typeof t)&&(t=trimSlashes(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=trimSlashes(t):o.splice(e,1);return a&&o.unshift(""),this.path(o.join(n),r)},a.segmentCoded=function(e,t,r){var n,i,a;if("number"!=typeof e&&(r=t,t=e,e=void 0),void 0===t){if(isArray(n=this.segment(e,t,r)))for(i=0,a=n.length;i<a;i++)n[i]=URI.decode(n[i]);else n=void 0!==n?URI.decode(n):void 0;return n}if(isArray(t))for(i=0,a=t.length;i<a;i++)t[i]=URI.encode(t[i]);else t="string"==typeof t||t instanceof String?URI.encode(t):t;return this.segment(e,t,r)};var h=a.query;return a.query=function(e,t){if(!0===e)return URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var r=URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace),n=e.call(this,r);return this._parts.query=URI.buildQuery(n||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=URI.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):h.call(this,e,t)},a.setQuery=function(e,t,r){var n=URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)n[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in e)o.call(e,i)&&(n[i]=e[i])}return this._parts.query=URI.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},a.addQuery=function(e,t,r){var n=URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return URI.addQuery(n,e,void 0===t?null:t),this._parts.query=URI.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},a.removeQuery=function(e,t,r){var n=URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return URI.removeQuery(n,e,t),this._parts.query=URI.buildQuery(n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},a.hasQuery=function(e,t,r){var n=URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return URI.hasQuery(n,e,t,r)},a.setSearch=a.setQuery,a.addSearch=a.addQuery,a.removeSearch=a.removeQuery,a.hasSearch=a.hasQuery,a.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},a.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},a.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},a.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===URI.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},a.normalizePath=function(e){var t,r=this._parts.path;if(!r)return this;if(this._parts.urn)return this._parts.path=URI.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var n,i,a="";for("/"!==(r=URI.recodePath(r)).charAt(0)&&(t=!0,r="/"+r),"/.."!==r.slice(-3)&&"/."!==r.slice(-2)||(r+="/"),r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(a=r.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);-1!==(n=r.search(/\/\.\.(\/|$)/));)0!==n?(-1===(i=r.substring(0,n).lastIndexOf("/"))&&(i=n),r=r.substring(0,i)+r.substring(n+3)):r=r.substring(3);return t&&this.is("relative")&&(r=a+r.substring(1)),this._parts.path=r,this.build(!e),this},a.normalizePathname=a.normalizePath,a.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(URI.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},a.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},a.normalizeSearch=a.normalizeQuery,a.normalizeHash=a.normalizeFragment,a.iso8859=function(){var e=URI.encode,t=URI.decode;URI.encode=escape,URI.decode=decodeURIComponent;try{this.normalize()}finally{URI.encode=e,URI.decode=t}return this},a.unicode=function(){var e=URI.encode,t=URI.decode;URI.encode=strictEncodeURIComponent,URI.decode=unescape;try{this.normalize()}finally{URI.encode=e,URI.decode=t}return this},a.readable=function(){var t=this.clone();t.username("").password("").normalize();var r="";if(t._parts.protocol&&(r+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(r+=e.toUnicode(t._parts.hostname),t._parts.port&&(r+=":"+t._parts.port)):r+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(r+="/"),r+=t.path(!0),t._parts.query){for(var n="",i=0,a=t._parts.query.split("&"),o=a.length;i<o;i++){var s=(a[i]||"").split("=");n+="&"+URI.decodeQuery(s[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==s[1]&&(n+="="+URI.decodeQuery(s[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+n.substring(1)}return r+=URI.decodeQuery(t.hash(),!0)},a.absoluteTo=function(e){var t,r,n,i=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof URI||(e=new URI(e)),i._parts.protocol)return i;if(i._parts.protocol=e._parts.protocol,this._parts.hostname)return i;for(r=0;n=a[r];r++)i._parts[n]=e._parts[n];return i._parts.path?(".."===i._parts.path.substring(-2)&&(i._parts.path+="/"),"/"!==i.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),i._parts.path=(t?t+"/":"")+i._parts.path,i.normalizePath())):(i._parts.path=e._parts.path,i._parts.query||(i._parts.query=e._parts.query)),i.build(),i},a.relativeTo=function(e){var t,r,n,i,a,o=this.clone().normalize();if(o._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new URI(e).normalize(),t=o._parts,r=e._parts,i=o.path(),a=e.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===r.protocol&&(t.protocol=null),t.username!==r.username||t.password!==r.password)return o.build();if(null!==t.protocol||null!==t.username||null!==t.password)return o.build();if(t.hostname!==r.hostname||t.port!==r.port)return o.build();if(t.hostname=null,t.port=null,i===a)return t.path="",o.build();if(!(n=URI.commonPath(i,a)))return o.build();var s=r.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=s+t.path.substring(n.length)||"./",o.build()},a.equals=function(e){var t,r,n,i,a,s=this.clone(),l=new URI(e),u={};if(s.normalize(),l.normalize(),s.toString()===l.toString())return!0;if(n=s.query(),i=l.query(),s.query(""),l.query(""),s.toString()!==l.toString())return!1;if(n.length!==i.length)return!1;for(a in t=URI.parseQuery(n,this._parts.escapeQuerySpace),r=URI.parseQuery(i,this._parts.escapeQuerySpace),t)if(o.call(t,a)){if(isArray(t[a])){if(!arraysEqual(t[a],r[a]))return!1}else if(t[a]!==r[a])return!1;u[a]=!0}for(a in r)if(o.call(r,a)&&!u[a])return!1;return!0},a.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},a.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},a.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},URI})},function(e,t,r){var n=r(106)(r(78),"Map");e.exports=n},function(e,t){var r=9007199254740991;e.exports=function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,r){(function(e){var n=r(78),i=r(789),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,r(184)(e))},function(e,t,r){var n=r(790),i=r(166),a=r(330),o=a&&a.isTypedArray,s=o?i(o):n;e.exports=s},function(e,t,r){var n=r(238),i=r(119),a=Object.prototype.hasOwnProperty;e.exports=function assignValue(e,t,r){var o=e[t];a.call(e,t)&&i(o,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(331);e.exports=function baseAssignValue(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t,r){var n=r(48),i=r(332),a=r(333);e.exports=function baseRest(e,t){return a(i(e,t,n),e+"")}},function(e,t,r){var n=r(812),i=r(819),a=r(821),o=r(822),s=r(823);function MapCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}MapCache.prototype.clear=n,MapCache.prototype.delete=i,MapCache.prototype.get=a,MapCache.prototype.has=o,MapCache.prototype.set=s,e.exports=MapCache},function(e,t,r){var n=r(824),i=r(79);e.exports=function baseIsEqual(e,t,r,a,o){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!=e&&t!=t:n(e,t,r,a,baseIsEqual,o))}},function(e,t,r){var n=r(240),i=r(825),a=r(826);function SetCache(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}SetCache.prototype.add=SetCache.prototype.push=i,SetCache.prototype.has=a,e.exports=SetCache},function(e,t){e.exports=function cacheHas(e,t){return e.has(t)}},function(e,t){e.exports=function setToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},function(e,t){e.exports=function arrayPush(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},function(e,t,r){var n=r(173),i=r(138);e.exports=function baseGet(e,t){for(var r=0,a=(t=n(t,e)).length;null!=e&&r<a;)e=e[i(t[r++])];return r&&r==a?e:void 0}},function(e,t,r){var n=r(47),i=r(137),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function isKey(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},function(e,t,r){var n=r(353),i=r(853)(n);e.exports=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},l=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),c=r(406),f=r(408);t.STATUS={FAILED:"failed",LOADED:"loaded",LOADING:"loading",PENDING:"pending",READY:"ready",UNSUPPORTED:"unsupported"};var d=Object.create(null),p=function(e){function InlineSVG(r){var n=e.call(this,r)||this;return n._isMounted=!1,n.handleLoad=function(e){n._isMounted&&n.setState({content:e,status:t.STATUS.LOADED},n.getElement)},n.handleError=function(e){var r=n.props.onError,i="Browser does not support SVG"===e.message?t.STATUS.UNSUPPORTED:t.STATUS.FAILED;n._isMounted&&n.setState({status:i},function(){"function"==typeof r&&r(e)})},n.request=function(){var e=n.props,r=e.cacheRequests,i=e.src;try{return r&&(d[i]={content:"",status:t.STATUS.LOADING,queue:[]}),fetch(i).then(function(e){var t=e.headers.get("content-type"),r=s((t||"").split(/ ?; ?/),1)[0];if(e.status>299)throw new f.InlineSVGError("Not Found");if(!["image/svg+xml","text/plain"].some(function(e){return r.indexOf(e)>=0}))throw new f.InlineSVGError("Content type isn't valid: "+r);return e.text()}).then(function(e){if(n.handleLoad(e),r){var a=d[i];a&&(a.content=e,a.status=t.STATUS.LOADED,a.queue=a.queue.filter(function(t){return t(e),!1}))}}).catch(function(e){r&&delete d[i],n.handleError(e)})}catch(e){n.handleError(new f.InlineSVGError(e.message))}},n.state={content:"",element:null,hasCache:!!r.cacheRequests&&!!d[r.src],status:t.STATUS.PENDING},n.hash=r.uniqueHash||f.randomString(8),n}return i(InlineSVG,e),InlineSVG.prototype.componentDidMount=function(){if(this._isMounted=!0,f.canUseDOM()){var e=this.state.status,r=this.props.src;try{if(e===t.STATUS.PENDING){if(!f.isSupportedEnvironment())throw new f.InlineSVGError("Browser does not support SVG");if(!r)throw new f.InlineSVGError("Missing src");this.load()}}catch(e){this.handleError(e)}}else this.handleError(new f.InlineSVGError("No DOM"))},InlineSVG.prototype.componentDidUpdate=function(e,r){if(f.canUseDOM()){var n=this.state,i=n.hasCache,a=n.status,o=this.props,s=o.onLoad,l=o.src;if(r.status!==t.STATUS.READY&&a===t.STATUS.READY&&s&&s(l,i),e.src!==l){if(!l)return void this.handleError(new f.InlineSVGError("Missing src"));this.load()}}},InlineSVG.prototype.componentWillUnmount=function(){this._isMounted=!1},InlineSVG.prototype.processSVG=function(){var e=this.state.content,t=this.props.preProcessor;return t?t(e):e},InlineSVG.prototype.updateSVGAttributes=function(e){var t=this,r=this.props,n=r.baseURL,i=void 0===n?"":n,a=r.uniquifyIDs,o=["id","href","xlink:href","xlink:role","xlink:arcrole"],s=["href","xlink:href"];return a?(l(e.children).map(function(e){if(e.attributes&&e.attributes.length){var r=Object.values(e.attributes);r.forEach(function(e){var r=e.value.match(/^url\((#[^)]+)/);r&&r[1]&&(e.value="url("+i+r[1]+"__"+t.hash+")")}),o.forEach(function(e){var n,i,a=r.find(function(t){return t.name===e});!a||(n=e,i=a.value,s.indexOf(n)>=0&&i&&i.indexOf("#")<0)||(a.value=a.value+"__"+t.hash)})}return e.children.length&&(e=t.updateSVGAttributes(e)),e}),e):e},InlineSVG.prototype.getNode=function(){var e=this.props,t=e.description,r=e.title;try{var n=this.processSVG(),i=c.default(n,{nodeOnly:!0});if(!(i&&i instanceof SVGSVGElement))throw new f.InlineSVGError("Could not convert the src to a DOM Node");var a=this.updateSVGAttributes(i);if(t){var o=a.querySelector("desc");o&&o.parentNode&&o.parentNode.removeChild(o);var s=document.createElement("desc");s.innerHTML=t,a.prepend(s)}if(r){var l=a.querySelector("title");l&&l.parentNode&&l.parentNode.removeChild(l);var u=document.createElement("title");u.innerHTML=r,a.prepend(u)}return a}catch(e){this.handleError(e)}},InlineSVG.prototype.getElement=function(){var e=this.props,r=(e.baseURL,e.cacheRequests,e.children,e.description,e.innerRef),n=(e.onError,e.onLoad,e.loader,e.preProcessor,e.src,e.title,e.uniqueHash,e.uniquifyIDs,o(e,["baseURL","cacheRequests","children","description","innerRef","onError","onLoad","loader","preProcessor","src","title","uniqueHash","uniquifyIDs"]));try{var i=this.getNode(),s=c.default(i);if(!s||!u.isValidElement(s))throw new f.InlineSVGError("Could not convert the src to a React element");this.setState({element:u.cloneElement(s,a({ref:r},n)),status:t.STATUS.READY})}catch(e){this.handleError(new f.InlineSVGError(e.message))}},InlineSVG.prototype.load=function(){var e=this;this._isMounted&&this.setState({content:"",element:null,status:t.STATUS.LOADING},function(){var r=e.props,n=r.cacheRequests,i=r.src,a=n&&d[i];if(a)a.status===t.STATUS.LOADING?a.queue.push(e.handleLoad):a.status===t.STATUS.LOADED&&e.handleLoad(a.content);else{var o,s=i.match(/data:image\/svg[^,]*?(;base64)?,(.*)/);s?o=s[1]?atob(s[2]):decodeURIComponent(s[2]):i.indexOf("<svg")>=0&&(o=i),o?e.handleLoad(o):e.request()}})},InlineSVG.prototype.render=function(){if(!f.canUseDOM())return null;var e=this.state,r=e.element,n=e.status,i=this.props,a=i.children,o=void 0===a?null:a,s=i.loader,l=void 0===s?null:s;return r||([t.STATUS.UNSUPPORTED,t.STATUS.FAILED].indexOf(n)>-1?o:l)},InlineSVG.defaultProps={cacheRequests:!0,uniquifyIDs:!1},InlineSVG}(u.PureComponent);t.default=p},function(e,t,r){var n=r(340),i=r(107),a=r(854),o=r(47),s=r(167);e.exports=function some(e,t,r){var l=o(e)?n:a;return r&&s(e,t,r)&&(t=void 0),l(e,i(t,3))}},function(e,t,r){var n=r(334),i=r(874),a=r(48),o=Object.prototype.toString,s=i(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=o.call(t)),e[t]=r},n(a));e.exports=s},function(e,t,r){var n=r(89),i=n.Buffer;function copyProps(e,t){for(var r in e)t[r]=e[r]}function SafeBuffer(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(copyProps(n,t),t.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(i.prototype),copyProps(i,SafeBuffer),SafeBuffer.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},SafeBuffer.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},SafeBuffer.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},SafeBuffer.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){var n,i,a;a=function(){function normalize(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^\/:]+:\/*$/)&&e.length>1){var r=e.shift();e[0]=r+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^\/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^\/:]+):\/*/,"$1://");for(var n=0;n<e.length;n++){var i=e[n];if("string"!=typeof i)throw new TypeError("Url must be a string. Received "+i);""!==i&&(n>0&&(i=i.replace(/^[\/]+/,"")),i=n<e.length-1?i.replace(/[\/]+$/,""):i.replace(/[\/]+$/,"/"),t.push(i))}var a=t.join("/"),o=(a=a.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return a=o.shift()+(o.length>0?"?":"")+o.join("&")}return function(){return normalize("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=a():void 0===(i="function"==typeof(n=a)?n.call(t,r,t,e):n)||(e.exports=i)},function(e,t,r){var n=r(617);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,o,s=toObject(e),l=1;l<arguments.length;l++){for(var u in r=Object(arguments[l]))i.call(r,u)&&(s[u]=r[u]);if(n){o=n(r);for(var c=0;c<o.length;c++)a.call(r,o[c])&&(s[o[c]]=r[o[c]])}}return s}},function(e,t,r){e.exports=r.p+"9c39dc7fa496fb05fb9e730e8c0f7b68.gif"},function(e,t,r){(function(e){function normalizeArray(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function filter(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var i=n>=0?arguments[n]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,r="/"===i.charAt(0))}return(r?"/":"")+(t=normalizeArray(filter(t.split("/"),function(e){return!!e}),!r).join("/"))||"."},t.normalize=function(e){var n=t.isAbsolute(e),i="/"===r(e,-1);return(e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!n).join("/"))||n||(e="."),e&&i&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(filter(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function trim(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var n=trim(e.split("/")),i=trim(r.split("/")),a=Math.min(n.length,i.length),o=a,s=0;s<a;s++)if(n[s]!==i[s]){o=s;break}var l=[];for(s=o;s<n.length;s++)l.push("..");return(l=l.concat(i.slice(o))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!i){n=a;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=function basename(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===n&&(i=!1,n=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){r=o+1;break}}return-1===t||-1===n||0===a||1===a&&t===n-1&&t===r+1?"":e.slice(t,n)};var r="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r(90))},function(e,t,r){r(380);const n=r(381),i=r(378);class FrameClient{constructor({target:e=parent,timeout:t=30}={}){this.target=e,this.timeout=t,this.utils=i;for(const e of this.AllowedMethods())this[e]=async t=>{let r=t&&t.callback;return r&&delete t.callback,await this.SendMessage({options:{calledMethod:e,args:this.utils.MakeClonable(t)},callback:r})};this.userProfileClient={};for(const e of this.AllowedUserProfileMethods())this.userProfileClient[e]=async t=>{if(FrameClient.PromptedMethods().includes(e)&&(!t||!t.requestor))throw new Error("'requestor' param required when calling user profile methods from FrameClient");let r=t&&t.callback;return r&&delete t.callback,await this.SendMessage({options:{module:"userProfileClient",calledMethod:e,args:this.utils.MakeClonable(t),prompted:FrameClient.PromptedMethods().includes(e),requestor:t.requestor},callback:r})}}async PassRequest({request:e,Respond:t}){let r;try{let n;e.callbackId&&(n=r=>t({type:"ElvFrameResponse",requestId:e.callbackId,response:r})),r=await this.SendMessage({options:e,callback:n})}catch(e){r=JSON.parse(JSON.stringify(e))}return{type:"ElvFrameResponse",requestId:e.requestId,response:r}}async SendMessage({options:e={},callback:t,noResponse:r=!1}){const i=n.next();let a;if(t&&(a=n.next()),this.target.postMessage({...e,type:"ElvFrameRequest",requestId:i,callbackId:a},"*"),!r){const r=e.calledMethod||e.operation,n=e.prompted?0:this.timeout;return await this.AwaitMessage(i,n,t,a,r)}}async AwaitMessage(e,t,r,n,i){return await new Promise((a,o)=>{let s,l;const u=()=>{l&&clearTimeout(l),t>0&&(l=setTimeout(()=>{o(`Request ${e} timed out (${i})`),window.removeEventListener("message",s),c&&window.removeEventListener("message",c)},1e3*t))};let c;n&&(c=e=>{try{u();const t=e.data;if("ElvFrameResponse"!==t.type||t.requestId!==n)return;r(t.response)}catch(e){console.error(e)}},window.addEventListener("message",c)),s=async t=>{try{const r=t.data;if("ElvFrameResponse"!==r.type||r.requestId!==e)return;r.error?o(r.error):a(r.response),window.removeEventListener("message",s),c&&window.removeEventListener("message",c)}catch(e){o(e),window.removeEventListener("message",s),c&&window.removeEventListener("message",c)}},u(),window.addEventListener("message",s)})}static PromptedMethods(){return["CollectedTags","DeleteUserMetadata","MergeUserMetadata","ReplaceUserMetadata","UserMetadata"]}AllowedMethods(){return["AccessGroupManagers","AccessGroupMembers","AccessGroupOwner","AccessInfo","AccessRequest","AccessType","AddAccessGroupManager","AddAccessGroupMember","AddLibraryContentType","BitcodeMethodUrl","BitmovinPlayoutOptions","BlockNumber","CachedAccessTransaction","CallContractMethod","CallContractMethodAndWait","ClearCache","Collection","ContentLibraries","ContentLibrary","ContentLibraryOwner","ContentObject","ContentObjectAccessComplete","ContentObjectLibraryId","ContentObjectMetadata","ContentObjectOwner","ContentObjectVersions","ContentObjects","ContentPart","ContentParts","ContentSpaceId","ContentType","ContentTypeOwner","ContentTypes","ContractEvents","CopyContentObject","CreateAccessGroup","CreateContentLibrary","CreateContentObject","CreateContentSpace","CreateContentType","CreateFileUploadJob","CreatePart","CurrentAccountAddress","CustomContractAddress","DefaultKMSAddress","DeleteAccessGroup","DeleteContentLibrary","DeleteContentObject","DeleteContentVersion","DeleteMetadata","DeletePart","DeployContract","DownloadFile","DownloadPart","EditContentObject","EncryptionCap","Events","ExtractEventFromLogs","ExtractValueFromEvent","FabricUrl","FileUrl","FinalizeContentObject","FinalizePart","FinalizeUploadJobs","FormatContractArguments","GenerateStateChannelToken","GetBalance","LibraryContentTypes","ListFiles","MergeMetadata","PlayoutOptions","Proofs","PublicRep","PublishContentVersion","QParts","RemoveAccessGroupManager","RemoveAccessGroupMember","RemoveLibraryContentType","Rep","ReplaceMetadata","SendFunds","SetAccessCharge","SetContentLibraryImage","SetContentObjectImage","SetCustomContentContract","UploadFileData","UploadFiles","UploadJobStatus","UploadPart","UploadPartChunk","VerifyContentObject","WithdrawContractFunds"]}AllowedUserProfileMethods(){return["AccessLevel","CollectedTags","DeleteUserMetadata","Initialize","MergeUserMetadata","PublicUserMetadata","ReplaceUserMetadata","UserMetadata","UserProfileImage","UserWalletAddress","WalletAddress"]}}t.FrameClient=FrameClient},function(e,t,r){e.exports=!r(36)&&!r(20)(function(){return 7!=Object.defineProperty(r(186)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(19),i=r(35),a=r(93),o=r(187),s=r(37).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,r){var n=r(54),i=r(56),a=r(143)(!1),o=r(188)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),l=0,u=[];for(r in s)r!=o&&n(s,r)&&u.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~a(u,r)||u.push(r));return u}},function(e,t,r){var n=r(37),i=r(21),a=r(94);e.exports=r(36)?Object.defineProperties:function defineProperties(e,t){i(e);for(var r,o=a(t),s=o.length,l=0;s>l;)n.f(e,r=o[l++],t[r]);return e}},function(e,t,r){var n=r(56),i=r(97).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function getOwnPropertyNames(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(n(e))}},function(e,t,r){"use strict";var n=r(36),i=r(94),a=r(144),o=r(128),s=r(44),l=r(127),u=Object.assign;e.exports=!u||r(20)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function assign(e,t){for(var r=s(e),u=arguments.length,c=1,f=a.f,d=o.f;u>c;)for(var p,h=l(arguments[c++]),g=f?i(h).concat(f(h)):i(h),m=g.length,y=0;m>y;)p=g[y++],n&&!d.call(h,p)||(r[p]=h[p]);return r}:u},function(e,t){e.exports=Object.is||function is(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){"use strict";var n=r(66),i=r(22),a=r(267),o=[].slice,s={},l=function(e,t,r){if(!(t in s)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)};e.exports=Function.bind||function bind(e){var t=n(this),r=o.call(arguments,1),s=function(){var n=r.concat(o.call(arguments));return this instanceof s?l(t,n.length,n):a(t,n,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(19).parseInt,i=r(111).trim,a=r(192),o=/^[-+]?0[xX]/;e.exports=8!==n(a+"08")||22!==n(a+"0x16")?function parseInt(e,t){var r=i(String(e),3);return n(r,t>>>0||(o.test(r)?16:10))}:n},function(e,t,r){var n=r(19).parseFloat,i=r(111).trim;e.exports=1/n(r(192)+"-0")!=-1/0?function parseFloat(e){var t=i(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},function(e,t,r){var n=r(74);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,t,r){var n=r(22),i=Math.floor;e.exports=function isInteger(e){return!n(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function log1p(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,r){"use strict";var n=r(96),i=r(91),a=r(110),o={};r(55)(o,r(28)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)}),a(e,t+" Iterator")}},function(e,t,r){var n=r(21);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw void 0!==a&&n(a.call(e)),t}}},function(e,t,r){var n=r(522);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(66),i=r(44),a=r(127),o=r(31);e.exports=function(e,t,r,s,l){n(t);var u=i(e),c=a(u),f=o(u.length),d=l?f-1:0,p=l?-1:1;if(r<2)for(;;){if(d in c){s=c[d],d+=p;break}if(d+=p,l?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:f>d;d+=p)d in c&&(s=t(s,c[d],d,u));return s}},function(e,t,r){"use strict";var n=r(44),i=r(95),a=r(31);e.exports=[].copyWithin||function copyWithin(e,t){var r=n(this),o=a(r.length),s=i(e,o),l=i(t,o),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?o:i(u,o))-l,o-s),f=1;for(l<s&&s<l+c&&(f=-1,l+=c-1,s+=c-1);c-- >0;)l in r?r[s]=r[l]:delete r[s],s+=f,l+=f;return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(207);r(3)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,r){r(36)&&"g"!=/./g.flags&&r(37).f(RegExp.prototype,"flags",{configurable:!0,get:r(147)})},function(e,t,r){"use strict";var n,i,a,o,s=r(93),l=r(19),u=r(65),c=r(129),f=r(3),d=r(22),p=r(66),h=r(114),g=r(150),m=r(130),y=r(209).set,v=r(542)(),_=r(282),b=r(543),E=r(151),T=r(283),S=l.TypeError,w=l.process,R=w&&w.versions,A=R&&R.v8||"",C=l.Promise,x="process"==c(w),D=function(){},P=i=_.f,I=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[r(28)("species")]=function(e){e(D,D)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(D)instanceof t&&0!==A.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},O=function(e,t){if(!e._n){e._n=!0;var r=e._c;v(function(){for(var n=e._v,i=1==e._s,a=0,o=function(t){var r,a,o,s=i?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(i||(2==e._h&&N(e),e._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&(c.exit(),o=!0)),r===t.promise?u(S("Promise-chain cycle")):(a=M(r))?a.call(r,l,u):l(r)):u(n)}catch(e){c&&!o&&c.exit(),u(e)}};r.length>a;)o(r[a++]);e._c=[],e._n=!1,t&&!e._h&&k(e)})}},k=function(e){y.call(l,function(){var t,r,n,i=e._v,a=L(e);if(a&&(t=b(function(){x?w.emit("unhandledRejection",i,e):(r=l.onunhandledrejection)?r({promise:e,reason:i}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=x||L(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},N=function(e){y.call(l,function(){var t;x?w.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),O(t,!0))},B=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw S("Promise can't be resolved itself");(t=M(e))?v(function(){var n={_w:r,_d:!1};try{t.call(e,u(B,n,1),u(F,n,1))}catch(e){F.call(n,e)}}):(r._v=e,r._s=1,O(r,!1))}catch(e){F.call({_w:r,_d:!1},e)}}};I||(C=function Promise(e){h(this,C,"Promise","_h"),p(e),n.call(this);try{e(u(B,this,1),u(F,this,1))}catch(e){F.call(this,e)}},(n=function Promise(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(115)(C.prototype,{then:function then(e,t){var r=P(m(this,C));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=x?w.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&O(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=u(B,e,1),this.reject=u(F,e,1)},_.f=P=function(e){return e===C||e===o?new a(e):i(e)}),f(f.G+f.W+f.F*!I,{Promise:C}),r(110)(C,"Promise"),r(113)("Promise"),o=r(35).Promise,f(f.S+f.F*!I,"Promise",{reject:function reject(e){var t=P(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!I),"Promise",{resolve:function resolve(e){return T(s&&this===o?C:this,e)}}),f(f.S+f.F*!(I&&r(146)(function(e){C.all(e).catch(D)})),"Promise",{all:function all(e){var t=this,r=P(t),n=r.resolve,i=r.reject,a=b(function(){var r=[],a=0,o=1;g(e,!1,function(e){var s=a++,l=!1;r.push(void 0),o++,t.resolve(e).then(function(e){l||(l=!0,r[s]=e,--o||n(r))},i)}),--o||n(r)});return a.e&&i(a.v),r.promise},race:function race(e){var t=this,r=P(t),n=r.reject,i=b(function(){g(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(e,t,r){"use strict";var n=r(66);function PromiseCapability(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new PromiseCapability(e)}},function(e,t,r){var n=r(21),i=r(22),a=r(282);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(37).f,i=r(96),a=r(115),o=r(65),s=r(114),l=r(150),u=r(198),c=r(278),f=r(113),d=r(36),p=r(83).fastKey,h=r(100),g=d?"_s":"size",m=function(e,t){var r,n=p(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,u){var c=e(function(e,n){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,null!=n&&l(n,r,e[u],e)});return a(c.prototype,{clear:function clear(){for(var e=h(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var r=h(this,t),n=m(r,e);if(n){var i=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=i),i&&(i.p=a),r._f==n&&(r._f=i),r._l==n&&(r._l=a),r[g]--}return!!n},forEach:function forEach(e){h(this,t);for(var r,n=o(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function has(e){return!!m(h(this,t),e)}}),d&&n(c.prototype,"size",{get:function(){return h(this,t)[g]}}),c},def:function(e,t,r){var n,i,a=m(e,t);return a?a.v=r:(e._l=a={i:i=p(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=a),n&&(n.n=a),e[g]++,"F"!==i&&(e._i[i]=a)),e},getEntry:m,setStrong:function(e,t,r){u(e,t,function(e,r){this._t=h(e,t),this._k=r,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))},r?"entries":"values",!r,!0),f(t)}}},function(e,t,r){"use strict";var n=r(115),i=r(83).getWeak,a=r(21),o=r(22),s=r(114),l=r(150),u=r(70),c=r(54),f=r(100),d=u(5),p=u(6),h=0,g=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},y=function(e,t){return d(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var r=y(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,a){var u=e(function(e,n){s(e,u,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=n&&l(n,r,e[a],e)});return n(u.prototype,{delete:function(e){if(!o(e))return!1;var r=i(e);return!0===r?g(f(this,t)).delete(e):r&&c(r,this._i)&&delete r[this._i]},has:function has(e){if(!o(e))return!1;var r=i(e);return!0===r?g(f(this,t)).has(e):r&&c(r,this._i)}}),u},def:function(e,t,r){var n=i(a(t),!0);return!0===n?g(e).set(t,r):n[e._i]=r,e},ufstore:g}},function(e,t,r){var n=r(67),i=r(31);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,t,r){var n=r(97),i=r(144),a=r(21),o=r(19).Reflect;e.exports=o&&o.ownKeys||function ownKeys(e){var t=n.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(31),i=r(194),a=r(75);e.exports=function(e,t,r,o){var s=String(a(e)),l=s.length,u=void 0===r?" ":String(r),c=n(t);if(c<=l||""==u)return s;var f=c-l,d=i.call(u,Math.ceil(f/u.length));return d.length>f&&(d=d.slice(0,f)),o?d+s:s+d}},function(e,t,r){var n=r(36),i=r(94),a=r(56),o=r(128).f;e.exports=function(e){return function(t){for(var r,s=a(t),l=i(s),u=l.length,c=0,f=[];u>c;)r=l[c++],n&&!o.call(s,r)||f.push(e?[r,s[r]]:s[r]);return f}}},function(e,t){var r=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){e.exports={encode:r(621),decode:r(622),encodingLength:r(623)}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(116)),a=_interopRequireDefault(r(628)),o=_interopRequireDefault(r(664)),s=_interopRequireDefault(r(221)),l=_interopRequireDefault(r(309)),u=_interopRequireDefault(r(699)),c=_interopRequireDefault(r(711)),f=_interopRequireDefault(r(712)),d=_interopRequireDefault(r(216)),p=_interopRequireDefault(r(160)),h=_interopRequireDefault(r(214)),g=_interopRequireDefault(r(713)),m=_interopRequireDefault(r(715)),y=_interopRequireDefault(r(716)),v=_interopRequireDefault(r(717)),_=_interopRequireDefault(r(159)),b=_interopRequireDefault(r(727)),E=_interopRequireDefault(r(728)),T=_interopRequireDefault(r(13)),S=_interopRequireDefault(r(38)),w=_interopRequireDefault(r(12)),R=_interopRequireDefault(r(14)),A=_interopRequireDefault(r(308)),C=_interopRequireDefault(r(4)),x=r(316),D=_interopRequireDefault(r(729)),P=_interopRequireDefault(r(734)),I=_interopRequireDefault(r(739)),M=_interopRequireDefault(r(741)),O=r(42),k=_interopRequireDefault(r(742)),L=_interopRequireDefault(r(215)),N=_interopRequireDefault(r(32)),F=r(117);function MediaPlayer(){var e="You must first call initialize() and set a source before calling this method",t="You must first call initialize() and set a valid source and view before calling this method",r="You must first call attachView() to set the video element before calling this method",B="You must first call attachSource() with a valid source before calling this method",U="MediaPlayer not initialized!",j="Playback minimum drift has an invalid value! Use a number from 0 to 0.5",q="Playback maximum drift has an invalid value! Use a number greater or equal to 0",G=this.context,H=(0,w.default)(G).getInstance(),V=(0,T.default)(G).getInstance(),z=void 0,K=void 0,W=void 0,Y=void 0,X=void 0,Q=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,re=void 0,ne=void 0,ie=void 0,ae=void 0,oe=void 0,se=void 0,le=void 0,ue=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,me=void 0,ye=void 0,ve=void 0;function isReady(){return!!W&&!!ge.getElement()}function getVersion(){return(0,x.getVersionString)()}function isPaused(){if(!$)throw t;return fe.isPaused()}function getDVRSeekOffset(e){var t=getDVRInfoMetric();if(!t)return 0;var r=fe.getLiveDelay(),n=t.range.start+e;return n>t.range.end-r&&(n=t.range.end-r),n}function time(e){if(!$)throw t;var r=getVideoElement().currentTime;if(void 0!==e)r=ce.getTimeRelativeToStreamId(r,e);else if(fe.getIsDynamic()){var n=getDVRInfoMetric();r=null===n?0:duration()-(n.range.end-n.time)}return r}function duration(){if(!$)throw t;var e=getVideoElement().duration;if(fe.getIsDynamic()){var r,n=getDVRInfoMetric();if(!n)return 0;e=(r=n.range.end-n.range.start)<n.manifestInfo.DVRWindowSize?r:n.manifestInfo.DVRWindowSize}return e}function setAutoPlay(e){(0,F.checkParameterType)(e,"boolean"),J=e}function restoreDefaultUTCTimingSources(){se.restoreDefaultUTCTimingSources()}function getDashMetrics(){return de}function getMetricsFor(e){return oe.getReadOnlyMetricsFor(e)}function getVideoElement(){if(!ge.getElement())throw r;return ge.getElement()}function attachView(e){if(!X)throw U;ge.setElement(e),e&&(detectProtection(),function detectMetricsReporting(){if(ne)return;var e=dashjs.MetricsReporting;if("function"==typeof e){var t=e(G).create();ne=t.createMetricsReporting({debug:V,eventBus:H,mediaElement:getVideoElement(),dashManifestModel:pe,metricsModel:oe,events:R.default,constants:n.default,metricsConstants:i.default})}}(),function detectMss(){if(ie)return;var e=dashjs.MssHandler;"function"==typeof e&&(S.default.extend(e.errors),ie=e(G).create({eventBus:H,mediaPlayerModel:se,metricsModel:oe,manifestModel:he,playbackController:fe,protectionController:re,baseURLController:(0,l.default)(G).getInstance(),errHandler:le,events:R.default,constants:n.default,debug:V,initSegmentType:O.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:k.default,ISOBoxer:L.default}))}(),ce&&ce.switchToVideoElement()),$&&resetPlaybackControllers(),initializePlayback()}function getTracksFor(t){if(!Q)throw e;var r=ce.getActiveStreamInfo();return te.getTracksFor(t,r)}function attachSource(e){if(!X)throw U;"string"==typeof e&&ye.initialize(e),W=e,(Q||$)&&resetPlaybackControllers(),isReady()&&initializePlayback()}function getActiveStream(){if(!Q)throw e;var t=ce.getActiveStreamInfo();return t?ce.getStreamById(t.id):null}function resetPlaybackControllers(){$=!1,Q=!1,ae.reset(),ce.reset(),fe.reset(),Z.reset(),te.reset(),me.reset(),re&&(se.getKeepProtectionMediaKeys()?re.stop():(re.reset(),re=null,detectProtection()))}function createManifestLoader(){return(0,u.default)(G).create({errHandler:le,metricsModel:oe,mediaPlayerModel:se,requestModifier:(0,p.default)(G).getInstance(),mssHandler:ie})}function detectProtection(){if(re)return re;var e=dashjs.Protection;if("function"==typeof e){var t=e(G).create();return R.default.extend(e.events),A.default.extend(e.events,{publicOnly:!0}),S.default.extend(e.errors),ue||(ue=(0,f.default)(G).getInstance()),re=t.createProtectionSystem({debug:V,errHandler:le,videoModel:ge,capabilities:ue,eventBus:H,events:R.default,BASE64:k.default,constants:n.default})}return null}function getDVRInfoMetric(){var e=oe.getReadOnlyMetricsFor(n.default.VIDEO)||oe.getReadOnlyMetricsFor(n.default.AUDIO);return de.getCurrentDVRInfo(e)}function getAsUTC(e){var t=getDVRInfoMetric();return t?e+(t.manifestInfo.availableFrom.getTime()/1e3+t.range.start):0}function initializePlayback(){!Q&&W&&(Q=!0,K.info("Streaming Initialized"),function createPlaybackControllers(){var e=createManifestLoader();ce||(ce=(0,o.default)(G).getInstance()),te.setConfig({domStorage:ve}),ce.setConfig({capabilities:ue,manifestLoader:e,manifestModel:he,dashManifestModel:pe,mediaPlayerModel:se,protectionController:re,adapter:ae,metricsModel:oe,dashMetrics:de,errHandler:le,timelineConverter:ee,videoModel:ge,playbackController:fe,domStorage:ve,abrController:Z,mediaController:te,textController:me}),fe.setConfig({streamController:ce,metricsModel:oe,dashMetrics:de,manifestModel:he,mediaPlayerModel:se,dashManifestModel:pe,adapter:ae,videoModel:ge,timelineConverter:ee,uriFragmentModel:ye}),Z.setConfig({streamController:ce,domStorage:ve,mediaPlayerModel:se,metricsModel:oe,dashMetrics:de,manifestModel:he,videoModel:ge,adapter:ae}),Z.createAbrRulesCollection(),me.setConfig({errHandler:le,manifestModel:he,dashManifestModel:pe,mediaController:te,streamController:ce,videoModel:ge}),ce.initialize(J,Y)}(),"string"==typeof W?ce.load(W):ce.loadWithManifest(W)),!$&&isReady()&&($=!0,K.info("Playback Initialized"))}return z={initialize:function initialize(e,t,r){if(ue||(ue=(0,f.default)(G).getInstance()),le=(0,c.default)(G).getInstance(),!ue.supportsMediaSource())return le.capabilityError("mediasource"),void le.error(new N.default(S.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,S.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE));X||(X=!0,ee=(0,M.default)(G).getInstance(),Z||(Z=(0,_.default)(G).getInstance()),fe||(fe=(0,a.default)(G).getInstance()),te||(te=(0,s.default)(G).getInstance()),ae=(0,D.default)(G).getInstance(),pe=(0,P.default)(G).getInstance({timelineConverter:ee,errHandler:le,BASE64:k.default}),he=(0,m.default)(G).getInstance(),de=(0,I.default)(G).getInstance({manifestModel:he,dashManifestModel:pe}),oe=(0,v.default)(G).getInstance(),me=(0,h.default)(G).getInstance(),ve=(0,E.default)(G).getInstance({mediaPlayerModel:se}),ae.setConfig({dashManifestModel:pe}),restoreDefaultUTCTimingSources(),setAutoPlay(void 0===r||r),e&&attachView(e),t&&attachSource(t),K.info("[dash.js "+getVersion()+"] MediaPlayer has been initialized"))},setConfig:function setConfig(e){e&&(e.capabilities&&(ue=e.capabilities),e.streamController&&(ce=e.streamController),e.playbackController&&(fe=e.playbackController),e.mediaPlayerModel&&(se=e.mediaPlayerModel),e.abrController&&(Z=e.abrController),e.mediaController&&(te=e.mediaController))},on:function on(e,t,r){H.on(e,t,r)},off:function off(e,t,r){H.off(e,t,r)},extend:function extend(e,t,r){C.default.extend(e,t,r,G)},attachView:attachView,attachSource:attachSource,isReady:isReady,preload:function preload(){if(ge.getElement()||Q)return!1;if(!W)throw B;initializePlayback()},play:function play(){if(!$)throw t;(!J||isPaused()&&$)&&fe.play()},isPaused:isPaused,pause:function pause(){if(!$)throw t;fe.pause()},isSeeking:function isSeeking(){if(!$)throw t;return fe.isSeeking()},isDynamic:function isDynamic(){if(!$)throw t;return fe.getIsDynamic()},seek:function seek(e){if(!$)throw t;if((0,F.checkParameterType)(e,"number"),isNaN(e))throw n.default.BAD_ARGUMENT_ERROR;var r=fe.getIsDynamic()?getDVRSeekOffset(e):e;fe.seek(r)},setPlaybackRate:function setPlaybackRate(e){getVideoElement().playbackRate=e},getPlaybackRate:function getPlaybackRate(){return getVideoElement().playbackRate},setMute:function setMute(e){(0,F.checkParameterType)(e,"boolean"),getVideoElement().muted=e},isMuted:function isMuted(){return getVideoElement().muted},setVolume:function setVolume(e){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw n.default.BAD_ARGUMENT_ERROR;getVideoElement().volume=e},getVolume:function getVolume(){return getVideoElement().volume},time:time,duration:duration,timeAsUTC:function timeAsUTC(){if(!$)throw t;return time()<0?NaN:getAsUTC(time())},durationAsUTC:function durationAsUTC(){if(!$)throw t;return getAsUTC(duration())},getActiveStream:getActiveStream,getDVRWindowSize:function getDVRWindowSize(){var e=getDVRInfoMetric();return e?e.manifestInfo.DVRWindowSize:0},getDVRSeekOffset:getDVRSeekOffset,convertToTimeCode:function convertToTimeCode(e){e=Math.max(e,0);var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(r<10?"0"+r.toString():r.toString())+":"+(n<10?"0"+n.toString():n.toString())},formatUTC:function formatUTC(e,t,r){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],i=new Date(1e3*e),a=i.toLocaleDateString(t),o=i.toLocaleTimeString(t,{hour12:r});return n?o+" "+a:o},getVersion:getVersion,getDebug:function getDebug(){return V},getBufferLength:function getBufferLength(e){var t,r=[n.default.VIDEO,n.default.AUDIO,n.default.FRAGMENTED_TEXT];return e?-1!==r.indexOf(e)?(t=getDashMetrics().getCurrentBufferLevel(getMetricsFor(e)))||NaN:(K.warn("getBufferLength requested for invalid type"),NaN):(t=r.map(function(e){return getTracksFor(e).length>0?getDashMetrics().getCurrentBufferLevel(getMetricsFor(e)):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)}))===Number.MAX_VALUE?NaN:t},getTTMLRenderingDiv:function getTTMLRenderingDiv(){return ge?ge.getTTMLRenderingDiv():null},getVideoElement:getVideoElement,getSource:function getSource(){if(!W)throw B;return W},setLiveDelayFragmentCount:function setLiveDelayFragmentCount(e){se.setLiveDelayFragmentCount(e)},setLiveDelay:function setLiveDelay(e){se.setLiveDelay(e)},getLiveDelay:function getLiveDelay(){return se.getLiveDelay()},getCurrentLiveLatency:function getCurrentLiveLatency(){if(!X)throw U;return $?fe.getCurrentLiveLatency():NaN},useSuggestedPresentationDelay:function useSuggestedPresentationDelay(e){se.setUseSuggestedPresentationDelay(e)},enableLastBitrateCaching:function enableLastBitrateCaching(e,t){se.setLastBitrateCachingInfo(e,t)},enableLastMediaSettingsCaching:function enableLastMediaSettingsCaching(e,t){se.setLastMediaSettingsCachingInfo(e,t)},setMaxAllowedBitrateFor:function setMaxAllowedBitrateFor(e,t){Z.setMaxAllowedBitrateFor(e,t)},getMaxAllowedBitrateFor:function getMaxAllowedBitrateFor(e){return Z.getMaxAllowedBitrateFor(e)},getTopBitrateInfoFor:function getTopBitrateInfoFor(t){if(!Q)throw e;return Z.getTopBitrateInfoFor(t)},setMinAllowedBitrateFor:function setMinAllowedBitrateFor(e,t){Z.setMinAllowedBitrateFor(e,t)},getMinAllowedBitrateFor:function getMinAllowedBitrateFor(e){return Z.getMinAllowedBitrateFor(e)},setMaxAllowedRepresentationRatioFor:function setMaxAllowedRepresentationRatioFor(e,t){Z.setMaxAllowedRepresentationRatioFor(e,t)},getMaxAllowedRepresentationRatioFor:function getMaxAllowedRepresentationRatioFor(e){return Z.getMaxAllowedRepresentationRatioFor(e)},setAutoPlay:setAutoPlay,getAutoPlay:function getAutoPlay(){return J},setScheduleWhilePaused:function setScheduleWhilePaused(e){se.setScheduleWhilePaused(e)},getScheduleWhilePaused:function getScheduleWhilePaused(){return se.getScheduleWhilePaused()},getDashMetrics:getDashMetrics,getMetricsFor:getMetricsFor,getQualityFor:function getQualityFor(t){if(!Q)throw e;if(t===n.default.IMAGE){var r=getActiveStream();if(!r)return-1;var i=r.getThumbnailController();return i?i.getCurrentTrackIndex():-1}return Z.getQualityFor(t,ce.getActiveStreamInfo())},setQualityFor:function setQualityFor(t,r){if(!Q)throw e;if(t===n.default.IMAGE){var i=getActiveStream();if(!i)return;var a=i.getThumbnailController();a&&a.setTrackByIndex(r)}Z.setPlaybackQuality(t,ce.getActiveStreamInfo(),r)},updatePortalSize:function updatePortalSize(){Z.setElementSize(),Z.setWindowResizeEventCalled(!0)},getLimitBitrateByPortal:function getLimitBitrateByPortal(){return Z.getLimitBitrateByPortal()},setLimitBitrateByPortal:function setLimitBitrateByPortal(e){Z.setLimitBitrateByPortal(e)},getUsePixelRatioInLimitBitrateByPortal:function getUsePixelRatioInLimitBitrateByPortal(){return Z.getUsePixelRatioInLimitBitrateByPortal()},setUsePixelRatioInLimitBitrateByPortal:function setUsePixelRatioInLimitBitrateByPortal(e){Z.setUsePixelRatioInLimitBitrateByPortal(e)},setTextDefaultLanguage:function setTextDefaultLanguage(e){void 0===me&&(me=(0,h.default)(G).getInstance()),me.setTextDefaultLanguage(e)},getTextDefaultLanguage:function getTextDefaultLanguage(){return void 0===me&&(me=(0,h.default)(G).getInstance()),me.getTextDefaultLanguage()},setTextDefaultEnabled:function setTextDefaultEnabled(e){void 0===me&&(me=(0,h.default)(G).getInstance()),me.setTextDefaultEnabled(e)},getTextDefaultEnabled:function getTextDefaultEnabled(){return void 0===me&&(me=(0,h.default)(G).getInstance()),me.getTextDefaultEnabled()},enableText:function enableText(e){void 0===me&&(me=(0,h.default)(G).getInstance()),me.enableText(e)},enableForcedTextStreaming:function enableForcedTextStreaming(e){void 0===me&&(me=(0,h.default)(G).getInstance()),me.enableForcedTextStreaming(e)},isTextEnabled:function isTextEnabled(){return void 0===me&&(me=(0,h.default)(G).getInstance()),me.isTextEnabled()},setTextTrack:function setTextTrack(e){if(!$)throw t;void 0===me&&(me=(0,h.default)(G).getInstance()),me.setTextTrack(e)},getBitrateInfoListFor:function getBitrateInfoListFor(t){if(!Q)throw e;var r=getActiveStream();return r?r.getBitrateListFor(t):[]},setInitialBitrateFor:function setInitialBitrateFor(e,t){Z.setInitialBitrateFor(e,t)},getInitialBitrateFor:function getInitialBitrateFor(t){if(!Q)throw e;return Z.getInitialBitrateFor(t)},setInitialRepresentationRatioFor:function setInitialRepresentationRatioFor(e,t){Z.setInitialRepresentationRatioFor(e,t)},getInitialRepresentationRatioFor:function getInitialRepresentationRatioFor(e){return Z.getInitialRepresentationRatioFor(e)},getStreamsFromManifest:function getStreamsFromManifest(t){if(!Q)throw e;return ae.getStreamsInfo(t)},getTracksFor:getTracksFor,getTracksForTypeFromManifest:function getTracksForTypeFromManifest(t,r,n){if(!Q)throw e;return(n=n||ae.getStreamsInfo(r,1)[0])?ae.getAllMediaInfoForType(n,t,r):[]},getCurrentTrackFor:function getCurrentTrackFor(t){if(!Q)throw e;var r=ce.getActiveStreamInfo();return te.getCurrentTrackFor(t,r)},setInitialMediaSettingsFor:function setInitialMediaSettingsFor(e,t){if(!X)throw U;te.setInitialSettings(e,t)},getInitialMediaSettingsFor:function getInitialMediaSettingsFor(e){if(!X)throw U;return te.getInitialSettings(e)},setCurrentTrack:function setCurrentTrack(t){if(!Q)throw e;te.setTrack(t)},getTrackSwitchModeFor:function getTrackSwitchModeFor(e){if(!X)throw U;return te.getSwitchMode(e)},setTrackSwitchModeFor:function setTrackSwitchModeFor(e,t){if(!X)throw U;te.setSwitchMode(e,t)},setSelectionModeForInitialTrack:function setSelectionModeForInitialTrack(e){if(!X)throw U;te.setSelectionModeForInitialTrack(e)},getSelectionModeForInitialTrack:function getSelectionModeForInitialTrack(){if(!X)throw U;return te.getSelectionModeForInitialTrack()},setFastSwitchEnabled:function setFastSwitchEnabled(e){se.setFastSwitchEnabled(e)},getFastSwitchEnabled:function getFastSwitchEnabled(){return se.getFastSwitchEnabled()},setMovingAverageMethod:function setMovingAverageMethod(e){se.setMovingAverageMethod(e)},getMovingAverageMethod:function getMovingAverageMethod(){return se.getMovingAverageMethod()},getAutoSwitchQualityFor:function getAutoSwitchQualityFor(e){return Z.getAutoSwitchBitrateFor(e)},setAutoSwitchQualityFor:function setAutoSwitchQualityFor(e,t){Z.setAutoSwitchBitrateFor(e,t)},setABRStrategy:function setABRStrategy(e){se.setABRStrategy(e)},getABRStrategy:function getABRStrategy(){return se.getABRStrategy()},useDefaultABRRules:function useDefaultABRRules(e){se.setUseDefaultABRRules(e)},addABRCustomRule:function addABRCustomRule(e,t,r){se.addABRCustomRule(e,t,r)},removeABRCustomRule:function removeABRCustomRule(e){se.removeABRCustomRule(e)},removeAllABRCustomRule:function removeAllABRCustomRule(){se.removeABRCustomRule()},setBandwidthSafetyFactor:function setBandwidthSafetyFactor(e){se.setBandwidthSafetyFactor(e)},getBandwidthSafetyFactor:function getBandwidthSafetyFactor(){return se.getBandwidthSafetyFactor()},getAverageThroughput:function getAverageThroughput(e){var t=Z.getThroughputHistory();return t?t.getAverageThroughput(e):0},setAbandonLoadTimeout:function setAbandonLoadTimeout(e){se.setAbandonLoadTimeout(e)},retrieveManifest:function retrieveManifest(e,t){var r=createManifestLoader(),n=this;H.on(R.default.INTERNAL_MANIFEST_LOADED,function handler(e){e.error?t(null,e.error):t(e.manifest),H.off(R.default.INTERNAL_MANIFEST_LOADED,handler,n),r.reset()},n),ye.initialize(e),r.load(e)},addUTCTimingSource:function addUTCTimingSource(e,t){se.addUTCTimingSource(e,t)},removeUTCTimingSource:function removeUTCTimingSource(e,t){se.removeUTCTimingSource(e,t)},clearDefaultUTCTimingSources:function clearDefaultUTCTimingSources(){se.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:restoreDefaultUTCTimingSources,setBufferToKeep:function setBufferToKeep(e){se.setBufferToKeep(e)},setBufferAheadToKeep:function setBufferAheadToKeep(e){se.setBufferAheadToKeep(e)},setBufferPruningInterval:function setBufferPruningInterval(e){se.setBufferPruningInterval(e)},setStableBufferTime:function setStableBufferTime(e){se.setStableBufferTime(e)},getStableBufferTime:function getStableBufferTime(){return se.getStableBufferTime()},setBufferTimeAtTopQuality:function setBufferTimeAtTopQuality(e){se.setBufferTimeAtTopQuality(e)},getBufferTimeAtTopQuality:function getBufferTimeAtTopQuality(){return se.getBufferTimeAtTopQuality()},setBufferTimeAtTopQualityLongForm:function setBufferTimeAtTopQualityLongForm(e){se.setBufferTimeAtTopQualityLongForm(e)},getBufferTimeAtTopQualityLongForm:function getBufferTimeAtTopQualityLongForm(){return se.getBufferTimeAtTopQualityLongForm()},setFragmentLoaderRetryAttempts:function setFragmentLoaderRetryAttempts(e){se.setRetryAttemptsForType(O.HTTPRequest.MEDIA_SEGMENT_TYPE,e)},setFragmentLoaderRetryInterval:function setFragmentLoaderRetryInterval(e){se.setRetryIntervalForType(O.HTTPRequest.MEDIA_SEGMENT_TYPE,e)},setManifestLoaderRetryAttempts:function setManifestLoaderRetryAttempts(e){se.setRetryAttemptsForType(O.HTTPRequest.MPD_TYPE,e)},setManifestLoaderRetryInterval:function setManifestLoaderRetryInterval(e){se.setRetryIntervalForType(O.HTTPRequest.MPD_TYPE,e)},setXHRWithCredentialsForType:function setXHRWithCredentialsForType(e,t){se.setXHRWithCredentialsForType(e,t)},getXHRWithCredentialsForType:function getXHRWithCredentialsForType(e){return se.getXHRWithCredentialsForType(e)},setJumpGaps:function setJumpGaps(e){se.setJumpGaps(e)},getJumpGaps:function getJumpGaps(){return se.getJumpGaps()},setSmallGapLimit:function setSmallGapLimit(e){se.setSmallGapLimit(e)},getSmallGapLimit:function getSmallGapLimit(){return se.getSmallGapLimit()},setLowLatencyEnabled:function setLowLatencyEnabled(e){se.setLowLatencyEnabled(e)},getLowLatencyEnabled:function getLowLatencyEnabled(){return se.getLowLatencyEnabled()},setCatchUpPlaybackRate:function setCatchUpPlaybackRate(e){se.setCatchUpPlaybackRate(e)},getCatchUpPlaybackRate:function getCatchUpPlaybackRate(){return se.getCatchUpPlaybackRate()},setLowLatencyMinDrift:function setLowLatencyMinDrift(e){if("number"!=typeof e||isNaN(e)||e<0||e>.5)throw j;se.setLowLatencyMinDrift(e)},getLowLatencyMinDrift:function getLowLatencyMinDrift(){return se.getLowLatencyMinDrift()},setLowLatencyMaxDriftBeforeSeeking:function setLowLatencyMaxDriftBeforeSeeking(e){if("number"!=typeof e||isNaN(e)||e<0)throw q;se.setLowLatencyMaxDriftBeforeSeeking(e)},getLowLatencyMaxDriftBeforeSeeking:function getLowLatencyMaxDriftBeforeSeeking(){return se.getLowLatencyMaxDriftBeforeSeeking()},setManifestUpdateRetryInterval:function setManifestUpdateRetryInterval(e){se.setManifestUpdateRetryInterval(e)},getManifestUpdateRetryInterval:function getManifestUpdateRetryInterval(){return se.getManifestUpdateRetryInterval()},setLongFormContentDurationThreshold:function setLongFormContentDurationThreshold(e){se.setLongFormContentDurationThreshold(e)},setSegmentOverlapToleranceTime:function setSegmentOverlapToleranceTime(e){se.setSegmentOverlapToleranceTime(e)},setCacheLoadThresholdForType:function setCacheLoadThresholdForType(e,t){se.setCacheLoadThresholdForType(e,t)},getProtectionController:function getProtectionController(){return detectProtection()},attachProtectionController:function attachProtectionController(e){re=e},setProtectionData:function setProtectionData(e){Y=e,ce&&ce.setProtectionData(Y)},enableManifestDateHeaderTimeSource:function enableManifestDateHeaderTimeSource(e){se.setUseManifestDateHeaderTimeSource(e)},displayCaptionsOnTop:function displayCaptionsOnTop(e){var t=(0,d.default)(G).getInstance();t.setConfig({videoModel:ge}),t.initialize(),t.displayCConTop(e)},attachVideoContainer:function attachVideoContainer(e){K.warn("attachVideoContainer method has been deprecated and will be removed in dash.js v3.0.0")},attachTTMLRenderingDiv:function attachTTMLRenderingDiv(e){if(!ge.getElement())throw r;ge.setTTMLRenderingDiv(e)},getCurrentTextTrackIndex:function getCurrentTextTrackIndex(){var e=NaN;return me&&(e=me.getCurrentTrackIdx()),e},getUseDeadTimeLatencyForAbr:function getUseDeadTimeLatencyForAbr(){return Z.getUseDeadTimeLatency()},setUseDeadTimeLatencyForAbr:function setUseDeadTimeLatencyForAbr(e){Z.setUseDeadTimeLatency(e)},getThumbnail:function getThumbnail(e,t){if(e<0)return null;var r=fe.getIsDynamic()?getDVRSeekOffset(e):e,n=ce.getStreamForTime(r);if(null===n)return null;var i=n.getThumbnailController();if(!i)return null;var a=ce.getTimeRelativeToStreamId(r,n.getId());return i.get(a,t)},keepProtectionMediaKeys:function keepProtectionMediaKeys(e){se.setKeepProtectionMediaKeys(e)},reset:function reset(){attachSource(null),attachView(null),Y=null,re&&(re.reset(),re=null),ne&&(ne.reset(),ne=null)}},function setup(){K=V.getLogger(z),X=!1,$=!1,Q=!1,J=!0,re=null,Y=null,ae=null,R.default.extend(A.default),se=(0,y.default)(G).getInstance(),ge=(0,b.default)(G).getInstance(),ye=(0,g.default)(G).getInstance()}(),z}MediaPlayer.__dashjs_factory_name="MediaPlayer";var B=C.default.getClassFactory(MediaPlayer);B.events=A.default,B.errors=S.default,C.default.updateClassFactory(MediaPlayer.__dashjs_factory_name,B),t.default=B,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(13)),i=_interopRequireDefault(r(32)),a=_interopRequireDefault(r(12)),o=_interopRequireDefault(r(14)),s=_interopRequireDefault(r(4)),l=_interopRequireDefault(r(214)),u=_interopRequireDefault(r(38)),c=.1;function SourceBufferSink(e,t,r,s){var f=this.context,d=(0,a.default)(f).getInstance(),p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=[],_=[],b=r;function getAllBufferRanges(){try{return g.buffered}catch(e){return h.error("getAllBufferRanges exception: "+e.message),null}}function executeCallback(){if(v.length>0){var e=v.shift();g.updating?waitForUpdateEnd(g,e):(e(),executeCallback())}}function checkIsUpdateEnded(){g.updating||executeCallback()}function updateEndHandler(){g.updating||executeCallback()}function errHandler(){h.error("SourceBufferSink error",t.type)}function waitForUpdateEnd(e,t){v.push(t),e.updating||executeCallback()}return p={getAllBufferRanges:getAllBufferRanges,getBuffer:function getBuffer(){return g},append:function append(e){e?(_.push(e),m||waitForUpdateEnd(g,function appendNextInQueue(){var e=this;var t=this;_.length>0&&function(){m=!0;var r=_[0];_.splice(0,1);var n=[],a=function afterSuccess(){var e=getAllBufferRanges();!function checkBufferGapsAfterAppend(e,t,r,n){t&&t.length>0&&t.length<r.length&&function isChunkAlignedWithRange(e,t){for(var r=0;r<e.length;r++){var n=Math.round(e.start(r)),i=Math.round(e.end(r));if(i===t.start||n===t.end||t.start>=n&&t.end<=i)return!0}return!1}(t,n)&&d.trigger(o.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:r.end(r.length-2),to:r.start(r.length-1),unintended:!0})}(t,n,e,r),_.length>0?appendNextInQueue.call(this):(m=!1,b&&b({chunk:r}))};try{0===r.bytes.length?a.call(e):(n=getAllBufferRanges(),g.appendBuffer?g.appendBuffer(r.bytes):g.append(r.bytes,r),waitForUpdateEnd(g,a.bind(e)))}catch(e){h.fatal('SourceBuffer append failed "'+e+'"'),_.length>0?appendNextInQueue():m=!1,b&&b({chunk:r,error:new i.default(e.code,e.message)})}}()}.bind(this))):b({chunk:e,error:new i.default(u.default.APPEND_ERROR_CODE,u.default.APPEND_ERROR_MESSAGE)})},remove:function remove(t,r,n){var a=this;waitForUpdateEnd(g,function(){try{t>=0&&r>t&&(n||"ended"!==e.readyState)&&g.remove(t,r),waitForUpdateEnd(g,function(){d.trigger(o.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:a,from:t,to:r,unintended:!1})})}catch(e){d.trigger(o.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:a,from:t,to:r,unintended:!1,error:new i.default(e.code,e.message)})}})},abort:function abort(){try{"open"===e.readyState?g.abort():g.setTextTrack&&"ended"===e.readyState&&g.abort()}catch(e){h.error('SourceBuffer append abort failed: "'+e+'"')}_=[]},reset:function reset(t){if(g){if("function"==typeof g.removeEventListener&&(g.removeEventListener("updateend",updateEndHandler,!1),g.removeEventListener("error",errHandler,!1),g.removeEventListener("abort",errHandler,!1)),clearInterval(y),!t){try{g.getClassName&&"TextSourceBuffer"===g.getClassName()||e.removeSourceBuffer(g)}catch(e){h.error("Failed to remove source buffer from media source.")}g=null}m=!1}_=[],b=null},updateTimestampOffset:function updateTimestampOffset(e){g.timestampOffset===e||isNaN(e)||waitForUpdateEnd(g,function(){g.timestampOffset=e})},hasDiscontinuitiesAfter:function hasDiscontinuitiesAfter(e){try{var t=getAllBufferRanges();if(t&&t.length>1)for(var r=0,n=t.length;r<n;r++)if(r>0&&e<t.start(r)&&t.start(r)>t.end(r-1)+c)return!0}catch(e){h.error("hasDiscontinuities exception: "+e.message)}return!1}},function setup(){h=(0,n.default)(f).getInstance().getLogger(p),m=!1;var r=t.codec;try{if(r.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");(g=s||e.addSourceBuffer(r)).changeType&&s&&(h.debug("Doing period transition with changeType"),g.changeType(r));if("function"==typeof g.addEventListener)try{g.addEventListener("updateend",updateEndHandler,!1),g.addEventListener("error",errHandler,!1),g.addEventListener("abort",errHandler,!1)}catch(e){y=setInterval(checkIsUpdateEnded,50)}else y=setInterval(checkIsUpdateEnded,50)}catch(e){if(!t.isText&&-1===r.indexOf('codecs="stpp')&&-1===r.indexOf('codecs="wvtt'))throw e;var i=(0,l.default)(f).getInstance();g=i.getTextSourceBuffer()}}(),p}SourceBufferSink.__dashjs_factory_name="SourceBufferSink";var f=s.default.getClassFactory(SourceBufferSink);t.default=f,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4)),i=r(117);function CustomTimeRanges(){return{customTimeRangeArray:[],length:0,add:function add(e,t){var r=0;for(r=0;r<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[r].start;r++);for(this.customTimeRangeArray.splice(r,0,{start:e,end:t}),r=0;r<this.customTimeRangeArray.length-1;r++)this.mergeRanges(r,r+1)&&r--;this.length=this.customTimeRangeArray.length},clear:function clear(){this.customTimeRangeArray=[],this.length=0},remove:function remove(e,t){for(var r=0;r<this.customTimeRangeArray.length;r++)if(e<=this.customTimeRangeArray[r].start&&t>=this.customTimeRangeArray[r].end)this.customTimeRangeArray.splice(r,1),r--;else{if(e>this.customTimeRangeArray[r].start&&t<this.customTimeRangeArray[r].end){this.customTimeRangeArray.splice(r+1,0,{start:t,end:this.customTimeRangeArray[r].end}),this.customTimeRangeArray[r].end=e;break}e>this.customTimeRangeArray[r].start&&e<this.customTimeRangeArray[r].end?this.customTimeRangeArray[r].end=e:t>this.customTimeRangeArray[r].start&&t<this.customTimeRangeArray[r].end&&(this.customTimeRangeArray[r].start=t)}this.length=this.customTimeRangeArray.length},mergeRanges:function mergeRanges(e,t){var r=this.customTimeRangeArray[e],n=this.customTimeRangeArray[t];return r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(r.end=n.end,this.customTimeRangeArray.splice(t,1),!0):n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(r.start=n.start,this.customTimeRangeArray.splice(t,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end?(this.customTimeRangeArray.splice(e,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end&&(this.customTimeRangeArray.splice(t,1),!0)},start:function start(e){return(0,i.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].start},end:function end(e){return(0,i.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].end}}}CustomTimeRanges.__dashjs_factory_name="CustomTimeRanges",t.default=n.default.getClassFactory(CustomTimeRanges),e.exports=t.default},function(e,t,r){t.generateISD=r(635).generateISD,t.fromXML=r(636).fromXML,t.renderHTML=r(649).render},function(e,t,r){"use strict";(function(t,n){var i=r(158);e.exports=Readable;var a,o=r(638);Readable.ReadableState=ReadableState;r(183).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=r(298),u=r(219).Buffer,c=t.Uint8Array||function(){};var f=r(132);f.inherits=r(109);var d=r(639),p=void 0;p=d&&d.debuglog?d.debuglog("stream"):function(){};var h,g=r(640),m=r(299);f.inherits(Readable,l);var y=["error","close","destroy","pause","resume"];function ReadableState(e,t){e=e||{};var n=t instanceof(a=a||r(103));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(182).StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function Readable(e){if(a=a||r(103),!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function readableAddChunk(e,t,r,n,i){var a,o=e._readableState;null===t?(o.reading=!1,function onEofChunk(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}(e,o)):(i||(a=function chunkInvalid(e,t){var r;(function _isUint8Array(e){return u.isBuffer(e)||e instanceof c})(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function _uint8ArrayToBuffer(e){return u.from(e)}(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):addChunk(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?addChunk(e,o,t,!1):maybeReadMore(e,o)):addChunk(e,o,t,!1))):n||(o.reading=!1));return function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function addChunk(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable.prototype.destroy=m.destroy,Readable.prototype._undestroy=m.undestroy,Readable.prototype._destroy=function(e,t){this.push(null),t(e)},Readable.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),readableAddChunk(this,e,t,!1,r)},Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){return h||(h=r(182).StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=e,this};var v=8388608;function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function computeNewHighWaterMark(e){return e>=v?e=v:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){p("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function nReadingNextTick(e){p("readable nexttick read 0"),e.read(0)}function resume_(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function fromListPartial(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function copyFromBufferString(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0===(e-=o)){o===a.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++n}return t.length-=n,i}(e,t):function copyFromBuffer(e,t){var r=u.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(a.copy(r,r.length-e,0,o),0===(e-=o)){o===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Readable.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var n,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t))),null===(n=e>0?fromList(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==n&&this.emit("data",n),n},Readable.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,p("pipe count=%d opts=%j",a.pipesCount,t);var l=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?onend:unpipe;function onunpipe(t,n){p("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,function cleanup(){p("cleanup"),e.removeListener("close",onclose),e.removeListener("finish",onfinish),e.removeListener("drain",u),e.removeListener("error",onerror),e.removeListener("unpipe",onunpipe),r.removeListener("end",onend),r.removeListener("end",unpipe),r.removeListener("data",ondata),c=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||u()}())}function onend(){p("onend"),e.end()}a.endEmitted?i.nextTick(l):r.once("end",l),e.on("unpipe",onunpipe);var u=function pipeOnDrain(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,flow(e))}}(r);e.on("drain",u);var c=!1;var f=!1;function ondata(t){p("ondata"),f=!1,!1!==e.write(t)||f||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==indexOf(a.pipes,e))&&!c&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function onerror(t){p("onerror",t),unpipe(),e.removeListener("error",onerror),0===s(e,"error")&&e.emit("error",t)}function onclose(){e.removeListener("finish",onfinish),unpipe()}function onfinish(){p("onfinish"),e.removeListener("close",onclose),unpipe()}function unpipe(){p("unpipe"),r.unpipe(e)}return r.on("data",ondata),function prependListener(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",onerror),e.once("close",onclose),e.once("finish",onfinish),e.emit("pipe",r),a.flowing||(p("pipe resume"),r.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,r);return this}var o=indexOf(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},Readable.prototype.on=function(e,t){var r=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&emitReadable(this):i.nextTick(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(resume_,e,t))}(this,e)),this},Readable.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(p("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(p("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<y.length;a++)e.on(y[a],this.emit.bind(this,y[a]));return this._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList}).call(this,r(59),r(90))},function(e,t,r){e.exports=r(183).EventEmitter},function(e,t,r){"use strict";var n=r(158);function emitErrorNT(e,t){e.emit("error",t)}e.exports={destroy:function destroy(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(emitErrorNT,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(emitErrorNT,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";e.exports=Transform;var n=r(103),i=r(132);function afterTransform(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);n.call(this,e),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function prefinish(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){done(e,t,r)}):done(this,null,null)}function done(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(109),i.inherits(Transform,n),Transform.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},Transform.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Transform.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},function(e,t,r){"use strict";!function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},r=function getCharForByte(e){var r=e;return t.hasOwnProperty(e)&&(r=t[e]),String.fromCharCode(r)},n={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},i={17:2,18:4,21:6,22:8,23:10,19:13,20:15},a={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},o={25:2,26:4,29:6,30:8,31:10,27:13,28:15},s=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],l={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function setTime(e){this.time=e},log:function log(e,t){var r=this.verboseFilter[e];this.verboseLevel>=r&&console.log(this.time+" ["+e+"] "+t)}},u=function numArrayToHexArray(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},c=function PenState(e,t,r,n,i){this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1};c.prototype={reset:function reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function setStyles(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}},isDefault:function isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var f=function StyledUnicodeChar(e,t,r,n,i,a){this.uchar=e||" ",this.penState=new c(t,r,n,i,a)};f.prototype={reset:function reset(){this.uchar=" ",this.penState.reset()},setChar:function setChar(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function setPenState(e){this.penState.copy(e)},equals:function equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function isEmpty(){return" "===this.uchar&&this.penState.isDefault()}};var d=function Row(){this.chars=[];for(var e=0;e<32;e++)this.chars.push(new f);this.pos=0,this.currPenState=new c};d.prototype={equals:function equals(e){for(var t=!0,r=0;r<32;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},copy:function copy(e){for(var t=0;t<32;t++)this.chars[t].copy(e.chars[t])},isEmpty:function isEmpty(){for(var e=!0,t=0;t<32;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(l.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>32&&(l.log("ERROR","Too large cursor position "+this.pos),this.pos=32)},moveCursor:function moveCursor(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},backSpace:function backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function insertChar(e){e>=144&&this.backSpace();var t=r(e);this.pos>=32?l.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},clearFromPos:function clearFromPos(e){var t;for(t=e;t<32;t++)this.chars[t].reset()},clear:function clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function clearToEndOfRow(){this.clearFromPos(this.pos)},getTextString:function getTextString(){for(var e=[],t=!0,r=0;r<32;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},setPenStyles:function setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}};var p=function CaptionScreen(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new d);this.currRow=14,this.nrRollUpRows=null,this.reset()};p.prototype={reset:function reset(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},equals:function equals(e){for(var t=!0,r=0;r<15;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},copy:function copy(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},isEmpty:function isEmpty(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function backSpace(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function insertChar(e){this.rows[this.currRow].insertChar(e)},setPen:function setPen(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function moveCursor(e){this.rows[this.currRow].moveCursor(e)},setCursor:function setCursor(e){l.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function setPAC(e){l.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var r=this.rows[this.currRow];if(null!==e.indent){var n=e.indent,i=Math.max(n-1,0);r.setCursor(e.indent),e.color=r.chars[i].penState.foreground}var a={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(a)},setBkgData:function setBkgData(e){l.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function setRollUpRows(e){this.nrRollUpRows=e},rollUp:function rollUp(){if(null!==this.nrRollUpRows){l.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),l.log("INFO","Rolling up")}else l.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function getDisplayText(e){e=e||!1;for(var t=[],r="",n=-1,i=0;i<15;i++){var a=this.rows[i].getTextString();a&&(n=i+1,e?t.push("Row "+n+': "'+a+'"'):t.push(a.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},getTextAndFormat:function getTextAndFormat(){return this.rows}};var h=function Cea608Channel(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new p,this.nonDisplayedMemory=new p,this.lastOutputScreen=new p,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};h.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function getHandler(){return this.outputFilter},setHandler:function setHandler(e){this.outputFilter=e},setPAC:function setPAC(e){this.writeScreen.setPAC(e)},setBkgData:function setBkgData(e){this.writeScreen.setBkgData(e)},setMode:function setMode(e){e!==this.mode&&(this.mode=e,l.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function insertChars(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";l.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(l.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function cc_RCL(){l.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function cc_BS(){l.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function cc_AOF(){},cc_AON:function cc_AON(){},cc_DER:function cc_DER(){l.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function cc_RU(e){l.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function cc_FON(){l.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function cc_RDC(){l.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function cc_TR(){l.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function cc_RTD(){l.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function cc_EDM(){l.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function cc_CR(){l.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function cc_ENM(){l.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function cc_EOC(){if(l.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,l.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function cc_TO(e){l.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function cc_MIDROW(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}l.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function outputDataUpdate(){var e=l.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var g=function Cea608Parser(e,t,r){this.field=e||1,this.outputs=[t,r],this.channels=[new h(1,t),new h(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};g.prototype={getHandler:function getHandler(e){return this.channels[e].getHandler()},setHandler:function setHandler(e,t){this.channels[e].setHandler(t)},addData:function addData(e,t){var r,n,i,a=!1;this.lastTime=e,l.setTime(e);for(var o=0;o<t.length;o+=2)if(n=127&t[o],i=127&t[o+1],n>=16&&n<=31&&n===this.lastCmdA&&i===this.lastCmdB)this.lastCmdA=null,this.lastCmdB=null,l.log("DEBUG","Repeated command ("+u([n,i])+") is dropped");else if(0!==n||0!==i){if(l.log("DATA","["+u([t[o],t[o+1]])+"] -> ("+u([n,i])+")"),(r=this.parseCmd(n,i))||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),!r)if(a=this.parseChars(n,i))if(this.currChNr&&this.currChNr>=0)this.channels[this.currChNr-1].insertChars(a);else l.log("WARNING","No channel found yet. TEXT-MODE?");r?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,l.log("WARNING","Couldn't parse cleaned data "+u([n,i])+" orig: "+u([t[o],t[o+1]])))}else this.dataCounters.padding+=2},parseCmd:function parseCmd(e,t){var r=null;if(!((20===e||21===e||28===e||29===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&33<=t&&t<=35))return!1;r=20===e||21===e||23===e?1:2;var n=this.channels[r-1];return 20===e||21===e||28===e||29===e?32===t?n.cc_RCL():33===t?n.cc_BS():34===t?n.cc_AOF():35===t?n.cc_AON():36===t?n.cc_DER():37===t?n.cc_RU(2):38===t?n.cc_RU(3):39===t?n.cc_RU(4):40===t?n.cc_FON():41===t?n.cc_RDC():42===t?n.cc_TR():43===t?n.cc_RTD():44===t?n.cc_EDM():45===t?n.cc_CR():46===t?n.cc_ENM():47===t&&n.cc_EOC():n.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},parseMidrow:function parseMidrow(e,t){var r=null;if((17===e||25===e)&&32<=t&&t<=47){if((r=17===e?1:2)!==this.currChNr)return l.log("ERROR","Mismatch channel in midrow parsing"),!1;var n=this.channels[r-1];return n.insertChars([32]),n.cc_MIDROW(t),l.log("DEBUG","MIDROW ("+u([e,t])+")"),this.lastCmdA=e,this.lastCmdB=t,!0}return!1},parsePAC:function parsePAC(e,t){var r,s=null;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127)&&!((16===e||24===e)&&64<=t&&t<=95))return!1;r=e<=23?1:2,s=64<=t&&t<=95?1===r?n[e]:a[e]:1===r?i[e]:o[e];var l=this.interpretPAC(s,t);return this.channels[r-1].setPAC(l),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},interpretPAC:function interpretPAC(e,t){var r=t,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1==(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},parseChars:function parseChars(e,t){var n=null,i=null,a=null;if(e>=25?(n=2,a=e-8):(n=1,a=e),17<=a&&a<=19){var o=t;o=17===a?t+80:18===a?t+112:t+144,l.log("INFO","Special char '"+r(o)+"' in channel "+n),i=[o],this.lastCmdA=e,this.lastCmdB=t}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t],this.lastCmdA=null,this.lastCmdB=null);if(i){var s=u(i);l.log("DEBUG","Char codes =  "+s.join(","))}return i},parseBackgroundAttributes:function parseBackgroundAttributes(e,t){var r,n,i;return((16===e||24===e)&&32<=t&&t<=47||(23===e||31===e)&&45<=t&&t<=47)&&(r={},16===e||24===e?(n=Math.floor((t-32)/2),r.background=s[n],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),i=e<24?1:2,this.channels[i-1].setBkgData(r),this.lastCmdA=e,this.lastCmdB=t,!0)},reset:function reset(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function cueSplitAtTime(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};e.logger=l,e.PenState=c,e.CaptionScreen=p,e.Cea608Parser=g,e.findCea608Nalus=function findCea608Nalus(e,t,r){for(var n=0,i=t,a=[],o=function isCEA608SEI(e,t,r,n){if(4!==e||t<8)return null;var i=r.getUint8(n),a=r.getUint16(n+1),o=r.getUint32(n+3),s=r.getUint8(n+7);return 181==i&&49==a&&1195456820==o&&3==s};i<t+r;){if(n=e.getUint32(i),6===(31&e.getUint8(i+4)))for(var s=i+5,l=-1;s<i+4+n-1;){l=0;for(var u=255;255===u;)l+=u=e.getUint8(s),s++;var c=0;for(u=255;255===u;)c+=u=e.getUint8(s),s++;o(l,c,e,s)&&a.push([s,c]),s+=c}i+=n+4}return a},e.extractCea608DataFromRange=function extractCea608DataFromRange(e,t){var r=t[0],n=[[],[]];r+=8;var i=31&e.getUint8(r);r+=2;for(var a=0;a<i;a++){var o=e.getUint8(r),s=4&o,l=3&o;r++;var u=e.getUint8(r);r++;var c=e.getUint8(r);r++,s&&(127&u)+(127&c)!=0&&(0===l?(n[0].push(u),n[0].push(c)):1===l&&(n[1].push(u),n[1].push(c)))}return n}}(t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function ErrorsBase(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ErrorsBase)}return n(ErrorsBase,[{key:"extend",value:function extend(e,t){if(e){var r=!!t&&t.override,n=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!r||n&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),ErrorsBase}();t.default=i,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(654)),i=_interopRequireDefault(r(655)),a=_interopRequireDefault(r(656)),o=_interopRequireDefault(r(657)),s=_interopRequireDefault(r(658)),l=_interopRequireDefault(r(659)),u=_interopRequireDefault(r(4)),c=_interopRequireDefault(r(77)),f="qualitySwitchRules",d="abandonFragmentRules";function ABRRulesCollection(e){e=e||{};var t=this.context,r=e.mediaPlayerModel,u=e.metricsModel,p=e.dashMetrics,h=void 0,g=void 0;function getActiveRules(e){return e.filter(function(e){return e.quality>c.default.NO_CHANGE})}function getMinSwitchRequest(e){var r,n={},i=void 0,a=void 0,o=void 0,s=void 0;if(0!==e.length){for(n[c.default.PRIORITY.STRONG]=c.default.NO_CHANGE,n[c.default.PRIORITY.WEAK]=c.default.NO_CHANGE,n[c.default.PRIORITY.DEFAULT]=c.default.NO_CHANGE,i=0,r=e.length;i<r;i+=1)(a=e[i]).quality!==c.default.NO_CHANGE&&(n[a.priority]=n[a.priority]>c.default.NO_CHANGE?Math.min(n[a.priority],a.quality):a.quality);return n[c.default.PRIORITY.WEAK]!==c.default.NO_CHANGE&&(o=n[c.default.PRIORITY.WEAK]),n[c.default.PRIORITY.DEFAULT]!==c.default.NO_CHANGE&&(o=n[c.default.PRIORITY.DEFAULT]),n[c.default.PRIORITY.STRONG]!==c.default.NO_CHANGE&&(o=n[c.default.PRIORITY.STRONG]),o!==c.default.NO_CHANGE&&(s=o),(0,c.default)(t).create(s)}}return{initialize:function initialize(){h=[],g=[],r.getUseDefaultABRRules()&&(h.push((0,l.default)(t).create({metricsModel:u,dashMetrics:p,mediaPlayerModel:r})),h.push((0,n.default)(t).create({metricsModel:u,dashMetrics:p})),h.push((0,i.default)(t).create({metricsModel:u,dashMetrics:p})),h.push((0,s.default)(t).create()),h.push((0,o.default)(t).create()),g.push((0,a.default)(t).create({metricsModel:u,dashMetrics:p,mediaPlayerModel:r}))),r.getABRCustomRules().forEach(function(e){e.type===f&&h.push(e.rule(t).create()),e.type===d&&g.push(e.rule(t).create())})},reset:function reset(){[h,g].forEach(function(e){e&&e.length&&e.forEach(function(e){return e.reset&&e.reset()})}),h=[],g=[]},getMaxQuality:function getMaxQuality(e){return getMinSwitchRequest(getActiveRules(h.map(function(t){return t.getMaxIndex(e)})))||(0,c.default)(t).create()},shouldAbandonFragment:function shouldAbandonFragment(e){return getMinSwitchRequest(getActiveRules(g.map(function(t){return t.shouldAbandon(e)})))||(0,c.default)(t).create()}}}ABRRulesCollection.__dashjs_factory_name="ABRRulesCollection";var p=u.default.getClassFactory(ABRRulesCollection);p.QUALITY_SWITCH_RULES=f,p.ABANDON_FRAGMENT_RULES=d,u.default.updateSingletonFactory(ABRRulesCollection.__dashjs_factory_name,p),t.default=p,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function BitrateInfo(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BitrateInfo),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN},e.exports=t.default},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function PlayList(){_classCallCheck(this,PlayList),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};n.INITIAL_PLAYOUT_START_REASON="initial_playout",n.SEEK_START_REASON="seek",n.RESUME_FROM_PAUSE_START_REASON="resume",n.METRICS_COLLECTION_START_REASON="metrics_collection_start";var i=function PlayListTrace(){_classCallCheck(this,PlayListTrace),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};i.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",i.REBUFFERING_REASON="rebuffering",i.USER_REQUEST_STOP_REASON="user_request",i.END_OF_PERIOD_STOP_REASON="end_of_period",i.END_OF_CONTENT_STOP_REASON="end_of_content",i.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",i.FAILURE_STOP_REASON="failure",t.PlayList=n,t.PlayListTrace=i},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(160)),i=_interopRequireDefault(r(223)),a=_interopRequireDefault(r(32)),o=_interopRequireDefault(r(14)),s=_interopRequireDefault(r(12)),l=_interopRequireDefault(r(131)),u=_interopRequireDefault(r(4)),c=_interopRequireDefault(r(13)),f=r(42),d=_interopRequireDefault(r(102)),p=_interopRequireDefault(r(133)),h=_interopRequireDefault(r(38));function SegmentBaseLoader(){var e=this.context,t=(0,s.default)(e).getInstance(),r=void 0,u=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,E=void 0;function checkSetConfigCall(){if(!E||!E.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function getFragmentRequest(e){if(e.url){var t=new d.default;return t.type=e.init?f.HTTPRequest.INIT_SEGMENT_TYPE:f.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}}function onLoaded(e,r,n){e?t.trigger(o.default.SEGMENTS_LOADED,{segments:e,representation:r,mediaType:n}):t.trigger(o.default.SEGMENTS_LOADED,{segments:null,representation:r,mediaType:n,error:new a.default(h.default.SEGMENT_BASE_LOADER_ERROR_CODE,h.default.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}return r={setConfig:function setConfig(e){e.baseURLController&&(E=e.baseURLController),e.metricsModel&&(v=e.metricsModel),e.mediaPlayerModel&&(_=e.mediaPlayerModel),e.errHandler&&(g=e.errHandler)},initialize:function initialize(){m=(0,l.default)(e).getInstance(),y=(0,n.default)(e).getInstance(),b=(0,p.default)(e).create({errHandler:g,metricsModel:v,mediaPlayerModel:_,requestModifier:y})},loadInitialization:function loadInitialization(e,r){checkSetConfigCall();var n=null,i=E.resolve(e.path),a=r||{init:!0,url:i?i.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};u.debug("Start searching for initialization.");var s=getFragmentRequest(a);b.load({request:s,success:function onload(r){a.bytesLoaded=a.range.end,(n=m.findInitRange(r))?(e.range=n,t.trigger(o.default.INITIALIZATION_LOADED,{representation:e})):(a.range.end=a.bytesLoaded+a.bytesToLoad,loadInitialization(e,a))},error:function onerror(){t.trigger(o.default.INITIALIZATION_LOADED,{representation:e})}}),u.debug("Perform init search: "+a.url)},loadSegments:function loadSegments(e,t,r,n,a){if(checkSetConfigCall(),r&&(void 0===r.start||void 0===r.end)){var o=r?r.toString().split("-"):null;r=o?{start:parseFloat(o[0]),end:parseFloat(o[1])}:null}a=a||onLoaded;var s=null,l=null,c=!!r,f=E.resolve(e.path),d={init:!1,url:f?f.url:void 0,range:c?r:{start:0,end:1500},searching:!c,bytesLoaded:n?n.bytesLoaded:0,bytesToLoad:1500},p=getFragmentRequest(d);b.load({request:p,success:function onload(r){var n=d.bytesToLoad,o=r.byteLength;if(d.bytesLoaded=d.range.end-d.range.start,s=m.parse(r),(l=s.getBox("sidx"))&&l.isComplete){var c=l.references,f=void 0,p=void 0;null!=c&&c.length>0&&(f=1===c[0].reference_type),f?function(){u.debug("Initiate multiple SIDX load."),d.range.end=d.range.start+l.size;var r=void 0,n=void 0,i=void 0,o=void 0,s=[],f=0,p=(l.offset||d.range.start)+l.size,h=function tmpCallback(r){r?(s=s.concat(r),++f>=n&&a(s,e,t)):a(null,e,t)};for(r=0,n=c.length;r<n;r++)i=p,o=p+c[r].referenced_size-1,p+=c[r].referenced_size,loadSegments(e,null,{start:i,end:o},d,h)}():(u.debug("Parsing segments from SIDX."),p=function getSegmentsForSidx(e,t){for(var r=e.references,n=r.length,a=e.timescale,o=e.earliest_presentation_time,s=t.range.start+e.offset+e.first_offset+e.size,l=[],u=void 0,c=void 0,f=void 0,d=void 0,p=0;p<n;p++)f=r[p].subsegment_duration,d=r[p].referenced_size,(u=new i.default).duration=f,u.startTime=o,u.timescale=a,c=s+d-1,u.mediaRange=s+"-"+c,l.push(u),o+=f,s+=d;return l}(l,d),a(p,e,t))}else{if(l)d.range.start=l.offset||d.range.start,d.range.end=d.range.start+(l.size||n);else{if(o<d.bytesLoaded)return void a(null,e,t);var h=s.getLastBox();h&&h.size?(d.range.start=h.offset+h.size,d.range.end=d.range.start+n):d.range.end+=n}loadSegments(e,t,d.range,d,a)}},error:function onerror(){a(null,e,t)}}),u.debug("Perform SIDX load: "+d.url)},reset:function reset(){b.abort(),b=null,g=null,m=null,y=null}},function setup(){u=(0,c.default)(e).getInstance().getLogger(r)}(),r}SegmentBaseLoader.__dashjs_factory_name="SegmentBaseLoader",t.default=u.default.getSingletonFactory(SegmentBaseLoader),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(57)),a=_interopRequireDefault(r(4)),o=_interopRequireDefault(r(689)),s=_interopRequireDefault(r(84)),l=r(104),u=_interopRequireDefault(r(306)),c=_interopRequireDefault(r(131)),f=_interopRequireDefault(r(225)),d=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function ThumbnailTracks(e){var t,r=this.context,a=e.dashManifestModel,p=e.adapter,h=e.baseURLController,g=e.stream,m=e.timelineConverter,y=e.metricsModel,v=e.mediaPlayerModel,_=e.errHandler,b=(0,s.default)(r).getInstance(),E=void 0,T=void 0,S=void 0,w=void 0,R=void 0;function initialize(){reset(),S=(0,f.default)(r).create({}),R=(0,c.default)(r).getInstance(),(w=(0,u.default)(r).getInstance()).setConfig({baseURLController:h,metricsModel:y,mediaPlayerModel:v,errHandler:_}),function addTracks(){if(!g||!a||!p)return;var e=g.getStreamInfo();if(!e)return;var t=p.getMediaInfoForType(e,n.default.IMAGE);if(!t)return;var r=p.getDataForMedia(t);if(!r)return;var o=a.getRepresentationsForAdaptation(r);o&&o.length>0&&o.forEach(function(e){e.segmentInfoType===i.default.SEGMENT_TEMPLATE&&e.segmentDuration>0&&e.media&&createTrack(e),e.segmentInfoType===i.default.SEGMENT_BASE&&createTrack(e,!0)});E.length>0&&(E.sort(function(e,t){return e.bitrate-t.bitrate}),T=E.length-1)}()}function createTrack(e,t){var r=new o.default;r.id=e.id,r.bitrate=e.bandwidth,r.width=e.width,r.height=e.height,r.tilesHor=1,r.tilesVert=1,e.essentialProperties&&e.essentialProperties.forEach(function(e){if(d.indexOf(e.schemeIdUri)>=0&&e.value){var t=e.value.split("x");2!==t.length||isNaN(t[0])||isNaN(t[1])||(r.tilesHor=parseInt(t[0],10),r.tilesVert=parseInt(t[1],10))}}),t?w.loadSegments(e,n.default.IMAGE,e.indexRange,{},function(e,t){var n=[];e=function normalizeSegments(e,t){var r,n=[],i=0,o=void 0,s=void 0,u=void 0;for(o=0,r=e.length;o<r;o++)s=e[o],u=(0,l.getTimeBasedSegment)(m,a.getIsDynamic(),t,s.startTime,s.duration,s.timescale,s.media,s.mediaRange,i),n.push(u),u=null,i++;return n}(e,t),r.segmentDuration=e[0].duration,r.readThumbnail=function(r,i){var a=null;n.some(function(e){if(e.start<=r&&e.end>r)return a=e.url,!0}),a?i(a):e.some(function(e){if(e.mediaStartTime<=r&&e.mediaStartTime+e.duration>r){var a=h.resolve(t.path);return S.load({method:"get",url:a.url,request:{range:e.mediaRange,responseType:"arraybuffer"},onload:function onload(t){var r=R.getSamplesInfo(t.target.response),a=new Blob([t.target.response.slice(r.sampleList[0].offset,r.sampleList[0].offset+r.sampleList[0].size)],{type:"image/jpeg"}),o=window.URL.createObjectURL(a);n.push({start:e.mediaStartTime,end:e.mediaStartTime+e.duration,url:o}),i&&i(o)}}),!0}})}}):(r.startNumber=e.startNumber,r.segmentDuration=e.segmentDuration,r.timescale=e.timescale,r.templateUrl=function buildTemplateUrl(e){var t=b.isRelative(e.media)?b.resolve(e.media,h.resolve(e.path).url):e.media;if(!t)return"";return(0,l.replaceIDForTemplate)(t,e.id)}(e)),r.tilesHor>0&&r.tilesVert>0&&(r.widthPerTile=r.width/r.tilesHor,r.heightPerTile=r.height/r.tilesVert,E.push(r))}function reset(){E=[],T=-1}return t={initialize:initialize,getTracks:function getTracks(){return E},reset:reset,setTrackByIndex:function setTrackByIndex(e){E&&0!==E.length&&(e>=E.length&&(e=E.length-1),T=e)},getCurrentTrack:function getCurrentTrack(){return T<0?null:E[T]},getCurrentTrackIndex:function getCurrentTrackIndex(){return T}},initialize(),t}t.THUMBNAILS_SCHEME_ID_URIS=d,ThumbnailTracks.__dashjs_factory_name="ThumbnailTracks",t.default=a.default.getClassFactory(ThumbnailTracks)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(155)),a=new(function(e){function MediaPlayerEvents(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MediaPlayerEvents),n(Object.getPrototypeOf(MediaPlayerEvents.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MediaPlayerEvents,i["default"]),MediaPlayerEvents}());t.default=a,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(692)),i=_interopRequireDefault(r(694)),a=_interopRequireDefault(r(84)),o=_interopRequireDefault(r(311)),s=_interopRequireDefault(r(4)),l=_interopRequireDefault(r(12)),u=_interopRequireDefault(r(14));function BaseURLController(){var e=void 0,t=void 0,r=this.context,s=(0,l.default)(r).getInstance(),c=(0,a.default)(r).getInstance(),f=void 0,d=void 0;function onBlackListChanged(e){f.invalidateSelectedIndexes(e.entry)}return e={reset:function reset(){f.reset(),d.reset()},initialize:function initialize(e){f.setConfig({dashManifestModel:t}),d.setConfig({dashManifestModel:t}),function update(e){f.update(e),d.chooseSelectorFromManifest(e)}(e)},resolve:function resolve(e){var t=f.getForPath(e).reduce(function(e,t){var r=d.select(t);return r?(c.isRelative(r.url)?e.url=c.resolve(r.url,e.url):(e.url=r.url,e.serviceLocation=r.serviceLocation),e.availabilityTimeOffset=r.availabilityTimeOffset,e.availabilityTimeComplete=r.availabilityTimeComplete,e):new o.default},new o.default);if(!c.isRelative(t.url))return t},setConfig:function setConfig(e){e.baseURLTreeModel&&(f=e.baseURLTreeModel),e.baseURLSelector&&(d=e.baseURLSelector),e.dashManifestModel&&(t=e.dashManifestModel)}},function setup(){f=(0,n.default)(r).create(),d=(0,i.default)(r).create(),s.on(u.default.SERVICE_LOCATION_BLACKLIST_CHANGED,onBlackListChanged,e)}(),e}BaseURLController.__dashjs_factory_name="BaseURLController",t.default=s.default.getSingletonFactory(BaseURLController),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(693));function ObjectUtils(){return{areEqual:function areEqual(e,t){return(0,i.default)(e,t)}}}ObjectUtils.__dashjs_factory_name="ObjectUtils",t.default=n.default.getSingletonFactory(ObjectUtils),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function BaseURL(e,t,r,n){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseURL),this.url=e||"",this.serviceLocation=t||e||"",this.dvb_priority=r||1,this.dvb_weight=n||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0};n.DEFAULT_DVB_PRIORITY=1,n.DEFAULT_DVB_WEIGHT=1,t.default=n,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=_interopRequireDefault(r(11)),a=_interopRequireDefault(r(102)),o=function(e){function TextRequest(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextRequest),n(Object.getPrototypeOf(TextRequest.prototype),"constructor",this).call(this),this.url=e||null,this.type=t||null,this.mediaType=i.default.STREAM,this.responseType=""}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TextRequest,a["default"]),TextRequest}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function X2JS(e){e=e||{},function initConfigDefaults(){void 0===e.escapeMode&&(e.escapeMode=!0);void 0===e.attributePrefix&&(e.attributePrefix="_");e.arrayAccessForm=e.arrayAccessForm||"none",e.emptyNodeForm=e.emptyNodeForm||"text",void 0===e.enableToStringFunc&&(e.enableToStringFunc=!0);e.arrayAccessFormPaths=e.arrayAccessFormPaths||[],void 0===e.skipEmptyTextNodesForObj&&(e.skipEmptyTextNodesForObj=!0);void 0===e.stripWhitespaces&&(e.stripWhitespaces=!0);e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[],void 0===e.useDoubleQuotes&&(e.useDoubleQuotes=!1);e.xmlElementsFilter=e.xmlElementsFilter||[],e.jsonPropertiesFilter=e.jsonPropertiesFilter||[],void 0===e.keepCData&&(e.keepCData=!1);void 0===e.ignoreRoot&&(e.ignoreRoot=!1)}();var t={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function getNodeLocalName(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function escapeXmlChars(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function checkInStdFiltersArrayForm(e,t,r,n){for(var i=0;i<e.length;i++){var a=e[i];if("string"==typeof a){if(a==n)break}else if(a instanceof RegExp){if(a.test(n))break}else if("function"==typeof a&&a(t,r,n))break}return i!=e.length}function toArrayAccessForm(t,r,n){switch(e.arrayAccessForm){case"property":t[r]instanceof Array?t[r+"_asArray"]=t[r]:t[r+"_asArray"]=[t[r]]}!(t[r]instanceof Array)&&e.arrayAccessFormPaths.length>0&&checkInStdFiltersArrayForm(e.arrayAccessFormPaths,t,r,n)&&(t[r]=[t[r]])}function fromXmlDateTime(e){var t=e.split(/[-T:+Z]/g),r=new Date(t[0],t[1]-1,t[2]),n=t[5].split(".");if(r.setHours(t[3],t[4],n[0]),n.length>1&&r.setMilliseconds(n[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]);i=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*i:i),r.setMinutes(r.getMinutes()-i-r.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(r=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())));return r}function checkXmlElementsFilter(r,n,i,a){return!(n==t.ELEMENT_NODE&&e.xmlElementsFilter.length>0)||checkInStdFiltersArrayForm(e.xmlElementsFilter,r,i,a)}function parseDOMChildren(r,n){if(r.nodeType==t.DOCUMENT_NODE){for(var i=new Object,a=r.childNodes,o=0;o<a.length;o++){if((l=a[o]).nodeType==t.ELEMENT_NODE)if(e.ignoreRoot)i=parseDOMChildren(l);else(i={})[u=getNodeLocalName(l)]=parseDOMChildren(l)}return i}if(r.nodeType==t.ELEMENT_NODE){(i=new Object).__cnt=0;var s=[];for(a=r.childNodes,o=0;o<a.length;o++){var l,u=getNodeLocalName(l=a[o]);if(l.nodeType!=t.COMMENT_NODE){var c=n+"."+u;if(checkXmlElementsFilter(i,l.nodeType,u,c))if(i.__cnt++,null==i[u]){var f=parseDOMChildren(l,c);if("#text"!=u||/[^\s]/.test(f))(d={})[u]=f,s.push(d);i[u]=f,toArrayAccessForm(i,u,c)}else{null!=i[u]&&(i[u]instanceof Array||(i[u]=[i[u]],toArrayAccessForm(i,u,c)));var d;f=parseDOMChildren(l,c);if("#text"!=u||/[^\s]/.test(f))(d={})[u]=f,s.push(d);i[u][i[u].length]=f}}}i.__children=s;for(var p=getNodeLocalName(r),h=0;h<r.attributes.length;h++){var g=r.attributes[h];i.__cnt++;for(var m=g.value,y=0,v=e.matchers.length;y<v;y++){var _=e.matchers[y];_.test(g,p)&&(m=_.converter(g.value))}i[e.attributePrefix+g.name]=m}var b=function getNodePrefix(e){return e.prefix}(r);return null!=b&&""!=b&&(i.__cnt++,i.__prefix=b),null!=i["#text"]&&(i.__text=i["#text"],i.__text instanceof Array&&(i.__text=i.__text.join("\n")),e.stripWhitespaces&&(i.__text=i.__text.trim()),delete i["#text"],"property"==e.arrayAccessForm&&delete i["#text_asArray"],i.__text=function checkFromXmlDateTimePaths(t,r,n){if(e.datetimeAccessFormPaths.length>0){var i=n.split(".#")[0];return checkInStdFiltersArrayForm(e.datetimeAccessFormPaths,t,r,i)?fromXmlDateTime(t):t}return t}(i.__text,u,n+"."+u)),null!=i["#cdata-section"]&&(i.__cdata=i["#cdata-section"],delete i["#cdata-section"],"property"==e.arrayAccessForm&&delete i["#cdata-section_asArray"]),0==i.__cnt&&"text"==e.emptyNodeForm?i="":1==i.__cnt&&null!=i.__text?i=i.__text:1!=i.__cnt||null==i.__cdata||e.keepCData?i.__cnt>1&&null!=i.__text&&e.skipEmptyTextNodesForObj&&(e.stripWhitespaces&&""==i.__text||""==i.__text.trim())&&delete i.__text:i=i.__cdata,delete i.__cnt,!e.enableToStringFunc||null==i.__text&&null==i.__cdata||(i.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),i}if(r.nodeType==t.TEXT_NODE||r.nodeType==t.CDATA_SECTION_NODE)return r.nodeValue}function startTag(t,r,n,i){var a="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+r;if(null!=n)for(var o=0;o<n.length;o++){var s=n[o],l=t[s];e.escapeMode&&(l=escapeXmlChars(l)),a+=" "+s.substr(e.attributePrefix.length)+"=",e.useDoubleQuotes?a+='"'+l+'"':a+="'"+l+"'"}return a+=i?"/>":">"}function endTag(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function jsonXmlSpecialElem(t,r){return!!("property"==e.arrayAccessForm&&function endsWith(e,t){return-1!==e.indexOf(t,e.length-t.length)}(r.toString(),"_asArray")||0==r.toString().indexOf(e.attributePrefix)||0==r.toString().indexOf("__")||t[r]instanceof Function)}function jsonXmlElemCount(e){var t=0;if(e instanceof Object)for(var r in e)jsonXmlSpecialElem(e,r)||t++;return t}function checkJsonObjPropertiesFilter(t,r,n){return 0==e.jsonPropertiesFilter.length||""==n||checkInStdFiltersArrayForm(e.jsonPropertiesFilter,t,r,n)}function parseJSONAttributes(t){var r=[];if(t instanceof Object)for(var n in t)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(e.attributePrefix)&&r.push(n);return r}function parseJSONTextObject(t){var r="";return t instanceof Object?r+=function parseJSONTextAttrs(t){var r="";return null!=t.__cdata&&(r+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(e.escapeMode?r+=escapeXmlChars(t.__text):r+=t.__text),r}(t):null!=t&&(e.escapeMode?r+=escapeXmlChars(t):r+=t),r}function getJsonPropertyPath(e,t){return""===e?t:e+"."+t}function parseJSONArray(e,t,r,n){var i="";if(0==e.length)i+=startTag(e,t,r,!0);else for(var a=0;a<e.length;a++)i+=startTag(e[a],t,parseJSONAttributes(e[a]),!1),i+=parseJSONObject(e[a],getJsonPropertyPath(n,t)),i+=endTag(e[a],t);return i}function parseJSONObject(e,t){var r="";if(jsonXmlElemCount(e)>0)for(var n in e)if(!jsonXmlSpecialElem(e,n)&&(""==t||checkJsonObjPropertiesFilter(e,n,getJsonPropertyPath(t,n)))){var i=e[n],a=parseJSONAttributes(i);if(null==i||null==i)r+=startTag(i,n,a,!0);else if(i instanceof Object)if(i instanceof Array)r+=parseJSONArray(i,n,a,t);else if(i instanceof Date)r+=startTag(i,n,a,!1),r+=i.toISOString(),r+=endTag(i,n);else{jsonXmlElemCount(i)>0||null!=i.__text||null!=i.__cdata?(r+=startTag(i,n,a,!1),r+=parseJSONObject(i,getJsonPropertyPath(t,n)),r+=endTag(i,n)):r+=startTag(i,n,a,!0)}else r+=startTag(i,n,a,!1),r+=parseJSONTextObject(i),r+=endTag(i,n)}return r+=parseJSONTextObject(e)}this.parseXmlString=function(e){var t;window.ActiveXObject||window;if(void 0===e)return null;if(window.DOMParser){var r=new window.DOMParser;try{(t=r.parseFromString(e,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(t=null)}catch(e){t=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?fromXmlDateTime(e):e},this.xml2json=function(e){return parseDOMChildren(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return parseJSONObject(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.2.0"}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(709)),a=function(){function MapNode(e,t,r){var n=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MapNode),this._name=e||"",this._properties=[],this._children=r||[],Array.isArray(t)&&t.forEach(function(e){n._properties.push(new i.default(e))})}return n(MapNode,[{key:"name",get:function get(){return this._name}},{key:"children",get:function get(){return this._children}},{key:"properties",get:function get(){return this._properties}}]),MapNode}();t.default=a,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function UTCTiming(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UTCTiming),this.schemeIdUri="",this.value=""},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVersionString=function getVersionString(){return n};var n="2.9.3"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function Event(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Event),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(750));function ReportingFactory(e){e=e||{};var t={"urn:dvb:dash:reporting:2014":n.default},r=this.context,i=e.debug,a=e.metricsConstants;return{create:function create(e,n){var o=void 0;try{(o=t[e.schemeIdUri](r).create({metricsConstants:a})).initialize(e,n)}catch(t){o=null,i.error("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+t.message+")")}return o},register:function register(e,r){t[e]=r},unregister:function unregister(e){delete t[e]}}}ReportingFactory.__dashjs_factory_name="ReportingFactory",t.default=dashjs.FactoryMaker.getSingletonFactory(ReportingFactory),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(754)),i=_interopRequireDefault(r(755)),a=_interopRequireDefault(r(756)),o=_interopRequireDefault(r(757));function MetricsHandlerFactory(e){var t=(e=e||{}).debug,r=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,s=this.context,l={BufferLevel:n.default,DVBErrors:i.default,HttpList:a.default,PlayList:o.default,RepSwitchList:o.default,TcpList:o.default};return{create:function create(n,i){var a,o=n.match(r);if(o){try{(a=l[o[1]](s).create({eventBus:e.eventBus,metricsConstants:e.metricsConstants})).initialize(o[1],i,o[3],o[5])}catch(e){a=null,t.error("MetricsHandlerFactory: Could not create handler for type "+o[1]+" with args "+o[3]+", "+o[5]+" ("+e.message+")")}return a}},register:function register(e,t){l[e]=t},unregister:function unregister(e){delete l[e]}}}MetricsHandlerFactory.__dashjs_factory_name="MetricsHandlerFactory",t.default=dashjs.FactoryMaker.getSingletonFactory(MetricsHandlerFactory),e.exports=t.default},function(e,t,r){"use strict";function HandlerHelpers(){return{reconstructFullMetricName:function reconstructFullMetricName(e,t,r){var n=e;return t&&(n+="("+t,r&&r.length&&(n+=","+r),n+=")"),n},validateN:function validateN(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}Object.defineProperty(t,"__esModule",{value:!0}),HandlerHelpers.__dashjs_factory_name="HandlerHelpers",t.default=dashjs.FactoryMaker.getSingletonFactory(HandlerHelpers),e.exports=t.default},function(e,t,r){(function(e,n){var i;/*! https://mths.be/punycode v1.4.0 by @mathias */!function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n&&n;o.global!==o&&o.window!==o&&o.self;var s,l=2147483647,u=36,c=1,f=26,d=38,p=700,h=72,g=128,m="-",y=/^xn--/,v=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=u-c,T=Math.floor,S=String.fromCharCode;function error(e){throw new RangeError(b[e])}function map(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function mapDomain(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+map((e=e.replace(_,".")).split("."),t).join(".")}function ucs2decode(e){for(var t,r,n=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function ucs2encode(e){return map(e,function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)}).join("")}function digitToBasic(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function adapt(e,t,r){var n=0;for(e=r?T(e/p):e>>1,e+=T(e/t);e>E*f>>1;n+=u)e=T(e/E);return T(n+(E+1)*e/(e+d))}function decode(e){var t,r,n,i,a,o,s,d,p,y,v,_=[],b=e.length,E=0,S=g,w=h;for((r=e.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&error("not-basic"),_.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(a=E,o=1,s=u;i>=b&&error("invalid-input"),((d=(v=e.charCodeAt(i++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:u)>=u||d>T((l-E)/o))&&error("overflow"),E+=d*o,!(d<(p=s<=w?c:s>=w+f?f:s-w));s+=u)o>T(l/(y=u-p))&&error("overflow"),o*=y;w=adapt(E-a,t=_.length+1,0==a),T(E/t)>l-S&&error("overflow"),S+=T(E/t),E%=t,_.splice(E++,0,S)}return ucs2encode(_)}function encode(e){var t,r,n,i,a,o,s,d,p,y,v,_,b,E,w,R=[];for(_=(e=ucs2decode(e)).length,t=g,r=0,a=h,o=0;o<_;++o)(v=e[o])<128&&R.push(S(v));for(n=i=R.length,i&&R.push(m);n<_;){for(s=l,o=0;o<_;++o)(v=e[o])>=t&&v<s&&(s=v);for(s-t>T((l-r)/(b=n+1))&&error("overflow"),r+=(s-t)*b,t=s,o=0;o<_;++o)if((v=e[o])<t&&++r>l&&error("overflow"),v==t){for(d=r,p=u;!(d<(y=p<=a?c:p>=a+f?f:p-a));p+=u)w=d-y,E=u-y,R.push(S(digitToBasic(y+w%E,0))),d=T(w/E);R.push(S(digitToBasic(d,0))),a=adapt(r,b,n==i),r=0,++n}++r,++t}return R.join("")}s={version:"1.3.2",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function toASCII(e){return mapDomain(e,function(e){return v.test(e)?"xn--"+encode(e):e})},toUnicode:function toUnicode(e){return mapDomain(e,function(e){return y.test(e)?decode(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return s}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(184)(e),r(59))},function(e,t,r){var n,i;
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(a,o){"use strict";e.exports?e.exports=o():void 0===(i="function"==typeof(n=o)?n.call(t,r,t,e):n)||(e.exports=i)}(0,function(e){"use strict";var t=e&&e.IPv6;return{best:function bestPresentation(e){var t,r,n=e.toLowerCase().split(":"),i=n.length,a=8;for(""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[i-1]&&""===n[i-2]&&n.pop(),-1!==n[(i=n.length)-1].indexOf(".")&&(a=7),t=0;t<i&&""!==n[t];t++);if(t<a)for(n.splice(t,1,"0000");n.length<a;)n.splice(t,0,"0000");for(var o=0;o<a;o++){r=n[o].split("");for(var s=0;s<3&&("0"===r[0]&&r.length>1);s++)r.splice(0,1);n[o]=r.join("")}var l=-1,u=0,c=0,f=-1,d=!1;for(o=0;o<a;o++)d?"0"===n[o]?c+=1:(d=!1,c>u&&(l=f,u=c)):"0"===n[o]&&(d=!0,f=o,c=1);c>u&&(l=f,u=c),u>1&&n.splice(l,u,""),i=n.length;var p="";for(""===n[0]&&(p=":"),o=0;o<i&&(p+=n[o],o!==i-1);o++)p+=":";return""===n[i-1]&&(p+=":"),p},noConflict:function noConflict(){return e.IPv6===this&&(e.IPv6=t),this}}})},function(e,t,r){var n,i;
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.1
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(a,o){"use strict";e.exports?e.exports=o():void 0===(i="function"==typeof(n=o)?n.call(t,r,t,e):n)||(e.exports=i)}(0,function(e){"use strict";var t=e&&e.SecondLevelDomains,r={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return!1;var i=r.list[e.slice(t+1)];return!!i&&i.indexOf(" "+e.slice(n+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var n=r.list[e.slice(t+1)];return!!n&&n.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var n=e.lastIndexOf(".",t-1);if(n<=0||n>=t-1)return null;var i=r.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(n+1,t)+" ")<0?null:e.slice(n+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return r})},function(e,t,r){var n=r(164),i=r(778),a=Object.prototype.hasOwnProperty;e.exports=function baseKeys(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t){e.exports=function overArg(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(779),i=r(233),a=r(786),o=r(329),s=r(787),l=r(85),u=r(328),c=u(n),f=u(i),d=u(a),p=u(o),h=u(s),g=l;(n&&"[object DataView]"!=g(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||a&&"[object Promise]"!=g(a.resolve())||o&&"[object Set]"!=g(new o)||s&&"[object WeakMap]"!=g(new s))&&(g=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case c:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=g},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(59))},function(e,t){var r=Function.prototype.toString;e.exports=function toSource(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,r){var n=r(106)(r(78),"Set");e.exports=n},function(e,t,r){(function(e){var n=r(327),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i&&n.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s}).call(this,r(184)(e))},function(e,t,r){var n=r(106),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,r){var n=r(793),i=Math.max;e.exports=function overRest(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=a[o];return u[t]=r(l),n(e,this,u)}}},function(e,t,r){var n=r(794),i=r(795)(n);e.exports=i},function(e,t){e.exports=function constant(e){return function(){return e}}},function(e,t,r){var n=r(796),i=r(165),a=r(47),o=r(235),s=r(168),l=r(236),u=Object.prototype.hasOwnProperty;e.exports=function arrayLikeKeys(e,t){var r=a(e),c=!r&&i(e),f=!r&&!c&&o(e),d=!r&&!c&&!f&&l(e),p=r||c||f||d,h=p?n(e.length,String):[],g=h.length;for(var m in e)!t&&!u.call(e,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||h.push(m);return h}},function(e,t,r){var n=r(335),i=r(797),a=r(71);e.exports=function keysIn(e){return a(e)?n(e,!0):i(e)}},function(e,t,r){var n=r(325)(Object.getPrototypeOf,Object);e.exports=n},function(e,t,r){var n=r(169),i=r(807),a=r(808),o=r(809),s=r(810),l=r(811);function Stack(e){var t=this.__data__=new n(e);this.size=t.size}Stack.prototype.clear=i,Stack.prototype.delete=a,Stack.prototype.get=o,Stack.prototype.has=s,Stack.prototype.set=l,e.exports=Stack},function(e,t,r){var n=r(242),i=r(340),a=r(243),o=1,s=2;e.exports=function equalArrays(e,t,r,l,u,c){var f=r&o,d=e.length,p=t.length;if(d!=p&&!(f&&p>d))return!1;var h=c.get(e);if(h&&c.get(t))return h==t;var g=-1,m=!0,y=r&s?new n:void 0;for(c.set(e,t),c.set(t,e);++g<d;){var v=e[g],_=t[g];if(l)var b=f?l(_,v,g,t,e,c):l(v,_,g,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(y){if(!i(t,function(e,t){if(!a(y,t)&&(v===e||u(v,e,r,l,c)))return y.push(t)})){m=!1;break}}else if(v!==_&&!u(v,_,r,l,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},function(e,t){e.exports=function arraySome(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},function(e,t,r){var n=r(245),i=r(47);e.exports=function baseGetAllKeys(e,t,r){var a=t(e);return i(e)?a:n(a,r(e))}},function(e,t,r){var n=r(832),i=r(343),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),n(o(e),function(t){return a.call(e,t)}))}:i;e.exports=s},function(e,t){e.exports=function stubArray(){return[]}},function(e,t,r){var n=r(40);e.exports=function isStrictComparable(e){return e==e&&!n(e)}},function(e,t){e.exports=function matchesStrictComparable(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},function(e,t,r){var n=r(839);e.exports=function toString(e){return null==e?"":n(e)}},function(e,t,r){var n=r(840),i=r(841);e.exports=function hasIn(e,t){return null!=e&&i(e,t,n)}},function(e,t,r){var n=r(242),i=r(349),a=r(352),o=r(243),s=r(846),l=r(244),u=200;e.exports=function baseUniq(e,t,r){var c=-1,f=i,d=e.length,p=!0,h=[],g=h;if(r)p=!1,f=a;else if(d>=u){var m=t?null:s(e);if(m)return l(m);p=!1,f=o,g=new n}else g=t?[]:h;e:for(;++c<d;){var y=e[c],v=t?t(y):y;if(y=r||0!==y?y:0,p&&v==v){for(var _=g.length;_--;)if(g[_]===v)continue e;t&&g.push(v),h.push(y)}else f(g,v,r)||(g!==h&&g.push(v),h.push(y))}return h}},function(e,t,r){var n=r(350);e.exports=function arrayIncludes(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},function(e,t,r){var n=r(351),i=r(844),a=r(845);e.exports=function baseIndexOf(e,t,r){return t==t?a(e,t,r):n(e,i,r)}},function(e,t){e.exports=function baseFindIndex(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},function(e,t){e.exports=function arrayIncludesWith(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},function(e,t,r){var n=r(851),i=r(80);e.exports=function baseForOwn(e,t){return e&&n(e,t,i)}},function(e,t,r){var n=r(355);e.exports=function toInteger(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},function(e,t,r){var n=r(858),i=1/0,a=17976931348623157e292;e.exports=function toFinite(e){return e?(e=n(e))===i||e===-i?(e<0?-1:1)*a:e==e?e:0:0===e?e:0}},function(e,t,r){var n=r(246),i=r(867),a=r(173);e.exports=function basePickBy(e,t,r){for(var o=-1,s=t.length,l={};++o<s;){var u=t[o],c=n(e,u);r(c,u)&&i(l,a(u,e),c)}return l}},function(e,t){e.exports=function select(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var r=e.hasAttribute("readonly");r||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),r||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(e),n.removeAllRanges(),n.addRange(i),t=n.toString()}return t}},function(e,t,r){"use strict";(function(e){var r=function(){if("undefined"!=typeof Map)return Map;function getIndex(e,t){var r=-1;return e.some(function(e,n){return e[0]===t&&(r=n,!0)}),r}return function(){function class_1(){this.__entries__=[]}return Object.defineProperty(class_1.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),class_1.prototype.get=function(e){var t=getIndex(this.__entries__,e),r=this.__entries__[t];return r&&r[1]},class_1.prototype.set=function(e,t){var r=getIndex(this.__entries__,e);~r?this.__entries__[r][1]=t:this.__entries__.push([e,t])},class_1.prototype.delete=function(e){var t=this.__entries__,r=getIndex(t,e);~r&&t.splice(r,1)},class_1.prototype.has=function(e){return!!~getIndex(this.__entries__,e)},class_1.prototype.clear=function(){this.__entries__.splice(0)},class_1.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];e.call(t,i[1],i[0])}},class_1}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},o=2;var s=20,l=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,c=function(){function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function throttle(e,t){var r=!1,n=!1,i=0;function resolvePending(){r&&(r=!1,e()),n&&proxy()}function timeoutCallback(){a(resolvePending)}function proxy(){var e=Date.now();if(r){if(e-i<o)return;n=!0}else r=!0,n=!1,setTimeout(timeoutCallback,t);i=e}return proxy}(this.refresh.bind(this),s)}return ResizeObserverController.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},ResizeObserverController.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},ResizeObserverController.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ResizeObserverController.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},ResizeObserverController.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ResizeObserverController.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ResizeObserverController.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;l.some(function(e){return!!~r.indexOf(e)})&&this.refresh()},ResizeObserverController.getInstance=function(){return this.instance_||(this.instance_=new ResizeObserverController),this.instance_},ResizeObserverController.instance_=null,ResizeObserverController}(),f=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},p=createRectInit(0,0,0,0);function toFloat(e){return parseFloat(e)||0}function getBordersSize(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(t,r){return t+toFloat(e["border-"+r+"-width"])},0)}function getHTMLElementContentRect(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return p;var n=d(e).getComputedStyle(e),i=function getPaddings(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var i=n[r],a=e["padding-"+i];t[i]=toFloat(a)}return t}(n),a=i.left+i.right,o=i.top+i.bottom,s=toFloat(n.width),l=toFloat(n.height);if("border-box"===n.boxSizing&&(Math.round(s+a)!==t&&(s-=getBordersSize(n,"left","right")+a),Math.round(l+o)!==r&&(l-=getBordersSize(n,"top","bottom")+o)),!function isDocumentElement(e){return e===d(e).document.documentElement}(e)){var u=Math.round(s+a)-t,c=Math.round(l+o)-r;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return createRectInit(i.left,i.top,s,l)}var h="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function getContentRect(e){return n?h(e)?function getSVGContentRect(e){var t=e.getBBox();return createRectInit(0,0,t.width,t.height)}(e):getHTMLElementContentRect(e):p}function createRectInit(e,t,r,n){return{x:e,y:t,width:r,height:n}}var g=function(){function ResizeObservation(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=e}return ResizeObservation.prototype.isActive=function(){var e=getContentRect(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},ResizeObservation.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},ResizeObservation}(),m=function m(e,t){var r=function createReadOnlyRect(e){var t=e.x,r=e.y,n=e.width,i=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return f(o,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),o}(t);f(this,{target:e,contentRect:r})},y=function(){function ResizeObserverSPI(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return ResizeObserverSPI.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new g(e)),this.controller_.addObserver(this),this.controller_.refresh())}},ResizeObserverSPI.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},ResizeObserverSPI.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ResizeObserverSPI.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},ResizeObserverSPI.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new m(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)},ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0},ResizeObserverSPI}(),v="undefined"!=typeof WeakMap?new WeakMap:new r,_=function ResizeObserver(e){if(!(this instanceof ResizeObserver))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=c.getInstance(),r=new y(e,t,this);v.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){_.prototype[e]=function(){var t;return(t=v.get(this))[e].apply(t,arguments)}});var b=void 0!==i.ResizeObserver?i.ResizeObserver:_;t.a=b}).call(this,r(59))},function(e,t,r){e.exports=r.p+"a75294b2eb8eccdb5a5096fa713ae40a.png"},function(e,t,r){"use strict";const n=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],i=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],a=(e,t)=>{let r=e;return"string"==typeof t?r=e.toLocaleString(t):!0===t&&(r=e.toLocaleString()),r};e.exports=(e,t)=>{if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);const r=(t=Object.assign({bits:!1},t)).bits?i:n;if(t.signed&&0===e)return" 0 "+r[0];const o=e<0,s=o?"-":t.signed?"+":"";if(o&&(e=-e),e<1){return s+a(e,t.locale)+" "+r[0]}const l=Math.min(Math.floor(Math.log10(e)/3),r.length-1);return e=Number((e/Math.pow(1e3,l)).toPrecision(3)),s+a(e,t.locale)+" "+r[l]}},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>'},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){var n=r(422);e.exports=pathToRegexp,e.exports.parse=parse,e.exports.compile=function compile(e,t){return tokensToFunction(parse(e,t))},e.exports.tokensToFunction=tokensToFunction,e.exports.tokensToRegExp=tokensToRegExp;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(e,t){for(var r,n=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(r=i.exec(e));){var u=r[0],c=r[1],f=r.index;if(s+=e.slice(o,f),o=f+u.length,c)s+=c[1];else{var d=e[o],p=r[2],h=r[3],g=r[4],m=r[5],y=r[6],v=r[7];s&&(n.push(s),s="");var _=null!=p&&null!=d&&d!==p,b="+"===y||"*"===y,E="?"===y||"*"===y,T=r[2]||l,S=g||m;n.push({name:h||a++,prefix:p||"",delimiter:T,optional:E,repeat:b,partial:_,asterisk:!!v,pattern:S?escapeGroup(S):v?".*":"[^"+escapeString(T)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&n.push(s),n}function encodeURIComponentPretty(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,i){for(var a="",o=r||{},s=(i||{}).pretty?encodeURIComponentPretty:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!=typeof u){var c,f=o[u.name];if(null==f){if(u.optional){u.partial&&(a+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(n(f)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(c=s(f[d]),!t[l].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(c)+"`");a+=(0===d?u.prefix:u.delimiter)+c}}else{if(c=u.asterisk?encodeURI(f).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):s(f),!t[l].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+c+'"');a+=u.prefix+c}}else a+=u}return a}}function escapeString(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(e,t){return e.keys=t,e}function flags(e){return e.sensitive?"":"i"}function tokensToRegExp(e,t,r){n(t)||(r=t||r,t=[]);for(var i=(r=r||{}).strict,a=!1!==r.end,o="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)o+=escapeString(l);else{var u=escapeString(l.prefix),c="(?:"+l.pattern+")";t.push(l),l.repeat&&(c+="(?:"+u+c+")*"),o+=c=l.optional?l.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")"}}var f=escapeString(r.delimiter||"/"),d=o.slice(-f.length)===f;return i||(o=(d?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),o+=a?"$":i&&d?"":"(?="+f+"|$)",attachKeys(new RegExp("^"+o,flags(r)),t)}function pathToRegexp(e,t,r){return n(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?function regexpToRegexp(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return attachKeys(e,t)}(e,t):n(e)?function arrayToRegexp(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(pathToRegexp(e[i],t,r).source);return attachKeys(new RegExp("(?:"+n.join("|")+")",flags(r)),t)}(e,t,r):function stringToRegexp(e,t,r){return tokensToRegExp(parse(e,r),t,r)}(e,t,r)}},function(e,t,r){var n=r(238),i=r(848),a=Object.prototype.hasOwnProperty,o=i(function(e,t,r){a.call(e,r)?e[r].push(t):n(e,r,[t])});e.exports=o},function(e,t,r){var n=r(241);e.exports=function isEqual(e,t){return n(e,t)}},function(e,t){e.exports=function last(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,r){var n=r(869);e.exports=function sortedUniq(e){return e&&e.length?n(e):[]}},function(e,t,r){"use strict";var n=r(88),i=r.n(n),a=r(61),o=r.n(a),s=r(120),l=r.n(s),u=r(121),c=r.n(u),f=r(176),d=r.n(f),p=r(63),h=r.n(p),g=r(251),m=r.n(g),y=r(40),v=r.n(y),_=r(8),b=r.n(_),E=r(48),T=r.n(E),S=r(1),w=r.n(S),R=r(16),A=r(43);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function getAxis(e){return e.dependentAxis?"y":"x"}function findAxisComponents(e,t){t=t||T.a;var r=function(e){return e.reduce(function(e,n){return n.type&&"axis"===n.type.role&&t(n)?e.concat(n):n.props&&n.props.children?e.concat(r(w.a.Children.toArray(n.props.children))):e},[])};return r(e)}function isVertical(e){return{top:!1,bottom:!1,left:!0,right:!0}[e.orientation||(e.dependentAxis?"left":"bottom")]}function stringTicks(e){return void 0!==e.tickValues&&R.a.containsStrings(e.tickValues)}function getTickArray(e){var t=e.tickValues,r=e.tickFormat,n=getAxis(e),i=e.stringMap&&e.stringMap[n],a=t;i&&(a=function getStringTicks(e){var t=getAxis(e),r=e.stringMap&&e.stringMap[t],n=Array.isArray(e.categories)?e.categories:e.categories&&e.categories[t],i=n&&R.a.containsOnlyStrings(n)?n.map(function(e){return r[e]}):void 0,a=r&&l()(r);return i&&0!==i.length?i:a}(e)),t&&R.a.containsStrings(t)&&(a=i?t.map(function(e){return i[e]}):d()(1,t.length+1));var o,s,u=a?h()(a):function(){if(r&&Array.isArray(r))return R.a.containsStrings(r)?r.map(function(e,t){return t}):r}();return Array.isArray(u)&&u.length?(o=u,s=e.domain&&e.domain[n]||e.domain,Array.isArray(s)?o.filter(function(e){return e>=Math.min.apply(Math,_toConsumableArray(s))&&e<=Math.max.apply(Math,_toConsumableArray(s))}):o):void 0}function downsampleTicks(e,t){if(!t||!Array.isArray(e)||e.length<=t)return e;var r=Math.floor(e.length/t);return e.filter(function(e,t){return t%r==0})}function getDomainFromData(e,t){var r=e.polar,n=e.startAngle,i=void 0===n?0:n,a=e.endAngle,o=void 0===a?360:a,s=getTickArray(e);if(Array.isArray(s)){var l=A.a.getMinFromProps(e,t),u=A.a.getMaxFromProps(e,t),c=stringTicks(e),f=s.map(function(e){return+e}),d=c?1:R.a.getMinValue(f),p=c?s.length:R.a.getMaxValue(f),h=void 0!==l?l:d,g=void 0!==u?u:p,m=A.a.getDomainFromMinMax(h,g),y=r&&"x"===t&&360===Math.abs(i-o)?A.a.getSymmetricDomain(m,f):m;return isVertical(e)&&!r&&y.reverse(),y}}t.a={getTicks:function getTicks(e,t,r){var n=e.tickCount,a=getTickArray(e);if(a)return downsampleTicks(a,n);if(t.ticks&&b()(t.ticks)){var s=n||5,l=t.ticks(s),u=downsampleTicks(Array.isArray(l)&&l.length?l:t.domain(),n);if(r){var c=o()(u,0)?i()(u,0):u;return c.length?c:u}return u}return t.domain()},getTickFormat:function getTickFormat(e,t){var r=e.tickFormat,n=getAxis(e),i=e.stringMap&&e.stringMap[n];if(r){if(r&&Array.isArray(r))return function(e,t){return r[t]};if(r&&b()(r)){return i?function(t,r,n){var a=m()(i),o=n.map(function(e){return a[e]});return e.tickFormat(a[t],r,o)}:r}return function(e){return e}}var a=function getDefaultTickFormat(e){var t=e.tickValues,r=getAxis(e),n=e.stringMap&&e.stringMap[r],i=t&&!R.a.containsDates(t)?function(e){return e}:void 0;if(n){var a=n&&m()(n),o=c()(l()(n),function(e){return e}).map(function(e){return a[e]}),s=[""].concat(_toConsumableArray(o),[""]);return function(e){return s[e]}}return stringTicks(e)?function(e,r){return t[r]}:i}(e),o=t.tickFormat&&b()(t.tickFormat)?t.tickFormat():function(e){return e};return a||o},getAxis:getAxis,getAxisComponent:function getAxisComponent(e,t){return findAxisComponents(e,function(e){return e.type.getAxis(e.props)===t})[0]},getAxisComponentsWithParent:function getAxisComponentsWithParent(e,t){var r=function(e){return e.reduce(function(e,n){return n.type&&"axis"===n.type.role&&function(e){return"dependent"===t?e.props.dependentAxis:!e.props.dependentAxis}(n)?e.concat(n):n.props&&n.props.children&&r(w.a.Children.toArray(n.props.children)).length>0?e.concat(n):e},[])};return r(e)},findAxisComponents:findAxisComponents,getOrigin:function getOrigin(e){var t=function(e){var t=Math.min.apply(Math,_toConsumableArray(e)),r=Math.max.apply(Math,_toConsumableArray(e));return r<0?r:Math.max(0,t)};return{x:R.a.containsDates(e.x)?new Date(Math.min.apply(Math,_toConsumableArray(e.x))):t(e.x),y:R.a.containsDates(e.y)?new Date(Math.min.apply(Math,_toConsumableArray(e.y))):t(e.y)}},getOriginSign:function getOriginSign(e,t){return R.a.containsDates(t)?"positive":e<=0&&Math.max.apply(Math,_toConsumableArray(t))<=0?"negative":"positive"},getDomain:function getDomain(e,t){var r=getAxis(e);if(!t||t===r)return A.a.createDomainFunction(getDomainFromData)(e,r)},isVertical:isVertical,stringTicks:stringTicks,getAxisValue:function getAxisValue(e,t){if(e.axisValue){var r="x"===t?"y":"x",n=v()(e.scale)&&b()(e.scale[r])?e.scale[r]:void 0;if(n){var i="x"===t?"y":"x",a=v()(e.stringMap)&&e.stringMap[i];return n(a&&"string"==typeof e.axisValue?a[e.axisValue]:e.axisValue)}}}}},function(e,t){e.exports=function fromPairs(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n}},function(e,t,r){var n=r(876),i=r(166),a=r(330),o=a&&a.isRegExp,s=o?i(o):n;e.exports=s},function(e,t,r){var n=r(877)(r(878));e.exports=n},function(e,t,r){"use strict";var n=r(7);function getPosition(e,t){var r=e.polar,i=n.a.scalePoint(e,t),a=i.x,o=i.y,s=function getPadding(e,t){t=t||{};var r=e.horizontal,i=e.style,a=e.active,o=i.labels||{},s=n.a.evaluateProp(o.padding,t,a)||0,l=t._y<0?-1:1;return{x:r?l*s:0,y:r?0:l*s}}(e,t);if(r){var l=function getPolarPadding(e,t){var r=e.active,i=e.style,a=getDegrees(e,t),o=i.labels||{},s=n.a.evaluateProp(o.padding,t,r)||0,l=n.a.degreesToRadians(a);return{x:s*Math.cos(l),y:-s*Math.sin(l)}}(e,t);return{x:a+l.x,y:o+l.y}}return{x:a+s.x,y:o-s.y}}function getLabelPlacement(e){var t=e.labelComponent,r=e.labelPlacement,n=e.polar?"perpendicular":"vertical";return r||(t.props&&t.props.labelPlacement||n)}function getText(e,t,r){return void 0!==(t=t||{}).label?t.label:Array.isArray(e.labels)?e.labels[r]:e.labels}function getPolarTextAnchor(e,t){var r=getLabelPlacement(e);return"perpendicular"===r||"vertical"===r&&(90===t||270===t)?"middle":t<=90||t>270?"start":"end"}function getPolarVerticalAnchor(e,t){var r=getLabelPlacement(e),n=function getPolarOrientation(e){return e<45||e>315?"right":e>=45&&e<=135?"top":e>135&&e<225?"left":"bottom"}(t);return"parallel"===r||"left"===n||"right"===n?"middle":"top"===n?"end":"start"}function getDegrees(e,t){var r=n.a.getPoint(t).x;return n.a.radiansToDegrees(e.scale.x(r))}t.a={getText:getText,getPolarTextAnchor:getPolarTextAnchor,getPolarVerticalAnchor:getPolarVerticalAnchor,getPolarAngle:function getPolarAngle(e,t){var r=e.labelPlacement,n=e.datum;if(!r||"vertical"===r)return 0;var i,a=void 0!==t?t:getDegrees(e,n);return 0===a||180===a?i=90:a>0&&a<180?i=90-a:a>180&&a<360&&(i=270-a),i+(a>90&&a<180||a>270?1:-1)*("perpendicular"===r?0:90)},getDegrees:getDegrees,getProps:function getProps(e,t){var r=e.scale,n=e.data,i=e.style,a=e.horizontal,o=e.polar,s=n[t],l=getDegrees(e,s),u=o?getPolarTextAnchor(e,l):function getTextAnchor(e,t){t=t||{};var r=e.style,n=e.horizontal,i=t._y>=0?1:-1,a=r&&r.labels||{};return t.verticalAnchor||a.verticalAnchor?t.verticalAnchor||a.verticalAnchor:n?i>=0?"start":"end":"middle"}(e,s),c=o?getPolarVerticalAnchor(e,l):function getVerticalAnchor(e,t){var r=(t=t||{})._y>=0?1:-1,n=e.style&&e.style.labels||{};return t.verticalAnchor||n.verticalAnchor?t.verticalAnchor||n.verticalAnchor:e.horizontal?"middle":r>=0?"end":"start"}(e,s),f=function getAngle(e,t){t=t||{};var r=e.style&&e.style.labels||{};return void 0===t.angle?r.angle:t.angle}(e,s),d=getText(e,s,t),p=getLabelPlacement(e),h=getPosition(e,s);return{angle:f,data:n,datum:s,horizontal:a,index:t,polar:o,scale:r,labelPlacement:p,text:d,textAnchor:u,verticalAnchor:c,x:h.x,y:h.y,style:i.labels}}}},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n=r(1),i=r.n(n),a=r(0),o=r.n(a),s=r(29),l=r.n(s);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var u=function(e){function Path(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Path),_possibleConstructorReturn(this,(Path.__proto__||Object.getPrototypeOf(Path)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Path,i.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Path,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return!l()(this.props,e)}},{key:"render",value:function render(){var e=this.props,t=e.d,r=e.role,n=e.shapeRendering,a=e.className,o=e.clipPath,s=e.style,l=e.transform,u=e.events;return i.a.createElement("path",_extends({d:t,transform:l,className:a,clipPath:o,style:s,role:r||"presentation",shapeRendering:n||"auto"},u))}}]),Path}();Object.defineProperty(u,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{className:o.a.string,clipPath:o.a.string,d:o.a.string,events:o.a.object,role:o.a.string,shapeRendering:o.a.string,style:o.a.object,transform:o.a.string}})},function(e,t,r){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function i(e,t){var r=O(e)||function p(e){return function _(e){return function b(e){return!!e&&"object"==typeof e}(e)&&h(e)}(e)&&C.call(e,"callee")&&(!D.call(e,"callee")||x.call(e)==T)}(e)?function a(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!C.call(e,o)||i&&("length"==o||l(o,n))||r.push(o);return r}function n(e,t,r){var n=e[t];C.call(e,t)&&f(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function l(e,t){return!!(t=null==t?E:t)&&("number"==typeof e||R.test(e))&&e>-1&&e%1==0&&e<t}function c(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}function f(e,t){return e===t||e!=e&&t!=t}function h(e){return null!=e&&function m(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=E}(e.length)&&!function v(e){var t=y(e)?x.call(e):"";return t==S||t==w}(e)}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){return h(e)?i(e):function o(e){if(!c(e))return P(e);var t=[];for(var r in Object(e))C.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}var E=9007199254740991,T="[object Arguments]",S="[object Function]",w="[object GeneratorFunction]",R=/^(?:0|[1-9]\d*)$/,A=Object.prototype,C=A.hasOwnProperty,x=A.toString,D=A.propertyIsEnumerable,P=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),I=Math.max,M=!D.call({valueOf:1},"valueOf"),O=Array.isArray,k=function(e){return function s(e,t){return t=I(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=I(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=o,r(e,this,s)}}(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&function d(e,t,r){if(!y(r))return!1;var n=typeof t;return!!("number"==n?h(r)&&l(t,r.length):"string"==n&&t in r)&&f(r[t],e)}(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s)}return t})}(function(e,t){if(M||c(t)||h(t))!function u(e,t,r,i){r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=i?i(r[s],e[s],s,r,e):void 0;n(r,s,void 0===l?e[s]:l)}return r}(t,g(t),e);else for(var r in t)C.call(t,r)&&n(e,r,t[r])});e.exports=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function a(e,t,r){r=void 0===r?1:r,e[t]=e[t]||0,e[t]+=r}},function(e,t,r){(function(t){var r;r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=r}).call(t,r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(18)),i=n.default.methodFactory;n.default.methodFactory=function(e,t,r){var n=i(e,t,r);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);n.apply(void 0,e)}},n.default.setLevel(n.default.getLevel()),t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if("string"!=typeof e||""===e)return["localhost"];var t=(e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4],r=void 0;return t&&(r=(t.match(/[^\.]+\.[^\.]+$/)||[])[0]),[t,r]};t.extractHostnameAndDomain=n,t.extractHostname=function(e){return n(e)[0]},t.extractDomain=function(e){return n(e)[1]}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.generateShortID=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function a(e){e=(e=e||"").match(/[^\r\n]+/g)||[];for(var t={},r=0;r<e.length;r++){var n=e[r].split(/\s*:\s*(.+)/);3===n.length&&(t[n[0]]=n[1])}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMediaElement=t.getMuxPlayerId=void 0;var n=r(6),i=function(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||(0,n.generateShortID)()),e.muxId):e};t.getMuxPlayerId=i,t.findMediaElement=function(e){var t=void 0;return e&&void 0!==e.nodeName?e=i(t=e):t=document.querySelector(e),[t,e,t&&t.nodeName?t.nodeName.toLowerCase():""]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function a(){return"1"===(n.default.doNotTrack||n.default.navigator.doNotTrack||n.default.navigator.msDoNotTrack)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(2))},function(e,t,r){(function(t){var n,i=void 0!==t?t:"undefined"!=typeof window?window:{},a=r(21);"undefined"!=typeof document?n=document:(n=i["__GLOBAL_DOCUMENT_CACHE@4"])||(n=i["__GLOBAL_DOCUMENT_CACHE@4"]=a),e.exports=n}).call(t,r(5))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";var n=r(40),i=r(41),a=r(14);e.exports={formats:a,parse:i,stringify:n}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();t.arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},t.merge=function(e,r,i){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var a=e;return Array.isArray(e)&&!Array.isArray(r)&&(a=t.arrayToObject(e,i)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,a){n.call(e,a)?e[a]&&"object"==typeof e[a]?e[a]=t.merge(e[a],r,i):e.push(r):e[a]=r}),e):Object.keys(r).reduce(function(e,a){var o=r[a];return n.call(e,a)?e[a]=t.merge(e[a],o,i):e[a]=o,e},a)},t.assign=function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var a=t.charCodeAt(n);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=t.charAt(n):a<128?r+=i[a]:a<2048?r+=i[192|a>>6]+i[128|63&a]:a<55296||a>=57344?r+=i[224|a>>12]+i[128|a>>6&63]+i[128|63&a]:(n+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(n)),r+=i[240|a>>18]+i[128|a>>12&63]+i[128|a>>6&63]+i[128|63&a])}return r},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],o=Object.keys(a),s=0;s<o.length;++s){var l=o[s],u=a[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:l}),r.push(u))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],i=0;i<t.length;++i)void 0!==t[i]&&n.push(t[i]);r.obj[r.prop]=n}}return t}(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,r){"use strict";var n=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function n(e){var t={},r={};return Object.keys(e).forEach(function(n){var i=!1;if(e.hasOwnProperty(n)&&void 0!==e[n]){var a=n.split("_"),s=a[0],c=l[s];c||(o.default.info("Data key word `"+a[0]+"` not expected in "+n),c=s+"_"),a.splice(1).forEach(function(e){"url"===e&&(i=!0),u[e]?c+=u[e]:(o.default.info("Data key word `"+e+"` not expected in "+n),c+="_"+e+"_")}),i?r[c]=e[n]:t[c]=e[n]}}),(0,s.default)(t,r)};var o=a(r(3)),s=a(r(0)),l=i({a:"env",b:"beacon",d:"ad",e:"event",f:"experiment",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),u=i({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cd:"code",cg:"category",ch:"changed",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",du:"duration",dv:"device",ec:"encoding",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",fi:"first",fm:"family",ft:"format",fq:"frequency",fr:"frame",fs:"fullscreen",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mx:"mux",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",po:"poster",pr:"preload",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"})},function(e,t,r){"use strict";e.exports=r(17).default},function(t,r,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function e(t,r){var n=[],i=!0,a=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done)&&(n.push(s.value),!r||n.length!==r);i=!0);}catch(t){a=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return n}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=a(n(2)),s=n(8),l=a(n(3)),u=a(n(9)),c=a(n(19)),f=a(n(48)),d=a(n(49)),p={},h=function e(t){var r=arguments;"string"==typeof t?e.hasOwnProperty(t)?o.default.setTimeout(function(){r=Array.prototype.splice.call(r,1),e[t].apply(null,r)},0):l.default.warn("`"+t+"` is an unknown task"):"function"==typeof t?o.default.setTimeout(function(){t(e)},0):l.default.warn("`"+t+"` is invalid.")};h.loaded=Date.now(),h.VERSION="2.7.1",h.API_VERSION="2.0",h.PLAYER_TRACKED=!1,h.monitor=function(e,t){return(0,f.default)(h,e,t)},h.destroyMonitor=function(e){var t=(0,s.findMediaElement)(e),r=i(t,1)[0];r&&r.mux&&"function"==typeof r.mux.destroy?r.mux.destroy():l.default.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},h.addHLSJS=function(e,t){var r=(0,s.getMuxPlayerId)(e);p[r]?p[r].addHLSJS(t):l.default.error("A monitor for `"+r+"` has not been initialized.")},h.addDashJS=function(e,t){var r=(0,s.getMuxPlayerId)(e);p[r]?p[r].addDashJS(t):l.default.error("A monitor for `"+r+"` has not been initialized.")},h.removeHLSJS=function(e){var t=(0,s.getMuxPlayerId)(e);p[t]?p[t].removeHLSJS():l.default.error("A monitor for `"+t+"` has not been initialized.")},h.removeDashJS=function(e,t){var r=(0,s.getMuxPlayerId)(e);p[r]?p[r].removeDashJS(t):l.default.error("A monitor for `"+r+"` has not been initialized.")},h.init=function(e,t){var r=(0,s.getMuxPlayerId)(e);p[r]=new c.default(h,r,t)},h.emit=function(e,t,r){var n=(0,s.getMuxPlayerId)(e);p[n]?(p[n].emit(t,r),"destroy"===t&&delete p[n]):l.default.error("A monitor for `"+n+"` has not been initialized.")},(0,u.default)()&&l.default.info("The browser's Do Not Track flag is enabled - Mux beaconing may be disabled."),o.default.addEventListener("unload",function(){h.WINDOW_UNLOADING=!0},!1),h.checkDoNotTrack=u.default,h.log=l.default,h.utils=d.default,r.default=h},function(e,t,r){var n,i;!function(a,o){"use strict";void 0!==(i="function"==typeof(n=function(){function e(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function t(t){return"debug"===t&&(t="log"),typeof console!==l&&(void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):s)}function r(e,t){for(var r=0;r<u.length;r++){var n=u[r];this[n]=r<e?s:this.methodFactory(n,e,t)}this.log=this.debug}function a(e,t,n){return function(){typeof console!==l&&(r.call(this,t,n),this[e].apply(this,arguments))}}function i(e,r,n){return t(e)||a.apply(this,arguments)}function n(e,t,a){function o(){var e;if(typeof window!==l){try{e=window.localStorage[f]}catch(e){}if(typeof e===l)try{var t=window.document.cookie,r=t.indexOf(encodeURIComponent(f)+"=");r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}var s,c=this,f="loglevel";e&&(f+=":"+e),c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=a||i,c.getLevel=function(){return s},c.setLevel=function(t,i){if("string"==typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(s=t,!1!==i&&function n(e){var t=(u[e]||"silent").toUpperCase();if(typeof window!==l){try{return void(window.localStorage[f]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+t+";"}catch(e){}}}(t),r.call(c,t,e),typeof console===l&&t<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){o()||c.setLevel(e,!1)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var d=o();null==d&&(d=null==t?"WARN":t),c.setLevel(d,!1)}var s=function(){},l="undefined",u=["trace","debug","info","warn","error"],c=new n,f={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new n(e,c.getLevel(),c.methodFactory)),t};var d=typeof window!==l?window.log:void 0;return c.noConflict=function(){return typeof window!==l&&window.log===c&&(window.log=d),c},c})?n.call(t,r,t,e):n)&&(e.exports=i)}()},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function e(t,r){var n=[],i=!0,a=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done)&&(n.push(s.value),!r||n.length!==r);i=!0);}catch(t){a=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return n}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=a(r(3)),o=a(r(0)),s=r(6),l=r(4),u=a(r(2)),c=a(r(1)),f=a(r(20)),d=r(23),p=r(24),h=a(r(25)),g=a(r(26)),m=a(r(27)),y=a(r(28)),v=a(r(29)),_=a(r(30)),b=a(r(31)),E=a(r(32)),T=a(r(33)),S=a(r(34)),w=a(r(35)),R=a(r(36)),A=a(r(37)),C=a(r(38)),x=a(r(47)),D=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled"],P=function(e,t,r){var n=this;this.DOM_CONTENT_LOADED_EVENT_END=u.default.performance&&u.default.performance.timing.domContentLoadedEventEnd,this.NAVIGATION_START=u.default.performance&&u.default.performance.timing.navigationStart,this.mux=e,this.id=t,(r=(0,o.default)({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!0,errorTranslator:function(e){return e}},r)).data=r.data||{},r.data.property_key&&(r.data.env_key=r.data.property_key,delete r.data.property_key),i.default.setLevel(r.debug?"debug":"warn"),this.getPlayheadTime=r.getPlayheadTime,this.getStateData=r.getStateData||function(){},this.getAdData=r.getAdData||function(){},this.minimumRebufferDuration=r.minimumRebufferDuration,this.sustainedRebufferThreshold=r.sustainedRebufferThreshold,this.playbackHeartbeatTime=r.playbackHeartbeatTime,this.errorTranslator=r.errorTranslator,this.playbackEventDispatcher=new C.default(e,r.data.env_key,r),this.data={player_instance_id:(0,s.generateShortID)(),mux_sample_rate:r.sampleRate,beacon_domain:r.beaconDomain},this.data.view_sequence_number=1,this.data.player_sequence_number=1,this.oldEmit=this.emit,this.emit=function(e,t){t=(0,o.default)({viewer_time:Date.now()},t),this.oldEmit(e,t)};var a=function(){void 0===this.data.view_start&&(this.data.view_start=Date.now(),this.emit("viewstart"))}.bind(this);this.on("viewinit",function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),(0,o.default)(this.data,t),this._initializeViewData(),this.one("play",a),this.one("adbreakstart",a)});var l=function(e){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",e)}.bind(this);this.on("videochange",function(e,t){l(t)}),this.on("programchange",function(e,t){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),l((0,o.default)(t,{view_program_changed:!0})),a()}),this.on("destroy",this.destroy);var c=this.destroy.bind(this);u.default.addEventListener("unload",c,!1),this.on("destroy",function(){u.default.removeEventListener("unload",c)}),this.on("playerready",function(e,t){(0,o.default)(this.data,t)}),D.forEach(function(e){n.on(e,function(t,r){0!==e.indexOf("ad")&&this._updateStateData(),(0,o.default)(this.data,r),this._sanitizeData()}),n.on("after"+e,function(){("error"!==e||this.viewErrored)&&this.send(e)})}),this.on("viewend",function(e,t){(0,o.default)(n.data,t)}),this.one("playerready",function(e){var t=Date.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),m.default.apply(this),A.default.apply(this),S.default.apply(this),_.default.apply(this),g.default.apply(this),T.default.apply(this),y.default.apply(this),v.default.apply(this),w.default.apply(this),b.default.apply(this),E.default.apply(this),R.default.apply(this),x.default.apply(this),r.hlsjs&&this.addHLSJS(r),r.dashjs&&this.addDashJS(r),this.emit("viewinit",r.data)};(0,o.default)(P.prototype,h.default.prototype),(0,o.default)(P.prototype,_.default.prototype),(0,o.default)(P.prototype,S.default.prototype),(0,o.default)(P.prototype,g.default.prototype),(0,o.default)(P.prototype,y.default.prototype),(0,o.default)(P.prototype,v.default.prototype),(0,o.default)(P.prototype,w.default.prototype),(0,o.default)(P.prototype,b.default.prototype),(0,o.default)(P.prototype,E.default.prototype),P.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),u.default.clearTimeout(this._heartBeatTimeout))},P.prototype.send=function(e){var t=(0,o.default)({},this.data);if(1===t.player_error_code&&(delete t.player_error_code,delete t.player_error_message),t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var r=(0,l.extractHostnameAndDomain)(t.video_source_url),i=n(r,2),a=i[0],s=i[1];t.video_source_domain=s,t.video_source_hostname=a}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat()},P.prototype._updateStateData=function(){(0,o.default)(this.data,this.getStateData()),this.getPlayheadTime&&(this.data.player_playhead_time=this.getPlayheadTime()),this._sanitizeData()},P.prototype._sanitizeData=function(){var e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time"].forEach(function(t){var r=parseInt(e.data[t],10);e.data[t]=isNaN(r)?void 0:r})},P.prototype._resetVideoData=function(e,t){var r=this;Object.keys(this.data).forEach(function(e){0===e.indexOf("video_")&&delete r.data[e]})},P.prototype._resetViewData=function(){var e=this;Object.keys(this.data).forEach(function(t){0===t.indexOf("view_")&&delete e.data[t]}),this.data.view_sequence_number=1},P.prototype._resetErrorData=function(e,t){delete this.data.player_error_code,delete this.data.player_error_message},P.prototype._initializeViewData=function(){var e=this,t=this.data.view_id=(0,s.generateUUID)();this.data.video_id||(this.data.video_id=(0,f.default)(this.data.player_source_url));var r=function(){t===e.data.view_id&&(0,c.default)(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",r):r()},P.prototype._restartHeartBeat=function(){var e=this;u.default.clearTimeout(this._heartBeatTimeout),this.viewErrored||(this._heartBeatTimeout=u.default.setTimeout(function(){e.data.player_is_paused||e.emit("hb")},1e4))},P.prototype.addHLSJS=function(e){return e.hlsjs?this.hlsjs?void this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=e.hlsjs,void(0,d.monitorHlsJs)(this.mux,this.id,e.hlsjs,{},e.Hls||u.default.Hls)):void this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")},P.prototype.removeHLSJS=function(){this.hlsjs&&((0,d.stopMonitoringHlsJs)(this.hlsjs),this.hlsjs=void 0)},P.prototype.addDashJS=function(e){return e.dashjs?this.dashjs?void this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=e.dashjs,void(0,p.monitorDashJS)(this.mux,this.id,e.dashjs)):void this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")},P.prototype.removeDashJS=function(){this.dashjs&&((0,p.stopMonitoringDashJS)(this.dashjs),this.dashjs=void 0)},t.default=P},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function i(e){var t=n.default.createElement("a");t.href=e;var r=t.pathname.replace(/\.[^\/.]+$/,"");return o.default.encode(t.host+r).split("=")[0]};var n=a(r(10)),o=a(r(22))},function(e,t){},function(e,t,r){(function(e,n){var i;!function(n){"object"==typeof e&&e&&e.exports;var a=function(e){this.message=e};(a.prototype=new Error).name="InvalidCharacterError";var o=function(e){throw new a(e)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,u={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&o("The string to be encoded contains characters outside of the Latin1 range.");for(var t,r,n,i,a=e.length%3,l="",u=-1,c=e.length-a;++u<c;)t=e.charCodeAt(u)<<16,r=e.charCodeAt(++u)<<8,n=e.charCodeAt(++u),l+=s.charAt((i=t+r+n)>>18&63)+s.charAt(i>>12&63)+s.charAt(i>>6&63)+s.charAt(63&i);return 2==a?(t=e.charCodeAt(u)<<8,r=e.charCodeAt(++u),l+=s.charAt((i=t+r)>>10)+s.charAt(i>>4&63)+s.charAt(i<<2&63)+"="):1==a&&(i=e.charCodeAt(u),l+=s.charAt(i>>2)+s.charAt(i<<4&63)+"=="),l},decode:function(e){var t=(e=String(e).replace(l,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9\/]/.test(e))&&o("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,i=0,a="",u=-1;++u<t;)n=s.indexOf(e.charAt(u)),r=i%4?64*r+n:n,i++%4&&(a+=String.fromCharCode(255&r>>(-2*i&6)));return a},version:"0.1.0"};void 0!==(i=function(){return u}.call(t,r,t,e))&&(e.exports=i)}()}).call(t,r(11)(e),r(5))},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringHlsJs=t.monitorHlsJs=void 0;var n=a(r(2)),i=a(r(7)),o=r(4),s=function(e){if(!e)return{};var t=n.default.performance.timing.navigationStart;return{bytesLoaded:e.total,requestStart:Math.round(t+e.trequest),responseStart:Math.round(t+e.tfirst),responseEnd:Math.round(t+e.tload)}},l=function(e){if(e&&"function"==typeof e.getAllResponseHeaders)return(0,i.default)(e.getAllResponseHeaders())};t.monitorHlsJs=function(e,t,r){var i=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments[4]),a=e.log;if(n.default.performance&&n.default.performance.timing){var u=function(r,n){return e.emit(t,r,n)},c=function(e,t){var r=t.levels,n=t.audioTracks,i=t.url,a=t.stats,c=t.networkDetails,f={},d={};r.forEach(function(e,t){f[t]={width:e.width,height:e.height,bitrate:e.bitrate,attrs:e.attrs}}),n.forEach(function(e,t){d[t]={name:e.name,language:e.lang,bitrate:e.bitrate}});var p=s(a),h=p.bytesLoaded,g=p.requestStart,m=p.responseStart,y=p.responseEnd;u("requestcompleted",{request_event_type:e,request_bytes_loaded:h,request_start:g,request_response_start:m,request_response_end:y,request_type:"manifest",request_hostname:(0,o.extractHostname)(i),request_response_headers:l(c),request_rendition_lists:{media:f,audio:d,video:{}}})};r.on(i.Events.MANIFEST_LOADED,c);var f=function(e,t){var r=t.details,n=t.level,i=t.networkDetails,a=t.stats,c=s(a),f=c.bytesLoaded,d=c.requestStart,p=c.responseStart,h=c.responseEnd;u("requestcompleted",{request_event_type:e,request_bytes_loaded:f,request_start:d,request_response_start:p,request_response_end:h,request_current_level:n,request_type:"manifest",request_hostname:(0,o.extractHostname)(r.url),request_response_headers:l(i)})};r.on(i.Events.LEVEL_LOADED,f);var d=function(e,t){var r=t.details,n=t.networkDetails,i=t.stats,a=s(i),c=a.bytesLoaded,f=a.requestStart,d=a.responseStart,p=a.responseEnd;u("requestcompleted",{request_event_type:e,request_bytes_loaded:c,request_start:f,request_response_start:d,request_response_end:p,request_type:"manifest",request_hostname:(0,o.extractHostname)(r.url),request_response_headers:l(n)})};r.on(i.Events.AUDIO_TRACK_LOADED,d);var p=function(e,t){var n=t.stats,i=t.networkDetails,a=t.frag,c=s(n),f={request_event_type:e,request_bytes_loaded:c.bytesLoaded,request_start:c.requestStart,request_response_start:c.responseStart,request_response_end:c.responseEnd,request_hostname:i?(0,o.extractHostname)(i.responseURL):void 0,request_response_headers:l(i),request_media_duration:a.duration};"main"===a.type?(f.request_type="media",f.request_current_level=a.level,f.request_video_width=(r.levels[a.level]||{}).width,f.request_video_height=(r.levels[a.level]||{}).height):f.request_type=a.type,u("requestcompleted",f)};r.on(i.Events.FRAG_LOADED,p);var h=function(e,t){var r=t.details,n=t.response,a=t.context,s=t.frag;if(r===i.ErrorDetails.MANIFEST_LOAD_ERROR||r===i.ErrorDetails.MANIFEST_LOAD_TIMEOUT||r===i.ErrorDetails.FRAG_LOAD_ERROR||r===i.ErrorDetails.FRAG_LOAD_TIMEOUT||r===i.ErrorDetails.LEVEL_LOAD_ERROR||r===i.ErrorDetails.LEVEL_LOAD_TIMEOUT){var l=s&&s.url||a&&a.url||"";u("requestfailed",{request_error:r,request_url:l,request_hostname:(0,o.extractHostname)(l),request_type:r===i.ErrorDetails.FRAG_LOAD_ERROR||r===i.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":"manifest",request_error_code:n&&n.code,request_error_text:n&&n.text})}};r.on(i.Events.ERROR,h);var g=function(e,t){var r=t.frag,n=r&&r._url||"";u("requestcanceled",{request_cancel:e,request_url:n,request_type:"media",request_hostname:(0,o.extractHostname)(n)})};r.on(i.Events.FRAG_LOAD_EMERGENCY_ABORTED,g),r._stopMuxMonitor=function(){r.off(i.Events.MANIFEST_LOADED,c),r.off(i.Events.LEVEL_LOADED,f),r.off(i.Events.AUDIO_TRACK_LOADED,d),r.off(i.Events.FRAG_LOADED,p),r.off(i.Events.ERROR,h),r.off(i.Events.FRAG_LOAD_EMERGENCY_ABORTED,g),r.off(i.Events.DESTROYING,r._stopMuxMonitor),delete r._stopMuxMonitor},r.on(i.Events.DESTROYING,r._stopMuxMonitor)}else a.warn("window.performance.timing not supported. Not tracking HLS.js.")},t.stopMonitoringHlsJs=function(e){e&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor()}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringDashJS=t.monitorDashJS=void 0;var n=a(r(2)),i=a(r(7)),o=r(4),s=function(e,t){if(!e||"function"!=typeof e.getRequests)return{};var r=e.getRequests({state:"executed"});if(0===r.length)return{};var n=r[r.length-1],a=(0,o.extractHostname)(n.url),s=n.bytesLoaded,l=new Date(n.requestStartDate).getTime(),u=new Date(n.firstByteDate).getTime(),c=new Date(n.requestEndDate).getTime(),f=isNaN(n.duration)?0:n.duration,d=t.getMetricsFor(n.mediaType).HttpList,p=void 0;return d.length>0&&(p=(0,i.default)(d[d.length-1]._responseHeaders||"")),{requestStart:l,requestResponseStart:u,requestResponseEnd:c,requestBytesLoaded:s,requestResponseHeaders:p,requestMediaDuration:f,requestHostname:a}},l=function(e,t){var r=t.getQualityFor(e),n=t.getCurrentTrackFor(e).bitrateList;return n?{currentLevel:r,renditionWidth:n[r].width||null,renditionHeight:n[r].height||null,renditionBitrate:n[r].bandwidth}:{}};t.monitorDashJS=function(e,t,r){var i=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],e.log);if(r&&r.on){var a=function(r,n){return e.emit(t,r,n)},u=function(e){var t=e.type,r=(e.data||{}).url;a("requestcompleted",{request_event_type:t,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:(0,o.extractHostname)(r)})};r.on("manifestLoaded",u);var c={},f=function(e){var t=e.type,n=e.fragmentModel,i=(e.chunk||{}).mediaInfo||{},o=i.type,l=i.bitrateList,u={};(l=l||[]).forEach(function(e,t){u[t]={},u[t].width=e.width,u[t].height=e.height,u[t].bitrate=e.bandwidth,u[t].attrs={}}),"video"===o?c.video=u:"audio"===o?c.audio=u:c.media=u;var f=s(n,r),d=f.requestStart,p=f.requestResponseStart,h=f.requestResponseEnd,g=f.requestResponseHeaders,m=f.requestMediaDuration,y=f.requestHostname;a("requestcompleted",{request_event_type:t,request_start:d,request_response_start:p,request_response_end:h,request_bytes_loaded:-1,request_type:o+"_init",request_response_headers:g,request_hostname:y,request_media_duration:m,request_rendition_lists:c})};r.on("initFragmentLoaded",f);var d=function(e){var t=e.type,n=e.fragmentModel,i=e.chunk||{},o=i.mediaInfo,u=i.start,c=(o||{}).type,f=s(n,r),d=f.requestStart,p=f.requestResponseStart,h=f.requestResponseEnd,g=f.requestBytesLoaded,m=f.requestResponseHeaders,y=f.requestMediaDuration,v=f.requestHostname,_=l(c,r),b=_.currentLevel,E=_.renditionWidth,T=_.renditionHeight,S=_.renditionBitrate;a("requestcompleted",{request_event_type:t,request_start:d,request_response_start:p,request_response_end:h,request_bytes_loaded:g,request_type:c,request_response_headers:m,request_hostname:v,request_media_start_time:u,request_media_duration:y,request_current_level:b,request_labeled_bitrate:S,request_video_width:E,request_video_height:T})};r.on("mediaFragmentLoaded",d);var p=function(e){var t=e.error,r=e.event,i=(r=r||{}).request||{},s=n.default.event&&n.default.event.currentTarget||{};a("requestfailed",{request_error:t+"_"+r.id+"_"+i.type,request_url:r.url,request_hostname:(0,o.extractHostname)(r.url),request_type:i.mediaType,request_error_code:s.status,request_error_type:s.statusText})};r.on("error",p),r._stopMuxMonitor=function(){r.off("manifestLoaded",u),r.off("initFragmentLoaded",f),r.off("mediaFragmentLoaded",d),r.off("error",p),delete r._stopMuxMonitor}}else i.warn("Invalid dash.js player reference. Monitoring blocked.")},t.stopMonitoringDashJS=function(e){e&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){},i=0;n.prototype.on=function(e,t,r){return t._eventEmitterGuid=t._eventEmitterGuid||++i,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],r&&(t=t.bind(r)),this._listeners[e].push(t),t},n.prototype.off=function(e,t){var r=this._listeners&&this._listeners[e];r&&r.forEach(function(e,n){e._eventEmitterGuid===t._eventEmitterGuid&&r.splice(n,1)})},n.prototype.one=function(e,t,r){var n=this;t._eventEmitterGuid=t._eventEmitterGuid||++i;var a=function i(){n.off(e,i),t.apply(r||this,arguments)};a._eventEmitterGuid=t._eventEmitterGuid,this.on(e,a)},n.prototype.emit=function(e,t){var r=this;if(this._listeners){t=t||{};var n=this._listeners["before*"]||[],i=this._listeners[e]||[],a=this._listeners["after"+e]||[],o=function(t,n){(t=t.slice()).forEach(function(t){t.call(r,{type:e},n)})};o(n,t),o(i,t),o(a,t)}},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(2)),i=function(){this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,this.on("playing",function(){this._playheadShouldBeProgressing=!0}),this.on("play",this._startPlaybackHeartbeatInterval),this.on("adbreakstart",this._startPlaybackHeartbeatInterval),this.on("adplay",this._startPlaybackHeartbeatInterval),this.on("seeking",this._startPlaybackHeartbeatInterval),this.on("devicewake",this._startPlaybackHeartbeatInterval),this.on("viewstart",this._startPlaybackHeartbeatInterval),this.on("pause",this._stopPlaybackHeartbeatInterval),this.on("ended",this._stopPlaybackHeartbeatInterval),this.on("viewend",this._stopPlaybackHeartbeatInterval),this.on("error",this._stopPlaybackHeartbeatInterval),this.on("adpause",this._stopPlaybackHeartbeatInterval),this.on("adbreakend",this._stopPlaybackHeartbeatInterval),this.on("seeked",function(){this.data.player_is_paused&&this._stopPlaybackHeartbeatInterval()}),this.on("timeupdate",function(){null!==this._playbackHeartbeatInterval&&this.emit("playbackheartbeat")}),this.on("devicesleep",function(e,t){null!==this._playbackHeartbeatInterval&&(n.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend",{viewer_time:t.viewer_time}),this._playbackHeartbeatInterval=null)})};i.prototype._startPlaybackHeartbeatInterval=function(){var e=this;null===this._playbackHeartbeatInterval&&(this.emit("playbackheartbeat"),this._playbackHeartbeatInterval=n.default.setInterval(function(){e.emit("playbackheartbeat")},this.playbackHeartbeatTime))},i.prototype._stopPlaybackHeartbeatInterval=function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(n.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function a(){var e=this;this.on("viewinit",function(){e.viewErrored=!1}),this.on("error",function(){try{var t=e.errorTranslator({player_error_code:e.data.player_error_code,player_error_message:e.data.player_error_message});t?(e.data.player_error_code=t.player_error_code,e.data.player_error_message=t.player_error_message,e.viewErrored=!0):(delete e.data.player_error_code,delete e.data.player_error_message)}catch(t){e.mux.log.warn("Exception in error translator callback.",t),e.viewErrored=!0}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),i=function(){this._watchTimeTrackerLastCheckedTime=null,this.on("playbackheartbeat",this._updateWatchTime),this.on("playbackheartbeatend",this._clearWatchTimeState)};i.prototype._updateWatchTime=function(e,t){var r=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=r),(0,n.default)(this.data,"view_watch_time",r-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=r},i.prototype._clearWatchTimeState=function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),i=function(){this._playbackTimeTrackerLastPlayheadPosition=-1,this.on("playbackheartbeat",this._updatePlaybackTime),this.on("playbackheartbeatend",this._clearPlaybackTimeState),this.on("seeking",this._clearPlaybackTimeState)};i.prototype._updatePlaybackTime=function(){var e=this.data.player_playhead_time;if(this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition){var t=e-this._playbackTimeTrackerLastPlayheadPosition;t<=1e3&&(0,n.default)(this.data,"view_content_playback_time",t)}this._playbackTimeTrackerLastPlayheadPosition=e},i.prototype._clearPlaybackTimeState=function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.on("playbackheartbeat",this._updatePlayheadTime),this.on("playbackheartbeatend",this._updatePlayheadTime),this.on("timeupdate",this._updatePlayheadTime),this.on("destroy",function(){this.off("timeupdate",this._updatePlayheadTime)})};n.prototype._updatePlayheadTime=function(e,t){if(t.player_playhead_time)this.data.player_playhead_time=t.player_playhead_time;else if(this.getPlayheadTime){var r=this.getPlayheadTime();void 0!==r&&(this.data.player_playhead_time=r)}},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),i=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,this.on("playbackheartbeat",this._checkIfRebuffering),this.on("playbackheartbeatend",this._cleanupRebufferTracker),this.on("seeking",function(){this._cleanupRebufferTracker(null,{viewer_time:Date.now()})})};i.prototype._checkIfRebuffering=function(e,t){if(this.isSeeking||this.isAdBreak||!this._playheadShouldBeProgressing)this._cleanupRebufferTracker(e,t);else{if(null===this._lastCheckedTime)return this._prepareRebufferTrackerState(t.viewer_time),void this._updateRebufferMetrics();if(this._lastPlayheadTime===this.data.player_playhead_time){var r=t.viewer_time-this._lastPlayheadTimeUpdatedTime;r>=this.sustainedRebufferThreshold&&(this._rebuffering?this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime):(this._rebuffering=!0,(0,n.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(r),this.emit("rebufferstart"))),this._lastCheckedTime=t.viewer_time}else this._cleanupRebufferTracker(e,t,!0)}},i.prototype._clearRebufferTrackerState=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null},i.prototype._prepareRebufferTrackerState=function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e},i.prototype._cleanupRebufferTracker=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime),this.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return void this._updateRebufferMetrics();var i=this.data.player_playhead_time-this._lastPlayheadTime,a=t.viewer_time-this._lastPlayheadTimeUpdatedTime;i>0&&a-i>this.minimumRebufferDuration?((0,n.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(a-i),this.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+a-i})):this._updateRebufferMetrics()}r?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()},i.prototype._updateRebufferMetrics=function(e){e>0&&(0,n.default)(this.data,"view_rebuffer_duration",e),this.data.view_watch_time>=0&&this.data.view_rebuffer_count>0&&(this.data.view_rebuffer_frequency=this.data.view_rebuffer_count/this.data.view_watch_time,this.data.view_rebuffer_percentage=this.data.view_rebuffer_duration/this.data.view_watch_time)},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.on("viewinit",function(){var e=this.data,t=e.view_id;if(!e.view_program_changed){var r=function(e,r){var n=r.viewer_time;"playing"===e.type&&void 0===this.data.view_time_to_first_frame?this.calculateTimeToFirstFrame(n||Date.now(),t):"adplaying"!==e.type||void 0!==this.data.view_time_to_first_frame&&!this.inPrerollPosition()||this.calculateTimeToFirstFrame(n||Date.now(),t)};this.one("playing",r),this.one("adplaying",r),this.one("viewend",function(){this.off("playing",r),this.off("adplaying",r)})}})};n.prototype.calculateTimeToFirstFrame=function(e,t){t===this.data.view_id&&(this._updateWatchTime(null,{viewer_time:e}),this.data.view_time_to_first_frame=this.data.view_watch_time,(this.data.player_autoplay_on||this.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.data.view_aggregate_startup_time=this.data.view_start+this.data.view_watch_time-this.NAVIGATION_START))},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function a(){var e=this;this.on("viewinit",function(){this._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(t){e.on(t,function(){if(this._lastPlayheadPosition>=0&&this.data.player_playhead_time>=0&&this._lastPlayerWidth>=0&&this._lastSourceWidth>0&&this._lastPlayerHeight>=0&&this._lastSourceHeight>0){var e=this.data.player_playhead_time-this._lastPlayheadPosition;if(e<0)return void(this._lastPlayheadPosition=-1);var t=Math.min(this._lastPlayerWidth/this._lastSourceWidth,this._lastPlayerHeight/this._lastSourceHeight),r=Math.max(0,t-1),i=Math.max(0,1-t);this.data.view_max_upscale_percentage=Math.max(this.data.view_max_upscale_percentage||0,r),this.data.view_max_downscale_percentage=Math.max(this.data.view_max_downscale_percentage||0,i),(0,n.default)(this.data,"view_total_content_playback_time",e),(0,n.default)(this.data,"view_total_upscaling",r*e),(0,n.default)(this.data,"view_total_downscaling",i*e)}this._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(t){e.on(t,function(){this._lastPlayheadPosition=this.data.player_playhead_time,this._lastPlayerWidth=this.data.player_width,this._lastPlayerHeight=this.data.player_height,this._lastSourceWidth=this.data.video_source_width,this._lastSourceHeight=this.data.video_source_height})})};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1))},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function i(){this.isSeeking=!1,this.on("seeking",function(e,t){(0,o.default)(this.data,t),this._lastSeekingTime=Date.now(),!1===this.isSeeking&&(this.isSeeking=!0,this.send("seeking"))}),this.on("seeked",function(){this.isSeeking=!1;var e=this._lastSeekingTime||Date.now(),t=Date.now()-e;(0,n.default)(this.data,"view_seek_count",1),(0,n.default)(this.data,"view_seek_duration",t);var r=this.data.view_max_seek_time||0;this.data.view_max_seek_time=Math.max(r,t)}),this.on("viewend",function(){this.isSeeking=!1})};var n=a(r(1)),o=a(r(0))},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function e(t,r){var n=[],i=!0,a=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done)&&(n.push(s.value),!r||n.length!==r);i=!0);}catch(t){a=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return n}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=a(r(1)),o=r(4),s=a(r(0)),l=function(e,t){e.push(t),e.sort(function(e,t){return e.viewer_time-t.viewer_time})},u=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],c=function(){var e=this;this.on("viewinit",function(){this.isAdBreak=!1,this._currentAdRequestNumber=0,this._currentAdResponseNumber=0,this._adRequests=[],this._adResponses=[],this._adHasPlayed=!1,this._wouldBeNewAdPlay=!0,this._prerollPlayTime=void 0}),u.forEach(function(t){return e.on(t,e._updateAdData)});var t=function(){e.isAdBreak=!1};this.on("adbreakstart",function(){this.isAdBreak=!0}),this.on("play",t),this.on("playing",t),this.on("viewend",t),this.on("adrequest",function(e,t){t=(0,s.default)({ad_request_id:"generatedAdRequestId"+this._currentAdRequestNumber++},t),l(this._adRequests,t),(0,i.default)(this.data,"view_ad_request_count"),this.inPrerollPosition()&&(this.data.view_preroll_requested=!0,this._adHasPlayed||(0,i.default)(this.data,"view_preroll_request_count"))}),this.on("adresponse",function(e,t){t=(0,s.default)({ad_request_id:"generatedAdRequestId"+this._currentAdResponseNumber++},t),l(this._adResponses,t);var r=this.findAdRequest(t.ad_request_id);r&&(0,i.default)(this.data,"view_ad_request_time",Math.max(0,t.viewer_time-r.viewer_time))}),this.on("adplay",function(e,t){this._adHasPlayed=!0,this._wouldBeNewAdPlay&&(this._wouldBeNewAdPlay=!1,(0,i.default)(this.data,"view_ad_played_count")),this.inPrerollPosition()&&!this.data.view_preroll_played&&(this.data.view_preroll_played=!0,this._adRequests.length>0&&(this.data.view_preroll_request_time=Math.max(0,t.viewer_time-this._adRequests[0].viewer_time)),this.data.view_start&&(this.data.view_startup_preroll_request_time=Math.max(0,t.viewer_time-this.data.view_start)),this._prerollPlayTime=t.viewer_time)}),this.on("adplaying",function(e,t){this.inPrerollPosition()&&void 0===this.data.view_preroll_load_time&&void 0!==this._prerollPlayTime&&(this.data.view_preroll_load_time=t.viewer_time-this._prerollPlayTime,this.data.view_startup_preroll_load_time=t.viewer_time-this._prerollPlayTime)}),this.on("adended",function(){this._wouldBeNewAdPlay=!0}),this.on("aderror",function(){this._wouldBeNewAdPlay=!0})};c.prototype.inPrerollPosition=function(){return void 0===this.data.view_content_playback_time||this.data.view_content_playback_time<=1e3},c.prototype.findAdRequest=function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]},c.prototype._updateAdData=function(e,t){if(this.inPrerollPosition()){if(!this.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var r=(0,o.extractHostnameAndDomain)(t.ad_tag_url),i=n(r,2),a=i[0],s=i[1];this.data.view_preroll_ad_tag_domain=s,this.data.view_preroll_ad_tag_hostname=a}if(!this.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var l=(0,o.extractHostnameAndDomain)(t.ad_asset_url),u=n(l,2),c=u[0],f=u[1];this.data.view_preroll_ad_asset_domain=f,this.data.view_preroll_ad_asset_hostname=c}}},t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function a(){var e=this,t=void 0,r=void 0,i=function(){t&&((0,n.default)(e.data,"view_waiting_rebuffer_duration",Date.now()-t),t=!1,window.clearInterval(r))},a=!1,o=function(){a=!1,i()};this.on("waiting",function(){a&&((0,n.default)(e.data,"view_waiting_rebuffer_count",1),t=Date.now(),r=window.setInterval(function(){if(t){var r=Date.now();(0,n.default)(e.data,"view_waiting_rebuffer_duration",r-t),t=r}},250))}),this.on("playing",function(){i(),a=!0}),this.on("pause",o),this.on("seeking",o)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function a(){var e=this;this.one("playbackheartbeat",i),this.on("playbackheartbeatend",function(){e.off("before*",o),e.one("playbackheartbeat",i)})};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),i=function(){this.lastWallClockTime=Date.now(),this.on("before*",o)},o=function(e){var t=Date.now(),r=this.lastWallClockTime;this.lastWallClockTime=t,t-r>3e4&&(this.emit("devicesleep",{viewer_time:r}),(0,n.default)(this.data,{viewer_time:r}),this.send("devicesleep"),this.emit("devicewake",{viewer_time:t}),(0,n.default)(this.data,{viewer_time:t}),this.send("devicewake"))}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(39),o=a(r(3)),s=a(r(43)),l=a(r(9)),u=a(r(15)),c=a(r(44)),f=a(r(46)),d=a(r(0)),p=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id"],h=["viewstart","error","ended","viewend"],g=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.mux=e,this.envKey=t,this.eventQueue=new c.default((0,s.default)(t,r.beaconDomain)),this.previousBeaconData=null,this.lastEventTime=null,this.sampleRate=r.sampleRate,this.disableCookies=r.disableCookies,this.respectDoNotTrack=r.respectDoNotTrack,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed_version:this.mux.VERSION,page_url:window.location.href,viewer_application_name:f.default.name,viewer_application_version:f.default.version,viewer_application_engine:f.default.layout,viewer_device_name:f.default.product,viewer_device_category:"",viewer_device_manufacturer:f.default.manufacturer,viewer_os_family:f.default.os&&f.default.os.family,viewer_os_architecture:f.default.os&&f.default.os.architecture,viewer_os_version:f.default.os&&f.default.os.version},this.viewerData=this.disableCookies?{}:(0,i.getAndUpdateViewerData)()};g.prototype.send=function(e,t){if(e){if(this.respectDoNotTrack&&(0,l.default)())return o.default.info("Not sending `"+e+"` because Do Not Track is enabled in your browser");if(!t||"object"!==(void 0===t?"undefined":n(t)))return o.default.error("A data object was expected in send() but was not provided");var r=this.disableCookies?{}:(0,i.getAndUpdateSessionData)(),a={};(0,d.default)(a,this.pageLevelData),(0,d.default)(a,t),(0,d.default)(a,r),(0,d.default)(a,this.viewerData),a.event=e,a.env_key=this.envKey,a.user_id&&(a.viewer_user_id=a.user_id,delete a.user_id);var s=a.mux_sample_number>=this.sampleRate,c=this._deduplicateBeaconData(e,a),f=(0,u.default)(c);if(this.lastEventTime=Date.now(),s)return o.default.info("Not sending event due to sample rate restriction",e,a,f);if(!this.envKey)return o.default.info("Not sending event due to missing environment key",e,a,f);if(!this.rateLimited)if(o.default.info("Sending event",e,a,f),this.rateLimited=!this.eventQueue.queueEvent(e,f),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if(h.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return a.event="eventrateexceeded",f=(0,u.default)(a),this.eventQueue.queueEvent(a.event,f),o.default.error("Beaconing disabled due to rate limit.")}},g.prototype.destroy=function(){this.eventQueue.destroy(!1)};var m=function(e,t,r,i){return!(!e||0!==t.indexOf("request_")||"request_response_headers"!==t&&"object"===(void 0===r?"undefined":n(r))&&"object"===(void 0===i?"undefined":n(i))&&Object.keys(r||{}).length===Object.keys(i||{}).length)};g.prototype._deduplicateBeaconData=function(e,t){var r=this,n={},i=t.view_id;if(!i||"viewstart"===e||"viewend"===e||!this.previousBeaconData||Date.now()-this.lastEventTime>=6e5)n=(0,d.default)({},t),i&&(this.previousBeaconData=n),i&&"viewend"===e&&(this.previousBeaconData=null);else{var a=0===e.indexOf("request");Object.keys(t).forEach(function(e){var i=t[e];(i!==r.previousBeaconData[e]||p.indexOf(e)>-1||m(a,e,i,r.previousBeaconData[e]))&&(n[e]=i,r.previousBeaconData[e]=i)})}return n},t.default=g},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAndUpdateSessionData=t.getAndUpdateViewerData=void 0;var n=a(r(12)),i=a(r(42)),o=r(6),s=function(){var e=void 0;try{e=n.default.parse(i.default.get("muxData")||"")}catch(t){e={}}return e},l=function(e){i.default.set("muxData",n.default.stringify(e),{expires:7300})};t.getAndUpdateViewerData=function(){var e=s();return e.mux_viewer_id=e.mux_viewer_id||(0,o.generateUUID)(),e.msn=e.msn||Math.random(),l(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}},t.getAndUpdateSessionData=function(){var e=s(),t=Date.now();return e.session_start&&(e.sst=e.session_start,delete e.session_start),e.session_id&&(e.sid=e.session_id,delete e.session_id),e.session_expires&&(e.sex=e.session_expires,delete e.session_expires),(!e.sex||e.sex<t)&&(e.sid=(0,o.generateUUID)(),e.sst=t),e.sex=t+15e5,l(e),{session_id:e.sid,session_start:e.sst,session_expires:e.sex}}},function(t,r,n){"use strict";var i=n(13),a=n(14),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Date.prototype.toISOString,l={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return s.call(e)},skipNulls:!1,strictNullHandling:!1},u=function e(t,r,n,a,o,s,u,c,f,d,p,h){var g=t;if("function"==typeof u)g=u(r,g);else if(g instanceof Date)g=d(g);else if(null===g){if(a)return s&&!h?s(r,l.encoder):r;g=""}if("string"==typeof g||"number"==typeof g||"boolean"==typeof g||i.isBuffer(g))return s?[p(h?r:s(r,l.encoder))+"="+p(s(g,l.encoder))]:[p(r)+"="+p(String(g))];var m,y=[];if(void 0===g)return y;if(Array.isArray(u))m=u;else{var v=Object.keys(g);m=c?v.sort(c):v}for(var _=0;_<m.length;++_){var b=m[_];o&&null===g[b]||(y=Array.isArray(g)?y.concat(e(g[b],n(r,b),n,a,o,s,u,c,f,d,p,h)):y.concat(e(g[b],r+(f?"."+b:"["+b+"]"),n,a,o,s,u,c,f,d,p,h)))}return y};t.exports=function(e,t){var r=e,n=t?i.assign({},t):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var s=void 0===n.delimiter?l.delimiter:n.delimiter,c="boolean"==typeof n.strictNullHandling?n.strictNullHandling:l.strictNullHandling,f="boolean"==typeof n.skipNulls?n.skipNulls:l.skipNulls,d="boolean"==typeof n.encode?n.encode:l.encode,p="function"==typeof n.encoder?n.encoder:l.encoder,h="function"==typeof n.sort?n.sort:null,g=void 0!==n.allowDots&&n.allowDots,m="function"==typeof n.serializeDate?n.serializeDate:l.serializeDate,y="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:l.encodeValuesOnly;if(void 0===n.format)n.format=a.default;else if(!Object.prototype.hasOwnProperty.call(a.formatters,n.format))throw new TypeError("Unknown format option provided.");var v,_,b=a.formatters[n.format];"function"==typeof n.filter?r=(_=n.filter)("",r):Array.isArray(n.filter)&&(v=_=n.filter);var E,T=[];if("object"!=typeof r||null===r)return"";E=n.arrayFormat in o?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var S=o[E];v||(v=Object.keys(r)),h&&v.sort(h);for(var w=0;w<v.length;++w){var R=v[w];f&&null===r[R]||(T=T.concat(u(r[R],R,S,c,f,d?p:null,_,h,g,m,b,y)))}var A=T.join(s),C=!0===n.addQueryPrefix?"?":"";return A.length>0?C+A:""}},function(e,t,r){"use strict";var n=r(13),i=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=n.split(t.delimiter,o),l=0;l<s.length;++l){var u,c,f=s[l],d=f.indexOf("]="),p=-1===d?f.indexOf("="):d+1;-1===p?(u=t.decoder(f,a.decoder),c=t.strictNullHandling?null:""):(u=t.decoder(f.slice(0,p),a.decoder),c=t.decoder(f.slice(p+1),a.decoder)),i.call(r,u)?r[u]=[].concat(r[u]).concat(c):r[u]=c}return r},s=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(n),s=o?n.slice(0,o.index):n,l=[];if(s){if(!r.plainObjects&&i.call(Object.prototype,s)&&!r.allowPrototypes)return;l.push(s)}for(var u=0;null!==(o=a.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&i.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(o[1])}return o&&l.push("["+n.slice(o.index)+"]"),function(e,t,r){for(var n=t,i=e.length-1;i>=0;--i){var a,o=e[i];if("[]"===o)a=(a=[]).concat(n);else{a=r.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,l=parseInt(s,10);!isNaN(l)&&o!==s&&String(l)===s&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[])[l]=n:a[s]=n}n=a}return n}(l,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:a.delimiter,r.depth="number"==typeof r.depth?r.depth:a.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:a.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:a.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:a.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:a.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:a.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:a.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:a.strictNullHandling,""===e||null==e)return r.plainObjects?Object.create(null):{};for(var i="string"==typeof e?o(e,r):e,l=r.plainObjects?Object.create(null):{},u=Object.keys(i),c=0;c<u.length;++c){var f=u[c],d=s(f,i[f],r);l=n.merge(l,d,r)}return n.compact(l)}},function(e,t,r){"use strict";var n,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o){var s=!1;if(void 0!==(i="function"==typeof(n=o)?n.call(t,r,t,e):n)&&(e.exports=i),s=!0,"object"===a(t)&&(e.exports=o(),s=!0),!s){var l=window.Cookies,u=window.Cookies=o();u.noConflict=function(){return window.Cookies=l,u}}}(function(){var t=function(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t};return function e(r){function a(e,n,i){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=t({path:"/"},a.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}try{o=JSON.stringify(n),/^[\{\[]/.test(o)&&(n=o)}catch(e){}return n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",n,i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}e||(o={});for(var l=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,c=0;c<l.length;c++){var f=l[c].split("="),d=f.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{var p=f[0].replace(u,decodeURIComponent);if(d=r.read?r.read(d,p):r(d,p)||d.replace(u,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(e){}if(e===p){o=d;break}e||(o[p]=d)}catch(e){}}return o}}return a.set=a,a.get=function(e){return a.call(a,e)},a.getJSON=function(){return a.apply({json:!0},[].slice.call(arguments))},a.defaults={},a.remove=function(e,r){a(e,"",t(r,{expires:-1}))},a.withConverter=e,a}(function(){})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function a(e,t){return t=t||"litix.io",(e=e||"").match(/^[a-z0-9]+$/)?"https://"+e+"."+t:"https://img.litix.io/a.gif"}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(2)),i=a(r(3)),o=a(r(45)),s=a(r(0)),l=a(r(15)),u=!!n.default.XMLHttpRequest&&"withCredentials"in new n.default.XMLHttpRequest,c={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:5e3},f=function(e,t){this._beaconUrl=e||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=(0,s.default)({},c,t)};f.prototype.queueEvent=function(e,t){var r=(0,s.default)({},t);return u?(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(r),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):(o.default.send(this._beaconUrl,r),!0)},f.prototype.flushEvents=function(){u&&(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},f.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),n.default.clearTimeout(this._sendTimeout)},f.prototype._clearBeaconQueue=function(){var e=n.default.navigator,t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,r=this._eventQueue.slice(t);if(t>0&&(0,s.default)(r[r.length-1],(0,l.default)({mux_view_message:"event queue truncated"})),e.sendBeacon)e.sendBeacon(this._beaconUrl,JSON.stringify({events:r}));else if(n.default.XMLHttpRequest){var i=new n.default.XMLHttpRequest;i.open("POST",this._beaconUrl),i.setRequestHeader("Content-Type","application/json"),i.send(JSON.stringify({events:r}))}else o.default.send(this._beaconUrl,r[r.length-1])},f.prototype._sendBeaconQueue=function(){var e=this;if(n.default.XMLHttpRequest&&!this._postInFlight){var t=new n.default.XMLHttpRequest,r=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0,t.onreadystatechange=function(){4===t.readyState&&(200!==t.status?(e._eventQueue=r.concat(e._eventQueue),e._failureCount+=1,i.default.info("Error sending beacon: "+t.status),i.default.info(t.responseText)):e._failureCount=0,e._postInFlight=!1)},t.open("POST",this._beaconUrl),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify({events:r}))}},f.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},f.prototype._startBeaconSending=function(){var e=this;n.default.clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=n.default.setTimeout(function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()},this._getNextBeaconTime()))},t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(12)),o=a(n(2)),s={send:function(e,t){function r(){n.src=s+(a?"&rc="+a:"")}var n=new Image,a=0,s=e+"?"+i.default.stringify(t);return n.addEventListener("error",function(){a>3||o.default.setTimeout(function(){a++,r()},5e3*a)}),r(),n}};t.default=s},function(e,t,r){(function(e,i){var a;(function(){"use strict";function n(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function u(e){return e=h(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:n(e)}function l(e,t){for(var r in e)A.call(e,r)&&t(e[r],r,e)}function d(e){return null==e?n(e):C.call(e).slice(8,-1)}function c(e,t){var r=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(r)||"object"==r&&!e[t])}function f(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function p(e,t){var r=null;return function s(e,t){var r=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=T)for(;++r<n;)t(e[r],r,e);else l(e,t)}(e,function(n,i){r=t(r,n,i,e)}),r}function h(e){return String(e).replace(/^ +| +$/g,"")}var g={function:!0,object:!0},m=g[typeof window]&&window||this,y=m,v=g[typeof t]&&t,b=g[typeof e]&&e&&!e.nodeType&&e,E=v&&b&&"object"==typeof i&&i;!E||E.global!==E&&E.window!==E&&E.self!==E||(m=E);var T=Math.pow(2,53)-1,S=/\bOpera/,w=this,R=Object.prototype,A=R.hasOwnProperty,C=R.toString,x=function _(e){function t(t){return p(t,function(t,r){var n=r.pattern||f(r);return!t&&(t=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(r.label&&!RegExp(n,"i").test(r.label)?r.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),r=r.label||r,t=u(t[0].replace(RegExp(n,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),t})}var n=m,i=e&&"object"==typeof e&&"String"!=d(e);i&&(n=e,e=null);var a=n.navigator||{},s=a.userAgent||"";e||(e=s);var g,v,b=i||w==y,E=i?!!a.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(C.toString()),T=i?"Object":"ScriptBridgingProxyObject",R=i?"Object":"Environment",A=i&&n.java?"JavaPackage":d(n.java),x=i?"Object":"RuntimeObject",D=/\bJava/.test(A)&&n.java,P=D&&d(n.environment)==R,I=D?"a":"",M=D?"b":"",O=n.document||{},k=n.operamini||n.opera,L=S.test(L=i&&k?k["[[Class]]"]:d(k))?L:k=null,N=e,F=[],B=null,U=e==s,j=U&&k&&"function"==typeof k.version&&k.version(),q=p([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(t,r){return t||RegExp("\\b"+(r.pattern||f(r))+"\\b","i").exec(e)&&(r.label||r)}),G=p(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(t,r){return t||RegExp("\\b"+(r.pattern||f(r))+"\\b","i").exec(e)&&(r.label||r)}),H=t([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),V=p({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},function(t,r,n){return t||(r[H]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(H)]||RegExp("\\b"+f(n)+"(?:\\b|\\w*\\d)","i").exec(e))&&n}),z=p(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(t,r){var n=r.pattern||f(r);return!t&&(t=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=function o(e,t,r){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&r&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&r&&(e=e.replace(RegExp(t,"i"),r)),u(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(t,n,r.label||r)),t});if(q&&(q=[q]),V&&!H&&(H=t([V])),(g=/\bGoogle TV\b/.exec(H))&&(H=g[0]),/\bSimulator\b/i.test(e)&&(H=(H?H+" ":"")+"Simulator"),"Opera Mini"==G&&/\bOPiOS\b/.test(e)&&F.push("running in Turbo/Uncompressed mode"),"IE"==G&&/\blike iPhone OS\b/.test(e)?(V=(g=_(e.replace(/like iPhone OS/,""))).manufacturer,H=g.product):/^iP/.test(H)?(G||(G="Safari"),z="iOS"+((g=/ OS ([\d_]+)/i.exec(e))?" "+g[1].replace(/_/g,"."):"")):"Konqueror"!=G||/buntu/i.test(z)?V&&"Google"!=V&&(/Chrome/.test(G)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(H))||/\bAndroid\b/.test(z)&&/^Chrome/.test(G)&&/\bVersion\//i.test(e)?(G="Android Browser",z=/\bAndroid\b/.test(z)?z:"Android"):"Silk"==G?(/\bMobi/i.test(e)||(z="Android",F.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&F.unshift("accelerated")):"PaleMoon"==G&&(g=/\bFirefox\/([\d.]+)\b/.exec(e))?F.push("identifying as Firefox "+g[1]):"Firefox"==G&&(g=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(z||(z="Firefox OS"),H||(H=g[1])):!G||(g=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(G))?(G&&!H&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(g+"/")+8))&&(G=null),(g=H||V||z)&&(H||V||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(z))&&(G=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(z)?z:g)+" Browser")):"Electron"==G&&(g=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&F.push("Chromium "+g):z="Kubuntu",j||(j=p(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",f(G),"(?:Firefox|Minefield|NetFront)"],function(t,r){return t||(RegExp(r+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})),(g=("iCab"==q&&parseFloat(j)>3?"WebKit":/\bOpera\b/.test(G)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(q)&&"WebKit"||!q&&/\bMSIE\b/i.test(e)&&("Mac OS"==z?"Tasman":"Trident")||"WebKit"==q&&/\bPlayStation\b(?! Vita\b)/i.test(G)&&"NetFront")&&(q=[g]),"IE"==G&&(g=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(G+=" Mobile",z="Windows Phone "+(/\+$/.test(g)?g:g+".x"),F.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(G="IE Mobile",z="Windows Phone 8.x",F.unshift("desktop mode"),j||(j=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=G&&"Trident"==q&&(g=/\brv:([\d.]+)/.exec(e))&&(G&&F.push("identifying as "+G+(j?" "+j:"")),G="IE",j=g[1]),U){if(c(n,"global"))if(D&&(N=(g=D.lang.System).getProperty("os.arch"),z=z||g.getProperty("os.name")+" "+g.getProperty("os.version")),b&&c(n,"system")&&(g=[n.system])[0]){z||(z=g[0].os||null);try{g[1]=n.require("ringo/engine").version,j=g[1].join("."),G="RingoJS"}catch(e){g[0].global.system==n.system&&(G="Narwhal")}}else"object"==typeof n.process&&!n.process.browser&&(g=n.process)?"object"==typeof g.versions?"string"==typeof g.versions.electron?(F.push("Node "+g.versions.node),G="Electron",j=g.versions.electron):"string"==typeof g.versions.nw&&(F.push("Chromium "+j,"Node "+g.versions.node),G="NW.js",j=g.versions.nw):(G="Node.js",N=g.arch,z=g.platform,j=(j=/[\d.]+/.exec(g.version))?j[0]:"unknown"):P&&(G="Rhino");else d(g=n.runtime)==T?(G="Adobe AIR",z=g.flash.system.Capabilities.os):d(g=n.phantom)==x?(G="PhantomJS",j=(g=g.version||null)&&g.major+"."+g.minor+"."+g.patch):"number"==typeof O.documentMode&&(g=/\bTrident\/(\d+)/i.exec(e))?(j=[j,O.documentMode],(g=+g[1]+4)!=j[1]&&(F.push("IE "+j[1]+" mode"),q&&(q[1]=""),j[1]=g),j="IE"==G?String(j[1].toFixed(1)):j[0]):"number"==typeof O.documentMode&&/^(?:Chrome|Firefox)\b/.test(G)&&(F.push("masking as "+G+" "+j),G="IE",j="11.0",q=["Trident"],z="Windows");z=z&&u(z)}if(j&&(g=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(j)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(U&&a.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(B=/b/i.test(g)?"beta":"alpha",j=j.replace(RegExp(g+"\\+?$"),"")+("beta"==B?M:I)+(/\d+\+?/.exec(g)||"")),"Fennec"==G||"Firefox"==G&&/\b(?:Android|Firefox OS)\b/.test(z))G="Firefox Mobile";else if("Maxthon"==G&&j)j=j.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(H))"Xbox 360"==H&&(z=null),"Xbox 360"==H&&/\bIEMobile\b/.test(e)&&F.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(G)&&(!G||H||/Browser|Mobi/.test(G))||"Windows CE"!=z&&!/Mobi/i.test(e))if("IE"==G&&U)try{null===n.external&&F.unshift("platform preview")}catch(e){F.unshift("embedded")}else(/\bBlackBerry\b/.test(H)||/\bBB10\b/.test(e))&&(g=(RegExp(H.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||j)?(z=((g=[g,/BB10/.test(e)])[1]?(H=null,V="BlackBerry"):"Device Software")+" "+g[0],j=null):this!=l&&"Wii"!=H&&(U&&k||/Opera/.test(G)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==G&&/\bOS X (?:\d+\.){2,}/.test(z)||"IE"==G&&(z&&!/^Win/.test(z)&&j>5.5||/\bWindows XP\b/.test(z)&&j>8||8==j&&!/\bTrident\b/.test(e)))&&!S.test(g=_.call(l,e.replace(S,"")+";"))&&g.name&&(g="ing as "+g.name+((g=g.version)?" "+g:""),S.test(G)?(/\bIE\b/.test(g)&&"Mac OS"==z&&(z=null),g="identify"+g):(g="mask"+g,G=L?u(L.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(g)&&(z=null),U||(j=null)),q=["Presto"],F.push(g));else G+=" Mobile";(g=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(g=[parseFloat(g.replace(/\.(\d)$/,".0$1")),g],"Safari"==G&&"+"==g[1].slice(-1)?(G="WebKit Nightly",B="alpha",j=g[1].slice(0,-1)):j!=g[1]&&j!=(g[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(j=null),g[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==g[0]&&537.36==g[2]&&parseFloat(g[1])>=28&&"WebKit"==q&&(q=["Blink"]),U&&(E||g[1])?(q&&(q[1]="like Chrome"),g=g[1]||((g=g[0])<530?1:g<532?2:g<532.05?3:g<533?4:g<534.03?5:g<534.07?6:g<534.1?7:g<534.13?8:g<534.16?9:g<534.24?10:g<534.3?11:g<535.01?12:g<535.02?"13+":g<535.07?15:g<535.11?16:g<535.19?17:g<536.05?18:g<536.1?19:g<537.01?20:g<537.11?"21+":g<537.13?23:g<537.18?24:g<537.24?25:g<537.36?26:"Blink"!=q?"27":"28")):(q&&(q[1]="like Safari"),g=(g=g[0])<400?1:g<500?2:g<526?3:g<533?4:g<534?"4+":g<535?5:g<537?6:g<538?7:g<601?8:"8"),q&&(q[1]+=" "+(g+="number"==typeof g?".x":/[.+]/.test(g)?"":"+")),"Safari"==G&&(!j||parseInt(j)>45)&&(j=g)),"Opera"==G&&(g=/\bzbov|zvav$/.exec(z))?(G+=" ",F.unshift("desktop mode"),"zvav"==g?(G+="Mini",j=null):G+="Mobile",z=z.replace(RegExp(" *"+g+"$"),"")):"Safari"==G&&/\bChrome\b/.exec(q&&q[1])&&(F.unshift("desktop mode"),G="Chrome Mobile",j=null,/\bOS X\b/.test(z)?(V="Apple",z="iOS 4.3+"):z=null),j&&0==j.indexOf(g=/[\d.]+$/.exec(z))&&e.indexOf("/"+g+"-")>-1&&(z=h(z.replace(g,""))),q&&!/\b(?:Avant|Nook)\b/.test(G)&&(/Browser|Lunascape|Maxthon/.test(G)||"Safari"!=G&&/^iOS/.test(z)&&/\bSafari\b/.test(q[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(G)&&q[1])&&(g=q[q.length-1])&&F.push(g),F.length&&(F=["("+F.join("; ")+")"]),V&&H&&H.indexOf(V)<0&&F.push("on "+V),H&&F.push((/^on /.test(F[F.length-1])?"":"on ")+H),z&&(g=/ ([\d.+]+)$/.exec(z),v=g&&"/"==z.charAt(z.length-g[0].length-1),z={architecture:32,family:g&&!v?z.replace(g[0],""):z,version:g?g[1]:null,toString:function(){var e=this.version;return this.family+(e&&!v?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(g=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(N))&&!/\bi686\b/i.test(N)?(z&&(z.architecture=64,z.family=z.family.replace(RegExp(" *"+g),"")),G&&(/\bWOW64\b/i.test(e)||U&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(e))&&F.unshift("32-bit")):z&&/^OS X/.test(z.family)&&"Chrome"==G&&parseFloat(j)>=39&&(z.architecture=64),e||(e=null);var K={};return K.description=e,K.layout=q&&q[0],K.manufacturer=V,K.name=G,K.prerelease=B,K.product=H,K.ua=e,K.version=G&&j,K.os=z||{architecture:null,family:null,version:null,toString:function(){return"null"}},K.parse=_,K.toString=function r(){return this.description||""},K.version&&F.unshift(j),K.name&&F.unshift(G),z&&G&&(z!=String(z).split(" ")[0]||z!=G.split(" ")[0]&&!H)&&F.push(H?"("+z+")":"on "+z),F.length&&(K.description=F.join(" ")),K}();m.platform=x,void 0!==(a=function(){return x}.call(t,r,t,e))&&(e.exports=a)}).call(this)}).call(t,r(11)(e),r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function a(){var n=0,i=0,a=0,o=0,s=0,l=0,u=0;this.on("requestcompleted",function e(t,r){var l=r.request_start,u=r.request_response_start,c=r.request_response_end,f=r.request_bytes_loaded;o++;var d=u-l,p=c-u;if(d>0&&p>0&&f>0){var h=f/p*8e3;s++,n+=d,i+=f,a+=p,this.data.view_min_request_throughput=Math.min(this.data.view_min_request_throughput||1/0,h),this.data.view_average_request_throughput=i/a*8e3,this.data.view_max_request_latency=Math.max(this.data.view_max_request_latency||0,d),this.data.view_average_request_latency=n/s,this.data.view_request_count=o}}),this.on("requestfailed",function t(e,r){o++,l++,this.data.view_request_count=o,this.data.view_request_failed_count=l}),this.on("requestcanceled",function r(e,t){o++,u++,this.data.view_request_count=o,this.data.view_request_canceled_count=u})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function e(t,r){var n=[],i=!0,a=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done)&&(n.push(s.value),!r||n.length!==r);i=!0);}catch(t){a=!0,o=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return n}(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function a(e,t,r){var a=(0,o.findMediaElement)(t),u=n(a,3),c=u[0],f=u[1],d=u[2],p=e.log,h=e.utils.getComputedStyle,g=e.utils.secondsToMs;return c?"video"!==d&&"audio"!==d?p.error("The element of `"+f+"` was not a media element."):((r=(0,i.default)({automaticErrorTracking:!0},r)).data=(0,i.default)({player_software:"HTML5 Video Element",player_software_version:"No Versions",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:"2.7.1"},r.data),r.getPlayheadTime=function(){return g(c.currentTime)},r.getStateData=function(){return{player_is_paused:c.paused,player_playhead_time:g(c.currentTime),player_width:parseInt(h(c,"width")),player_height:parseInt(h(c,"height")),player_autoplay_on:c.autoplay,player_preload_on:c.preload,video_poster_url:c.poster,video_source_url:c.currentSrc,video_source_duration:g(c.duration),video_source_height:c.videoHeight,video_source_width:c.videoWidth}},c.mux=c.mux||{},c.mux.emit=function(t,r){e.emit(f,t,r)},c.mux.destroy=function(){Object.keys(c.mux.listeners).forEach(function(e){c.removeEventListener(e,c.mux.listeners[e],!1)}),delete c.mux.listeners,e.emit(f,"destroy")},c.mux.swapElement=function(t){var r=(0,o.findMediaElement)(t),a=n(r,3),s=a[0],l=a[1],u=a[2];return s?"video"!==u&&"audio"!==u?e.log.error("The element of `"+l+"` was not a media element."):(s.muxId=c.muxId,delete c.muxId,s.mux=s.mux||{},s.mux.listeners=(0,i.default)({},c.mux.listeners),delete c.mux.listeners,Object.keys(s.mux.listeners).forEach(function(e){c.removeEventListener(e,s.mux.listeners[e],!1),s.addEventListener(e,s.mux.listeners[e],!1)}),s.mux.swapElement=c.mux.swapElement,s.mux.destroy=c.mux.destroy,delete c.mux,void(c=s)):e.log.error("No element was found with the `"+l+"` query selector.")},c.mux.addHLSJS=function(t){e.addHLSJS(f,t)},c.mux.addDashJS=function(t){e.addDashJS(f,t)},c.mux.removeHLSJS=function(){e.removeHLSJS(f)},c.mux.removeDashJS=function(){e.removeDashJS(f)},e.init(f,r),e.emit(f,"playerready"),c.paused||(e.emit(f,"play"),c.readyState>2&&e.emit(f,"playing")),c.mux.listeners={},void s.forEach(function(t){("error"!==t||r.automaticErrorTracking)&&(c.mux.listeners[t]=function(){var r={};"error"===t&&(r.player_error_code=c.error&&c.error.code,r.player_error_message=c.error&&l[c.error.code]),e.emit(f,t,r)},c.addEventListener(t,c.mux.listeners[t],!1))})):p.error("No element was found with the `"+f+"` query selector.")};var i=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),o=r(8),s=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],l={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}},function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(50)),i=a(r(1)),o=a(r(51)),s=a(r(52)),l=a(r(0)),u=a(r(7)),c=r(4),f={};f.safeCall=n.default,f.safeIncrement=i.default,f.getComputedStyle=o.default,f.secondsToMs=s.default,f.assign=l.default,f.headersStringToObject=u.default,f.extractHostnameAndDomain=c.extractHostnameAndDomain,t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function a(e,t,r,i){var a=i;if(e&&"function"==typeof e[t])try{a=e[t].apply(e,r)}catch(e){n.default.info("safeCall error",e)}return a};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function a(e,t){if(n.default.defaultView&&n.default.defaultView.getComputedStyle)return n.default.defaultView.getComputedStyle(e,null).getPropertyValue(t)};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(10))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function a(e){return Math.floor(1e3*e)}}])},,,function(e,t,r){(function(t,n){void 0===t&&(t=r(89).Buffer);const i=r(254),a=r(618),o=r(619),s=r(292),l={name:"Utils",nullAddress:"0x0000000000000000000000000000000000000000",weiPerEther:a("1000000000000000000"),ToBigNumber:e=>new a(e),WeiToEther:e=>(e=new a(e),a(e).div(l.weiPerEther)),EtherToWei:e=>a(e).times(l.weiPerEther),FormatAddress:e=>e&&"string"==typeof e?(e.startsWith("0x")||(e="0x"+e),e.toLowerCase()):"",FormatSignature:e=>(e=e.replace("0x",""),"ES256K_"+i.encode(t.from(e,"hex"))),DecodeVersionHash:e=>{if(!e.startsWith("hq__"))throw new Error(`Invalid version hash: "${e}"`);e=e.replace("hq__","");let r=o.fromB58String(e);const n=r.slice(0,32),i=n.toString("hex");r=r.slice(32);let a=0;for(;r[a]>=128;)a++;a++;const l=r.slice(0,a),u=s.decode(l);return r=r.slice(a),{digest:i,size:u,objectId:"iq__"+o.toB58String(r),partHash:"hqp_"+o.toB58String(t.concat([n,l]))}},AddressToHash:e=>(e=e.replace("0x",""),i.encode(t.from(e,"hex"))),AddressToSpaceId:e=>"ispc"+l.AddressToHash(e),AddressToLibraryId:e=>"ilib"+l.AddressToHash(e),AddressToObjectId:e=>"iq__"+l.AddressToHash(e),HashToAddress:e=>(e=e.substr(4),"0x"+i.decode(e).toString("hex")),EqualAddress:(e,t)=>!(!e||!t)&&l.FormatAddress(e)===l.FormatAddress(t),EqualHash:(e,t)=>!(!e||!t)&&(!(e.length<=4||t.length<=4)&&l.HashToAddress(e)===l.HashToAddress(t)),ToBytes32:e=>{return"0x"+e.split("").map(e=>e.charCodeAt(0).toString(16)).join("").slice(0,64).padEnd(64,"0")},BufferToArrayBuffer:e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),B64:e=>t.from(e).toString("base64"),IsCloneable:e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(t=>l.IsCloneable(e[t]));case"Map":return[...e.keys()].every(l.IsCloneable)&&[...e.values()].every(l.IsCloneable);case"Set":return[...e.keys()].every(l.IsCloneable);default:return!1}},MakeClonable:e=>{if(l.IsCloneable(e))return e;if(t.isBuffer(e))return l.BufferToArrayBuffer(e);switch({}.toString.call(e).slice(8,-1)){case"Response":case"Function":return;case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return e;case"Array":return e.map(e=>l.MakeClonable(e));case"Set":return new Set(Array.from(e.keys()).map(e=>l.MakeClonable(e)));case"Map":let t=new Map;return Array.from(e.keys()).forEach(r=>{const n=l.MakeClonable(e.get(r));n&&t.set(r,n)}),t;case"Error":return e.message;case"Object":let r={};return Object.keys(e).map(t=>{const n=l.MakeClonable(e[t]);n&&(r[t]=n)}),r;default:return JSON.parse(JSON.stringify(e))}},PLATFORM_NODE:"node",PLATFORM_WEB:"web",PLATFORM_REACT_NATIVE:"react-native",Platform:()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product?l.PLATFORM_REACT_NATIVE:void 0!==n&&void 0!==n.versions.node?l.PLATFORM_NODE:l.PLATFORM_WEB};e.exports=l}).call(this,r(89).Buffer,r(90))},function(e,t,r){e.exports=Stream;var n=r(183).EventEmitter;function Stream(){n.call(this)}r(109)(Stream,n),Stream.Readable=r(218),Stream.Writable=r(645),Stream.Duplex=r(646),Stream.Transform=r(647),Stream.PassThrough=r(648),Stream.Stream=Stream,Stream.prototype.pipe=function(e,t){var r=this;function ondata(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function ondrain(){r.readable&&r.resume&&r.resume()}r.on("data",ondata),e.on("drain",ondrain),e._isStdio||t&&!1===t.end||(r.on("end",onend),r.on("close",onclose));var i=!1;function onend(){i||(i=!0,e.end())}function onclose(){i||(i=!0,"function"==typeof e.destroy&&e.destroy())}function onerror(e){if(cleanup(),0===n.listenerCount(this,"error"))throw e}function cleanup(){r.removeListener("data",ondata),e.removeListener("drain",ondrain),r.removeListener("end",onend),r.removeListener("close",onclose),r.removeListener("error",onerror),e.removeListener("error",onerror),r.removeListener("end",cleanup),r.removeListener("close",cleanup),e.removeListener("close",cleanup)}return r.on("error",onerror),e.on("error",onerror),r.on("end",cleanup),r.on("close",cleanup),e.on("close",cleanup),e.emit("pipe",r),e}},function(e,t,r){"use strict";r(429);var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(601));n.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),n.default._babelPolyfill=!0},function(e,t){let r=0;e.exports=class Id{static next(){return++r}}},function(e,t,r){(function(t){function config(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function deprecate(e,t){if(config("noDeprecation"))return e;var r=!1;return function deprecated(){if(!r){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,r(59))},function(e,t){function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(e){return typeof e}:function _typeof2(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _typeof(t){return"function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?e.exports=_typeof=function _typeof(e){return _typeof2(e)}:e.exports=_typeof=function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)},_typeof(t)}e.exports=_typeof},function(e,t){function _setPrototypeOf(t,r){return e.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},_setPrototypeOf(t,r)}e.exports=_setPrototypeOf},,,function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?r+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,r){"use strict";
/** @license React v16.9.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(255),i="function"==typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder");var y="function"==typeof Symbol&&Symbol.iterator;function A(e){for(var t=e.message,r="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return e.message="Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function D(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||v}function E(){}function F(e,t,r){this.props=e,this.context=t,this.refs=_,this.updater=r||v}D.prototype.isReactComponent={},D.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw A(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},D.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=D.prototype;var b=F.prototype=new E;b.constructor=F,n(b,D.prototype),b.isPureReactComponent=!0;var w={current:null},C={suspense:null},x={current:null},P=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var n=void 0,i={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)P.call(t,n)&&!I.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:x.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var O=/\/+/g,k=[];function Q(e,t,r,n){if(k.length){var i=k.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>k.length&&k.push(e)}function U(e,t,r){return null==e?0:function S(e,t,r,n){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return r(n,e,""===t?"."+T(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=t+T(i=e[l],l);s+=S(i,u,r,n)}else if(u=null===e||"object"!=typeof e?null:"function"==typeof(u=y&&e[y]||e["@@iterator"])?u:null,"function"==typeof u)for(e=u.call(e),l=0;!(i=e.next()).done;)s+=S(i=i.value,u=t+T(i,l++),r,n);else if("object"===i)throw r=""+e,A(Error(31),"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,"");return s}(e,"",t,r)}function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function escape(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function ea(e,t){e.func.call(e.context,t,e.count++)}function fa(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?V(e,n,r,function(e){return e}):null!=e&&(N(e)&&(e=function da(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+r)),n.push(e))}function V(e,t,r,n,i){var a="";null!=r&&(a=(""+r).replace(O,"$&/")+"/"),U(e,fa,t=Q(t,a,n,i)),R(t)}function W(){var e=w.current;if(null===e)throw A(Error(321));return e}var L={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return V(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;U(e,ea,t=Q(null,null,t,r)),R(t)},count:function(e){return U(e,function(){return null},null)},toArray:function(e){var t=[];return V(e,t,null,function(e){return e}),t},only:function(e){if(!N(e))throw A(Error(143));return e}},createRef:function(){return{current:null}},Component:D,PureComponent:F,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return W().useCallback(e,t)},useContext:function(e,t){return W().useContext(e,t)},useEffect:function(e,t){return W().useEffect(e,t)},useImperativeHandle:function(e,t,r){return W().useImperativeHandle(e,t,r)},useDebugValue:function(){},useLayoutEffect:function(e,t){return W().useLayoutEffect(e,t)},useMemo:function(e,t){return W().useMemo(e,t)},useReducer:function(e,t,r){return W().useReducer(e,t,r)},useRef:function(e){return W().useRef(e)},useState:function(e){return W().useState(e)},Fragment:s,Profiler:u,StrictMode:l,Suspense:p,unstable_SuspenseList:h,createElement:M,cloneElement:function(e,t,r){if(null==e)throw A(Error(267),e);var i=void 0,o=n({},e.props),s=e.key,l=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,u=x.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(i in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)P.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))o.children=r;else if(1<i){c=Array(i);for(var f=0;f<i;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:a,type:e.type,key:s,ref:l,props:o,_owner:u}},createFactory:function(e){var t=M.bind(null,e);return t.type=e,t},isValidElement:N,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var r=C.suspense;C.suspense=void 0===t?null:t;try{e()}finally{C.suspense=r}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:w,ReactCurrentBatchConfig:C,ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:n}},B={default:L},j=B&&L||B;e.exports=j.default||j},function(r,i,a){"use strict";
/** @license React v16.9.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=a(1),s=a(255),u=a(390);function t(e){for(var t=e.message,r="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return e.message="Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!o)throw t(Error(227));var p=null,m={};function da(){if(p)for(var e in m){var r=m[e],n=p.indexOf(e);if(!(-1<n))throw t(Error(96),e);if(!_[n]){if(!r.extractEvents)throw t(Error(97),e);for(var i in _[n]=r,n=r.eventTypes){var a=void 0,o=n[i],s=r,l=i;if(E.hasOwnProperty(l))throw t(Error(99),l);E[l]=o;var u=o.phasedRegistrationNames;if(u){for(a in u)u.hasOwnProperty(a)&&ha(u[a],s,l);a=!0}else o.registrationName?(ha(o.registrationName,s,l),a=!0):a=!1;if(!a)throw t(Error(98),i,e)}}}}function ha(e,r,n){if(T[e])throw t(Error(100),e);T[e]=r,w[e]=r.eventTypes[n].dependencies}var _=[],E={},T={},w={};var R=!1,A=null,C=!1,P=null,I={onError:function(e){R=!0,A=e}};function qa(e,t,r,n,i,a,o,s,l){R=!1,A=null,function ka(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(e){this.onError(e)}}.apply(I,arguments)}var M=null,L=null,F=null;function wa(e,r,n){var i=e.type||"unknown-event";e.currentTarget=F(n),function ra(e,r,n,i,a,o,s,l,u){if(qa.apply(this,arguments),R){if(!R)throw t(Error(198));var c=A;R=!1,A=null,C||(C=!0,P=c)}}(i,r,void 0,e),e.currentTarget=null}function xa(e,r){if(null==r)throw t(Error(30));return null==e?r:Array.isArray(e)?Array.isArray(r)?(e.push.apply(e,r),e):(e.push(r),e):Array.isArray(r)?[e].concat(r):[e,r]}function ya(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var B=null;function Aa(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)wa(e,t[n],r[n]);else t&&wa(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function Ba(e){if(null!==e&&(B=xa(B,e)),e=B,B=null,e){if(ya(e,Aa),B)throw t(Error(95));if(C)throw e=P,C=!1,P=null,e}}var U={injectEventPluginOrder:function(e){if(p)throw t(Error(101));p=Array.prototype.slice.call(e),da()},injectEventPluginsByName:function(e){var r,n=!1;for(r in e)if(e.hasOwnProperty(r)){var i=e[r];if(!m.hasOwnProperty(r)||m[r]!==i){if(m[r])throw t(Error(102),r);m[r]=i,n=!0}}n&&da()}};function Da(e,r){var n=e.stateNode;if(!n)return null;var i=M(n);if(!i)return null;n=i[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw t(Error(231),r,typeof n);return n}var j=Math.random().toString(36).slice(2),q="__reactInternalInstance$"+j,V="__reactEventHandlers$"+j;function Ha(e){if(e[q])return e[q];for(;!e[q];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[q]).tag||6===e.tag?e:null}function Ia(e){return!(e=e[q])||5!==e.tag&&6!==e.tag?null:e}function Ja(e){if(5===e.tag||6===e.tag)return e.stateNode;throw t(Error(33))}function Ka(e){return e[V]||null}function La(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ma(e,t,r){(t=Da(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=xa(r._dispatchListeners,t),r._dispatchInstances=xa(r._dispatchInstances,e))}function Na(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=La(t);for(t=r.length;0<t--;)Ma(r[t],"captured",e);for(t=0;t<r.length;t++)Ma(r[t],"bubbled",e)}}function Oa(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=Da(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=xa(r._dispatchListeners,t),r._dispatchInstances=xa(r._dispatchInstances,e))}function Pa(e){e&&e.dispatchConfig.registrationName&&Oa(e._targetInst,null,e)}function Qa(e){ya(e,Na)}var K=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);function Sa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var W={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},Y={},X={};function Wa(e){if(Y[e])return Y[e];if(!W[e])return e;var t,r=W[e];for(t in r)if(r.hasOwnProperty(t)&&t in X)return Y[e]=r[t];return e}K&&(X=document.createElement("div").style,"AnimationEvent"in window||(delete W.animationend.animation,delete W.animationiteration.animation,delete W.animationstart.animation),"TransitionEvent"in window||delete W.transitionend.transition);var Q=Wa("animationend"),$=Wa("animationiteration"),ee=Wa("animationstart"),re=Wa("transitionend"),ue="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ce=null,fe=null,de=null;function fb(){if(de)return de;var e,t,r=fe,n=r.length,i="value"in ce?ce.value:ce.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return de=i.slice(e,1<t?1-t:void 0)}function gb(){return!0}function hb(){return!1}function y(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?gb:hb,this.isPropagationStopped=hb,this}function jb(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function kb(e){if(!(e instanceof this))throw t(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function ib(e){e.eventPool=[],e.getPooled=jb,e.release=kb}s(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=gb)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=gb)},persist:function(){this.isPersistent=gb},isPersistent:hb,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=hb,this._dispatchInstances=this._dispatchListeners=null}}),y.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},y.extend=function(e){function b(){}function c(){return t.apply(this,arguments)}var t=this;b.prototype=t.prototype;var r=new b;return s(r,c.prototype),c.prototype=r,c.prototype.constructor=c,c.Interface=s({},t.Interface,e),c.extend=t.extend,ib(c),c},ib(y);var he=y.extend({data:null}),ge=y.extend({data:null}),ye=[9,13,27,32],ve=K&&"CompositionEvent"in window,_e=null;K&&"documentMode"in document&&(_e=document.documentMode);var Re=K&&"TextEvent"in window&&!_e,Ce=K&&(!ve||_e&&8<_e&&11>=_e),xe=String.fromCharCode(32),Pe={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ie=!1;function wb(e,t){switch(e){case"keyup":return-1!==ye.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function xb(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Me=!1;var Oe={eventTypes:Pe,extractEvents:function(e,t,r,n){var i=void 0,a=void 0;if(ve)e:{switch(e){case"compositionstart":i=Pe.compositionStart;break e;case"compositionend":i=Pe.compositionEnd;break e;case"compositionupdate":i=Pe.compositionUpdate;break e}i=void 0}else Me?wb(e,r)&&(i=Pe.compositionEnd):"keydown"===e&&229===r.keyCode&&(i=Pe.compositionStart);return i?(Ce&&"ko"!==r.locale&&(Me||i!==Pe.compositionStart?i===Pe.compositionEnd&&Me&&(a=fb()):(fe="value"in(ce=n)?ce.value:ce.textContent,Me=!0)),i=he.getPooled(i,t,r,n),a?i.data=a:null!==(a=xb(r))&&(i.data=a),Qa(i),a=i):a=null,(e=Re?function Ab(e,t){switch(e){case"compositionend":return xb(t);case"keypress":return 32!==t.which?null:(Ie=!0,xe);case"textInput":return(e=t.data)===xe&&Ie?null:e;default:return null}}(e,r):function Bb(e,t){if(Me)return"compositionend"===e||!ve&&wb(e,t)?(e=fb(),de=fe=ce=null,Me=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ce&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=ge.getPooled(Pe.beforeInput,t,r,n)).data=e,Qa(t)):t=null,null===a?t:null===t?a:[a,t]}},Le=null,je=null,He=null;function Gb(e){if(e=L(e)){if("function"!=typeof Le)throw t(Error(280));var r=M(e.stateNode);Le(e.stateNode,e.type,r)}}function Hb(e){je?He?He.push(e):He=[e]:je=e}function Ib(){if(je){var e=je,t=He;if(He=je=null,Gb(e),t)for(e=0;e<t.length;e++)Gb(t[e])}}function Jb(e,t){return e(t)}function Kb(e,t,r,n){return e(t,r,n)}function Lb(){}var Qe=Jb,$e=!1;function Ob(){null===je&&null===He||(Lb(),Ib())}var Ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ze[e.type]:"textarea"===t}function Rb(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Sb(e){if(!K)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function Tb(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Vb(e){e._valueTracker||(e._valueTracker=function Ub(e){var t=Tb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Wb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Tb(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}var et=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;et.hasOwnProperty("ReactCurrentDispatcher")||(et.ReactCurrentDispatcher={current:null}),et.hasOwnProperty("ReactCurrentBatchConfig")||(et.ReactCurrentBatchConfig={suspense:null});var tt=/^(.*)[\\\/]/,rt="function"==typeof Symbol&&Symbol.for,nt=rt?Symbol.for("react.element"):60103,it=rt?Symbol.for("react.portal"):60106,at=rt?Symbol.for("react.fragment"):60107,ot=rt?Symbol.for("react.strict_mode"):60108,st=rt?Symbol.for("react.profiler"):60114,lt=rt?Symbol.for("react.provider"):60109,ut=rt?Symbol.for("react.context"):60110,ct=rt?Symbol.for("react.concurrent_mode"):60111,ft=rt?Symbol.for("react.forward_ref"):60112,dt=rt?Symbol.for("react.suspense"):60113,pt=rt?Symbol.for("react.suspense_list"):60120,ht=rt?Symbol.for("react.memo"):60115,gt=rt?Symbol.for("react.lazy"):60116;rt&&Symbol.for("react.fundamental"),rt&&Symbol.for("react.responder");var mt="function"==typeof Symbol&&Symbol.iterator;function mc(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=mt&&e[mt]||e["@@iterator"])?e:null}function oc(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case at:return"Fragment";case it:return"Portal";case st:return"Profiler";case ot:return"StrictMode";case dt:return"Suspense";case pt:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ut:return"Context.Consumer";case lt:return"Context.Provider";case ft:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ht:return oc(e.type);case gt:if(e=1===e._status?e._result:null)return oc(e)}return null}function pc(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,a=oc(e.type);r=null,n&&(r=oc(n.type)),n=a,a="",i?a=" (at "+i.fileName.replace(tt,"")+":"+i.lineNumber+")":r&&(a=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+a}t+=r,e=e.return}while(e);return t}var yt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vt=Object.prototype.hasOwnProperty,_t={},bt={};function D(e,t,r,n,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new D(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new D(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new D(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new D(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new D(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new D(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){Et[e]=new D(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){Et[e]=new D(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){Et[e]=new D(e,5,!1,e.toLowerCase(),null,!1)});var Tt=/[\-:]([a-z])/g;function yc(e){return e[1].toUpperCase()}function zc(e,t,r,n){var i=Et.hasOwnProperty(t)?Et[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function wc(e,t,r,n){if(null==t||function vc(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function uc(e){return!!vt.call(bt,e)||!vt.call(_t,e)&&(yt.test(e)?bt[e]=!0:(_t[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}function Ac(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Bc(e,t){var r=t.checked;return s({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Cc(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=Ac(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Dc(e,t){null!=(t=t.checked)&&zc(e,"checked",t,!1)}function Ec(e,t){Dc(e,t);var r=Ac(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Fc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fc(e,t.type,Ac(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Gc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Fc(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tt,yc);Et[t]=new D(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tt,yc);Et[t]=new D(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tt,yc);Et[t]=new D(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new D(e,1,!1,e.toLowerCase(),null,!1)}),Et.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){Et[e]=new D(e,1,!1,e.toLowerCase(),null,!0)});var St={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ic(e,t,r){return(e=y.getPooled(St.change,e,t,r)).type="change",Hb(r),Qa(e),e}var wt=null,Rt=null;function Lc(e){Ba(e)}function Mc(e){if(Wb(Ja(e)))return e}function Nc(e,t){if("change"===e)return t}var At=!1;function Pc(){wt&&(wt.detachEvent("onpropertychange",Qc),Rt=wt=null)}function Qc(e){if("value"===e.propertyName&&Mc(Rt))if(e=Ic(Rt,e,Rb(e)),$e)Ba(e);else{$e=!0;try{Jb(Lc,e)}finally{$e=!1,Ob()}}}function Rc(e,t,r){"focus"===e?(Pc(),Rt=r,(wt=t).attachEvent("onpropertychange",Qc)):"blur"===e&&Pc()}function Sc(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mc(Rt)}function Tc(e,t){if("click"===e)return Mc(t)}function Uc(e,t){if("input"===e||"change"===e)return Mc(t)}K&&(At=Sb("input")&&(!document.documentMode||9<document.documentMode));var Ct={eventTypes:St,_isInputEventSupported:At,extractEvents:function(e,t,r,n){var i=t?Ja(t):window,a=void 0,o=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?a=Nc:Qb(i)?At?a=Uc:(a=Sc,o=Rc):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Tc),a&&(a=a(e,t)))return Ic(a,r,n);o&&o(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Fc(i,"number",i.value)}},xt=y.extend({view:null,detail:null}),Dt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yc(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Dt[e])&&!!t[e]}function Zc(){return Yc}var Pt=0,It=0,Mt=!1,Ot=!1,kt=xt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Zc,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Pt;return Pt=e.screenX,Mt?"mousemove"===e.type?e.screenX-t:0:(Mt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=It;return It=e.screenY,Ot?"mousemove"===e.type?e.screenY-t:0:(Ot=!0,0)}}),Lt=kt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Nt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ft={eventTypes:Nt,extractEvents:function(e,t,r,n){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&(r.relatedTarget||r.fromElement)||!a&&!i)return null;if(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,t=(t=r.relatedTarget||r.toElement)?Ha(t):null):a=null,a===t)return null;var o=void 0,s=void 0,l=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(o=kt,s=Nt.mouseLeave,l=Nt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=Lt,s=Nt.pointerLeave,l=Nt.pointerEnter,u="pointer");var c=null==a?i:Ja(a);if(i=null==t?i:Ja(t),(e=o.getPooled(s,a,r,n)).type=u+"leave",e.target=c,e.relatedTarget=i,(r=o.getPooled(l,t,r,n)).type=u+"enter",r.target=i,r.relatedTarget=c,n=t,a&&n)e:{for(i=n,u=0,o=t=a;o;o=La(o))u++;for(o=0,l=i;l;l=La(l))o++;for(;0<u-o;)t=La(t),u--;for(;0<o-u;)i=La(i),o--;for(;u--;){if(t===i||t===i.alternate)break e;t=La(t),i=La(i)}t=null}else t=null;for(i=t,t=[];a&&a!==i&&(null===(u=a.alternate)||u!==i);)t.push(a),a=La(a);for(a=[];n&&n!==i&&(null===(u=n.alternate)||u!==i);)a.push(n),n=La(n);for(n=0;n<t.length;n++)Oa(t[n],"bubbled",e);for(n=a.length;0<n--;)Oa(a[n],"captured",r);return[e,r]}};function hd(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var Bt=Object.prototype.hasOwnProperty;function jd(e,t){if(hd(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Bt.call(t,r[n])||!hd(e[r[n]],t[r[n]]))return!1;return!0}function kd(e,t){return{responder:e,props:t}}function ld(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function od(e){if(2!==ld(e))throw t(Error(188))}function qd(e){if(!(e=function pd(e){var r=e.alternate;if(!r){if(3===(r=ld(e)))throw t(Error(188));return 1===r?null:e}for(var n=e,i=r;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(i=a.return)){n=i;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return od(a),e;if(o===i)return od(a),r;o=o.sibling}throw t(Error(188))}if(n.return!==i.return)n=a,i=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}if(!s)throw t(Error(189))}}if(n.alternate!==i)throw t(Error(190))}if(3!==n.tag)throw t(Error(188));return n.stateNode.current===n?e:r}(e)))return null;for(var r=e;;){if(5===r.tag||6===r.tag)return r;if(r.child)r.child.return=r,r=r.child;else{if(r===e)break;for(;!r.sibling;){if(!r.return||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}}return null}new Map,new Map,new Set,new Map;var Ut=y.extend({animationName:null,elapsedTime:null,pseudoElement:null}),jt=y.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qt=xt.extend({relatedTarget:null});function ud(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}for(var Gt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vt=xt.extend({key:function(e){if(e.key){var t=Gt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ud(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ht[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Zc,charCode:function(e){return"keypress"===e.type?ud(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ud(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),zt=kt.extend({dataTransfer:null}),Kt=xt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Zc}),Wt=y.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Yt=kt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Xt=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Q,"animationEnd",2],[$,"animationIteration",2],[ee,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[re,"transitionEnd",2],["waiting","waiting",2]],Qt={},$t={},Jt=0;Jt<Xt.length;Jt++){var Zt=Xt[Jt],er=Zt[0],tr=Zt[1],rr=Zt[2],nr="on"+(tr[0].toUpperCase()+tr.slice(1)),ir={phasedRegistrationNames:{bubbled:nr,captured:nr+"Capture"},dependencies:[er],eventPriority:rr};Qt[tr]=ir,$t[er]=ir}var ar={eventTypes:Qt,getEventPriority:function(e){return void 0!==(e=$t[e])?e.eventPriority:2},extractEvents:function(e,t,r,n){var i=$t[e];if(!i)return null;switch(e){case"keypress":if(0===ud(r))return null;case"keydown":case"keyup":e=Vt;break;case"blur":case"focus":e=qt;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=kt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=zt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Kt;break;case Q:case $:case ee:e=Ut;break;case re:e=Wt;break;case"scroll":e=xt;break;case"wheel":e=Yt;break;case"copy":case"cut":case"paste":e=jt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Lt;break;default:e=y}return Qa(t=e.getPooled(i,t,r,n)),t}},or=ar.getEventPriority,sr=[];function Pd(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n;for(n=r;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(r),r=Ha(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=Rb(e.nativeEvent);n=e.topLevelType;for(var a=e.nativeEvent,o=null,s=0;s<_.length;s++){var l=_[s];l&&(l=l.extractEvents(n,t,a,i))&&(o=xa(o,l))}Ba(o)}}var lr=!0;function G(e,t){Rd(t,e,!1)}function Rd(e,t,r){switch(or(t)){case 0:var n=function Sd(e,t,r){$e||Lb();var n=Ud,i=$e;$e=!0;try{Kb(n,e,t,r)}finally{($e=i)||Ob()}}.bind(null,t,1);break;case 1:n=function Td(e,t,r){Ud(e,t,r)}.bind(null,t,1);break;default:n=Ud.bind(null,t,1)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function Ud(e,t,r){if(lr){if(null===(t=Ha(t=Rb(r)))||"number"!=typeof t.tag||2===ld(t)||(t=null),sr.length){var n=sr.pop();n.topLevelType=e,n.nativeEvent=r,n.targetInst=t,e=n}else e={topLevelType:e,nativeEvent:r,targetInst:t,ancestors:[]};try{if(r=e,$e)Pd(r);else{$e=!0;try{Qe(Pd,r,void 0)}finally{$e=!1,Ob()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>sr.length&&sr.push(e)}}}var ur=new("function"==typeof WeakMap?WeakMap:Map);function Wd(e){var t=ur.get(e);return void 0===t&&(t=new Set,ur.set(e,t)),t}function Xd(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Yd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zd(e,t){var r,n=Yd(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yd(n)}}function ae(){for(var e=window,t=Xd();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=Xd((e=t.contentWindow).document)}return t}function be(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var cr=K&&"documentMode"in document&&11>=document.documentMode,fr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},dr=null,pr=null,hr=null,gr=!1;function ie(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return gr||null==dr||dr!==Xd(r)?null:("selectionStart"in(r=dr)&&be(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},hr&&jd(hr,r)?null:(hr=r,(e=y.getPooled(fr.select,pr,e,t)).type="select",e.target=dr,Qa(e),e))}var mr={eventTypes:fr,extractEvents:function(e,t,r,n){var i,a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(i=!a)){e:{a=Wd(a),i=w.onSelect;for(var o=0;o<i.length;o++)if(!a.has(i[o])){a=!1;break e}a=!0}i=!a}if(i)return null;switch(a=t?Ja(t):window,e){case"focus":(Qb(a)||"true"===a.contentEditable)&&(dr=a,pr=t,hr=null);break;case"blur":hr=pr=dr=null;break;case"mousedown":gr=!0;break;case"contextmenu":case"mouseup":case"dragend":return gr=!1,ie(r,n);case"selectionchange":if(cr)break;case"keydown":case"keyup":return ie(r,n)}return null}};function le(e,t){return e=s({children:void 0},t),(t=function ke(e){var t="";return o.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function me(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ac(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,r){if(null!=r.dangerouslySetInnerHTML)throw t(Error(91));return s({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,r){var n=r.value;if(null==n){if(n=r.defaultValue,null!=(r=r.children)){if(null!=n)throw t(Error(92));if(Array.isArray(r)){if(!(1>=r.length))throw t(Error(93));r=r[0]}n=r}null==n&&(n="")}e._wrapperState={initialValue:Ac(n)}}function pe(e,t){var r=Ac(t.value),n=Ac(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function qe(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}U.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),M=Ka,L=Ia,F=Ja,U.injectEventPluginsByName({SimpleEventPlugin:ar,EnterLeaveEventPlugin:Ft,ChangeEventPlugin:Ct,SelectEventPlugin:mr,BeforeInputEventPlugin:Oe});var yr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function te(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var vr=void 0,_r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r)})}:e}(function(e,t){if(e.namespaceURI!==yr.svg||"innerHTML"in e)e.innerHTML=t;else{for((vr=vr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=vr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function we(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var br={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Er=["Webkit","ms","Moz","O"];function ze(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||br.hasOwnProperty(e)&&br[e]?(""+t).trim():t+"px"}function Ae(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=ze(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(br).forEach(function(e){Er.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),br[t]=br[e]})});var Tr=s({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function De(e,r){if(r){if(Tr[e]&&(null!=r.children||null!=r.dangerouslySetInnerHTML))throw t(Error(137),e,"");if(null!=r.dangerouslySetInnerHTML){if(null!=r.children)throw t(Error(60));if(!("object"==typeof r.dangerouslySetInnerHTML&&"__html"in r.dangerouslySetInnerHTML))throw t(Error(61))}if(null!=r.style&&"object"!=typeof r.style)throw t(Error(62),"")}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Fe(e,t){var r=Wd(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=w[t];for(var n=0;n<t.length;n++){var i=t[n];if(!r.has(i)){switch(i){case"scroll":Rd(e,"scroll",!0);break;case"focus":case"blur":Rd(e,"focus",!0),Rd(e,"blur",!0),r.add("blur"),r.add("focus");break;case"cancel":case"close":Sb(i)&&Rd(e,i,!0);break;case"invalid":case"submit":case"reset":break;default:-1===ue.indexOf(i)&&G(i,e)}r.add(i)}}}function Ge(){}var Sr=null,wr=null;function Je(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ke(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Rr="function"==typeof setTimeout?setTimeout:void 0,Ar="function"==typeof clearTimeout?clearTimeout:void 0;function Ne(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}new Set;var Cr=[],xr=-1;function H(e){0>xr||(e.current=Cr[xr],Cr[xr]=null,xr--)}function J(e,t){Cr[++xr]=e.current,e.current=t}var Dr={},Pr={current:Dr},Ir={current:!1},Mr=Dr;function Se(e,t){var r=e.type.contextTypes;if(!r)return Dr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function N(e){return null!=(e=e.childContextTypes)}function Te(e){H(Ir),H(Pr)}function Ue(e){H(Ir),H(Pr)}function Ve(e,r,n){if(Pr.current!==Dr)throw t(Error(168));J(Pr,r),J(Ir,n)}function We(e,r,n){var i=e.stateNode;if(e=r.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in e))throw t(Error(108),oc(r)||"Unknown",a);return s({},n,i)}function Xe(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Dr,Mr=Pr.current,J(Pr,t),J(Ir,Ir.current),!0}function Ye(e,r,n){var i=e.stateNode;if(!i)throw t(Error(169));n?(r=We(e,r,Mr),i.__reactInternalMemoizedMergedChildContext=r,H(Ir),H(Pr),J(Pr,r)):H(Ir),J(Ir,n)}var Or=u.unstable_runWithPriority,kr=u.unstable_scheduleCallback,Lr=u.unstable_cancelCallback,Nr=u.unstable_shouldYield,Fr=u.unstable_requestPaint,Br=u.unstable_now,Ur=u.unstable_getCurrentPriorityLevel,jr=u.unstable_ImmediatePriority,qr=u.unstable_UserBlockingPriority,Gr=u.unstable_NormalPriority,Hr=u.unstable_LowPriority,Vr=u.unstable_IdlePriority,zr={},Kr=void 0!==Fr?Fr:function(){},Wr=null,Yr=null,Xr=!1,Qr=Br(),$r=1e4>Qr?Br:function(){return Br()-Qr};function tf(){switch(Ur()){case jr:return 99;case qr:return 98;case Gr:return 97;case Hr:return 96;case Vr:return 95;default:throw t(Error(332))}}function uf(e){switch(e){case 99:return jr;case 98:return qr;case 97:return Gr;case 96:return Hr;case 95:return Vr;default:throw t(Error(332))}}function vf(e,t){return e=uf(e),Or(e,t)}function wf(e,t,r){return e=uf(e),kr(e,t,r)}function xf(e){return null===Wr?(Wr=[e],Yr=kr(jr,yf)):Wr.push(e),zr}function O(){null!==Yr&&Lr(Yr),yf()}function yf(){if(!Xr&&null!==Wr){Xr=!0;var e=0;try{var t=Wr;vf(99,function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}}),Wr=null}catch(t){throw null!==Wr&&(Wr=Wr.slice(e+1)),kr(jr,O),t}finally{Xr=!1}}}function zf(e,t){return 1073741823===t?99:1===t?95:0>=(e=10*(1073741821-t)-10*(1073741821-e))?99:250>=e?98:5250>=e?97:95}function Af(e,t){if(e&&e.defaultProps)for(var r in t=s({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var Jr={current:null},Zr=null,en=null,tn=null;function Gf(){tn=en=Zr=null}function Hf(e,t){var r=e.type._context;J(Jr,r._currentValue),r._currentValue=t}function If(e){var t=Jr.current;H(Jr),e.type._context._currentValue=t}function Jf(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function Kf(e,t){Zr=e,tn=en=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Wn=!0),e.firstContext=null)}function Mf(e,r){if(tn!==e&&!1!==r&&0!==r)if("number"==typeof r&&1073741823!==r||(tn=e,r=1073741823),r={context:e,observedBits:r,next:null},null===en){if(null===Zr)throw t(Error(308));en=r,Zr.dependencies={expirationTime:0,firstContext:r,responders:null}}else en=en.next=r;return e._currentValue}var rn=!1;function Of(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Pf(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Qf(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Rf(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Sf(e,t){var r=e.alternate;if(null===r){var n=e.updateQueue,i=null;null===n&&(n=e.updateQueue=Of(e.memoizedState))}else n=e.updateQueue,i=r.updateQueue,null===n?null===i?(n=e.updateQueue=Of(e.memoizedState),i=r.updateQueue=Of(r.memoizedState)):n=e.updateQueue=Pf(i):null===i&&(i=r.updateQueue=Pf(n));null===i||n===i?Rf(n,t):null===n.lastUpdate||null===i.lastUpdate?(Rf(n,t),Rf(i,t)):(Rf(n,t),i.lastUpdate=t)}function Tf(e,t){var r=e.updateQueue;null===(r=null===r?e.updateQueue=Of(e.memoizedState):Uf(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t)}function Uf(e,t){var r=e.alternate;return null!==r&&t===r.updateQueue&&(t=e.updateQueue=Pf(t)),t}function Vf(e,t,r,n,i,a){switch(r.tag){case 1:return"function"==typeof(e=r.payload)?e.call(a,n,i):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(i="function"==typeof(e=r.payload)?e.call(a,n,i):e))break;return s({},n,i);case 2:rn=!0}return n}function Wf(e,t,r,n,i){rn=!1;for(var a=(t=Uf(e,t)).baseState,o=null,s=0,l=t.firstUpdate,u=a;null!==l;){var c=l.expirationTime;c<i?(null===o&&(o=l,a=u),s<c&&(s=c)):(Xf(c,l.suspenseConfig),u=Vf(e,0,l,u,r,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var f=l.expirationTime;f<i?(null===c&&(c=l,null===o&&(a=u)),s<f&&(s=f)):(u=Vf(e,0,l,u,r,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===o&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===c&&(a=u),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=u}function Yf(e,t,r){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Zf(t.firstEffect,r),t.firstEffect=t.lastEffect=null,Zf(t.firstCapturedEffect,r),t.firstCapturedEffect=t.lastCapturedEffect=null}function Zf(e,r){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=r;if("function"!=typeof n)throw t(Error(191),n);n.call(i)}e=e.nextEffect}}var nn=et.ReactCurrentBatchConfig,an=(new o.Component).refs;function bg(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:s({},t,r),e.memoizedState=r,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=r)}var on={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===ld(e)},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=cg(),i=nn.suspense;(i=Qf(n=dg(n,e,i),i)).payload=t,null!=r&&(i.callback=r),Sf(e,i),eg(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=cg(),i=nn.suspense;(i=Qf(n=dg(n,e,i),i)).tag=1,i.payload=t,null!=r&&(i.callback=r),Sf(e,i),eg(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=cg(),n=nn.suspense;(n=Qf(r=dg(r,e,n),n)).tag=2,null!=t&&(n.callback=t),Sf(e,n),eg(e,r)}};function gg(e,t,r,n,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!jd(r,n)||!jd(i,a))}function hg(e,t,r){var n=!1,i=Dr,a=t.contextType;return"object"==typeof a&&null!==a?a=Mf(a):(i=N(t)?Mr:Pr.current,a=(n=null!=(n=t.contextTypes))?Se(e,i):Dr),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=on,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ig(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&on.enqueueReplaceState(t,t.state,null)}function jg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=an;var a=t.contextType;"object"==typeof a&&null!==a?i.context=Mf(a):(a=N(t)?Mr:Pr.current,i.context=Se(e,a)),null!==(a=e.updateQueue)&&(Wf(e,a,r,i,n),i.state=e.memoizedState),"function"==typeof(a=t.getDerivedStateFromProps)&&(bg(e,t,a,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&on.enqueueReplaceState(i,i.state,null),null!==(a=e.updateQueue)&&(Wf(e,a,r,i,n),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var sn=Array.isArray;function lg(e,r,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var i=void 0;if(n){if(1!==n.tag)throw t(Error(309));i=n.stateNode}if(!i)throw t(Error(147),e);var a=""+e;return null!==r&&null!==r.ref&&"function"==typeof r.ref&&r.ref._stringRef===a?r.ref:((r=function(e){var t=i.refs;t===an&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,r)}if("string"!=typeof e)throw t(Error(284));if(!n._owner)throw t(Error(290),e)}return e}function mg(e,r){if("textarea"!==e.type)throw t(Error(31),"[object Object]"===Object.prototype.toString.call(r)?"object with keys {"+Object.keys(r).join(", ")+"}":r,"")}function ng(r){function b(e,t){if(r){var n=e.lastEffect;null!==n?(n.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t,t.nextEffect=null,t.effectTag=8}}function c(e,t){if(!r)return null;for(;null!==t;)b(e,t),t=t.sibling;return null}function d(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function e(e,t,r){return(e=og(e,t)).index=0,e.sibling=null,e}function f(e,t,n){return e.index=n,r?null!==(n=e.alternate)?(n=n.index)<t?(e.effectTag=2,t):n:(e.effectTag=2,t):t}function h(e){return r&&null===e.alternate&&(e.effectTag=2),e}function g(t,r,n,i){return null===r||6!==r.tag?((r=pg(n,t.mode,i)).return=t,r):((r=e(r,n)).return=t,r)}function k(t,r,n,i){return null!==r&&r.elementType===n.type?((i=e(r,n.props)).ref=lg(t,r,n),i.return=t,i):((i=qg(n.type,n.key,n.props,null,t.mode,i)).ref=lg(t,r,n),i.return=t,i)}function l(t,r,n,i){return null===r||4!==r.tag||r.stateNode.containerInfo!==n.containerInfo||r.stateNode.implementation!==n.implementation?((r=rg(n,t.mode,i)).return=t,r):((r=e(r,n.children||[])).return=t,r)}function n(t,r,n,i,a){return null===r||7!==r.tag?((r=sg(n,t.mode,i,a)).return=t,r):((r=e(r,n)).return=t,r)}function z(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=pg(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case nt:return(r=qg(t.type,t.key,t.props,null,e.mode,r)).ref=lg(e,null,t),r.return=e,r;case it:return(t=rg(t,e.mode,r)).return=e,t}if(sn(t)||mc(t))return(t=sg(t,e.mode,r,null)).return=e,t;mg(e,t)}return null}function x(e,t,r,i){var a=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==a?null:g(e,t,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case nt:return r.key===a?r.type===at?n(e,t,r.props.children,i,a):k(e,t,r,i):null;case it:return r.key===a?l(e,t,r,i):null}if(sn(r)||mc(r))return null!==a?null:n(e,t,r,i,null);mg(e,r)}return null}function v(e,t,r,i,a){if("string"==typeof i||"number"==typeof i)return g(t,e=e.get(r)||null,""+i,a);if("object"==typeof i&&null!==i){switch(i.$$typeof){case nt:return e=e.get(null===i.key?r:i.key)||null,i.type===at?n(t,e,i.props.children,a,i.key):k(t,e,i,a);case it:return l(t,e=e.get(null===i.key?r:i.key)||null,i,a)}if(sn(i)||mc(i))return n(t,e=e.get(r)||null,i,a,null);mg(t,i)}return null}function rb(e,t,n,i){for(var a=null,o=null,s=t,l=t=0,u=null;null!==s&&l<n.length;l++){s.index>l?(u=s,s=null):u=s.sibling;var p=x(e,s,n[l],i);if(null===p){null===s&&(s=u);break}r&&s&&null===p.alternate&&b(e,s),t=f(p,t,l),null===o?a=p:o.sibling=p,o=p,s=u}if(l===n.length)return c(e,s),a;if(null===s){for(;l<n.length;l++)null!==(s=z(e,n[l],i))&&(t=f(s,t,l),null===o?a=s:o.sibling=s,o=s);return a}for(s=d(e,s);l<n.length;l++)null!==(u=v(s,e,l,n[l],i))&&(r&&null!==u.alternate&&s.delete(null===u.key?l:u.key),t=f(u,t,l),null===o?a=u:o.sibling=u,o=u);return r&&s.forEach(function(t){return b(e,t)}),a}function Be(e,n,i,a){var o=mc(i);if("function"!=typeof o)throw t(Error(150));if(null==(i=o.call(i)))throw t(Error(151));for(var s=o=null,l=n,u=n=0,p=null,h=i.next();null!==l&&!h.done;u++,h=i.next()){l.index>u?(p=l,l=null):p=l.sibling;var g=x(e,l,h.value,a);if(null===g){null===l&&(l=p);break}r&&l&&null===g.alternate&&b(e,l),n=f(g,n,u),null===s?o=g:s.sibling=g,s=g,l=p}if(h.done)return c(e,l),o;if(null===l){for(;!h.done;u++,h=i.next())null!==(h=z(e,h.value,a))&&(n=f(h,n,u),null===s?o=h:s.sibling=h,s=h);return o}for(l=d(e,l);!h.done;u++,h=i.next())null!==(h=v(l,e,u,h.value,a))&&(r&&null!==h.alternate&&l.delete(null===h.key?u:h.key),n=f(h,n,u),null===s?o=h:s.sibling=h,s=h);return r&&l.forEach(function(t){return b(e,t)}),o}return function(r,n,i,a){var o="object"==typeof i&&null!==i&&i.type===at&&null===i.key;o&&(i=i.props.children);var s="object"==typeof i&&null!==i;if(s)switch(i.$$typeof){case nt:e:{for(s=i.key,o=n;null!==o;){if(o.key===s){if(7===o.tag?i.type===at:o.elementType===i.type){c(r,o.sibling),(n=e(o,i.type===at?i.props.children:i.props)).ref=lg(r,o,i),n.return=r,r=n;break e}c(r,o);break}b(r,o),o=o.sibling}i.type===at?((n=sg(i.props.children,r.mode,a,i.key)).return=r,r=n):((a=qg(i.type,i.key,i.props,null,r.mode,a)).ref=lg(r,n,i),a.return=r,r=a)}return h(r);case it:e:{for(o=i.key;null!==n;){if(n.key===o){if(4===n.tag&&n.stateNode.containerInfo===i.containerInfo&&n.stateNode.implementation===i.implementation){c(r,n.sibling),(n=e(n,i.children||[])).return=r,r=n;break e}c(r,n);break}b(r,n),n=n.sibling}(n=rg(i,r.mode,a)).return=r,r=n}return h(r)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==n&&6===n.tag?(c(r,n.sibling),(n=e(n,i)).return=r,r=n):(c(r,n),(n=pg(i,r.mode,a)).return=r,r=n),h(r);if(sn(i))return rb(r,n,i,a);if(mc(i))return Be(r,n,i,a);if(s&&mg(r,i),void 0===i&&!o)switch(r.tag){case 1:case 0:throw r=r.type,t(Error(152),r.displayName||r.name||"Component")}return c(r,n)}}var ln=ng(!0),un=ng(!1),cn={},fn={current:cn},dn={current:cn},pn={current:cn};function zg(e){if(e===cn)throw t(Error(174));return e}function Ag(e,t){J(pn,t),J(dn,e),J(fn,cn);var r=t.nodeType;switch(r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:te(null,"");break;default:t=te(t=(r=8===r?t.parentNode:t).namespaceURI||null,r=r.tagName)}H(fn),J(fn,t)}function Bg(e){H(fn),H(dn),H(pn)}function Cg(e){zg(pn.current);var t=zg(fn.current),r=te(t,e.type);t!==r&&(J(dn,e),J(fn,r))}function Dg(e){dn.current===e&&(H(fn),H(dn))}var hn=1,gn=1,mn=2,yn={current:0};function Hg(e){for(var t=e;null!==t;){if(13===t.tag){if(null!==t.memoizedState)return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vn=0,_n=2,bn=4,En=8,Tn=16,Sn=32,wn=64,Rn=128,An=et.ReactCurrentDispatcher,Cn=0,xn=null,Dn=null,Pn=null,In=null,Mn=null,On=null,kn=0,Ln=null,Nn=0,Fn=!1,Bn=null,Un=0;function bh(){throw t(Error(321))}function ch(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!hd(e[r],t[r]))return!1;return!0}function dh(e,r,n,i,a,o){if(Cn=o,xn=r,Pn=null!==e?e.memoizedState:null,An.current=null===Pn?qn:Gn,r=n(i,a),Fn){do{Fn=!1,Un+=1,Pn=null!==e?e.memoizedState:null,On=In,Ln=Mn=Dn=null,An.current=Gn,r=n(i,a)}while(Fn);Bn=null,Un=0}if(An.current=jn,(e=xn).memoizedState=In,e.expirationTime=kn,e.updateQueue=Ln,e.effectTag|=Nn,e=null!==Dn&&null!==Dn.next,Cn=0,On=Mn=In=Pn=Dn=xn=null,kn=0,Ln=null,Nn=0,e)throw t(Error(300));return r}function ih(){An.current=jn,Cn=0,On=Mn=In=Pn=Dn=xn=null,kn=0,Ln=null,Nn=0,Fn=!1,Bn=null,Un=0}function jh(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Mn?In=Mn=e:Mn=Mn.next=e,Mn}function kh(){if(null!==On)On=(Mn=On).next,Pn=null!==(Dn=Pn)?Dn.next:null;else{if(null===Pn)throw t(Error(310));var e={memoizedState:(Dn=Pn).memoizedState,baseState:Dn.baseState,queue:Dn.queue,baseUpdate:Dn.baseUpdate,next:null};Mn=null===Mn?In=e:Mn.next=e,Pn=Dn.next}return Mn}function lh(e,t){return"function"==typeof t?t(e):t}function mh(e){var r=kh(),n=r.queue;if(null===n)throw t(Error(311));if(n.lastRenderedReducer=e,0<Un){var i=n.dispatch;if(null!==Bn){var a=Bn.get(n);if(void 0!==a){Bn.delete(n);var o=r.memoizedState;do{o=e(o,a.action),a=a.next}while(null!==a);return hd(o,r.memoizedState)||(Wn=!0),r.memoizedState=o,r.baseUpdate===n.last&&(r.baseState=o),n.lastRenderedState=o,[o,i]}}return[r.memoizedState,i]}i=n.last;var s=r.baseUpdate;if(o=r.baseState,null!==s?(null!==i&&(i.next=null),i=s.next):i=null!==i?i.next:null,null!==i){var l=a=null,u=i,c=!1;do{var f=u.expirationTime;f<Cn?(c||(c=!0,l=s,a=o),f>kn&&(kn=f)):(Xf(f,u.suspenseConfig),o=u.eagerReducer===e?u.eagerState:e(o,u.action)),s=u,u=u.next}while(null!==u&&u!==i);c||(l=s,a=o),hd(o,r.memoizedState)||(Wn=!0),r.memoizedState=o,r.baseUpdate=l,r.baseState=a,n.lastRenderedState=o}return[r.memoizedState,n.dispatch]}function nh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===Ln?(Ln={lastEffect:null}).lastEffect=e.next=e:null===(t=Ln.lastEffect)?Ln.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,Ln.lastEffect=e),e}function oh(e,t,r,n){var i=jh();Nn|=e,i.memoizedState=nh(t,r,void 0,void 0===n?null:n)}function ph(e,t,r,n){var i=kh();n=void 0===n?null:n;var a=void 0;if(null!==Dn){var o=Dn.memoizedState;if(a=o.destroy,null!==n&&ch(n,o.deps))return void nh(vn,r,a,n)}Nn|=e,i.memoizedState=nh(t,r,a,n)}function qh(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function rh(){}function sh(e,r,n){if(!(25>Un))throw t(Error(301));var i=e.alternate;if(e===xn||null!==i&&i===xn)if(Fn=!0,e={expirationTime:Cn,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Bn&&(Bn=new Map),void 0===(n=Bn.get(r)))Bn.set(r,e);else{for(r=n;null!==r.next;)r=r.next;r.next=e}else{var a=cg(),o=nn.suspense;o={expirationTime:a=dg(a,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=r.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(r.last=o,0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=r.lastRenderedReducer))try{var u=r.lastRenderedState,c=i(u,n);if(o.eagerReducer=i,o.eagerState=c,hd(c,u))return}catch(e){}eg(e,a)}}var jn={readContext:Mf,useCallback:bh,useContext:bh,useEffect:bh,useImperativeHandle:bh,useLayoutEffect:bh,useMemo:bh,useReducer:bh,useRef:bh,useState:bh,useDebugValue:bh,useResponder:bh},qn={readContext:Mf,useCallback:function(e,t){return jh().memoizedState=[e,void 0===t?null:t],e},useContext:Mf,useEffect:function(e,t){return oh(516,Rn|wn,e,t)},useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,oh(4,bn|Sn,qh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return oh(4,bn|Sn,e,t)},useMemo:function(e,t){var r=jh();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jh();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=sh.bind(null,xn,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},jh().memoizedState=e},useState:function(e){var t=jh();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:lh,lastRenderedState:e}).dispatch=sh.bind(null,xn,e),[t.memoizedState,e]},useDebugValue:rh,useResponder:kd},Gn={readContext:Mf,useCallback:function(e,t){var r=kh();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ch(t,n[1])?n[0]:(r.memoizedState=[e,t],e)},useContext:Mf,useEffect:function(e,t){return ph(516,Rn|wn,e,t)},useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,ph(4,bn|Sn,qh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ph(4,bn|Sn,e,t)},useMemo:function(e,t){var r=kh();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ch(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)},useReducer:mh,useRef:function(){return kh().memoizedState},useState:function(e){return mh(lh)},useDebugValue:rh,useResponder:kd},Hn=null,Vn=null,zn=!1;function wh(e,t){var r=xh(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function yh(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function zh(e){if(zn){var t=Vn;if(t){var r=t;if(!yh(e,t)){if(!(t=Ne(r.nextSibling))||!yh(e,t))return e.effectTag|=2,zn=!1,void(Hn=e);wh(Hn,r)}Hn=e,Vn=Ne(t.firstChild)}else e.effectTag|=2,zn=!1,Hn=e}}function Ah(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;Hn=e}function Bh(e){if(e!==Hn)return!1;if(!zn)return Ah(e),zn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ke(t,e.memoizedProps))for(t=Vn;t;)wh(e,t),t=Ne(t.nextSibling);return Ah(e),Vn=Hn?Ne(e.stateNode.nextSibling):null,!0}function Ch(){Vn=Hn=null,zn=!1}var Kn=et.ReactCurrentOwner,Wn=!1;function S(e,t,r,n){t.child=null===e?un(t,null,r,n):ln(t,e.child,r,n)}function Eh(e,t,r,n,i){r=r.render;var a=t.ref;return Kf(t,i),n=dh(e,t,r,n,a,i),null===e||Wn?(t.effectTag|=1,S(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Fh(e,t,i))}function Gh(e,t,r,n,i,a){if(null===e){var o=r.type;return"function"!=typeof o||Hh(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=qg(r.type,null,n,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ih(e,t,o,n,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(r=null!==(r=r.compare)?r:jd)(i,n)&&e.ref===t.ref)?Fh(e,t,a):(t.effectTag|=1,(e=og(o,n)).ref=t.ref,e.return=t,t.child=e)}function Ih(e,t,r,n,i,a){return null!==e&&jd(e.memoizedProps,n)&&e.ref===t.ref&&(Wn=!1,i<a)?Fh(e,t,a):Jh(e,t,r,n,a)}function Kh(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Jh(e,t,r,n,i){var a=N(r)?Mr:Pr.current;return a=Se(t,a),Kf(t,i),r=dh(e,t,r,n,a,i),null===e||Wn?(t.effectTag|=1,S(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Fh(e,t,i))}function Lh(e,t,r,n,i){if(N(r)){var a=!0;Xe(t)}else a=!1;if(Kf(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),hg(t,r,n),jg(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;"object"==typeof u&&null!==u?u=Mf(u):u=Se(t,u=N(r)?Mr:Pr.current);var c=r.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==n||l!==u)&&ig(t,o,n,u),rn=!1;var d=t.memoizedState;l=o.state=d;var p=t.updateQueue;null!==p&&(Wf(t,p,n,o,i),l=t.memoizedState),s!==n||d!==l||Ir.current||rn?("function"==typeof c&&(bg(t,r,c,n),l=t.memoizedState),(s=rn||gg(t,r,s,n,d,l,u))?(f||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):("function"==typeof o.componentDidMount&&(t.effectTag|=4),n=!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:Af(t.type,s),l=o.context,"object"==typeof(u=r.contextType)&&null!==u?u=Mf(u):u=Se(t,u=N(r)?Mr:Pr.current),(f="function"==typeof(c=r.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==n||l!==u)&&ig(t,o,n,u),rn=!1,l=t.memoizedState,d=o.state=l,null!==(p=t.updateQueue)&&(Wf(t,p,n,o,i),d=t.memoizedState),s!==n||l!==d||Ir.current||rn?("function"==typeof c&&(bg(t,r,c,n),d=t.memoizedState),(c=rn||gg(t,r,s,n,l,d,u))?(f||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,d,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,d,u)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=u,n=c):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return Mh(e,t,r,n,a,i)}function Mh(e,t,r,n,i,a){Kh(e,t);var o=0!=(64&t.effectTag);if(!n&&!o)return i&&Ye(t,r,!1),Fh(e,t,a);n=t.stateNode,Kn.current=t;var s=o&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&o?(t.child=ln(t,e.child,null,a),t.child=ln(t,null,s,a)):S(e,t,s,a),t.memoizedState=n.state,i&&Ye(t,r,!0),t.child}function Nh(e){var t=e.stateNode;t.pendingContext?Ve(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ve(0,t.context,!1),Ag(e,t.containerInfo)}var Yn={};function Ph(e,t,r){var n,i=t.mode,a=t.pendingProps,o=yn.current,s=null,l=!1;if((n=0!=(64&t.effectTag))||(n=0!=(o&mn)&&(null===e||null!==e.memoizedState)),n?(s=Yn,l=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=gn),J(yn,o&=hn),null===e)if(l){if(a=a.fallback,(e=sg(null,i,0,null)).return=t,0==(2&t.mode))for(l=null!==t.memoizedState?t.child.child:t.child,e.child=l;null!==l;)l.return=e,l=l.sibling;(r=sg(a,i,r,null)).return=t,e.sibling=r,i=e}else i=r=un(t,null,a.children,r);else{if(null!==e.memoizedState)if(i=(o=e.child).sibling,l){if(a=a.fallback,(r=og(o,o.pendingProps)).return=t,0==(2&t.mode)&&(l=null!==t.memoizedState?t.child.child:t.child)!==o.child)for(r.child=l;null!==l;)l.return=r,l=l.sibling;(a=og(i,a,i.expirationTime)).return=t,r.sibling=a,i=r,r.childExpirationTime=0,r=a}else i=r=ln(t,o.child,a.children,r);else if(o=e.child,l){if(l=a.fallback,(a=sg(null,i,0,null)).return=t,a.child=o,null!==o&&(o.return=a),0==(2&t.mode))for(o=null!==t.memoizedState?t.child.child:t.child,a.child=o;null!==o;)o.return=a,o=o.sibling;(r=sg(l,i,r,null)).return=t,a.sibling=r,r.effectTag|=2,i=a,a.childExpirationTime=0}else r=i=ln(t,o,a.children,r);t.stateNode=e.stateNode}return t.memoizedState=s,t.child=i,r}function Qh(e,t,r,n,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:n,tail:r,tailExpiration:0,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.last=n,a.tail=r,a.tailExpiration=0,a.tailMode=i)}function Rh(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(S(e,t,n.children,r),0!=((n=yn.current)&mn))n=n&hn|mn,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<r&&(e.expirationTime=r);var o=e.alternate;null!==o&&o.expirationTime<r&&(o.expirationTime=r),Jf(e.return,r)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=hn}if(J(yn,n),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(n=r.alternate)&&null===Hg(n)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Qh(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(n=i.alternate)&&null===Hg(n)){t.child=i;break}n=i.sibling,i.sibling=r,r=i,i=n}Qh(t,!0,r,null,a);break;case"together":Qh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fh(e,r,n){if(null!==e&&(r.dependencies=e.dependencies),r.childExpirationTime<n)return null;if(null!==e&&r.child!==e.child)throw t(Error(153));if(null!==r.child){for(n=og(e=r.child,e.pendingProps,e.expirationTime),r.child=n,n.return=r;null!==e.sibling;)e=e.sibling,(n=n.sibling=og(e,e.pendingProps,e.expirationTime)).return=r;n.sibling=null}return r.child}function Sh(e){e.effectTag|=4}var Xn=void 0,Qn=void 0,$n=void 0,Jn=void 0;function $h(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ai(e){switch(e.tag){case 1:N(e.type)&&Te();var r=e.effectTag;return 2048&r?(e.effectTag=-2049&r|64,e):null;case 3:if(Bg(),Ue(),0!=(64&(r=e.effectTag)))throw t(Error(285));return e.effectTag=-2049&r|64,e;case 5:return Dg(e),null;case 13:return H(yn),2048&(r=e.effectTag)?(e.effectTag=-2049&r|64,e):null;case 18:return null;case 19:return H(yn),null;case 4:return Bg(),null;case 10:return If(e),null;default:return null}}function bi(e,t){return{value:e,source:t,stack:pc(t)}}Xn=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(20===r.tag)e.appendChild(r.stateNode.instance);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Qn=function(){},$n=function(e,t,r,n,i){var a=e.memoizedProps;if(a!==n){var o=t.stateNode;switch(zg(fn.current),e=null,r){case"input":a=Bc(o,a),n=Bc(o,n),e=[];break;case"option":a=le(o,a),n=le(o,n),e=[];break;case"select":a=s({},a,{value:void 0}),n=s({},n,{value:void 0}),e=[];break;case"textarea":a=ne(o,a),n=ne(o,n),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(o.onclick=Ge)}De(r,n),o=r=void 0;var l=null;for(r in a)if(!n.hasOwnProperty(r)&&a.hasOwnProperty(r)&&null!=a[r])if("style"===r){var u=a[r];for(o in u)u.hasOwnProperty(o)&&(l||(l={}),l[o]="")}else"dangerouslySetInnerHTML"!==r&&"children"!==r&&"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(T.hasOwnProperty(r)?e||(e=[]):(e=e||[]).push(r,null));for(r in n){var c=n[r];if(u=null!=a?a[r]:void 0,n.hasOwnProperty(r)&&c!==u&&(null!=c||null!=u))if("style"===r)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(l||(l={}),l[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(l||(l={}),l[o]=c[o])}else l||(e||(e=[]),e.push(r,l)),l=c;else"dangerouslySetInnerHTML"===r?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(r,""+c)):"children"===r?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(r,""+c):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&(T.hasOwnProperty(r)?(null!=c&&Fe(i,r),e||u===c||(e=[])):(e=e||[]).push(r,c))}l&&(e=e||[]).push("style",l),i=e,(t.updateQueue=i)&&Sh(t)}},Jn=function(e,t,r,n){r!==n&&Sh(t)};var Zn="function"==typeof WeakSet?WeakSet:Set;function di(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=pc(r)),null!==r&&oc(r.type),t=t.value,null!==e&&1===e.tag&&oc(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function gi(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){fi(e,t)}else t.current=null}function hi(e,t,r){if(null!==(r=null!==(r=r.updateQueue)?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)!==vn){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}(n.tag&t)!==vn&&(i=n.create,n.destroy=i()),n=n.next}while(n!==r)}}function ii(e,t){switch("function"==typeof oa&&oa(e),e.tag){case 0:case 11:case 14:case 15:var r=e.updateQueue;if(null!==r&&null!==(r=r.lastEffect)){var n=r.next;vf(97<t?97:t,function(){var t=n;do{var r=t.destroy;if(void 0!==r){var i=e;try{r()}catch(e){fi(i,e)}}t=t.next}while(t!==n)})}break;case 1:gi(e),"function"==typeof(t=e.stateNode).componentWillUnmount&&function ei(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){fi(e,t)}}(e,t);break;case 5:gi(e);break;case 4:ki(e,t)}}function li(e,t){for(var r=e;;)if(ii(r,t),null!==r.child&&4!==r.tag)r.child.return=r,r=r.child;else{if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function mi(e){return 5===e.tag||3===e.tag||4===e.tag}function ni(e){e:{for(var r=e.return;null!==r;){if(mi(r)){var n=r;break e}r=r.return}throw t(Error(160))}switch(r=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:r=r.containerInfo,i=!0;break;default:throw t(Error(161))}16&n.effectTag&&(we(r,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||mi(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){var o=5===a.tag||6===a.tag;if(o||20===a.tag){var s=o?a.stateNode:a.stateNode.instance;if(n)if(i){var l=s;s=n,8===(o=r).nodeType?o.parentNode.insertBefore(l,s):o.insertBefore(l,s)}else r.insertBefore(s,n);else i?(8===(l=r).nodeType?(o=l.parentNode).insertBefore(s,l):(o=l).appendChild(s),null!=(l=l._reactRootContainer)||null!==o.onclick||(o.onclick=Ge)):r.appendChild(s)}else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function ki(e,r){for(var n=e,i=!1,a=void 0,o=void 0;;){if(!i){i=n.return;e:for(;;){if(null===i)throw t(Error(160));switch(a=i.stateNode,i.tag){case 5:o=!1;break e;case 3:case 4:a=a.containerInfo,o=!0;break e}i=i.return}i=!0}if(5===n.tag||6===n.tag)if(li(n,r),o){var s=a,l=n.stateNode;8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)}else a.removeChild(n.stateNode);else if(20===n.tag)l=n.stateNode.instance,li(n,r),o?8===(s=a).nodeType?s.parentNode.removeChild(l):s.removeChild(l):a.removeChild(l);else if(4===n.tag){if(null!==n.child){a=n.stateNode.containerInfo,o=!0,n.child.return=n,n=n.child;continue}}else if(ii(n,r),null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;4===(n=n.return).tag&&(i=!1)}n.sibling.return=n.return,n=n.sibling}}function oi(e,r){switch(r.tag){case 0:case 11:case 14:case 15:hi(bn,En,r);break;case 1:break;case 5:var n=r.stateNode;if(null!=n){var i=r.memoizedProps,a=null!==e?e.memoizedProps:i;e=r.type;var o=r.updateQueue;if(r.updateQueue=null,null!==o){for(n[V]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Dc(n,i),Ee(e,a),r=Ee(e,i),a=0;a<o.length;a+=2){var s=o[a],l=o[a+1];"style"===s?Ae(n,l):"dangerouslySetInnerHTML"===s?_r(n,l):"children"===s?we(n,l):zc(n,s,l,r)}switch(e){case"input":Ec(n,i);break;case"textarea":pe(n,i);break;case"select":r=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?me(n,!!i.multiple,e,!1):r!==!!i.multiple&&(null!=i.defaultValue?me(n,!!i.multiple,i.defaultValue,!0):me(n,!!i.multiple,i.multiple?[]:"",!1))}}}break;case 6:if(null===r.stateNode)throw t(Error(162));r.stateNode.nodeValue=r.memoizedProps;break;case 3:case 12:break;case 13:if(n=r,null===r.memoizedState?i=!1:(i=!0,n=r.child,Bi=$r()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,a=null!=(a=e.memoizedProps.style)&&a.hasOwnProperty("display")?a.display:null,o.style.display=ze("display",a));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}qi(r);break;case 19:qi(r);break;case 17:case 20:break;default:throw t(Error(163))}}function qi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Zn),t.forEach(function(t){var n=function ri(e,t){var r=e.stateNode;null!==r&&r.delete(t),r=cg(),t=dg(r,e,null),r=zf(r,t),null!==(e=Yi(e,t))&&Zi(e,r,t)}.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}var si="function"==typeof WeakMap?WeakMap:Map;function ti(e,t,r){(r=Qf(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Gi||(Gi=!0,Hi=n),di(e,t)},r}function wi(e,t,r){(r=Qf(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return di(e,t),n(i)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Vi?Vi=new Set([this]):Vi.add(this),di(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var ui=Math.ceil,ci=et.ReactCurrentDispatcher,pi=et.ReactCurrentOwner,yi=0,vi=8,_i=16,Ei=32,Ti=0,Si=1,Ri=2,Ai=3,Ci=4,xi=yi,Di=null,Pi=null,Ii=0,Mi=Ti,Oi=1073741823,Li=1073741823,Ni=null,Fi=!1,Bi=0,Ui=500,ji=null,Gi=!1,Hi=null,Vi=null,zi=!1,Ki=null,Wi=90,Xi=0,Qi=null,Ji=0,ea=null,ta=0;function cg(){return(xi&(_i|Ei))!==yi?1073741821-($r()/10|0):0!==ta?ta:ta=1073741821-($r()/10|0)}function dg(e,r,n){if(0==(2&(r=r.mode)))return 1073741823;var i=tf();if(0==(4&r))return 99===i?1073741823:1073741822;if((xi&_i)!==yi)return Ii;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(i){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=1;break;default:throw t(Error(326))}return null!==Di&&e===Ii&&--e,e}var na=0;function eg(e,r){if(50<Ji)throw Ji=0,ea=null,t(Error(185));if(null!==(e=Yi(e,r))){e.pingTime=0;var n=tf();if(1073741823===r)if((xi&vi)!==yi&&(xi&(_i|Ei))===yi)for(var i=Z(e,1073741823,!0);null!==i;)i=i(!0);else Zi(e,99,1073741823),xi===yi&&O();else Zi(e,n,r);(4&xi)===yi||98!==n&&99!==n||(null===Qi?Qi=new Map([[e,r]]):(void 0===(n=Qi.get(e))||n>r)&&Qi.set(e,r))}}function Yi(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(t>i.firstPendingTime&&(i.firstPendingTime=t),0===(e=i.lastPendingTime)||t<e)&&(i.lastPendingTime=t),i}function Zi(e,t,r){if(e.callbackExpirationTime<r){var n=e.callbackNode;null!==n&&n!==zr&&Lr(n),e.callbackExpirationTime=r,1073741823===r?e.callbackNode=xf($i.bind(null,e,Z.bind(null,e,r))):(n=null,1!==r&&(n={timeout:10*(1073741821-r)-$r()}),e.callbackNode=wf(t,$i.bind(null,e,Z.bind(null,e,r)),n))}}function $i(e,t,r){var n=e.callbackNode,i=null;try{return null!==(i=t(r))?$i.bind(null,e,i):null}finally{null===i&&n===e.callbackNode&&(e.callbackNode=null,e.callbackExpirationTime=0)}}function aj(){(xi&(1|_i|Ei))===yi&&(function bj(){if(null!==Qi){var e=Qi;Qi=null,e.forEach(function(e,t){xf(Z.bind(null,t,e))}),O()}}(),cj())}function ej(e,t){var r=xi;xi|=1;try{return e(t)}finally{(xi=r)===yi&&O()}}function fj(e,t,r,n){var i=xi;xi|=4;try{return vf(98,e.bind(null,t,r,n))}finally{(xi=i)===yi&&O()}}function gj(e,t){var r=xi;xi&=-2,xi|=vi;try{return e(t)}finally{(xi=r)===yi&&O()}}function hj(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,Ar(r)),null!==Pi)for(r=Pi.return;null!==r;){var n=r;switch(n.tag){case 1:var i=n.type.childContextTypes;null!=i&&Te();break;case 3:Bg(),Ue();break;case 5:Dg(n);break;case 4:Bg();break;case 13:case 19:H(yn);break;case 10:If(n)}r=r.return}Di=e,Pi=og(e.current,null),Ii=t,Mi=Ti,Li=Oi=1073741823,Ni=null,Fi=!1}function Z(e,r,n){if((xi&(_i|Ei))!==yi)throw t(Error(327));if(e.firstPendingTime<r)return null;if(n&&e.finishedExpirationTime===r)return ij.bind(null,e);if(cj(),e!==Di||r!==Ii)hj(e,r);else if(Mi===Ai)if(Fi)hj(e,r);else{var i=e.lastPendingTime;if(i<r)return Z.bind(null,e,i)}if(null!==Pi){i=xi,xi|=_i;var a=ci.current;if(null===a&&(a=jn),ci.current=jn,n){if(1073741823!==r){var o=cg();if(o<r)return xi=i,Gf(),ci.current=a,Z.bind(null,e,o)}}else ta=0;for(;;)try{if(n)for(;null!==Pi;)Pi=jj(Pi);else for(;null!==Pi&&!Nr();)Pi=jj(Pi);break}catch(t){if(Gf(),ih(),null===(o=Pi)||null===o.return)throw hj(e,r),xi=i,t;e:{var s=e,l=o.return,u=o,c=t,f=Ii;if(u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,p=0!=(yn.current&gn);c=l;do{var h;if((h=13===c.tag)&&(null!==c.memoizedState?h=!1:h=void 0!==(h=c.memoizedProps).fallback&&(!0!==h.unstable_avoidThisFallback||!p)),h){if(null===(l=c.updateQueue)?((l=new Set).add(d),c.updateQueue=l):l.add(d),0==(2&c.mode)){c.effectTag|=64,u.effectTag&=-1957,1===u.tag&&(null===u.alternate?u.tag=17:((f=Qf(1073741823,null)).tag=2,Sf(u,f))),u.expirationTime=1073741823;break e}u=s,s=f,null===(p=u.pingCache)?(p=u.pingCache=new si,l=new Set,p.set(d,l)):void 0===(l=p.get(d))&&(l=new Set,p.set(d,l)),l.has(s)||(l.add(s),u=kj.bind(null,u,d,s),d.then(u,u)),c.effectTag|=2048,c.expirationTime=f;break e}c=c.return}while(null!==c);c=Error((oc(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+pc(u))}Mi!==Ci&&(Mi=Si),c=bi(c,u),u=l;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=f,Tf(u,f=ti(u,c,f));break e;case 1:if(d=c,s=u.type,l=u.stateNode,0==(64&u.effectTag)&&("function"==typeof s.getDerivedStateFromError||null!==l&&"function"==typeof l.componentDidCatch&&(null===Vi||!Vi.has(l)))){u.effectTag|=2048,u.expirationTime=f,Tf(u,f=wi(u,d,f));break e}}u=u.return}while(null!==u)}Pi=lj(o)}if(xi=i,Gf(),ci.current=a,null!==Pi)return Z.bind(null,e,r)}if(e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,function dj(e,t){var r=e.firstBatch;return!!(null!==r&&r._defer&&r._expirationTime>=t)&&(wf(97,function(){return r._onComplete(),null}),!0)}(e,r))return null;switch(Di=null,Mi){case Ti:throw t(Error(328));case Si:return(i=e.lastPendingTime)<r?Z.bind(null,e,i):n?ij.bind(null,e):(hj(e,r),xf(Z.bind(null,e,r)),null);case Ri:return 1073741823===Oi&&!n&&10<(n=Bi+Ui-$r())?Fi?(hj(e,r),Z.bind(null,e,r)):(i=e.lastPendingTime)<r?Z.bind(null,e,i):(e.timeoutHandle=Rr(ij.bind(null,e),n),null):ij.bind(null,e);case Ai:if(!n){if(Fi)return hj(e,r),Z.bind(null,e,r);if((n=e.lastPendingTime)<r)return Z.bind(null,e,n);if(1073741823!==Li?n=10*(1073741821-Li)-$r():1073741823===Oi?n=0:(n=10*(1073741821-Oi)-5e3,0>(n=(i=$r())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ui(n/1960))-n)&&(n=r)),10<n)return e.timeoutHandle=Rr(ij.bind(null,e),n),null}return ij.bind(null,e);case Ci:return!n&&1073741823!==Oi&&null!==Ni&&(i=Oi,0>=(r=0|(a=Ni).busyMinDurationMs)?r=0:(n=0|a.busyDelayMs,r=(i=$r()-(10*(1073741821-i)-(0|a.timeoutMs||5e3)))<=n?0:n+r-i),10<r)?(e.timeoutHandle=Rr(ij.bind(null,e),r),null):ij.bind(null,e);default:throw t(Error(329))}}function Xf(e,t){e<Oi&&1<e&&(Oi=e),null!==t&&e<Li&&1<e&&(Li=e,Ni=t)}function jj(e){var t=ia(e.alternate,e,Ii);return e.memoizedProps=e.pendingProps,null===t&&(t=lj(e)),pi.current=null,t}function lj(e){Pi=e;do{var r=Pi.alternate;if(e=Pi.return,0==(1024&Pi.effectTag)){e:{var n=r,i=Ii,a=(r=Pi).pendingProps;switch(r.tag){case 2:case 16:break;case 15:case 0:break;case 1:N(r.type)&&Te();break;case 3:Bg(),Ue(),(i=r.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==n&&null!==n.child||(Bh(r),r.effectTag&=-3),Qn(r);break;case 5:Dg(r),i=zg(pn.current);var o=r.type;if(null!==n&&null!=r.stateNode)$n(n,r,o,a,i),n.ref!==r.ref&&(r.effectTag|=128);else if(a){var l=zg(fn.current);if(Bh(r)){a=void 0,o=(n=r).stateNode;var u=n.type,c=n.memoizedProps;switch(o[q]=n,o[V]=c,u){case"iframe":case"object":case"embed":G("load",o);break;case"video":case"audio":for(var f=0;f<ue.length;f++)G(ue[f],o);break;case"source":G("error",o);break;case"img":case"image":case"link":G("error",o),G("load",o);break;case"form":G("reset",o),G("submit",o);break;case"details":G("toggle",o);break;case"input":Cc(o,c),G("invalid",o),Fe(i,"onChange");break;case"select":o._wrapperState={wasMultiple:!!c.multiple},G("invalid",o),Fe(i,"onChange");break;case"textarea":oe(o,c),G("invalid",o),Fe(i,"onChange")}for(a in De(u,c),f=null,c)c.hasOwnProperty(a)&&(l=c[a],"children"===a?"string"==typeof l?o.textContent!==l&&(f=["children",l]):"number"==typeof l&&o.textContent!==""+l&&(f=["children",""+l]):T.hasOwnProperty(a)&&null!=l&&Fe(i,a));switch(u){case"input":Vb(o),Gc(o,c,!0);break;case"textarea":Vb(o),qe(o);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(o.onclick=Ge)}i=f,n.updateQueue=i,null!==i&&Sh(r)}else{c=o,n=a,u=r,f=9===i.nodeType?i:i.ownerDocument,l===yr.html&&(l=se(c)),l===yr.html?"script"===c?((c=f.createElement("div")).innerHTML="<script><\/script>",f=c.removeChild(c.firstChild)):"string"==typeof n.is?f=f.createElement(c,{is:n.is}):(f=f.createElement(c),"select"===c&&(c=f,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):f=f.createElementNS(l,c),(c=f)[q]=u,c[V]=n,Xn(n=c,r,!1,!1),u=n;var d=i,p=Ee(o,a);switch(o){case"iframe":case"object":case"embed":G("load",u),i=a;break;case"video":case"audio":for(i=0;i<ue.length;i++)G(ue[i],u);i=a;break;case"source":G("error",u),i=a;break;case"img":case"image":case"link":G("error",u),G("load",u),i=a;break;case"form":G("reset",u),G("submit",u),i=a;break;case"details":G("toggle",u),i=a;break;case"input":Cc(u,a),i=Bc(u,a),G("invalid",u),Fe(d,"onChange");break;case"option":i=le(u,a);break;case"select":u._wrapperState={wasMultiple:!!a.multiple},i=s({},a,{value:void 0}),G("invalid",u),Fe(d,"onChange");break;case"textarea":oe(u,a),i=ne(u,a),G("invalid",u),Fe(d,"onChange");break;default:i=a}De(o,i),c=void 0,f=o,l=u;var h=i;for(c in h)if(h.hasOwnProperty(c)){var g=h[c];"style"===c?Ae(l,g):"dangerouslySetInnerHTML"===c?null!=(g=g?g.__html:void 0)&&_r(l,g):"children"===c?"string"==typeof g?("textarea"!==f||""!==g)&&we(l,g):"number"==typeof g&&we(l,""+g):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(T.hasOwnProperty(c)?null!=g&&Fe(d,c):null!=g&&zc(l,c,g,p))}switch(o){case"input":Vb(u),Gc(u,a,!1);break;case"textarea":Vb(u),qe(u);break;case"option":null!=a.value&&u.setAttribute("value",""+Ac(a.value));break;case"select":i=u,u=a,i.multiple=!!u.multiple,null!=(c=u.value)?me(i,!!u.multiple,c,!1):null!=u.defaultValue&&me(i,!!u.multiple,u.defaultValue,!0);break;default:"function"==typeof i.onClick&&(u.onclick=Ge)}Je(o,a)&&Sh(r),r.stateNode=n}null!==r.ref&&(r.effectTag|=128)}else if(null===r.stateNode)throw t(Error(166));break;case 6:if(n&&null!=r.stateNode)Jn(n,r,n.memoizedProps,a);else{if("string"!=typeof a&&null===r.stateNode)throw t(Error(166));n=zg(pn.current),zg(fn.current),Bh(r)?(i=r.stateNode,n=r.memoizedProps,i[q]=r,i.nodeValue!==n&&Sh(r)):(i=r,(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[q]=r,i.stateNode=n)}break;case 11:break;case 13:if(H(yn),a=r.memoizedState,0!=(64&r.effectTag)){r.expirationTime=i;break e}i=null!==a,a=!1,null===n?Bh(r):(a=null!==(o=n.memoizedState),i||null===o||null!==(o=n.child.sibling)&&(null!==(u=r.firstEffect)?(r.firstEffect=o,o.nextEffect=u):(r.firstEffect=r.lastEffect=o,o.nextEffect=null),o.effectTag=8)),i&&!a&&0!=(2&r.mode)&&(null===n&&!0!==r.memoizedProps.unstable_avoidThisFallback||0!=(yn.current&gn)?Mi===Ti&&(Mi=Ri):Mi!==Ti&&Mi!==Ri||(Mi=Ai)),(i||a)&&(r.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Bg(),Qn(r);break;case 10:If(r);break;case 9:case 14:break;case 17:N(r.type)&&Te();break;case 18:break;case 19:if(H(yn),null===(a=r.memoizedState))break;if(o=0!=(64&r.effectTag),null===(u=a.rendering)){if(o)$h(a,!1);else if(Mi!==Ti||null!==n&&0!=(64&n.effectTag))for(n=r.child;null!==n;){if(null!==(u=Hg(n))){for(r.effectTag|=64,$h(a,!1),null!==(n=u.updateQueue)&&(r.updateQueue=n,r.effectTag|=4),r.firstEffect=r.lastEffect=null,n=r.child;null!==n;)o=i,(a=n).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childExpirationTime=0,a.expirationTime=o,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=u.childExpirationTime,a.expirationTime=u.expirationTime,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,o=u.dependencies,a.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),n=n.sibling;J(yn,yn.current&hn|mn),r=r.child;break e}n=n.sibling}}else{if(!o)if(null!==(n=Hg(u))){if(r.effectTag|=64,o=!0,$h(a,!0),null===a.tail&&"hidden"===a.tailMode){null!==(i=n.updateQueue)&&(r.updateQueue=i,r.effectTag|=4),null!==(r=r.lastEffect=a.lastEffect)&&(r.nextEffect=null);break}}else $r()>a.tailExpiration&&1<i&&(r.effectTag|=64,o=!0,$h(a,!1),r.expirationTime=r.childExpirationTime=i-1);a.isBackwards?(u.sibling=r.child,r.child=u):(null!==(i=a.last)?i.sibling=u:r.child=u,a.last=u)}if(null!==a.tail){0===a.tailExpiration&&(a.tailExpiration=$r()+500),i=a.tail,a.rendering=i,a.tail=i.sibling,a.lastEffect=r.lastEffect,i.sibling=null,n=yn.current,J(yn,n=o?n&hn|mn:n&hn),r=i;break e}break;case 20:break;default:throw t(Error(156))}r=null}if(i=Pi,1===Ii||1!==i.childExpirationTime){for(n=0,a=i.child;null!==a;)(o=a.expirationTime)>n&&(n=o),(u=a.childExpirationTime)>n&&(n=u),a=a.sibling;i.childExpirationTime=n}if(null!==r)return r;null!==e&&0==(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Pi.firstEffect),null!==Pi.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Pi.firstEffect),e.lastEffect=Pi.lastEffect),1<Pi.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Pi:e.firstEffect=Pi,e.lastEffect=Pi))}else{if(null!==(r=ai(Pi)))return r.effectTag&=1023,r;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==(r=Pi.sibling))return r;Pi=e}while(null!==Pi);return Mi===Ti&&(Mi=Ci),null}function ij(e){var r=tf();return vf(99,function nj(e,r){if(cj(),(xi&(_i|Ei))!==yi)throw t(Error(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw t(Error(177));e.callbackNode=null,e.callbackExpirationTime=0;var a=n.expirationTime,o=n.childExpirationTime;if(a=o>a?o:a,e.firstPendingTime=a,a<e.lastPendingTime&&(e.lastPendingTime=a),e===Di&&(Pi=Di=null,Ii=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,a=n.firstEffect):a=n:a=n.firstEffect,null!==a){o=xi,xi|=Ei,pi.current=null,Sr=lr;var s=ae();if(be(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch(e){l=null;break e}var d=0,p=-1,h=-1,g=0,m=0,y=s,v=null;t:for(;;){for(var _;y!==l||0!==c&&3!==y.nodeType||(p=d+c),y!==f||0!==u&&3!==y.nodeType||(h=d+u),3===y.nodeType&&(d+=y.nodeValue.length),null!==(_=y.firstChild);)v=y,y=_;for(;;){if(y===s)break t;if(v===l&&++g===c&&(p=d),v===f&&++m===u&&(h=d),null!==(_=y.nextSibling))break;v=(y=v).parentNode}y=_}l=-1===p||-1===h?null:{start:p,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;wr={focusedElem:s,selectionRange:l},lr=!1,ji=a;do{try{for(;null!==ji;){if(0!=(256&ji.effectTag)){var b=ji.alternate;switch((s=ji).tag){case 0:case 11:case 15:hi(_n,vn,s);break;case 1:if(256&s.effectTag&&null!==b){var E=b.memoizedProps,T=b.memoizedState,S=s.stateNode,w=S.getSnapshotBeforeUpdate(s.elementType===s.type?E:Af(s.type,E),T);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:case 5:case 6:case 4:case 17:break;default:throw t(Error(163))}}ji=ji.nextEffect}}catch(e){if(null===ji)throw t(Error(330));fi(ji,e),ji=ji.nextEffect}}while(null!==ji);ji=a;do{try{for(b=r;null!==ji;){var R=ji.effectTag;if(16&R&&we(ji.stateNode,""),128&R){var A=ji.alternate;if(null!==A){var C=A.ref;null!==C&&("function"==typeof C?C(null):C.current=null)}}switch(14&R){case 2:ni(ji),ji.effectTag&=-3;break;case 6:ni(ji),ji.effectTag&=-3,oi(ji.alternate,ji);break;case 4:oi(ji.alternate,ji);break;case 8:ki(E=ji,b),E.return=null,E.child=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null;var x=E.alternate;null!==x&&(x.return=null,x.child=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null)}ji=ji.nextEffect}}catch(e){if(null===ji)throw t(Error(330));fi(ji,e),ji=ji.nextEffect}}while(null!==ji);if(C=wr,A=ae(),R=C.focusedElem,b=C.selectionRange,A!==R&&R&&R.ownerDocument&&function $d(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$d(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}(R.ownerDocument.documentElement,R)){null!==b&&be(R)&&(A=b.start,void 0===(C=b.end)&&(C=A),"selectionStart"in R?(R.selectionStart=A,R.selectionEnd=Math.min(C,R.value.length)):(C=(A=R.ownerDocument||document)&&A.defaultView||window).getSelection&&(C=C.getSelection(),E=R.textContent.length,x=Math.min(b.start,E),b=void 0===b.end?x:Math.min(b.end,E),!C.extend&&x>b&&(E=b,b=x,x=E),E=Zd(R,x),T=Zd(R,b),E&&T&&(1!==C.rangeCount||C.anchorNode!==E.node||C.anchorOffset!==E.offset||C.focusNode!==T.node||C.focusOffset!==T.offset)&&((A=A.createRange()).setStart(E.node,E.offset),C.removeAllRanges(),x>b?(C.addRange(A),C.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),C.addRange(A))))),A=[];for(C=R;C=C.parentNode;)1===C.nodeType&&A.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"==typeof R.focus&&R.focus(),R=0;R<A.length;R++)(C=A[R]).element.scrollLeft=C.left,C.element.scrollTop=C.top}wr=null,lr=!!Sr,Sr=null,e.current=n,ji=a;do{try{for(R=i;null!==ji;){var D=ji.effectTag;if(36&D){var P=ji.alternate;switch(C=R,(A=ji).tag){case 0:case 11:case 15:hi(Tn,Sn,A);break;case 1:var I=A.stateNode;if(4&A.effectTag)if(null===P)I.componentDidMount();else{var M=A.elementType===A.type?P.memoizedProps:Af(A.type,P.memoizedProps);I.componentDidUpdate(M,P.memoizedState,I.__reactInternalSnapshotBeforeUpdate)}var k=A.updateQueue;null!==k&&Yf(0,k,I);break;case 3:var L=A.updateQueue;if(null!==L){if(x=null,null!==A.child)switch(A.child.tag){case 5:x=A.child.stateNode;break;case 1:x=A.child.stateNode}Yf(0,L,x)}break;case 5:var N=A.stateNode;null===P&&4&A.effectTag&&(C=N,Je(A.type,A.memoizedProps)&&C.focus());break;case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw t(Error(163))}}if(128&D){var F=ji.ref;if(null!==F){var B=ji.stateNode;switch(ji.tag){case 5:var U=B;break;default:U=B}"function"==typeof F?F(U):F.current=U}}512&D&&(zi=!0),ji=ji.nextEffect}}catch(e){if(null===ji)throw t(Error(330));fi(ji,e),ji=ji.nextEffect}}while(null!==ji);ji=null,Kr(),xi=o}else e.current=n;if(zi)zi=!1,Ki=e,Xi=i,Wi=r;else for(ji=a;null!==ji;)r=ji.nextEffect,ji.nextEffect=null,ji=r;if(0!==(r=e.firstPendingTime)?(D=zf(D=cg(),r),Zi(e,D,r)):Vi=null,"function"==typeof aa&&aa(n.stateNode,i),1073741823===r?e===ea?Ji++:(Ji=0,ea=e):Ji=0,Gi)throw Gi=!1,e=Hi,Hi=null,e;return(xi&vi)!==yi?null:(O(),null)}.bind(null,e,r)),null!==Ki&&wf(97,function(){return cj(),null}),null}function cj(){if(null===Ki)return!1;var e=Ki,r=Xi,n=Wi;return Ki=null,Xi=0,Wi=90,vf(97<n?97:n,function qj(e){if((xi&(_i|Ei))!==yi)throw t(Error(331));var r=xi;for(xi|=Ei,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:hi(Rn,vn,n),hi(vn,wn,n)}}catch(r){if(null===e)throw t(Error(330));fi(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return xi=r,O(),!0}.bind(null,e,r))}function rj(e,t,r){Sf(e,t=ti(e,t=bi(r,t),1073741823)),null!==(e=Yi(e,1073741823))&&Zi(e,99,1073741823)}function fi(e,t){if(3===e.tag)rj(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){rj(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Vi||!Vi.has(n))){Sf(r,e=wi(r,e=bi(t,e),1073741823)),null!==(r=Yi(r,1073741823))&&Zi(r,99,1073741823);break}}r=r.return}}function kj(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Di===e&&Ii===r?Mi===Ai||Mi===Ri&&1073741823===Oi&&$r()-Bi<Ui?hj(e,Ii):Fi=!0:e.lastPendingTime<r||(0!==(t=e.pingTime)&&t<r||(e.pingTime=r,e.finishedExpirationTime===r&&(e.finishedExpirationTime=0,e.finishedWork=null),Zi(e,t=zf(t=cg(),r),r)))}var ia=void 0;ia=function(e,r,n){var i=r.expirationTime;if(null!==e){var a=r.pendingProps;if(e.memoizedProps!==a||Ir.current)Wn=!0;else if(i<n){switch(Wn=!1,r.tag){case 3:Nh(r),Ch();break;case 5:if(Cg(r),4&r.mode&&1!==n&&a.hidden)return r.expirationTime=r.childExpirationTime=1,null;break;case 1:N(r.type)&&Xe(r);break;case 4:Ag(r,r.stateNode.containerInfo);break;case 10:Hf(r,r.memoizedProps.value);break;case 13:if(null!==r.memoizedState)return 0!==(i=r.child.childExpirationTime)&&i>=n?Ph(e,r,n):(J(yn,yn.current&hn),null!==(r=Fh(e,r,n))?r.sibling:null);J(yn,yn.current&hn);break;case 19:if(i=r.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return Rh(e,r,n);r.effectTag|=64}if(null!==(a=r.memoizedState)&&(a.rendering=null,a.tail=null),J(yn,yn.current),!i)return null}return Fh(e,r,n)}}else Wn=!1;switch(r.expirationTime=0,r.tag){case 2:if(i=r.type,null!==e&&(e.alternate=null,r.alternate=null,r.effectTag|=2),e=r.pendingProps,a=Se(r,Pr.current),Kf(r,n),a=dh(null,r,i,e,a,n),r.effectTag|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(r.tag=1,ih(),N(i)){var o=!0;Xe(r)}else o=!1;r.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var s=i.getDerivedStateFromProps;"function"==typeof s&&bg(r,i,s,e),a.updater=on,r.stateNode=a,a._reactInternalFiber=r,jg(r,i,e,n),r=Mh(null,r,i,!0,o,n)}else r.tag=0,S(null,r,a,n),r=r.child;return r;case 16:switch(a=r.elementType,null!==e&&(e.alternate=null,r.alternate=null,r.effectTag|=2),e=r.pendingProps,a=function Bf(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(a),r.type=a,o=r.tag=function sj(e){if("function"==typeof e)return Hh(e)?1:0;if(null!=e){if((e=e.$$typeof)===ft)return 11;if(e===ht)return 14}return 2}(a),e=Af(a,e),o){case 0:r=Jh(null,r,a,e,n);break;case 1:r=Lh(null,r,a,e,n);break;case 11:r=Eh(null,r,a,e,n);break;case 14:r=Gh(null,r,a,Af(a.type,e),i,n);break;default:throw t(Error(306),a,"")}return r;case 0:return i=r.type,a=r.pendingProps,Jh(e,r,i,a=r.elementType===i?a:Af(i,a),n);case 1:return i=r.type,a=r.pendingProps,Lh(e,r,i,a=r.elementType===i?a:Af(i,a),n);case 3:if(Nh(r),null===(i=r.updateQueue))throw t(Error(282));return a=null!==(a=r.memoizedState)?a.element:null,Wf(r,i,r.pendingProps,null,n),(i=r.memoizedState.element)===a?(Ch(),r=Fh(e,r,n)):(a=r.stateNode,(a=(null===e||null===e.child)&&a.hydrate)&&(Vn=Ne(r.stateNode.containerInfo.firstChild),Hn=r,a=zn=!0),a?(r.effectTag|=2,r.child=un(r,null,i,n)):(S(e,r,i,n),Ch()),r=r.child),r;case 5:return Cg(r),null===e&&zh(r),i=r.type,a=r.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,Ke(i,a)?s=null:null!==o&&Ke(i,o)&&(r.effectTag|=16),Kh(e,r),4&r.mode&&1!==n&&a.hidden?(r.expirationTime=r.childExpirationTime=1,r=null):(S(e,r,s,n),r=r.child),r;case 6:return null===e&&zh(r),null;case 13:return Ph(e,r,n);case 4:return Ag(r,r.stateNode.containerInfo),i=r.pendingProps,null===e?r.child=ln(r,null,i,n):S(e,r,i,n),r.child;case 11:return i=r.type,a=r.pendingProps,Eh(e,r,i,a=r.elementType===i?a:Af(i,a),n);case 7:return S(e,r,r.pendingProps,n),r.child;case 8:case 12:return S(e,r,r.pendingProps.children,n),r.child;case 10:e:{if(i=r.type._context,a=r.pendingProps,s=r.memoizedProps,Hf(r,o=a.value),null!==s){var l=s.value;if(0===(o=hd(l,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(s.children===a.children&&!Ir.current){r=Fh(e,r,n);break e}}else for(null!==(l=r.child)&&(l.return=r);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===i&&0!=(c.observedBits&o)){1===l.tag&&((c=Qf(n,null)).tag=2,Sf(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),Jf(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===r.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===r){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}S(e,r,a.children,n),r=r.child}return r;case 9:return a=r.type,i=(o=r.pendingProps).children,Kf(r,n),i=i(a=Mf(a,o.unstable_observedBits)),r.effectTag|=1,S(e,r,i,n),r.child;case 14:return o=Af(a=r.type,r.pendingProps),Gh(e,r,a,o=Af(a.type,o),i,n);case 15:return Ih(e,r,r.type,r.pendingProps,i,n);case 17:return i=r.type,a=r.pendingProps,a=r.elementType===i?a:Af(i,a),null!==e&&(e.alternate=null,r.alternate=null,r.effectTag|=2),r.tag=1,N(i)?(e=!0,Xe(r)):e=!1,Kf(r,n),hg(r,i,a),jg(r,i,a,n),Mh(null,r,i,!0,e,n);case 19:return Rh(e,r,n)}throw t(Error(156))};var aa=null,oa=null;function uj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function xh(e,t,r,n){return new uj(e,t,r,n)}function Hh(e){return!(!(e=e.prototype)||!e.isReactComponent)}function og(e,t){var r=e.alternate;return null===r?((r=xh(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qg(e,r,n,i,a,o){var s=2;if(i=e,"function"==typeof e)Hh(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case at:return sg(n.children,a,o,r);case ct:s=8,a|=7;break;case ot:s=8,a|=1;break;case st:return(e=xh(12,n,r,8|a)).elementType=st,e.type=st,e.expirationTime=o,e;case dt:return(e=xh(13,n,r,a)).type=dt,e.elementType=dt,e.expirationTime=o,e;case pt:return(e=xh(19,n,r,a)).elementType=pt,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case lt:s=10;break e;case ut:s=9;break e;case ft:s=11;break e;case ht:s=14;break e;case gt:s=16,i=null;break e}throw t(Error(130),null==e?e:typeof e,"")}return(r=xh(s,n,r,a)).elementType=e,r.type=i,r.expirationTime=o,r}function sg(e,t,r,n){return(e=xh(7,e,n,t)).expirationTime=r,e}function pg(e,t,r){return(e=xh(6,e,null,t)).expirationTime=r,e}function rg(e,t,r){return(t=xh(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vj(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function wj(e,t,r){return e=new vj(e,t,r),t=xh(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e}function xj(e,r,n,i,a,o){var s=r.current;e:if(n){t:{if(2!==ld(n=n._reactInternalFiber)||1!==n.tag)throw t(Error(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(N(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw t(Error(171))}if(1===n.tag){var u=n.type;if(N(u)){n=We(n,u,l);break e}}n=l}else n=Dr;return null===r.context?r.context=n:r.pendingContext=n,r=o,(a=Qf(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(a.callback=r),Sf(s,a),eg(s,i),i}function yj(e,t,r,n){var i=t.current,a=cg(),o=nn.suspense;return xj(e,t,r,i=dg(a,i,o),o,n)}function zj(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Bj(e){var t=1073741821-25*(1+((1073741821-cg()+500)/25|0));t<=na&&--t,this._expirationTime=na=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Cj(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Dj(e,t,r){this._internalRoot=wj(e,t,r)}function Ej(e,t){this._internalRoot=wj(e,2,t)}function Hj(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jj(e,t,r,n,i){var a=r._reactRootContainer,o=void 0;if(a){if(o=a._internalRoot,"function"==typeof i){var s=i;i=function(){var e=zj(o);s.call(e)}}yj(t,o,e,i)}else{if(a=r._reactRootContainer=function Ij(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Dj(e,0,t)}(r,n),o=a._internalRoot,"function"==typeof i){var l=i;i=function(){var e=zj(o);l.call(e)}}gj(function(){yj(t,o,e,i)})}return zj(o)}function Kj(e,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Hj(r))throw t(Error(200));return function Aj(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:it,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,r,null,n)}Le=function(e,r,n){switch(r){case"input":if(Ec(e,n),r=n.name,"radio"===n.type&&null!=r){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var i=n[r];if(i!==e&&i.form===e.form){var a=Ka(i);if(!a)throw t(Error(90));Wb(i),Ec(i,a)}}}break;case"textarea":pe(e,n);break;case"select":null!=(r=n.value)&&me(e,!!n.multiple,r,!1)}},Bj.prototype.render=function(e){if(!this._defer)throw t(Error(250));this._hasChildren=!0,this._children=e;var r=this._root._internalRoot,n=this._expirationTime,i=new Cj;return xj(e,r,null,n,null,i._onCommit),i},Bj.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Bj.prototype.commit=function(){var e=this._root._internalRoot,r=e.firstBatch;if(!this._defer||null===r)throw t(Error(251));if(this._hasChildren){var n=this._expirationTime;if(r!==this){this._hasChildren&&(n=this._expirationTime=r._expirationTime,this.render(this._children));for(var i=null,a=r;a!==this;)i=a,a=a._next;if(null===i)throw t(Error(251));i._next=a._next,this._next=r,e.firstBatch=this}if(this._defer=!1,r=n,(xi&(_i|Ei))!==yi)throw t(Error(253));xf(Z.bind(null,e,r)),O(),r=this._next,this._next=null,null!==(r=e.firstBatch=r)&&r._hasChildren&&r.render(r._children)}else this._next=null,this._defer=!1},Bj.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Cj.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Cj.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var r=0;r<e.length;r++){var n=e[r];if("function"!=typeof n)throw t(Error(191),n);n()}}},Ej.prototype.render=Dj.prototype.render=function(e,t){var r=this._internalRoot,n=new Cj;return null!==(t=void 0===t?null:t)&&n.then(t),yj(e,r,null,n._onCommit),n},Ej.prototype.unmount=Dj.prototype.unmount=function(e){var t=this._internalRoot,r=new Cj;return null!==(e=void 0===e?null:e)&&r.then(e),yj(null,t,null,r._onCommit),r},Ej.prototype.createBatch=function(){var e=new Bj(this),t=e._expirationTime,r=this._internalRoot,n=r.firstBatch;if(null===n)r.firstBatch=e,e._next=null;else{for(r=null;null!==n&&n._expirationTime>=t;)r=n,n=n._next;e._next=n,null!==r&&(r._next=e)}return e},Jb=ej,Kb=fj,Lb=aj,Qe=function(e,t){var r=xi;xi|=2;try{return e(t)}finally{(xi=r)===yi&&O()}};var sa={createPortal:Kj,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var r=e._reactInternalFiber;if(void 0===r){if("function"==typeof e.render)throw t(Error(188));throw t(Error(268),Object.keys(e))}e=null===(e=qd(r))?null:e.stateNode}return e},hydrate:function(e,r,n){if(!Hj(r))throw t(Error(200));return Jj(null,e,r,!0,n)},render:function(e,r,n){if(!Hj(r))throw t(Error(200));return Jj(null,e,r,!1,n)},unstable_renderSubtreeIntoContainer:function(e,r,n,i){if(!Hj(n))throw t(Error(200));if(null==e||void 0===e._reactInternalFiber)throw t(Error(38));return Jj(e,r,n,!1,i)},unmountComponentAtNode:function(e){if(!Hj(e))throw t(Error(40));return!!e._reactRootContainer&&(gj(function(){Jj(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Kj.apply(void 0,arguments)},unstable_batchedUpdates:ej,unstable_interactiveUpdates:function(e,t,r,n){return aj(),fj(e,t,r,n)},unstable_discreteUpdates:fj,unstable_flushDiscreteUpdates:aj,flushSync:function(e,r){if((xi&(_i|Ei))!==yi)throw t(Error(187));var n=xi;xi|=1;try{return vf(99,e.bind(null,r))}finally{xi=n,O()}},unstable_createRoot:function Lj(e,r){if(!Hj(e))throw t(Error(299),"unstable_createRoot");return new Ej(e,null!=r&&!0===r.hydrate)},unstable_createSyncRoot:function Mj(e,r){if(!Hj(e))throw t(Error(299),"unstable_createRoot");return new Dj(e,1,null!=r&&!0===r.hydrate)},unstable_flushControlled:function(e){var t=xi;xi|=1;try{vf(99,e)}finally{(xi=t)===yi&&O()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[Ia,Ja,Ka,U.injectEventPluginsByName,E,Qa,function(e){ya(e,Pa)},Hb,Ib,Ud,Ba,cj,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;(function tj(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);aa=function(e){try{t.onCommitFiberRoot(r,e,void 0,64==(64&e.current.effectTag))}catch(e){}},oa=function(e){try{t.onCommitFiberUnmount(r,e)}catch(e){}}}catch(e){}return!0})(s({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:et.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qd(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Ha,bundleType:0,version:"16.9.0",rendererPackageName:"react-dom"});var la={default:sa},ua=la&&sa||la;r.exports=ua.default||ua},function(e,t,r){"use strict";e.exports=r(391)},function(e,t,r){"use strict";
/** @license React v0.15.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n=void 0,i=void 0,a=void 0,o=void 0,s=void 0;if(t.unstable_now=void 0,t.unstable_forceFrameRate=void 0,"undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}};t.unstable_now=function(){return Date.now()},n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,h=window.clearTimeout,g=window.requestAnimationFrame,m=window.cancelAnimationFrame;"undefined"!=typeof console&&("function"!=typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),t.unstable_now="object"==typeof f&&"function"==typeof f.now?function(){return f.now()}:function(){return d.now()};var y=!1,v=null,_=-1,b=-1,E=33.33,S=-1,w=-1,R=0,A=!1;o=function(){return t.unstable_now()>=R},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):0<e?(E=Math.floor(1e3/e),A=!0):(E=33.33,A=!1)};var C=function(){if(null!==v){var e=t.unstable_now(),r=0<R-e;try{v(r,e)||(v=null)}catch(e){throw D.postMessage(null),e}}},x=new MessageChannel,D=x.port2;x.port1.onmessage=C;var P=function(e){if(null===v)w=S=-1,y=!1;else{y=!0,g(function(e){h(_),P(e)});var r=function(){R=t.unstable_now()+E/2,C(),_=p(r,3*E)};if(_=p(r,3*E),-1!==S&&.1<e-S){var n=e-S;!A&&-1!==w&&n<E&&w<E&&(8.33>(E=n<w?w:n)&&(E=8.33)),w=n}S=e,R=e+E,D.postMessage(null)}};n=function(e){v=e,y||(y=!0,g(function(e){P(e)}))},i=function(e,r){b=p(function(){e(t.unstable_now())},r)},a=function(){h(b),b=-1}}var I=null,M=null,O=null,k=3,L=!1,N=!1,F=!1;function T(e,t){var r=e.next;if(r===e)I=null;else{e===I&&(I=r);var n=e.previous;n.next=r,r.previous=n}e.next=e.previous=null,r=e.callback,n=k;var i=O;k=e.priorityLevel,O=e;try{var a=e.expirationTime<=t;switch(k){case 1:var o=r(a);break;case 2:case 3:case 4:o=r(a);break;case 5:o=r(a)}}catch(e){throw e}finally{k=n,O=i}if("function"==typeof o)if(t=e.expirationTime,e.callback=o,null===I)I=e.next=e.previous=e;else{o=null,a=I;do{if(t<=a.expirationTime){o=a;break}a=a.next}while(a!==I);null===o?o=I:o===I&&(I=e),(t=o.previous).next=o.previous=e,e.next=o,e.previous=t}}function U(e){if(null!==M&&M.startTime<=e)do{var t=M,r=t.next;if(t===r)M=null;else{M=r;var n=t.previous;n.next=r,r.previous=n}t.next=t.previous=null,V(t,t.expirationTime)}while(null!==M&&M.startTime<=e)}function W(e){F=!1,U(e),N||(null!==I?(N=!0,n(X)):null!==M&&i(W,M.startTime-e))}function X(e,r){N=!1,F&&(F=!1,a()),U(r),L=!0;try{if(e){if(null!==I)do{T(I,r),U(r=t.unstable_now())}while(null!==I&&!o())}else for(;null!==I&&I.expirationTime<=r;)T(I,r),U(r=t.unstable_now());return null!==I||(null!==M&&i(W,M.startTime-r),!1)}finally{L=!1}}function Y(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function V(e,t){if(null===I)I=e.next=e.previous=e;else{var r=null,n=I;do{if(t<n.expirationTime){r=n;break}n=n.next}while(n!==I);null===r?r=I:r===I&&(I=e),(t=r.previous).next=r.previous=e,e.next=r,e.previous=t}}var B=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=k;k=e;try{return t()}finally{k=r}},t.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var r=k;k=t;try{return e()}finally{k=r}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();if("object"==typeof o&&null!==o){var l=o.delay;l="number"==typeof l&&0<l?s+l:s,o="number"==typeof o.timeout?o.timeout:Y(e)}else o=Y(e),l=s;if(e={callback:r,priorityLevel:e,startTime:l,expirationTime:o=l+o,next:null,previous:null},l>s){if(o=l,null===M)M=e.next=e.previous=e;else{r=null;var u=M;do{if(o<u.startTime){r=u;break}u=u.next}while(u!==M);null===r?r=M:r===M&&(M=e),(o=r.previous).next=r.previous=e,e.next=r,e.previous=o}null===I&&M===e&&(F?a():F=!0,i(W,l-s))}else V(e,o),N||L||(N=!0,n(X));return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(e===t)e===I?I=null:e===M&&(M=null);else{e===I?I=t:e===M&&(M=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var t=k;return function(){var r=k;k=t;try{return e.apply(this,arguments)}finally{k=r}}},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_shouldYield=function(){var e=t.unstable_now();return U(e),null!==O&&null!==I&&I.startTime<=e&&I.expirationTime<O.expirationTime||o()},t.unstable_requestPaint=B,t.unstable_continueExecution=function(){N||L||(N=!0,n(X))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return I}},function(e,t,r){var n=r(393);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(50)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(49)(!1)).push([e.i,"/*!\n * Load Awesome v1.1.0 (http://github.danielcardoso.net/load-awesome/)\n * Copyright 2015 Daniel Cardoso <@DanielCardoso>\n * Licensed under MIT\n */.la-ball-pulse,.la-ball-pulse>div{box-sizing:border-box;position:relative}.la-ball-pulse{color:#fff;display:block;font-size:0}.la-ball-pulse>div{background-color:currentColor;border:0 solid currentColor;display:inline-block;float:none}.la-ball-pulse{height:18px;width:62px}.la-ball-pulse>div:nth-child(1){-webkit-animation-delay:-200ms;animation-delay:-200ms}.la-ball-pulse>div:nth-child(2){-webkit-animation-delay:-100ms;animation-delay:-100ms}.la-ball-pulse>div:nth-child(3){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-pulse>div{-webkit-animation:ball-pulse 1s ease infinite;animation:ball-pulse 1s ease infinite;border-radius:100%;height:10px;margin:4px;width:10px}.la-ball-pulse.la-sm{height:8px;width:26px}.la-ball-pulse.la-sm>div{height:4px;margin:2px;width:4px}.la-ball-pulse.la-2x{height:36px;width:108px}.la-ball-pulse.la-2x>div{height:20px;margin:8px;width:20px}.la-ball-pulse.la-3x{height:54px;width:162px}.la-ball-pulse.la-3x>div{height:30px;margin:12px;width:30px}@-webkit-keyframes ball-pulse{0%,60%,100%{-webkit-transform:scale(1);opacity:1;transform:scale(1)}30%{-webkit-transform:scale(0.01);opacity:.1;transform:scale(0.01)}}@keyframes ball-pulse{0%,60%,100%{-moz-transform:scale(1);-o-transform:scale(1);-webkit-transform:scale(1);opacity:1;transform:scale(1)}30%{-moz-transform:scale(0.01);-o-transform:scale(0.01);-webkit-transform:scale(0.01);opacity:.1;transform:scale(0.01)}}/*!\n * Load Awesome v1.1.0 (http://github.danielcardoso.net/load-awesome/)\n * Copyright 2015 Daniel Cardoso <@DanielCardoso>\n * Licensed under MIT\n */.la-ball-clip-rotate,.la-ball-clip-rotate>div{box-sizing:border-box;position:relative}.la-ball-clip-rotate{color:#fff;display:block;font-size:0}.la-ball-clip-rotate>div{background-color:currentColor;border:0 solid currentColor;display:inline-block;float:none}.la-ball-clip-rotate{height:32px;width:32px}.la-ball-clip-rotate>div{-webkit-animation:ball-clip-rotate .75s linear infinite;animation:ball-clip-rotate .75s linear infinite;background:transparent;border-bottom-color:transparent;border-radius:100%;border-width:2px;height:32px;width:32px}.la-ball-clip-rotate.la-sm{height:16px;width:16px}.la-ball-clip-rotate.la-sm>div{border-width:1px;height:16px;width:16px}.la-ball-clip-rotate.la-2x{height:64px;width:64px}.la-ball-clip-rotate.la-2x>div{border-width:4px;height:64px;width:64px}.la-ball-clip-rotate.la-3x{height:96px;width:96px}.la-ball-clip-rotate.la-3x>div{border-width:6px;height:96px;width:96px}@-webkit-keyframes ball-clip-rotate{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}}@keyframes ball-clip-rotate{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}}/*!\n * Load Awesome v1.1.0 (http://github.danielcardoso.net/load-awesome/)\n * Copyright 2015 Daniel Cardoso <@DanielCardoso>\n * Licensed under MIT\n */.la-ball-spin-clockwise,.la-ball-spin-clockwise>div{box-sizing:border-box;position:relative}.la-ball-spin-clockwise{color:#fff;display:block;font-size:0}.la-ball-spin-clockwise>div{background-color:currentColor;border:0 solid currentColor;display:inline-block;float:none}.la-ball-spin-clockwise{height:32px;width:32px}.la-ball-spin-clockwise>div{-webkit-animation:ball-spin-clockwise 1s infinite ease-in-out;animation:ball-spin-clockwise 1s infinite ease-in-out;border-radius:100%;height:8px;left:50%;margin-left:-4px;margin-top:-4px;position:absolute;top:50%;width:8px}.la-ball-spin-clockwise>div:nth-child(1){-webkit-animation-delay:-.875s;animation-delay:-.875s;left:50%;top:5%}.la-ball-spin-clockwise>div:nth-child(2){-webkit-animation-delay:-.75s;animation-delay:-.75s;left:81.8198051534%;top:18.1801948466%}.la-ball-spin-clockwise>div:nth-child(3){-webkit-animation-delay:-.625s;animation-delay:-.625s;left:95%;top:50%}.la-ball-spin-clockwise>div:nth-child(4){-webkit-animation-delay:-.5s;animation-delay:-.5s;left:81.8198051534%;top:81.8198051534%}.la-ball-spin-clockwise>div:nth-child(5){-webkit-animation-delay:-.375s;animation-delay:-.375s;left:50.0000000005%;top:94.9999999966%}.la-ball-spin-clockwise>div:nth-child(6){-webkit-animation-delay:-.25s;animation-delay:-.25s;left:18.1801949248%;top:81.8198046966%}.la-ball-spin-clockwise>div:nth-child(7){-webkit-animation-delay:-.125s;animation-delay:-.125s;left:5.0000051215%;top:49.9999750815%}.la-ball-spin-clockwise>div:nth-child(8){-webkit-animation-delay:0s;animation-delay:0s;left:18.1803700518%;top:18.179464974%}.la-ball-spin-clockwise.la-sm{height:24px;width:24px}.la-ball-spin-clockwise.la-sm>div{height:6px;margin-left:-3px;margin-top:-3px;width:6px}.la-ball-spin-clockwise.la-2x{height:64px;width:64px}.la-ball-spin-clockwise.la-2x>div{height:16px;margin-left:-8px;margin-top:-8px;width:16px}.la-ball-spin-clockwise.la-3x{height:96px;width:96px}.la-ball-spin-clockwise.la-3x>div{height:24px;margin-left:-12px;margin-top:-12px;width:24px}@-webkit-keyframes ball-spin-clockwise{0%,100%{-webkit-transform:scale(1);opacity:1;transform:scale(1)}20%{opacity:1}80%{-webkit-transform:scale(0);opacity:0;transform:scale(0)}}@keyframes ball-spin-clockwise{0%,100%{-moz-transform:scale(1);-o-transform:scale(1);-webkit-transform:scale(1);opacity:1;transform:scale(1)}20%{opacity:1}80%{-moz-transform:scale(0);-o-transform:scale(0);-webkit-transform:scale(0);opacity:0;transform:scale(0)}}.animated-icon{margin:0 15px}.la-dark{color:#ccc}\n",""])},function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function wrap(e,t,r,n){var i=t&&t.prototype instanceof Generator?t:Generator,a=Object.create(i.prototype),o=new Context(n||[]);return a._invoke=function makeInvokeMethod(e,t,r){var n=l;return function invoke(i,a){if(n===c)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw a;return doneResult()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=maybeInvokeDelegate(o,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=c;var p=tryCatch(e,t,r);if("normal"===p.type){if(n=r.done?f:u,p.arg===d)continue;return{value:p.arg,done:r.done}}"throw"===p.type&&(n=f,r.method="throw",r.arg=p.arg)}}}(e,r,o),a}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var l="suspendedStart",u="suspendedYield",c="executing",f="completed",d={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};p[a]=function(){return this};var h=Object.getPrototypeOf,g=h&&h(h(values([])));g&&g!==r&&n.call(g,a)&&(p=g);var m=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function AsyncIterator(e){var t;this._invoke=function enqueue(r,i){function callInvokeWithMethodAndArg(){return new Promise(function(t,a){!function invoke(t,r,i,a){var o=tryCatch(e[t],e,r);if("throw"!==o.type){var s=o.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then(function(e){invoke("next",e,i,a)},function(e){invoke("throw",e,i,a)}):Promise.resolve(l).then(function(e){s.value=e,i(s)},function(e){return invoke("throw",e,i,a)})}a(o.arg)}(r,i,t,a)})}return t=t?t.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=tryCatch(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function next(){for(;++i<e.length;)if(n.call(e,i))return next.value=e[i],next.done=!1,next;return next.value=t,next.done=!0,next};return o.next=o}}return{next:doneResult}}function doneResult(){return{value:t,done:!0}}return GeneratorFunction.prototype=m.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[s]=GeneratorFunction.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[o]=function(){return this},e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,i){var a=new AsyncIterator(wrap(t,r,n,i));return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},defineIteratorMethods(m),m[s]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,i){return o.type="throw",o.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;resetTryEntry(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t){e.exports=function _arrayWithHoles(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function _iterableToArrayLimit(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}},function(e,t){e.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){var n=r(399);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(50)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(49)(!1)).push([e.i,".-elv-tooltip{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;align-items:center;background-color:#f5f5f5;border:1px solid #aaa;border-radius:10px;color:#222;display:flex;font-size:14px;justify-content:center;max-width:250px;min-width:50px;opacity:0.95;padding:.25rem;text-align:center;z-index:10000}.-elv-tooltip span{padding:.5rem}\n",""])},function(e,t,r){"use strict";var n=r(401);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,e.exports=function(){function shim(e,t,r,i,a,o){if(o!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}},function(e,t,r){var n=r(404);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(50)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){var n=r(405);(e.exports=r(49)(!1)).push([e.i,".-elv-icon{color:#555;display:block;height:30px;width:30px}.-elv-icon.-elv-icon-with-loader{background:transparent url("+n(r(256))+") center no-repeat}.-elv-icon-button{background-color:transparent;border:0;cursor:pointer;height:30px;padding:0}.-elv-icon-button svg{color:#555;display:block;height:30px;width:30px;height:100%;margin:0;padding:0;width:auto}.-elv-icon-button svg.-elv-icon-with-loader{background:transparent url("+n(r(256))+") center no-repeat}.-elv-icon-button:hover:enabled{color:#000}.-elv-icon-button:active:enabled{color:#444}.-elv-icon-button:disabled{cursor:auto;opacity:0.5}\n",""])},function(e,t){e.exports=function escape(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),s=r(407);function convertFromNode(e,t){if(void 0===t&&(t={}),!(e&&e instanceof Node))return null;var r=t.actions,i=void 0===r?[]:r,l=t.index,u=void 0===l?0:l,c=t.level,f=void 0===c?0:c,d=e,p=f+"-"+u,h=[];if(Array.isArray(i)&&i.forEach(function(t){t.condition(d,p,f)&&("function"==typeof t.pre&&((d=t.pre(d,p,f))instanceof Node||(d=e)),"function"==typeof t.post&&h.push(t.post(d,p,f)))}),h.length)return h;switch(d.nodeType){case 1:return o.createElement(function parseName(e){return/[a-z]+[A-Z]+[a-z]+/.test(e)?e:e.toLowerCase()}(d.nodeName),function parseAttributes(e,t){var r={key:t};if(e instanceof Element){var n=e.getAttribute("class");n&&(r.className=n),a(e.attributes).forEach(function(e){switch(e.name){case"class":break;case"style":r[e.name]=s.styleToObject(e.value);break;case"checked":case"disabled":case"selected":case"autoplay":case"controls":r[e.name]=e.name;break;default:r[s.possibleStandardNames[e.name]||e.name]=e.value}})}return r}(d,p),function parseChildren(e,t,r){var i=a(e).map(function(e,i){return convertFromNode(e,n({},r,{index:i,level:t+1}))}).filter(Boolean);return i.length?i:null}(d.childNodes,f,t));case 3:var g=d.nodeValue.toString();if(!/[a-zA-Z0-9_]+/.test(g))return null;if(!d.parentNode)return g;var m=d.parentNode.nodeName.toLowerCase();return-1!==s.noTextChildNodes.indexOf(m)?(/\S/.test(g)&&console.warn("A textNode is not allowed inside '"+m+"'. Your text \""+g+'" will be ignored'),null):g;case 8:default:return null}}function convertFromString(e,t){if(void 0===t&&(t={}),!e||"string"!=typeof e)return null;var r=t.nodeOnly,n=void 0!==r&&r,i=t.selector,a=void 0===i?"body > *":i,o=t.type,s=void 0===o?"text/html":o;try{var l=(new DOMParser).parseFromString(e,s).querySelector(a);if(!(l instanceof Node))throw new Error("Error parsing input");return n?l:convertFromNode(l,t)}catch(e){0}return null}t.convertFromNode=convertFromNode,t.convertFromString=convertFromString,t.default=function convert(e,t){return void 0===t&&(t={}),"string"==typeof e?convertFromString(e,t):e instanceof Node?convertFromNode(e,t):null}},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o};Object.defineProperty(t,"__esModule",{value:!0}),t.styleToObject=function(e){return e.split(/ ?; ?/).reduce(function(e,t){var r=n(t.split(/ ?: ?/),2),i=r[0],a=r[1];return i&&a&&(e[i.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})]=Number.isNaN(Number(a))?a:Number(a)),e},{})},t.noTextChildNodes=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],t.possibleStandardNames={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(409);t.canUseDOM=function(){return a.canUseDOM},t.supportsInlineSVG=function(){if(!document)return!1;var e=document.createElement("div");return e.innerHTML="<svg />",e.firstChild&&"http://www.w3.org/2000/svg"===e.firstChild.namespaceURI};var o=function(e){function InlineSVGError(t,r){var n=e.call(this)||this;return n.name="InlineSVGError",n.message=t,n.data=r,n}return i(InlineSVGError,e),InlineSVGError}(Error);t.InlineSVGError=o,t.isSupportedEnvironment=function(){return t.supportsInlineSVG()&&"undefined"!=typeof window&&null!==window},t.randomString=function(e){for(var t,r="abcdefghijklmnopqrstuvwxyz",n=""+r+r.toUpperCase()+"1234567890",i="",a=0;a<e;a++)i+=(t=n)[Math.floor(Math.random()*t.length)];return i}},function(e,t,r){var n;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),a={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){var n=r(411);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(50)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(49)(!1)).push([e.i,".-elv-slider-container{height:12px;width:100%}.-elv-slider-container.-elv-slider-with-marks{height:calc(12px + 1.8em)}.-elv-slider{background-color:#000;cursor:pointer;height:12px;position:relative;width:100%}.-elv-slider-overlay{background-color:transparent;height:12px;width:100%;z-index:1000000}.-elv-slider-active{background-color:#555;height:12px;opacity:0.8;position:absolute}.-elv-slider-handle{background-color:#ddd;height:12px;margin-left:-2px;position:absolute;width:4px;z-index:100}.-elv-slider-handle-active{background-color:#1b73e8}.-elv-slider-marks-container{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#aaa;cursor:auto;height:calc(25px + 1em);position:relative}.-elv-slider-marks-container .-elv-slider-mark{display:flex;font-size:11px;justify-content:center;position:absolute;transform:translateX(-50%)}.-elv-slider-marks-container .-elv-slider-mark-notch{background-color:#555;height:12px;margin-top:-12px;position:absolute;width:2px;z-index:100}.-elv-slider-marks-container .-elv-slider-mark-text{padding-top:.25rem}.-elv-slider-marks-container .-elv-slider-mark-passed .-elv-slider-mark-text{color:#555}\n",""])},function(e,t,r){var n=r(413);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(50)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(49)(!1)).push([e.i,".-elv-button.-elv-button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#1b73e8;border:1px solid #1b73e8;border-radius:2px;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:.8rem;min-width:120px;padding:.33rem 1rem;text-align:center}.-elv-button.-elv-button:not(:active):hover{background-color:#fff;border:1px solid #1b73e8;color:#1b73e8}.-elv-button.-elv-button:focus{box-shadow:0 0 8px #0fafff;outline:2px auto #60dfff}.-elv-button.-elv-button.secondary{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#1b73e8;border:1px solid #1b73e8;border-radius:2px;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:.8rem;min-width:120px;padding:.33rem 1rem;text-align:center;background-color:#fff;border:1px solid #ccc;color:#222}.-elv-button.-elv-button.secondary:not(:active):hover{background-color:#fff;border:1px solid #1b73e8;color:#1b73e8}.-elv-button.-elv-button.secondary:focus{box-shadow:0 0 8px #0fafff;outline:2px auto #60dfff}.-elv-button.-elv-button.secondary:not(:active):hover{background-color:#aaa;border:1px solid #ccc;color:#fff}.-elv-button.-elv-button.tertiary{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#1b73e8;border:1px solid #1b73e8;border-radius:2px;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:.8rem;min-width:120px;padding:.33rem 1rem;text-align:center;background-color:#fff;border:1px solid rgba(0,0,0,0);color:#6c6c6c}.-elv-button.-elv-button.tertiary:not(:active):hover{background-color:#fff;border:1px solid #1b73e8;color:#1b73e8}.-elv-button.-elv-button.tertiary:focus{box-shadow:0 0 8px #0fafff;outline:2px auto #60dfff}.-elv-button.-elv-button.tertiary:not(:active):hover{background-color:#fafafa;border:1px solid #aaa;color:#000}.-elv-button.-elv-button.danger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#1b73e8;border:1px solid #1b73e8;border-radius:2px;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:.8rem;min-width:120px;padding:.33rem 1rem;text-align:center;background-color:#fff;border:1px solid #444;color:#444}.-elv-button.-elv-button.danger:not(:active):hover{background-color:#fff;border:1px solid #1b73e8;color:#1b73e8}.-elv-button.-elv-button.danger:focus{box-shadow:0 0 8px #0fafff;outline:2px auto #60dfff}.-elv-button.-elv-button.danger:not(:active):hover{background-color:#444;border:1px solid #444;color:#fff}\n",""])},function(e,t,r){var n=r(415);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(50)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(49)(!1)).push([e.i,".-elv-balance{align-items:center;display:flex;font-size:13px}.-elv-balance .-elv-token-icon{height:15px;margin-right:1px;width:auto}\n",""])},function(e,t,r){var n=r(417);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(50)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(49)(!1)).push([e.i,".-elv-browse-widget .-elv-image-preview{display:flex;justify-content:center;margin-top:1rem;width:100%}.-elv-browse-widget .-elv-image-preview img{align-self:center;max-width:100%}.-elv-browse-widget .-elv-browse-widget-files{border:1px solid #ddd;margin:1rem 0;max-height:50vh;overflow-y:auto;padding-top:1rem 0;width:100%}.-elv-browse-widget .-elv-browse-widget-files table{border-collapse:collapse;table-layout:fixed;width:100%}.-elv-browse-widget .-elv-browse-widget-files th{text-align:left}.-elv-browse-widget .-elv-browse-widget-files th.-elv-type-header{width:30px}.-elv-browse-widget .-elv-browse-widget-files th.-elv-size-header{width:7em}.-elv-browse-widget .-elv-browse-widget-files tr{border-top:1px solid #eee;height:30px}.-elv-browse-widget .-elv-browse-widget-files tr.-elv-directory{cursor:pointer}.-elv-browse-widget .-elv-browse-widget-files tr.-elv-directory:hover{background-color:#f5f5f5}.-elv-browse-widget .-elv-browse-widget-files tr td{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:30px}.-elv-browse-widget .-elv-browse-widget-files tr td.-elv-item-icon{height:100%;width:100%}.-elv-browse-widget .-elv-browse-widget-files tr td.-elv-item-icon i{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.-elv-browse-widget .-elv-browse-widget-files tr td.-elv-item-icon svg{height:20px;width:20px}.-elv-browse-widget .-elv-browse-widget-files tr td.-elv-item-path{max-width:150px}.-elv-browse-widget .-elv-browse-widget-files tr td.-elv-item-status{color:#8c8c8c;text-align:center}\n",""])},function(e,t,r){var n=r(419);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(50)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(49)(!1)).push([e.i,'.-elv-form{display:block;width:600px}.-elv-form fieldset{border:1px solid #ccc;padding:0 2rem}.-elv-form .form-content{display:grid;grid-gap:1rem;grid-template-columns:1fr 3fr;margin:1.5rem 0 2rem}.-elv-form .form-content.no-margins{margin:0}.-elv-form label{align-items:center;display:flex}.-elv-form label.align-top{align-items:flex-start;margin-top:.33rem}.-elv-form input,.-elv-form textarea{border:1px solid #ccc;font-size:16px}.-elv-form input{width:auto}.-elv-form input[type="checkbox"]{cursor:pointer;margin:0;width:1em}.-elv-form textarea{font-family:inherit;height:10em;padding:.25rem}.-elv-form select{width:100%}.-elv-form .image-preview{margin-top:1rem;width:100%}.-elv-form .image-preview img{width:100%}.-elv-form .inline-inputs{display:flex;width:100%}.-elv-form .inline-inputs *{flex-grow:1;margin-right:.25rem}.-elv-form .form-actions{align-items:center;display:flex;height:40px;justify-content:flex-end;margin:1.5rem 0;width:100%}.-elv-form .form-actions *:not(:last-child){margin-right:.5rem}.-elv-form .form-error{background:#a33;color:#fff;margin-top:1rem;padding:.5rem}@media only screen and (max-width: 1000px){.-elv-form form{width:100%}.-elv-form form .form-content{display:flex;flex-direction:column}.-elv-form form .form-content label{margin-bottom:.25rem}.-elv-form form .form-content *{margin-bottom:1rem}}\n',""])},function(e,t,r){var n=r(421);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(50)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(49)(!1)).push([e.i,".-elv-loading-element{align-items:center;display:flex;justify-content:center;width:100%}.-elv-loading-element-fullpage{align-items:center;display:flex;height:100%;justify-content:center}\n",""])},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){var n=r(424);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(50)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(49)(!1)).push([e.i,".-elv-modal{align-items:flex-start;background:rgba(0,0,0,0.3);color:#000;display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:1000}.-elv-modal .-elv-modal-content{background:#fff;border:1px solid #555;box-shadow:#555 5px 5px 10px;margin-top:8rem;max-height:75%;overflow-y:auto;padding:15px 20px 20px;z-index:1001}.-elv-modal .-elv-modal-error{align-content:center;align-items:center;background:#a33;color:#fff;display:flex;margin-bottom:10px;padding:10px}.-elv-modal .-elv-modal-error:empty{display:none}.-elv-modal form{width:500px}.-elv-modal form fieldset{border:0;padding:0 1rem}.-elv-modal form legend{border-bottom:1px solid #ddd;font-weight:500;padding:.5rem 0;width:100%}.-elv-modal form .form-actions{margin-bottom:.5rem}\n",""])},function(e,t,r){var n=r(426);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(50)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(49)(!1)).push([e.i,".-elv-radio{width:100%}.-elv-radio.-elv-radio-inline{display:flex}.-elv-radio.-elv-radio-inline .-elv-radio-option{flex-grow:1;margin-right:.25rem;padding:.25rem;text-align:center}.-elv-radio.-elv-radio-inline .-elv-radio-option:last-child{margin-right:0}.-elv-radio .-elv-radio-option{border:1px solid #aaa;border-radius:2px;cursor:pointer;margin:.25rem 0;padding:.5rem}.-elv-radio .-elv-radio-option:not(.-elv-radio-selected){background-color:#eee;border:1px solid #aaa;color:#6c6c6c;font-weight:300}.-elv-radio .-elv-radio-option:hover{background-color:#fff;color:#222}\n",""])},function(e,t,r){var n=r(428);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(50)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(49)(!1)).push([e.i,".-elv-tab-container{border-bottom:1px solid #ccc;display:flex;list-style-type:none;margin:1.5rem 0;text-align:center}.-elv-tab-container .-elv-tab{border:1px solid transparent;box-sizing:border-box;cursor:pointer;display:inline;padding:.5rem 1.5rem}.-elv-tab-container .-elv-tab.selected{border:1px solid #ccc;border-bottom:0}.-elv-tab-container .-elv-tab:hover{background-color:#f5f5f5}.-elv-tab-container.secondary{border:0}.-elv-tab-container.secondary .-elv-tab{border:1px solid #ddd;border-right:0}.-elv-tab-container.secondary .-elv-tab:last-child{border-right:1px solid #ddd}.-elv-tab-container.secondary .-elv-tab.selected{background:#ddd}\n",""])},function(e,t,r){"use strict";r(430),r(573),r(575),r(578),r(580),r(582),r(584),r(586),r(588),r(590),r(592),r(594),r(596),r(600)},function(e,t,r){r(431),r(434),r(435),r(436),r(437),r(438),r(439),r(440),r(441),r(442),r(443),r(444),r(445),r(446),r(447),r(448),r(449),r(450),r(451),r(452),r(453),r(454),r(455),r(456),r(457),r(458),r(459),r(460),r(461),r(462),r(463),r(464),r(465),r(466),r(467),r(468),r(469),r(470),r(471),r(472),r(473),r(474),r(475),r(477),r(478),r(479),r(480),r(481),r(482),r(483),r(484),r(485),r(486),r(487),r(488),r(489),r(490),r(491),r(492),r(493),r(494),r(495),r(496),r(497),r(498),r(499),r(500),r(501),r(502),r(503),r(504),r(505),r(506),r(507),r(508),r(509),r(510),r(512),r(513),r(515),r(516),r(517),r(518),r(519),r(520),r(521),r(523),r(524),r(525),r(526),r(527),r(528),r(529),r(530),r(531),r(532),r(533),r(534),r(535),r(206),r(536),r(279),r(537),r(280),r(538),r(539),r(540),r(541),r(281),r(544),r(545),r(546),r(547),r(548),r(549),r(550),r(551),r(552),r(553),r(554),r(555),r(556),r(557),r(558),r(559),r(560),r(561),r(562),r(563),r(564),r(565),r(566),r(567),r(568),r(569),r(570),r(571),r(572),e.exports=r(35)},function(e,t,r){"use strict";var n=r(19),i=r(54),a=r(36),o=r(3),s=r(51),l=r(83).KEY,u=r(20),c=r(142),f=r(110),d=r(92),p=r(28),h=r(187),g=r(260),m=r(433),y=r(145),v=r(21),_=r(22),b=r(44),E=r(56),T=r(82),S=r(91),w=r(96),R=r(263),A=r(68),C=r(144),x=r(37),D=r(94),P=A.f,I=x.f,M=R.f,O=n.Symbol,k=n.JSON,L=k&&k.stringify,N=p("_hidden"),F=p("toPrimitive"),B={}.propertyIsEnumerable,U=c("symbol-registry"),j=c("symbols"),q=c("op-symbols"),G=Object.prototype,H="function"==typeof O&&!!C.f,V=n.QObject,z=!V||!V.prototype||!V.prototype.findChild,K=a&&u(function(){return 7!=w(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=P(G,t);n&&delete G[t],I(e,t,r),n&&e!==G&&I(G,t,n)}:I,W=function(e){var t=j[e]=w(O.prototype);return t._k=e,t},Y=H&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},X=function defineProperty(e,t,r){return e===G&&X(q,t,r),v(e),t=T(t,!0),v(r),i(j,t)?(r.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),r=w(r,{enumerable:S(0,!1)})):(i(e,N)||I(e,N,S(1,{})),e[N][t]=!0),K(e,t,r)):I(e,t,r)},Q=function defineProperties(e,t){v(e);for(var r,n=m(t=E(t)),i=0,a=n.length;a>i;)X(e,r=n[i++],t[r]);return e},$=function propertyIsEnumerable(e){var t=B.call(this,e=T(e,!0));return!(this===G&&i(j,e)&&!i(q,e))&&(!(t||!i(this,e)||!i(j,e)||i(this,N)&&this[N][e])||t)},J=function getOwnPropertyDescriptor(e,t){if(e=E(e),t=T(t,!0),e!==G||!i(j,t)||i(q,t)){var r=P(e,t);return!r||!i(j,t)||i(e,N)&&e[N][t]||(r.enumerable=!0),r}},Z=function getOwnPropertyNames(e){for(var t,r=M(E(e)),n=[],a=0;r.length>a;)i(j,t=r[a++])||t==N||t==l||n.push(t);return n},ee=function getOwnPropertySymbols(e){for(var t,r=e===G,n=M(r?q:E(e)),a=[],o=0;n.length>o;)!i(j,t=n[o++])||r&&!i(G,t)||a.push(j[t]);return a};H||(s((O=function Symbol(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===G&&t.call(q,r),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),K(this,e,S(1,r))};return a&&z&&K(G,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",function toString(){return this._k}),A.f=J,x.f=X,r(97).f=R.f=Z,r(128).f=$,C.f=ee,a&&!r(93)&&s(G,"propertyIsEnumerable",$,!0),h.f=function(e){return W(p(e))}),o(o.G+o.W+o.F*!H,{Symbol:O});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)p(te[re++]);for(var ne=D(p.store),ie=0;ne.length>ie;)g(ne[ie++]);o(o.S+o.F*!H,"Symbol",{for:function(e){return i(U,e+="")?U[e]:U[e]=O(e)},keyFor:function keyFor(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),o(o.S+o.F*!H,"Object",{create:function create(e,t){return void 0===t?w(e):Q(w(e),t)},defineProperty:X,defineProperties:Q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ae=u(function(){C.f(1)});o(o.S+o.F*ae,"Object",{getOwnPropertySymbols:function getOwnPropertySymbols(e){return C.f(b(e))}}),k&&o(o.S+o.F*(!H||u(function(){var e=O();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function stringify(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(_(t)||void 0!==e)&&!Y(e))return y(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Y(t))return t}),n[1]=t,L.apply(k,n)}}),O.prototype[F]||r(55)(O.prototype,F,O.prototype.valueOf),f(O,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},function(e,t,r){e.exports=r(142)("native-function-to-string",Function.toString)},function(e,t,r){var n=r(94),i=r(144),a=r(128);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var o,s=r(e),l=a.f,u=0;s.length>u;)l.call(e,o=s[u++])&&t.push(o);return t}},function(e,t,r){var n=r(3);n(n.S,"Object",{create:r(96)})},function(e,t,r){var n=r(3);n(n.S+n.F*!r(36),"Object",{defineProperty:r(37).f})},function(e,t,r){var n=r(3);n(n.S+n.F*!r(36),"Object",{defineProperties:r(262)})},function(e,t,r){var n=r(56),i=r(68).f;r(69)("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(e,t){return i(n(e),t)}})},function(e,t,r){var n=r(44),i=r(98);r(69)("getPrototypeOf",function(){return function getPrototypeOf(e){return i(n(e))}})},function(e,t,r){var n=r(44),i=r(94);r(69)("keys",function(){return function keys(e){return i(n(e))}})},function(e,t,r){r(69)("getOwnPropertyNames",function(){return r(263).f})},function(e,t,r){var n=r(22),i=r(83).onFreeze;r(69)("freeze",function(e){return function freeze(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(22),i=r(83).onFreeze;r(69)("seal",function(e){return function seal(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(22),i=r(83).onFreeze;r(69)("preventExtensions",function(e){return function preventExtensions(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(22);r(69)("isFrozen",function(e){return function isFrozen(t){return!n(t)||!!e&&e(t)}})},function(e,t,r){var n=r(22);r(69)("isSealed",function(e){return function isSealed(t){return!n(t)||!!e&&e(t)}})},function(e,t,r){var n=r(22);r(69)("isExtensible",function(e){return function isExtensible(t){return!!n(t)&&(!e||e(t))}})},function(e,t,r){var n=r(3);n(n.S+n.F,"Object",{assign:r(264)})},function(e,t,r){var n=r(3);n(n.S,"Object",{is:r(265)})},function(e,t,r){var n=r(3);n(n.S,"Object",{setPrototypeOf:r(191).set})},function(e,t,r){"use strict";var n=r(129),i={};i[r(28)("toStringTag")]="z",i+""!="[object z]"&&r(51)(Object.prototype,"toString",function toString(){return"[object "+n(this)+"]"},!0)},function(e,t,r){var n=r(3);n(n.P,"Function",{bind:r(266)})},function(e,t,r){var n=r(37).f,i=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in i||r(36)&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},function(e,t,r){"use strict";var n=r(22),i=r(98),a=r(28)("hasInstance"),o=Function.prototype;a in o||r(37).f(o,a,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,r){var n=r(3),i=r(268);n(n.G+n.F*(parseInt!=i),{parseInt:i})},function(e,t,r){var n=r(3),i=r(269);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},function(e,t,r){"use strict";var n=r(19),i=r(54),a=r(74),o=r(193),s=r(82),l=r(20),u=r(97).f,c=r(68).f,f=r(37).f,d=r(111).trim,p=n.Number,h=p,g=p.prototype,m="Number"==a(r(96)(g)),y="trim"in String.prototype,v=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var r,n,i,a=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var o,l=t.slice(2),u=0,c=l.length;u<c;u++)if((o=l.charCodeAt(u))<48||o>i)return NaN;return parseInt(l,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function Number(e){var t=arguments.length<1?0:e,r=this;return r instanceof p&&(m?l(function(){g.valueOf.call(r)}):"Number"!=a(r))?o(new h(v(t)),r,p):v(t)};for(var _,b=r(36)?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;b.length>E;E++)i(h,_=b[E])&&!i(p,_)&&f(p,_,c(h,_));p.prototype=g,g.constructor=p,r(51)(n,"Number",p)}},function(e,t,r){"use strict";var n=r(3),i=r(67),a=r(270),o=r(194),s=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f=function(e,t){for(var r=-1,n=t;++r<6;)n+=e*u[r],u[r]=n%1e7,n=l(n/1e7)},d=function(e){for(var t=6,r=0;--t>=0;)r+=u[t],u[t]=l(r/e),r=r%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var r=String(u[e]);t=""===t?r:t+o.call("0",7-r.length)+r}return t},h=function(e,t,r){return 0===t?r:t%2==1?h(e,t-1,r*e):h(e*e,t/2,r)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(20)(function(){s.call({})})),"Number",{toFixed:function toFixed(e){var t,r,n,s,l=a(this,c),u=i(e),g="",m="0";if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(l*h(2,69,1))-69)<0?l*h(2,-t,1):l/h(2,t,1),r*=4503599627370496,(t=52-t)>0){for(f(0,r),n=u;n>=7;)f(1e7,0),n-=7;for(f(h(10,n,1),0),n=t-1;n>=23;)d(1<<23),n-=23;d(1<<n),f(1,1),d(2),m=p()}else f(0,r),f(1<<-t,0),m=p()+o.call("0",u);return m=u>0?g+((s=m.length)<=u?"0."+o.call("0",u-s)+m:m.slice(0,s-u)+"."+m.slice(s-u)):g+m}})},function(e,t,r){"use strict";var n=r(3),i=r(20),a=r(270),o=1..toPrecision;n(n.P+n.F*(i(function(){return"1"!==o.call(1,void 0)})||!i(function(){o.call({})})),"Number",{toPrecision:function toPrecision(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},function(e,t,r){var n=r(3);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,r){var n=r(3),i=r(19).isFinite;n(n.S,"Number",{isFinite:function isFinite(e){return"number"==typeof e&&i(e)}})},function(e,t,r){var n=r(3);n(n.S,"Number",{isInteger:r(271)})},function(e,t,r){var n=r(3);n(n.S,"Number",{isNaN:function isNaN(e){return e!=e}})},function(e,t,r){var n=r(3),i=r(271),a=Math.abs;n(n.S,"Number",{isSafeInteger:function isSafeInteger(e){return i(e)&&a(e)<=9007199254740991}})},function(e,t,r){var n=r(3);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){var n=r(3);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){var n=r(3),i=r(269);n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,r){var n=r(3),i=r(268);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,r){var n=r(3),i=r(272),a=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function acosh(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+a(e-1)*a(e+1))}})},function(e,t,r){var n=r(3),i=Math.asinh;n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:function asinh(e){return isFinite(e=+e)&&0!=e?e<0?-asinh(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(e,t,r){var n=r(3),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function atanh(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,r){var n=r(3),i=r(195);n(n.S,"Math",{cbrt:function cbrt(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,r){var n=r(3);n(n.S,"Math",{clz32:function clz32(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,r){var n=r(3),i=Math.exp;n(n.S,"Math",{cosh:function cosh(e){return(i(e=+e)+i(-e))/2}})},function(e,t,r){var n=r(3),i=r(196);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,r){var n=r(3);n(n.S,"Math",{fround:r(476)})},function(e,t,r){var n=r(195),i=Math.pow,a=i(2,-52),o=i(2,-23),s=i(2,127)*(2-o),l=i(2,-126);e.exports=Math.fround||function fround(e){var t,r,i=Math.abs(e),u=n(e);return i<l?u*(i/l/o+1/a-1/a)*l*o:(r=(t=(1+o/a)*i)-(t-i))>s||r!=r?u*(1/0):u*r}},function(e,t,r){var n=r(3),i=Math.abs;n(n.S,"Math",{hypot:function hypot(e,t){for(var r,n,a=0,o=0,s=arguments.length,l=0;o<s;)l<(r=i(arguments[o++]))?(a=a*(n=l/r)*n+1,l=r):a+=r>0?(n=r/l)*n:r;return l===1/0?1/0:l*Math.sqrt(a)}})},function(e,t,r){var n=r(3),i=Math.imul;n(n.S+n.F*r(20)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function imul(e,t){var r=+e,n=+t,i=65535&r,a=65535&n;return 0|i*a+((65535&r>>>16)*a+i*(65535&n>>>16)<<16>>>0)}})},function(e,t,r){var n=r(3);n(n.S,"Math",{log10:function log10(e){return Math.log(e)*Math.LOG10E}})},function(e,t,r){var n=r(3);n(n.S,"Math",{log1p:r(272)})},function(e,t,r){var n=r(3);n(n.S,"Math",{log2:function log2(e){return Math.log(e)/Math.LN2}})},function(e,t,r){var n=r(3);n(n.S,"Math",{sign:r(195)})},function(e,t,r){var n=r(3),i=r(196),a=Math.exp;n(n.S+n.F*r(20)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function sinh(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},function(e,t,r){var n=r(3),i=r(196),a=Math.exp;n(n.S,"Math",{tanh:function tanh(e){var t=i(e=+e),r=i(-e);return t==1/0?1:r==1/0?-1:(t-r)/(a(e)+a(-e))}})},function(e,t,r){var n=r(3);n(n.S,"Math",{trunc:function trunc(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,r){var n=r(3),i=r(95),a=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function fromCodePoint(e){for(var t,r=[],n=arguments.length,o=0;n>o;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){var n=r(3),i=r(56),a=r(31);n(n.S,"String",{raw:function raw(e){for(var t=i(e.raw),r=a(t.length),n=arguments.length,o=[],s=0;r>s;)o.push(String(t[s++])),s<n&&o.push(String(arguments[s]));return o.join("")}})},function(e,t,r){"use strict";r(111)("trim",function(e){return function trim(){return e(this,3)}})},function(e,t,r){"use strict";var n=r(197)(!0);r(198)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){"use strict";var n=r(3),i=r(197)(!1);n(n.P,"String",{codePointAt:function codePointAt(e){return i(this,e)}})},function(e,t,r){"use strict";var n=r(3),i=r(31),a=r(199),o="".endsWith;n(n.P+n.F*r(201)("endsWith"),"String",{endsWith:function endsWith(e){var t=a(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=i(t.length),s=void 0===r?n:Math.min(i(r),n),l=String(e);return o?o.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,r){"use strict";var n=r(3),i=r(199);n(n.P+n.F*r(201)("includes"),"String",{includes:function includes(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(3);n(n.P,"String",{repeat:r(194)})},function(e,t,r){"use strict";var n=r(3),i=r(31),a=r(199),o="".startsWith;n(n.P+n.F*r(201)("startsWith"),"String",{startsWith:function startsWith(e){var t=a(this,e,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return o?o.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t,r){"use strict";r(52)("anchor",function(e){return function anchor(t){return e(this,"a","name",t)}})},function(e,t,r){"use strict";r(52)("big",function(e){return function big(){return e(this,"big","","")}})},function(e,t,r){"use strict";r(52)("blink",function(e){return function blink(){return e(this,"blink","","")}})},function(e,t,r){"use strict";r(52)("bold",function(e){return function bold(){return e(this,"b","","")}})},function(e,t,r){"use strict";r(52)("fixed",function(e){return function fixed(){return e(this,"tt","","")}})},function(e,t,r){"use strict";r(52)("fontcolor",function(e){return function fontcolor(t){return e(this,"font","color",t)}})},function(e,t,r){"use strict";r(52)("fontsize",function(e){return function fontsize(t){return e(this,"font","size",t)}})},function(e,t,r){"use strict";r(52)("italics",function(e){return function italics(){return e(this,"i","","")}})},function(e,t,r){"use strict";r(52)("link",function(e){return function link(t){return e(this,"a","href",t)}})},function(e,t,r){"use strict";r(52)("small",function(e){return function small(){return e(this,"small","","")}})},function(e,t,r){"use strict";r(52)("strike",function(e){return function strike(){return e(this,"strike","","")}})},function(e,t,r){"use strict";r(52)("sub",function(e){return function sub(){return e(this,"sub","","")}})},function(e,t,r){"use strict";r(52)("sup",function(e){return function sup(){return e(this,"sup","","")}})},function(e,t,r){var n=r(3);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,r){"use strict";var n=r(3),i=r(44),a=r(82);n(n.P+n.F*r(20)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function toJSON(e){var t=i(this),r=a(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},function(e,t,r){var n=r(3),i=r(511);n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,r){"use strict";var n=r(20),i=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!n(function(){a.call(new Date(NaN))})?function toISOString(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(r>99?r:"0"+o(r))+"Z"}:a},function(e,t,r){var n=Date.prototype,i=n.toString,a=n.getTime;new Date(NaN)+""!="Invalid Date"&&r(51)(n,"toString",function toString(){var e=a.call(this);return e==e?i.call(this):"Invalid Date"})},function(e,t,r){var n=r(28)("toPrimitive"),i=Date.prototype;n in i||r(55)(i,n,r(514))},function(e,t,r){"use strict";var n=r(21),i=r(82);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(n(this),"number"!=e)}},function(e,t,r){var n=r(3);n(n.S,"Array",{isArray:r(145)})},function(e,t,r){"use strict";var n=r(65),i=r(3),a=r(44),o=r(274),s=r(202),l=r(31),u=r(203),c=r(204);i(i.S+i.F*!r(146)(function(e){Array.from(e)}),"Array",{from:function from(e){var t,r,i,f,d=a(e),p="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,m=void 0!==g,y=0,v=c(d);if(m&&(g=n(g,h>2?arguments[2]:void 0,2)),null==v||p==Array&&s(v))for(r=new p(t=l(d.length));t>y;y++)u(r,y,m?g(d[y],y):d[y]);else for(f=v.call(d),r=new p;!(i=f.next()).done;y++)u(r,y,m?o(f,g,[i.value,y],!0):i.value);return r.length=y,r}})},function(e,t,r){"use strict";var n=r(3),i=r(203);n(n.S+n.F*r(20)(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function of(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)i(r,e,arguments[e++]);return r.length=t,r}})},function(e,t,r){"use strict";var n=r(3),i=r(56),a=[].join;n(n.P+n.F*(r(127)!=Object||!r(60)(a)),"Array",{join:function join(e){return a.call(i(this),void 0===e?",":e)}})},function(e,t,r){"use strict";var n=r(3),i=r(190),a=r(74),o=r(95),s=r(31),l=[].slice;n(n.P+n.F*r(20)(function(){i&&l.call(i)}),"Array",{slice:function slice(e,t){var r=s(this.length),n=a(this);if(t=void 0===t?r:t,"Array"==n)return l.call(this,e,t);for(var i=o(e,r),u=o(t,r),c=s(u-i),f=new Array(c),d=0;d<c;d++)f[d]="String"==n?this.charAt(i+d):this[i+d];return f}})},function(e,t,r){"use strict";var n=r(3),i=r(66),a=r(44),o=r(20),s=[].sort,l=[1,2,3];n(n.P+n.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!r(60)(s)),"Array",{sort:function sort(e){return void 0===e?s.call(a(this)):s.call(a(this),i(e))}})},function(e,t,r){"use strict";var n=r(3),i=r(70)(0),a=r(60)([].forEach,!0);n(n.P+n.F*!a,"Array",{forEach:function forEach(e){return i(this,e,arguments[1])}})},function(e,t,r){var n=r(22),i=r(145),a=r(28)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){"use strict";var n=r(3),i=r(70)(1);n(n.P+n.F*!r(60)([].map,!0),"Array",{map:function map(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(3),i=r(70)(2);n(n.P+n.F*!r(60)([].filter,!0),"Array",{filter:function filter(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(3),i=r(70)(3);n(n.P+n.F*!r(60)([].some,!0),"Array",{some:function some(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(3),i=r(70)(4);n(n.P+n.F*!r(60)([].every,!0),"Array",{every:function every(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(3),i=r(276);n(n.P+n.F*!r(60)([].reduce,!0),"Array",{reduce:function reduce(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,r){"use strict";var n=r(3),i=r(276);n(n.P+n.F*!r(60)([].reduceRight,!0),"Array",{reduceRight:function reduceRight(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,r){"use strict";var n=r(3),i=r(143)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!r(60)(a)),"Array",{indexOf:function indexOf(e){return o?a.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(3),i=r(56),a=r(67),o=r(31),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!r(60)(s)),"Array",{lastIndexOf:function lastIndexOf(e){if(l)return s.apply(this,arguments)||0;var t=i(this),r=o(t.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,a(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},function(e,t,r){var n=r(3);n(n.P,"Array",{copyWithin:r(277)}),r(99)("copyWithin")},function(e,t,r){var n=r(3);n(n.P,"Array",{fill:r(205)}),r(99)("fill")},function(e,t,r){"use strict";var n=r(3),i=r(70)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),n(n.P+n.F*a,"Array",{find:function find(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(99)("find")},function(e,t,r){"use strict";var n=r(3),i=r(70)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function findIndex(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(99)(a)},function(e,t,r){r(113)("Array")},function(e,t,r){var n=r(19),i=r(193),a=r(37).f,o=r(97).f,s=r(200),l=r(147),u=n.RegExp,c=u,f=u.prototype,d=/a/g,p=/a/g,h=new u(d)!==d;if(r(36)&&(!h||r(20)(function(){return p[r(28)("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")}))){u=function RegExp(e,t){var r=this instanceof u,n=s(e),a=void 0===t;return!r&&n&&e.constructor===u&&a?e:i(h?new c(n&&!a?e.source:e,t):c((n=e instanceof u)?e.source:e,n&&a?l.call(e):t),r?this:f,u)};for(var g=function(e){e in u||a(u,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},m=o(c),y=0;m.length>y;)g(m[y++]);f.constructor=u,u.prototype=f,r(51)(n,"RegExp",u)}r(113)("RegExp")},function(e,t,r){"use strict";r(280);var n=r(21),i=r(147),a=r(36),o=/./.toString,s=function(e){r(51)(RegExp.prototype,"toString",e,!0)};r(20)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?s(function toString(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=o.name&&s(function toString(){return o.call(this)})},function(e,t,r){"use strict";var n=r(21),i=r(31),a=r(208),o=r(148);r(149)("match",1,function(e,t,r,s){return[function match(r){var n=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=s(r,e,this);if(t.done)return t.value;var l=n(e),u=String(this);if(!l.global)return o(l,u);var c=l.unicode;l.lastIndex=0;for(var f,d=[],p=0;null!==(f=o(l,u));){var h=String(f[0]);d[p]=h,""===h&&(l.lastIndex=a(u,i(l.lastIndex),c)),p++}return 0===p?null:d}]})},function(e,t,r){"use strict";var n=r(21),i=r(44),a=r(31),o=r(67),s=r(208),l=r(148),u=Math.max,c=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;r(149)("replace",2,function(e,t,r,h){return[function replace(n,i){var a=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,a,i):r.call(String(a),n,i)},function(e,t){var i=h(r,e,this,t);if(i.done)return i.value;var f=n(e),d=String(this),p="function"==typeof t;p||(t=String(t));var g=f.global;if(g){var m=f.unicode;f.lastIndex=0}for(var y=[];;){var v=l(f,d);if(null===v)break;if(y.push(v),!g)break;""===String(v[0])&&(f.lastIndex=s(d,a(f.lastIndex),m))}for(var _,b="",E=0,T=0;T<y.length;T++){v=y[T];for(var S=String(v[0]),w=u(c(o(v.index),d.length),0),R=[],A=1;A<v.length;A++)R.push(void 0===(_=v[A])?_:String(_));var C=v.groups;if(p){var x=[S].concat(R,w,d);void 0!==C&&x.push(C);var D=String(t.apply(void 0,x))}else D=getSubstitution(S,d,w,R,C,t);w>=E&&(b+=d.slice(E,w)+D,E=w+S.length)}return b+d.slice(E)}];function getSubstitution(e,t,n,a,o,s){var l=n+e.length,u=a.length,c=p;return void 0!==o&&(o=i(o),c=d),r.call(s,c,function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(l);case"<":s=o[i.slice(1,-1)];break;default:var c=+i;if(0===c)return r;if(c>u){var d=f(c/10);return 0===d?r:d<=u?void 0===a[d-1]?i.charAt(1):a[d-1]+i.charAt(1):r}s=a[c-1]}return void 0===s?"":s})}})},function(e,t,r){"use strict";var n=r(21),i=r(265),a=r(148);r(149)("search",1,function(e,t,r,o){return[function search(r){var n=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=o(r,e,this);if(t.done)return t.value;var s=n(e),l=String(this),u=s.lastIndex;i(u,0)||(s.lastIndex=0);var c=a(s,l);return i(s.lastIndex,u)||(s.lastIndex=u),null===c?-1:c.index}]})},function(e,t,r){"use strict";var n=r(200),i=r(21),a=r(130),o=r(208),s=r(31),l=r(148),u=r(207),c=r(20),f=Math.min,d=[].push,p=!c(function(){RegExp(4294967295,"y")});r(149)("split",2,function(e,t,r,c){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(i,e,t);for(var a,o,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,p=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,c+"g");(a=u.call(h,i))&&!((o=h.lastIndex)>f&&(l.push(i.slice(f,a.index)),a.length>1&&a.index<i.length&&d.apply(l,a.slice(1)),s=a[0].length,f=o,l.length>=p));)h.lastIndex===a.index&&h.lastIndex++;return f===i.length?!s&&h.test("")||l.push(""):l.push(i.slice(f)),l.length>p?l.slice(0,p):l}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function split(r,n){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,n):h.call(String(i),r,n)},function(e,t){var n=c(h,e,this,t,h!==r);if(n.done)return n.value;var u=i(e),d=String(this),g=a(u,RegExp),m=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(p?"y":"g"),v=new g(p?u:"^(?:"+u.source+")",y),_=void 0===t?4294967295:t>>>0;if(0===_)return[];if(0===d.length)return null===l(v,d)?[d]:[];for(var b=0,E=0,T=[];E<d.length;){v.lastIndex=p?E:0;var S,w=l(v,p?d:d.slice(E));if(null===w||(S=f(s(v.lastIndex+(p?0:E)),d.length))===b)E=o(d,E,m);else{if(T.push(d.slice(b,E)),T.length===_)return T;for(var R=1;R<=w.length-1;R++)if(T.push(w[R]),T.length===_)return T;E=b=S}}return T.push(d.slice(b)),T}]})},function(e,t,r){var n=r(19),i=r(209).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,l="process"==r(74)(o);e.exports=function(){var e,t,r,u=function(){var n,i;for(l&&(n=o.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(l)r=function(){o.nextTick(u)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(u)}}else r=function(){i.call(n,u)};else{var f=!0,d=document.createTextNode("");new a(u).observe(d,{characterData:!0}),r=function(){d.data=f=!f}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){"use strict";var n=r(284),i=r(100);e.exports=r(152)("Map",function(e){return function Map(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function get(e){var t=n.getEntry(i(this,"Map"),e);return t&&t.v},set:function set(e,t){return n.def(i(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){"use strict";var n=r(284),i=r(100);e.exports=r(152)("Set",function(e){return function Set(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function add(e){return n.def(i(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){"use strict";var n,i=r(19),a=r(70)(0),o=r(51),s=r(83),l=r(264),u=r(285),c=r(22),f=r(100),d=r(100),p=!i.ActiveXObject&&"ActiveXObject"in i,h=s.getWeak,g=Object.isExtensible,m=u.ufstore,y=function(e){return function WeakMap(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function get(e){if(c(e)){var t=h(e);return!0===t?m(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function set(e,t){return u.def(f(this,"WeakMap"),e,t)}},_=e.exports=r(152)("WeakMap",y,v,u,!0,!0);d&&p&&(l((n=u.getConstructor(y,"WeakMap")).prototype,v),s.NEED=!0,a(["delete","has","get","set"],function(e){var t=_.prototype,r=t[e];o(t,e,function(t,i){if(c(t)&&!g(t)){this._f||(this._f=new n);var a=this._f[e](t,i);return"set"==e?this:a}return r.call(this,t,i)})}))},function(e,t,r){"use strict";var n=r(285),i=r(100);r(152)("WeakSet",function(e){return function WeakSet(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function add(e){return n.def(i(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,r){"use strict";var n=r(3),i=r(153),a=r(210),o=r(21),s=r(95),l=r(31),u=r(22),c=r(19).ArrayBuffer,f=r(130),d=a.ArrayBuffer,p=a.DataView,h=i.ABV&&c.isView,g=d.prototype.slice,m=i.VIEW;n(n.G+n.W+n.F*(c!==d),{ArrayBuffer:d}),n(n.S+n.F*!i.CONSTR,"ArrayBuffer",{isView:function isView(e){return h&&h(e)||u(e)&&m in e}}),n(n.P+n.U+n.F*r(20)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function slice(e,t){if(void 0!==g&&void 0===t)return g.call(o(this),e);for(var r=o(this).byteLength,n=s(e,r),i=s(void 0===t?r:t,r),a=new(f(this,d))(l(i-n)),u=new p(this),c=new p(a),h=0;n<i;)c.setUint8(h++,u.getUint8(n++));return a}}),r(113)("ArrayBuffer")},function(e,t,r){var n=r(3);n(n.G+n.W+n.F*!r(153).ABV,{DataView:r(210).DataView})},function(e,t,r){r(76)("Int8",1,function(e){return function Int8Array(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(76)("Uint8",1,function(e){return function Uint8Array(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(76)("Uint8",1,function(e){return function Uint8ClampedArray(t,r,n){return e(this,t,r,n)}},!0)},function(e,t,r){r(76)("Int16",2,function(e){return function Int16Array(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(76)("Uint16",2,function(e){return function Uint16Array(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(76)("Int32",4,function(e){return function Int32Array(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(76)("Uint32",4,function(e){return function Uint32Array(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(76)("Float32",4,function(e){return function Float32Array(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(76)("Float64",8,function(e){return function Float64Array(t,r,n){return e(this,t,r,n)}})},function(e,t,r){var n=r(3),i=r(66),a=r(21),o=(r(19).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!r(20)(function(){o(function(){})}),"Reflect",{apply:function apply(e,t,r){var n=i(e),l=a(r);return o?o(n,t,l):s.call(n,t,l)}})},function(e,t,r){var n=r(3),i=r(96),a=r(66),o=r(21),s=r(22),l=r(20),u=r(266),c=(r(19).Reflect||{}).construct,f=l(function(){function F(){}return!(c(function(){},[],F)instanceof F)}),d=!l(function(){c(function(){})});n(n.S+n.F*(f||d),"Reflect",{construct:function construct(e,t){a(e),o(t);var r=arguments.length<3?e:a(arguments[2]);if(d&&!f)return c(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}var l=r.prototype,p=i(s(l)?l:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,r){var n=r(37),i=r(3),a=r(21),o=r(82);i(i.S+i.F*r(20)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function defineProperty(e,t,r){a(e),t=o(t,!0),a(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},function(e,t,r){var n=r(3),i=r(68).f,a=r(21);n(n.S,"Reflect",{deleteProperty:function deleteProperty(e,t){var r=i(a(e),t);return!(r&&!r.configurable)&&delete e[t]}})},function(e,t,r){"use strict";var n=r(3),i=r(21),a=function(e){this._t=i(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)};r(273)(a,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function enumerate(e){return new a(e)}})},function(e,t,r){var n=r(68),i=r(98),a=r(54),o=r(3),s=r(22),l=r(21);o(o.S,"Reflect",{get:function get(e,t){var r,o,u=arguments.length<3?e:arguments[2];return l(e)===u?e[t]:(r=n.f(e,t))?a(r,"value")?r.value:void 0!==r.get?r.get.call(u):void 0:s(o=i(e))?get(o,t,u):void 0}})},function(e,t,r){var n=r(68),i=r(3),a=r(21);i(i.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,t){return n.f(a(e),t)}})},function(e,t,r){var n=r(3),i=r(98),a=r(21);n(n.S,"Reflect",{getPrototypeOf:function getPrototypeOf(e){return i(a(e))}})},function(e,t,r){var n=r(3);n(n.S,"Reflect",{has:function has(e,t){return t in e}})},function(e,t,r){var n=r(3),i=r(21),a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function isExtensible(e){return i(e),!a||a(e)}})},function(e,t,r){var n=r(3);n(n.S,"Reflect",{ownKeys:r(287)})},function(e,t,r){var n=r(3),i=r(21),a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function preventExtensions(e){i(e);try{return a&&a(e),!0}catch(e){return!1}}})},function(e,t,r){var n=r(37),i=r(68),a=r(98),o=r(54),s=r(3),l=r(91),u=r(21),c=r(22);s(s.S,"Reflect",{set:function set(e,t,r){var s,f,d=arguments.length<4?e:arguments[3],p=i.f(u(e),t);if(!p){if(c(f=a(e)))return set(f,t,r,d);p=l(0)}if(o(p,"value")){if(!1===p.writable||!c(d))return!1;if(s=i.f(d,t)){if(s.get||s.set||!1===s.writable)return!1;s.value=r,n.f(d,t,s)}else n.f(d,t,l(0,r));return!0}return void 0!==p.set&&(p.set.call(d,r),!0)}})},function(e,t,r){var n=r(3),i=r(191);i&&n(n.S,"Reflect",{setPrototypeOf:function setPrototypeOf(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,r){r(574),e.exports=r(35).Array.includes},function(e,t,r){"use strict";var n=r(3),i=r(143)(!0);n(n.P,"Array",{includes:function includes(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(99)("includes")},function(e,t,r){r(576),e.exports=r(35).Array.flatMap},function(e,t,r){"use strict";var n=r(3),i=r(577),a=r(44),o=r(31),s=r(66),l=r(275);n(n.P,"Array",{flatMap:function flatMap(e){var t,r,n=a(this);return s(e),t=o(n.length),r=l(n,0),i(r,n,n,t,0,1,e,arguments[1]),r}}),r(99)("flatMap")},function(e,t,r){"use strict";var n=r(145),i=r(22),a=r(31),o=r(65),s=r(28)("isConcatSpreadable");e.exports=function flattenIntoArray(e,t,r,l,u,c,f,d){for(var p,h,g=u,m=0,y=!!f&&o(f,d,3);m<l;){if(m in r){if(p=y?y(r[m],m,t):r[m],h=!1,i(p)&&(h=void 0!==(h=p[s])?!!h:n(p)),h&&c>0)g=flattenIntoArray(e,t,p,a(p.length),g,c-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=p}g++}m++}return g}},function(e,t,r){r(579),e.exports=r(35).String.padStart},function(e,t,r){"use strict";var n=r(3),i=r(288),a=r(151),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padStart:function padStart(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,r){r(581),e.exports=r(35).String.padEnd},function(e,t,r){"use strict";var n=r(3),i=r(288),a=r(151),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padEnd:function padEnd(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,r){r(583),e.exports=r(35).String.trimLeft},function(e,t,r){"use strict";r(111)("trimLeft",function(e){return function trimLeft(){return e(this,1)}},"trimStart")},function(e,t,r){r(585),e.exports=r(35).String.trimRight},function(e,t,r){"use strict";r(111)("trimRight",function(e){return function trimRight(){return e(this,2)}},"trimEnd")},function(e,t,r){r(587),e.exports=r(187).f("asyncIterator")},function(e,t,r){r(260)("asyncIterator")},function(e,t,r){r(589),e.exports=r(35).Object.getOwnPropertyDescriptors},function(e,t,r){var n=r(3),i=r(287),a=r(56),o=r(68),s=r(203);n(n.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(e){for(var t,r,n=a(e),l=o.f,u=i(n),c={},f=0;u.length>f;)void 0!==(r=l(n,t=u[f++]))&&s(c,t,r);return c}})},function(e,t,r){r(591),e.exports=r(35).Object.values},function(e,t,r){var n=r(3),i=r(289)(!1);n(n.S,"Object",{values:function values(e){return i(e)}})},function(e,t,r){r(593),e.exports=r(35).Object.entries},function(e,t,r){var n=r(3),i=r(289)(!0);n(n.S,"Object",{entries:function entries(e){return i(e)}})},function(e,t,r){"use strict";r(281),r(595),e.exports=r(35).Promise.finally},function(e,t,r){"use strict";var n=r(3),i=r(35),a=r(19),o=r(130),s=r(283);n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,i.Promise||a.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){r(597),r(598),r(599),e.exports=r(35)},function(e,t,r){var n=r(19),i=r(3),a=r(151),o=[].slice,s=/MSIE .\./.test(a),l=function(e){return function(t,r){var n=arguments.length>2,i=!!n&&o.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,r)}};i(i.G+i.B+i.F*s,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},function(e,t,r){var n=r(3),i=r(209);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,r){for(var n=r(206),i=r(94),a=r(51),o=r(19),s=r(55),l=r(112),u=r(28),c=u("iterator"),f=u("toStringTag"),d=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),g=0;g<h.length;g++){var m,y=h[g],v=p[y],_=o[y],b=_&&_.prototype;if(b&&(b[c]||s(b,c,d),b[f]||s(b,f,y),l[y]=d,v))for(m in n)b[m]||a(b,m,n[m],!0)}},function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function wrap(e,t,r,n){var i=t&&t.prototype instanceof Generator?t:Generator,a=Object.create(i.prototype),o=new Context(n||[]);return a._invoke=function makeInvokeMethod(e,t,r){var n=l;return function invoke(i,a){if(n===c)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw a;return doneResult()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=maybeInvokeDelegate(o,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=c;var p=tryCatch(e,t,r);if("normal"===p.type){if(n=r.done?f:u,p.arg===d)continue;return{value:p.arg,done:r.done}}"throw"===p.type&&(n=f,r.method="throw",r.arg=p.arg)}}}(e,r,o),a}function tryCatch(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=wrap;var l="suspendedStart",u="suspendedYield",c="executing",f="completed",d={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};p[a]=function(){return this};var h=Object.getPrototypeOf,g=h&&h(h(values([])));g&&g!==r&&n.call(g,a)&&(p=g);var m=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function AsyncIterator(e){var t;this._invoke=function enqueue(r,i){function callInvokeWithMethodAndArg(){return new Promise(function(t,a){!function invoke(t,r,i,a){var o=tryCatch(e[t],e,r);if("throw"!==o.type){var s=o.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then(function(e){invoke("next",e,i,a)},function(e){invoke("throw",e,i,a)}):Promise.resolve(l).then(function(e){s.value=e,i(s)},function(e){return invoke("throw",e,i,a)})}a(o.arg)}(r,i,t,a)})}return t=t?t.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=tryCatch(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,d;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function next(){for(;++i<e.length;)if(n.call(e,i))return next.value=e[i],next.done=!1,next;return next.value=t,next.done=!0,next};return o.next=o}}return{next:doneResult}}function doneResult(){return{value:t,done:!0}}return GeneratorFunction.prototype=m.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[s]=GeneratorFunction.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[o]=function(){return this},e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,i){var a=new AsyncIterator(wrap(t,r,n,i));return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},defineIteratorMethods(m),m[s]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function next(){for(;t.length;){var r=t.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,i){return o.type="throw",o.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return handle("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0);if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return handle(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return handle(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;resetTryEntry(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){r(602),e.exports=r(290).global},function(e,t,r){var n=r(603);n(n.G,{global:r(211)})},function(e,t,r){var n=r(211),i=r(290),a=r(604),o=r(606),s=r(613),l=function(e,t,r){var u,c,f,d=e&l.F,p=e&l.G,h=e&l.S,g=e&l.P,m=e&l.B,y=e&l.W,v=p?i:i[t]||(i[t]={}),_=v.prototype,b=p?n:h?n[t]:(n[t]||{}).prototype;for(u in p&&(r=t),r)(c=!d&&b&&void 0!==b[u])&&s(v,u)||(f=c?b[u]:r[u],v[u]=p&&"function"!=typeof b[u]?r[u]:m&&c?a(f,n):y&&b[u]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):g&&"function"==typeof f?a(Function.call,f):f,g&&((v.virtual||(v.virtual={}))[u]=f,e&l.R&&_&&!_[u]&&o(_,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,r){var n=r(605);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(607),i=r(612);e.exports=r(213)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(608),i=r(609),a=r(611),o=Object.defineProperty;t.f=r(213)?Object.defineProperty:function defineProperty(e,t,r){if(n(e),t=a(t,!0),n(r),i)try{return o(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(212);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(213)&&!r(291)(function(){return 7!=Object.defineProperty(r(610)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(212),i=r(211).document,a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var n=r(212);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){"use strict";t.byteLength=function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function toByteArray(e){var t,r,n=getLens(e),o=n[0],s=n[1],l=new a(function _byteLength(e,t,r){return 3*(t+r)/4-r}(0,o,s)),u=0,c=s>0?o-4:o;for(r=0;r<c;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function fromByteArray(e){for(var t,r=e.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(encodeChunk(e,o,o+16383>s?s:o+16383));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=o.length;s<l;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function encodeChunk(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,f=r?i-1:0,d=r?-1:1,p=e[t+f];for(f+=d,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=256*o+e[t+f],f+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=u}return(p?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,h=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(o++,l/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*l-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&s,p+=h,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[r+p]=255&o,p+=h,o/=256,u-=8);e[r+p-h]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n=r(252).Buffer;e.exports=function base(e){if(e.length>=255)throw new TypeError("Alphabet too long");var t=new Uint8Array(256);t.fill(255);for(var r=0;r<e.length;r++){var i=e.charAt(r),a=i.charCodeAt(0);if(255!==t[a])throw new TypeError(i+" is ambiguous");t[a]=r}var o=e.length,s=e.charAt(0),l=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function decodeUnsafe(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);var r=0;if(" "!==e[r]){for(var i=0,a=0;e[r]===s;)i++,r++;for(var u=(e.length-r)*l+1>>>0,c=new Uint8Array(u);e[r];){var f=t[e.charCodeAt(r)];if(255===f)return;for(var d=0,p=u-1;(0!==f||d<a)&&-1!==p;p--,d++)f+=o*c[p]>>>0,c[p]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");a=d,r++}if(" "!==e[r]){for(var h=u-a;h!==u&&0===c[h];)h++;var g=n.allocUnsafe(i+(u-h));g.fill(0,0,i);for(var m=i;h!==u;)g[m++]=c[h++];return g}}}return{encode:function encode(t){if(!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,a=0,l=t.length;a!==l&&0===t[a];)a++,r++;for(var c=(l-a)*u+1>>>0,f=new Uint8Array(c);a!==l;){for(var d=t[a],p=0,h=c-1;(0!==d||p<i)&&-1!==h;h--,p++)d+=256*f[h]>>>0,f[h]=d%o>>>0,d=d/o>>>0;if(0!==d)throw new Error("Non-zero carry");i=p,a++}for(var g=c-i;g!==c&&0===f[g];)g++;for(var m=s.repeat(r);g<c;++g)m+=e.charAt(f[g]);return m},decodeUnsafe:decodeUnsafe,decode:function decode(e){var t=decodeUnsafe(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}},function(e,t,r){var n;!function(i){"use strict";var a,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,l=Math.ceil,u=Math.floor,c="[BigNumber Error] ",f=c+"Number primitive has more than 15 significant digits: ",d=1e14,p=14,h=9007199254740991,g=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],m=1e7,y=1e9;function bitFloor(e){var t=0|e;return e>0||e===t?t:t-1}function coeffToString(e){for(var t,r,n=1,i=e.length,a=e[0]+"";n<i;){for(t=e[n++]+"",r=p-t.length;r--;t="0"+t);a+=t}for(i=a.length;48===a.charCodeAt(--i););return a.slice(0,i+1||1)}function compare(e,t){var r,n,i=e.c,a=t.c,o=e.s,s=t.s,l=e.e,u=t.e;if(!o||!s)return null;if(r=i&&!i[0],n=a&&!a[0],r||n)return r?n?0:-s:o;if(o!=s)return o;if(r=o<0,n=l==u,!i||!a)return n?0:!i^r?1:-1;if(!n)return l>u^r?1:-1;for(s=(l=i.length)<(u=a.length)?l:u,o=0;o<s;o++)if(i[o]!=a[o])return i[o]>a[o]^r?1:-1;return l==u?0:l>u^r?1:-1}function intCheck(e,t,r,n){if(e<t||e>r||e!==u(e))throw Error(c+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function isOdd(e){var t=e.c.length-1;return bitFloor(e.e/p)==t&&e.c[t]%2!=0}function toExponential(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function toFixedPoint(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}(a=function clone(e){var t,r,n,i,a,v,_,b,E,T=BigNumber.prototype={constructor:BigNumber,toString:null,valueOf:null},S=new BigNumber(1),w=20,R=4,A=-7,C=21,x=-1e7,D=1e7,P=!1,I=1,M=0,O={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},k="0123456789abcdefghijklmnopqrstuvwxyz";function BigNumber(e,t){var i,a,s,l,c,d,g,m,y=this;if(!(y instanceof BigNumber))return new BigNumber(e,t);if(null==t){if(e&&!0===e._isBigNumber)return y.s=e.s,void(!e.c||e.e>D?y.c=y.e=null:e.e<x?y.c=[y.e=0]:(y.e=e.e,y.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(y.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,c=e;c>=10;c/=10,l++);return void(l>D?y.c=y.e=null:(y.e=l,y.c=[e]))}m=String(e)}else{if(!o.test(m=String(e)))return n(y,m,d);y.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(l=m.indexOf("."))>-1&&(m=m.replace(".","")),(c=m.search(/e/i))>0?(l<0&&(l=c),l+=+m.slice(c+1),m=m.substring(0,c)):l<0&&(l=m.length)}else{if(intCheck(t,2,k.length,"Base"),10==t)return round(y=new BigNumber(e),w+y.e+1,R);if(m=String(e),d="number"==typeof e){if(0*e!=0)return n(y,m,d,t);if(y.s=1/e<0?(m=m.slice(1),-1):1,BigNumber.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(f+e)}else y.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(i=k.slice(0,t),l=c=0,g=m.length;c<g;c++)if(i.indexOf(a=m.charAt(c))<0){if("."==a){if(c>l){l=g;continue}}else if(!s&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){s=!0,c=-1,l=0;continue}return n(y,String(e),d,t)}d=!1,(l=(m=r(m,t,10,y.s)).indexOf("."))>-1?m=m.replace(".",""):l=m.length}for(c=0;48===m.charCodeAt(c);c++);for(g=m.length;48===m.charCodeAt(--g););if(m=m.slice(c,++g)){if(g-=c,d&&BigNumber.DEBUG&&g>15&&(e>h||e!==u(e)))throw Error(f+y.s*e);if((l=l-c-1)>D)y.c=y.e=null;else if(l<x)y.c=[y.e=0];else{if(y.e=l,y.c=[],c=(l+1)%p,l<0&&(c+=p),c<g){for(c&&y.c.push(+m.slice(0,c)),g-=p;c<g;)y.c.push(+m.slice(c,c+=p));c=p-(m=m.slice(c)).length}else c-=g;for(;c--;m+="0");y.c.push(+m)}}else y.c=[y.e=0]}function format(e,t,r,n){var i,a,o,s,l;if(null==r?r=R:intCheck(r,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)l=coeffToString(e.c),l=1==n||2==n&&(o<=A||o>=C)?toExponential(l,o):toFixedPoint(l,o,"0");else if(a=(e=round(new BigNumber(e),t,r)).e,s=(l=coeffToString(e.c)).length,1==n||2==n&&(t<=a||a<=A)){for(;s<t;l+="0",s++);l=toExponential(l,a)}else if(t-=o,l=toFixedPoint(l,a,"0"),a+1>s){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=a-s)>0)for(a+1==s&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function maxOrMin(e,t){for(var r,n=1,i=new BigNumber(e[0]);n<e.length;n++){if(!(r=new BigNumber(e[n])).s){i=r;break}t.call(i,r)&&(i=r)}return i}function normalise(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*p-1)>D?e.c=e.e=null:r<x?e.c=[e.e=0]:(e.e=r,e.c=t),e}function round(e,t,r,n){var i,a,o,s,c,f,h,m=e.c,y=g;if(m){e:{for(i=1,s=m[0];s>=10;s/=10,i++);if((a=t-i)<0)a+=p,o=t,h=(c=m[f=0])/y[i-o-1]%10|0;else if((f=l((a+1)/p))>=m.length){if(!n)break e;for(;m.length<=f;m.push(0));c=h=0,i=1,o=(a%=p)-p+1}else{for(c=s=m[f],i=1;s>=10;s/=10,i++);h=(o=(a%=p)-p+i)<0?0:c/y[i-o-1]%10|0}if(n=n||t<0||null!=m[f+1]||(o<0?c:c%y[i-o-1]),n=r<4?(h||n)&&(0==r||r==(e.s<0?3:2)):h>5||5==h&&(4==r||n||6==r&&(a>0?o>0?c/y[i-o]:0:m[f-1])%10&1||r==(e.s<0?8:7)),t<1||!m[0])return m.length=0,n?(t-=e.e+1,m[0]=y[(p-t%p)%p],e.e=-t||0):m[0]=e.e=0,e;if(0==a?(m.length=f,s=1,f--):(m.length=f+1,s=y[p-a],m[f]=o>0?u(c/y[i-o]%y[o])*s:0),n)for(;;){if(0==f){for(a=1,o=m[0];o>=10;o/=10,a++);for(o=m[0]+=s,s=1;o>=10;o/=10,s++);a!=s&&(e.e++,m[0]==d&&(m[0]=1));break}if(m[f]+=s,m[f]!=d)break;m[f--]=0,s=1}for(a=m.length;0===m[--a];m.pop());}e.e>D?e.c=e.e=null:e.e<x&&(e.c=[e.e=0])}return e}function valueOf(e){var t,r=e.e;return null===r?e.toString():(t=coeffToString(e.c),t=r<=A||r>=C?toExponential(t,r):toFixedPoint(t,r,"0"),e.s<0?"-"+t:t)}return BigNumber.clone=clone,BigNumber.ROUND_UP=0,BigNumber.ROUND_DOWN=1,BigNumber.ROUND_CEIL=2,BigNumber.ROUND_FLOOR=3,BigNumber.ROUND_HALF_UP=4,BigNumber.ROUND_HALF_DOWN=5,BigNumber.ROUND_HALF_EVEN=6,BigNumber.ROUND_HALF_CEIL=7,BigNumber.ROUND_HALF_FLOOR=8,BigNumber.EUCLID=9,BigNumber.config=BigNumber.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(c+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(intCheck(r=e[t],0,y,t),w=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(intCheck(r=e[t],0,8,t),R=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(intCheck(r[0],-y,0,t),intCheck(r[1],0,y,t),A=r[0],C=r[1]):(intCheck(r,-y,y,t),A=-(C=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)intCheck(r[0],-y,-1,t),intCheck(r[1],1,y,t),x=r[0],D=r[1];else{if(intCheck(r,-y,y,t),!r)throw Error(c+t+" cannot be zero: "+r);x=-(D=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(c+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw P=!r,Error(c+"crypto unavailable");P=r}else P=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(intCheck(r=e[t],0,9,t),I=r),e.hasOwnProperty(t="POW_PRECISION")&&(intCheck(r=e[t],0,y,t),M=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(c+t+" not an object: "+r);O=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.$|[+-.\s]|(.).*\1/.test(r))throw Error(c+t+" invalid: "+r);k=r}}return{DECIMAL_PLACES:w,ROUNDING_MODE:R,EXPONENTIAL_AT:[A,C],RANGE:[x,D],CRYPTO:P,MODULO_MODE:I,POW_PRECISION:M,FORMAT:O,ALPHABET:k}},BigNumber.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!BigNumber.DEBUG)return!0;var t,r,n=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&i>=-y&&i<=y&&i===u(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%p)<1&&(t+=p),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=d||r!==u(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(c+"Invalid BigNumber: "+e)},BigNumber.maximum=BigNumber.max=function(){return maxOrMin(arguments,T.lt)},BigNumber.minimum=BigNumber.min=function(){return maxOrMin(arguments,T.gt)},BigNumber.random=(i=9007199254740992*Math.random()&2097151?function(){return u(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,a,o,s=0,f=[],d=new BigNumber(S);if(null==e?e=w:intCheck(e,0,y),a=l(e/p),P)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));s<a;)(o=131072*t[s]+(t[s+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[s]=r[0],t[s+1]=r[1]):(f.push(o%1e14),s+=2);s=a/2}else{if(!crypto.randomBytes)throw P=!1,Error(c+"crypto unavailable");for(t=crypto.randomBytes(a*=7);s<a;)(o=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(f.push(o%1e14),s+=7);s=a/7}if(!P)for(;s<a;)(o=i())<9e15&&(f[s++]=o%1e14);for(a=f[--s],e%=p,a&&e&&(o=g[p-e],f[s]=u(a/o)*o);0===f[s];f.pop(),s--);if(s<0)f=[n=0];else{for(n=-1;0===f[0];f.splice(0,1),n-=p);for(s=1,o=f[0];o>=10;o/=10,s++);s<p&&(n-=p-s)}return d.e=n,d.c=f,d}),BigNumber.sum=function(){for(var e=1,t=arguments,r=new BigNumber(t[0]);e<t.length;)r=r.plus(t[e++]);return r},r=function(){function toBaseOut(e,t,r,n){for(var i,a,o=[0],s=0,l=e.length;s<l;){for(a=o.length;a--;o[a]*=t);for(o[0]+=n.indexOf(e.charAt(s++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(e,r,n,i,a){var o,s,l,u,c,f,d,p,h=e.indexOf("."),g=w,m=R;for(h>=0&&(u=M,M=0,e=e.replace(".",""),f=(p=new BigNumber(r)).pow(e.length-h),M=u,p.c=toBaseOut(toFixedPoint(coeffToString(f.c),f.e,"0"),10,n,"0123456789"),p.e=p.c.length),l=u=(d=toBaseOut(e,r,n,a?(o=k,"0123456789"):(o="0123456789",k))).length;0==d[--u];d.pop());if(!d[0])return o.charAt(0);if(h<0?--l:(f.c=d,f.e=l,f.s=i,d=(f=t(f,p,g,m,n)).c,c=f.r,l=f.e),h=d[s=l+g+1],u=n/2,c=c||s<0||null!=d[s+1],c=m<4?(null!=h||c)&&(0==m||m==(f.s<0?3:2)):h>u||h==u&&(4==m||c||6==m&&1&d[s-1]||m==(f.s<0?8:7)),s<1||!d[0])e=c?toFixedPoint(o.charAt(1),-g,o.charAt(0)):o.charAt(0);else{if(d.length=s,c)for(--n;++d[--s]>n;)d[s]=0,s||(++l,d=[1].concat(d));for(u=d.length;!d[--u];);for(h=0,e="";h<=u;e+=o.charAt(d[h++]));e=toFixedPoint(e,l,o.charAt(0))}return e}}(),t=function(){function multiply(e,t,r){var n,i,a,o,s=0,l=e.length,u=t%m,c=t/m|0;for(e=e.slice();l--;)s=((i=u*(a=e[l]%m)+(n=c*a+(o=e[l]/m|0)*u)%m*m+s)/r|0)+(n/m|0)+c*o,e[l]=i%r;return s&&(e=[s].concat(e)),e}function compare(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function subtract(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(e,t,r,n,i){var a,o,s,l,c,f,h,g,m,y,v,_,b,E,T,S,w,R=e.s==t.s?1:-1,A=e.c,C=t.c;if(!(A&&A[0]&&C&&C[0]))return new BigNumber(e.s&&t.s&&(A?!C||A[0]!=C[0]:C)?A&&0==A[0]||!C?0*R:R/0:NaN);for(m=(g=new BigNumber(R)).c=[],R=r+(o=e.e-t.e)+1,i||(i=d,o=bitFloor(e.e/p)-bitFloor(t.e/p),R=R/p|0),s=0;C[s]==(A[s]||0);s++);if(C[s]>(A[s]||0)&&o--,R<0)m.push(1),l=!0;else{for(E=A.length,S=C.length,s=0,R+=2,(c=u(i/(C[0]+1)))>1&&(C=multiply(C,c,i),A=multiply(A,c,i),S=C.length,E=A.length),b=S,v=(y=A.slice(0,S)).length;v<S;y[v++]=0);w=C.slice(),w=[0].concat(w),T=C[0],C[1]>=i/2&&T++;do{if(c=0,(a=compare(C,y,S,v))<0){if(_=y[0],S!=v&&(_=_*i+(y[1]||0)),(c=u(_/T))>1)for(c>=i&&(c=i-1),h=(f=multiply(C,c,i)).length,v=y.length;1==compare(f,y,h,v);)c--,subtract(f,S<h?w:C,h,i),h=f.length,a=1;else 0==c&&(a=c=1),h=(f=C.slice()).length;if(h<v&&(f=[0].concat(f)),subtract(y,f,v,i),v=y.length,-1==a)for(;compare(C,y,S,v)<1;)c++,subtract(y,S<v?w:C,v,i),v=y.length}else 0===a&&(c++,y=[0]);m[s++]=c,y[0]?y[v++]=A[b]||0:(y=[A[b]],v=1)}while((b++<E||null!=y[0])&&R--);l=null!=y[0],m[0]||m.splice(0,1)}if(i==d){for(s=1,R=m[0];R>=10;R/=10,s++);round(g,r+(g.e=s+o*p-1)+1,n,l)}else g.e=o,g.r=+l;return g}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,_=/^\.([^.]+)$/,b=/^-?(Infinity|NaN)$/,E=/^\s*\+(?=[\w.])|^\s+|\s+$/g,n=function(e,t,r,n){var i,o=r?t:t.replace(E,"");if(b.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(a,function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t}),n&&(i=n,o=o.replace(v,"$1").replace(_,"0.$1")),t!=o))return new BigNumber(o,i);if(BigNumber.DEBUG)throw Error(c+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},T.absoluteValue=T.abs=function(){var e=new BigNumber(this);return e.s<0&&(e.s=1),e},T.comparedTo=function(e,t){return compare(this,new BigNumber(e,t))},T.decimalPlaces=T.dp=function(e,t){var r,n,i,a=this;if(null!=e)return intCheck(e,0,y),null==t?t=R:intCheck(t,0,8),round(new BigNumber(a),e+a.e+1,t);if(!(r=a.c))return null;if(n=((i=r.length-1)-bitFloor(this.e/p))*p,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},T.dividedBy=T.div=function(e,r){return t(this,new BigNumber(e,r),w,R)},T.dividedToIntegerBy=T.idiv=function(e,r){return t(this,new BigNumber(e,r),0,1)},T.exponentiatedBy=T.pow=function(e,t){var r,n,i,a,o,s,f,d,h=this;if((e=new BigNumber(e)).c&&!e.isInteger())throw Error(c+"Exponent not an integer: "+valueOf(e));if(null!=t&&(t=new BigNumber(t)),o=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return d=new BigNumber(Math.pow(+valueOf(h),o?2-isOdd(e):+valueOf(e))),t?d.mod(t):d;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new BigNumber(NaN);(n=!s&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||o&&h.c[1]>=24e7:h.c[0]<8e13||o&&h.c[0]<=9999975e7)))return a=h.s<0&&isOdd(e)?-0:0,h.e>-1&&(a=1/a),new BigNumber(s?1/a:a);M&&(a=l(M/p+2))}for(o?(r=new BigNumber(.5),s&&(e.s=1),f=isOdd(e)):f=(i=Math.abs(+valueOf(e)))%2,d=new BigNumber(S);;){if(f){if(!(d=d.times(h)).c)break;a?d.c.length>a&&(d.c.length=a):n&&(d=d.mod(t))}if(i){if(0===(i=u(i/2)))break;f=i%2}else if(round(e=e.times(r),e.e+1,1),e.e>14)f=isOdd(e);else{if(0==(i=+valueOf(e)))break;f=i%2}h=h.times(h),a?h.c&&h.c.length>a&&(h.c.length=a):n&&(h=h.mod(t))}return n?d:(s&&(d=S.div(d)),t?d.mod(t):a?round(d,M,R,void 0):d)},T.integerValue=function(e){var t=new BigNumber(this);return null==e?e=R:intCheck(e,0,8),round(t,t.e+1,e)},T.isEqualTo=T.eq=function(e,t){return 0===compare(this,new BigNumber(e,t))},T.isFinite=function(){return!!this.c},T.isGreaterThan=T.gt=function(e,t){return compare(this,new BigNumber(e,t))>0},T.isGreaterThanOrEqualTo=T.gte=function(e,t){return 1===(t=compare(this,new BigNumber(e,t)))||0===t},T.isInteger=function(){return!!this.c&&bitFloor(this.e/p)>this.c.length-2},T.isLessThan=T.lt=function(e,t){return compare(this,new BigNumber(e,t))<0},T.isLessThanOrEqualTo=T.lte=function(e,t){return-1===(t=compare(this,new BigNumber(e,t)))||0===t},T.isNaN=function(){return!this.s},T.isNegative=function(){return this.s<0},T.isPositive=function(){return this.s>0},T.isZero=function(){return!!this.c&&0==this.c[0]},T.minus=function(e,t){var r,n,i,a,o=this,s=o.s;if(t=(e=new BigNumber(e,t)).s,!s||!t)return new BigNumber(NaN);if(s!=t)return e.s=-t,o.plus(e);var l=o.e/p,u=e.e/p,c=o.c,f=e.c;if(!l||!u){if(!c||!f)return c?(e.s=-t,e):new BigNumber(f?o:NaN);if(!c[0]||!f[0])return f[0]?(e.s=-t,e):new BigNumber(c[0]?o:3==R?-0:0)}if(l=bitFloor(l),u=bitFloor(u),c=c.slice(),s=l-u){for((a=s<0)?(s=-s,i=c):(u=l,i=f),i.reverse(),t=s;t--;i.push(0));i.reverse()}else for(n=(a=(s=c.length)<(t=f.length))?s:t,s=t=0;t<n;t++)if(c[t]!=f[t]){a=c[t]<f[t];break}if(a&&(i=c,c=f,f=i,e.s=-e.s),(t=(n=f.length)-(r=c.length))>0)for(;t--;c[r++]=0);for(t=d-1;n>s;){if(c[--n]<f[n]){for(r=n;r&&!c[--r];c[r]=t);--c[r],c[n]+=d}c[n]-=f[n]}for(;0==c[0];c.splice(0,1),--u);return c[0]?normalise(e,c,u):(e.s=3==R?-1:1,e.c=[e.e=0],e)},T.modulo=T.mod=function(e,r){var n,i,a=this;return e=new BigNumber(e,r),!a.c||!e.s||e.c&&!e.c[0]?new BigNumber(NaN):!e.c||a.c&&!a.c[0]?new BigNumber(a):(9==I?(i=e.s,e.s=1,n=t(a,e,0,3),e.s=i,n.s*=i):n=t(a,e,0,I),(e=a.minus(n.times(e))).c[0]||1!=I||(e.s=a.s),e)},T.multipliedBy=T.times=function(e,t){var r,n,i,a,o,s,l,u,c,f,h,g,y,v,_,b=this,E=b.c,T=(e=new BigNumber(e,t)).c;if(!(E&&T&&E[0]&&T[0]))return!b.s||!e.s||E&&!E[0]&&!T||T&&!T[0]&&!E?e.c=e.e=e.s=null:(e.s*=b.s,E&&T?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=bitFloor(b.e/p)+bitFloor(e.e/p),e.s*=b.s,(l=E.length)<(f=T.length)&&(y=E,E=T,T=y,i=l,l=f,f=i),i=l+f,y=[];i--;y.push(0));for(v=d,_=m,i=f;--i>=0;){for(r=0,h=T[i]%_,g=T[i]/_|0,a=i+(o=l);a>i;)r=((u=h*(u=E[--o]%_)+(s=g*u+(c=E[o]/_|0)*h)%_*_+y[a]+r)/v|0)+(s/_|0)+g*c,y[a--]=u%v;y[a]=r}return r?++n:y.splice(0,1),normalise(e,y,n)},T.negated=function(){var e=new BigNumber(this);return e.s=-e.s||null,e},T.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new BigNumber(e,t)).s,!i||!t)return new BigNumber(NaN);if(i!=t)return e.s=-t,n.minus(e);var a=n.e/p,o=e.e/p,s=n.c,l=e.c;if(!a||!o){if(!s||!l)return new BigNumber(i/0);if(!s[0]||!l[0])return l[0]?e:new BigNumber(s[0]?n:0*i)}if(a=bitFloor(a),o=bitFloor(o),s=s.slice(),i=a-o){for(i>0?(o=a,r=l):(i=-i,r=s),r.reverse();i--;r.push(0));r.reverse()}for((i=s.length)-(t=l.length)<0&&(r=l,l=s,s=r,t=i),i=0;t;)i=(s[--t]=s[t]+l[t]+i)/d|0,s[t]=d===s[t]?0:s[t]%d;return i&&(s=[i].concat(s),++o),normalise(e,s,o)},T.precision=T.sd=function(e,t){var r,n,i,a=this;if(null!=e&&e!==!!e)return intCheck(e,1,y),null==t?t=R:intCheck(t,0,8),round(new BigNumber(a),e,t);if(!(r=a.c))return null;if(n=(i=r.length-1)*p+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&a.e+1>n&&(n=a.e+1),n},T.shiftedBy=function(e){return intCheck(e,-h,h),this.times("1e"+e)},T.squareRoot=T.sqrt=function(){var e,r,n,i,a,o=this,s=o.c,l=o.s,u=o.e,c=w+4,f=new BigNumber("0.5");if(1!==l||!s||!s[0])return new BigNumber(!l||l<0&&(!s||s[0])?NaN:s?o:1/0);if(0==(l=Math.sqrt(+valueOf(o)))||l==1/0?(((r=coeffToString(s)).length+u)%2==0&&(r+="0"),l=Math.sqrt(+r),u=bitFloor((u+1)/2)-(u<0||u%2),n=new BigNumber(r=l==1/0?"1e"+u:(r=l.toExponential()).slice(0,r.indexOf("e")+1)+u)):n=new BigNumber(l+""),n.c[0])for((l=(u=n.e)+c)<3&&(l=0);;)if(a=n,n=f.times(a.plus(t(o,a,c,1))),coeffToString(a.c).slice(0,l)===(r=coeffToString(n.c)).slice(0,l)){if(n.e<u&&--l,"9999"!=(r=r.slice(l-3,l+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(round(n,n.e+w+2,1),e=!n.times(n).eq(o));break}if(!i&&(round(a,a.e+w+2,0),a.times(a).eq(o))){n=a;break}c+=4,l+=4,i=1}return round(n,n.e+w+1,R,e)},T.toExponential=function(e,t){return null!=e&&(intCheck(e,0,y),e++),format(this,e,t,1)},T.toFixed=function(e,t){return null!=e&&(intCheck(e,0,y),e=e+this.e+1),format(this,e,t)},T.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=O;else if("object"!=typeof r)throw Error(c+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var a,o=n.split("."),s=+r.groupSize,l=+r.secondaryGroupSize,u=r.groupSeparator||"",f=o[0],d=o[1],p=i.s<0,h=p?f.slice(1):f,g=h.length;if(l&&(a=s,s=l,l=a,g-=a),s>0&&g>0){for(a=g%s||s,f=h.substr(0,a);a<g;a+=s)f+=u+h.substr(a,s);l>0&&(f+=u+h.slice(a)),p&&(f="-"+f)}n=d?f+(r.decimalSeparator||"")+((l=+r.fractionGroupSize)?d.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):f}return(r.prefix||"")+n+(r.suffix||"")},T.toFraction=function(e){var r,n,i,a,o,s,l,u,f,d,h,m,y=this,v=y.c;if(null!=e&&(!(l=new BigNumber(e)).isInteger()&&(l.c||1!==l.s)||l.lt(S)))throw Error(c+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+valueOf(l));if(!v)return new BigNumber(y);for(r=new BigNumber(S),f=n=new BigNumber(S),i=u=new BigNumber(S),m=coeffToString(v),o=r.e=m.length-y.e-1,r.c[0]=g[(s=o%p)<0?p+s:s],e=!e||l.comparedTo(r)>0?o>0?r:f:l,s=D,D=1/0,l=new BigNumber(m),u.c[0]=0;d=t(l,r,0,1),1!=(a=n.plus(d.times(i))).comparedTo(e);)n=i,i=a,f=u.plus(d.times(a=f)),u=a,r=l.minus(d.times(a=r)),l=a;return a=t(e.minus(n),i,0,1),u=u.plus(a.times(f)),n=n.plus(a.times(i)),u.s=f.s=y.s,h=t(f,i,o*=2,R).minus(y).abs().comparedTo(t(u,n,o,R).minus(y).abs())<1?[f,i]:[u,n],D=s,h},T.toNumber=function(){return+valueOf(this)},T.toPrecision=function(e,t){return null!=e&&intCheck(e,1,y),format(this,e,t,2)},T.toString=function(e){var t,n=this,i=n.s,a=n.e;return null===a?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=a<=A||a>=C?toExponential(coeffToString(n.c),a):toFixedPoint(coeffToString(n.c),a,"0"):10===e?t=toFixedPoint(coeffToString((n=round(new BigNumber(n),w+a+1,R)).c),n.e,"0"):(intCheck(e,2,k.length,"Base"),t=r(toFixedPoint(coeffToString(n.c),a,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},T.valueOf=T.toJSON=function(){return valueOf(this)},T._isBigNumber=!0,s&&(T[Symbol.toStringTag]="BigNumber",T[Symbol.for("nodejs.util.inspect.custom")]=T.valueOf),null!=e&&BigNumber.set(e),BigNumber}()).default=a.BigNumber=a,void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){"use strict";(function(e){const n=r(254),i=r(620);t.names=i.names,t.codes=i.codes,t.defaultLengths=i.defaultLengths;const a=r(292);function validate(e){t.decode(e)}t.toHexString=function toHexString(t){if(!e.isBuffer(t))throw new Error("must be passed a buffer");return t.toString("hex")},t.fromHexString=function fromHexString(t){return e.from(t,"hex")},t.toB58String=function toB58String(t){if(!e.isBuffer(t))throw new Error("must be passed a buffer");return n.encode(t)},t.fromB58String=function fromB58String(t){let r=t;return e.isBuffer(t)&&(r=t.toString()),e.from(n.decode(r))},t.decode=function decode(r){if(!e.isBuffer(r))throw new Error("multihash must be a Buffer");if(r.length<3)throw new Error("multihash too short. must be > 3 bytes.");const n=a.decode(r);if(!t.isValidCode(n))throw new Error(`multihash unknown function code: 0x${n.toString(16)}`);r=r.slice(a.decode.bytes);const o=a.decode(r);if(o<1)throw new Error(`multihash invalid length: 0x${o.toString(16)}`);if((r=r.slice(a.decode.bytes)).length!==o)throw new Error(`multihash length inconsistent: 0x${r.toString("hex")}`);return{code:n,name:i.codes[n],length:o,digest:r}},t.encode=function encode(r,n,i){if(!r||void 0===n)throw new Error("multihash encode requires at least two args: digest, code");const o=t.coerceCode(n);if(!e.isBuffer(r))throw new Error("digest should be a Buffer");if(null==i&&(i=r.length),i&&r.length!==i)throw new Error("digest length should be equal to specified length.");return e.concat([e.from(a.encode(o)),e.from(a.encode(i)),r])},t.coerceCode=function coerceCode(e){let r=e;if("string"==typeof e){if(void 0===i.names[e])throw new Error(`Unrecognized hash function named: ${e}`);r=i.names[e]}if("number"!=typeof r)throw new Error(`Hash function code should be a number. Got: ${r}`);if(void 0===i.codes[r]&&!t.isAppCode(r))throw new Error(`Unrecognized function code: ${r}`);return r},t.isAppCode=function appCode(e){return e>0&&e<16},t.isValidCode=function validCode(e){return!!t.isAppCode(e)||!!i.codes[e]},t.validate=validate,t.prefix=function prefix(e){return validate(e),e.slice(0,2)}}).call(this,r(89).Buffer)},function(e,t,r){"use strict";t.names=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"dbl-sha2-256":86,"sha3-224":23,"sha3-256":22,"sha3-384":21,"sha3-512":20,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,"murmur3-128":34,"murmur3-32":35,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"Skein256-8":45825,"Skein256-16":45826,"Skein256-24":45827,"Skein256-32":45828,"Skein256-40":45829,"Skein256-48":45830,"Skein256-56":45831,"Skein256-64":45832,"Skein256-72":45833,"Skein256-80":45834,"Skein256-88":45835,"Skein256-96":45836,"Skein256-104":45837,"Skein256-112":45838,"Skein256-120":45839,"Skein256-128":45840,"Skein256-136":45841,"Skein256-144":45842,"Skein256-152":45843,"Skein256-160":45844,"Skein256-168":45845,"Skein256-176":45846,"Skein256-184":45847,"Skein256-192":45848,"Skein256-200":45849,"Skein256-208":45850,"Skein256-216":45851,"Skein256-224":45852,"Skein256-232":45853,"Skein256-240":45854,"Skein256-248":45855,"Skein256-256":45856,"Skein512-8":45857,"Skein512-16":45858,"Skein512-24":45859,"Skein512-32":45860,"Skein512-40":45861,"Skein512-48":45862,"Skein512-56":45863,"Skein512-64":45864,"Skein512-72":45865,"Skein512-80":45866,"Skein512-88":45867,"Skein512-96":45868,"Skein512-104":45869,"Skein512-112":45870,"Skein512-120":45871,"Skein512-128":45872,"Skein512-136":45873,"Skein512-144":45874,"Skein512-152":45875,"Skein512-160":45876,"Skein512-168":45877,"Skein512-176":45878,"Skein512-184":45879,"Skein512-192":45880,"Skein512-200":45881,"Skein512-208":45882,"Skein512-216":45883,"Skein512-224":45884,"Skein512-232":45885,"Skein512-240":45886,"Skein512-248":45887,"Skein512-256":45888,"Skein512-264":45889,"Skein512-272":45890,"Skein512-280":45891,"Skein512-288":45892,"Skein512-296":45893,"Skein512-304":45894,"Skein512-312":45895,"Skein512-320":45896,"Skein512-328":45897,"Skein512-336":45898,"Skein512-344":45899,"Skein512-352":45900,"Skein512-360":45901,"Skein512-368":45902,"Skein512-376":45903,"Skein512-384":45904,"Skein512-392":45905,"Skein512-400":45906,"Skein512-408":45907,"Skein512-416":45908,"Skein512-424":45909,"Skein512-432":45910,"Skein512-440":45911,"Skein512-448":45912,"Skein512-456":45913,"Skein512-464":45914,"Skein512-472":45915,"Skein512-480":45916,"Skein512-488":45917,"Skein512-496":45918,"Skein512-504":45919,"Skein512-512":45920,"Skein1024-8":45921,"Skein1024-16":45922,"Skein1024-24":45923,"Skein1024-32":45924,"Skein1024-40":45925,"Skein1024-48":45926,"Skein1024-56":45927,"Skein1024-64":45928,"Skein1024-72":45929,"Skein1024-80":45930,"Skein1024-88":45931,"Skein1024-96":45932,"Skein1024-104":45933,"Skein1024-112":45934,"Skein1024-120":45935,"Skein1024-128":45936,"Skein1024-136":45937,"Skein1024-144":45938,"Skein1024-152":45939,"Skein1024-160":45940,"Skein1024-168":45941,"Skein1024-176":45942,"Skein1024-184":45943,"Skein1024-192":45944,"Skein1024-200":45945,"Skein1024-208":45946,"Skein1024-216":45947,"Skein1024-224":45948,"Skein1024-232":45949,"Skein1024-240":45950,"Skein1024-248":45951,"Skein1024-256":45952,"Skein1024-264":45953,"Skein1024-272":45954,"Skein1024-280":45955,"Skein1024-288":45956,"Skein1024-296":45957,"Skein1024-304":45958,"Skein1024-312":45959,"Skein1024-320":45960,"Skein1024-328":45961,"Skein1024-336":45962,"Skein1024-344":45963,"Skein1024-352":45964,"Skein1024-360":45965,"Skein1024-368":45966,"Skein1024-376":45967,"Skein1024-384":45968,"Skein1024-392":45969,"Skein1024-400":45970,"Skein1024-408":45971,"Skein1024-416":45972,"Skein1024-424":45973,"Skein1024-432":45974,"Skein1024-440":45975,"Skein1024-448":45976,"Skein1024-456":45977,"Skein1024-464":45978,"Skein1024-472":45979,"Skein1024-480":45980,"Skein1024-488":45981,"Skein1024-496":45982,"Skein1024-504":45983,"Skein1024-512":45984,"Skein1024-520":45985,"Skein1024-528":45986,"Skein1024-536":45987,"Skein1024-544":45988,"Skein1024-552":45989,"Skein1024-560":45990,"Skein1024-568":45991,"Skein1024-576":45992,"Skein1024-584":45993,"Skein1024-592":45994,"Skein1024-600":45995,"Skein1024-608":45996,"Skein1024-616":45997,"Skein1024-624":45998,"Skein1024-632":45999,"Skein1024-640":46e3,"Skein1024-648":46001,"Skein1024-656":46002,"Skein1024-664":46003,"Skein1024-672":46004,"Skein1024-680":46005,"Skein1024-688":46006,"Skein1024-696":46007,"Skein1024-704":46008,"Skein1024-712":46009,"Skein1024-720":46010,"Skein1024-728":46011,"Skein1024-736":46012,"Skein1024-744":46013,"Skein1024-752":46014,"Skein1024-760":46015,"Skein1024-768":46016,"Skein1024-776":46017,"Skein1024-784":46018,"Skein1024-792":46019,"Skein1024-800":46020,"Skein1024-808":46021,"Skein1024-816":46022,"Skein1024-824":46023,"Skein1024-832":46024,"Skein1024-840":46025,"Skein1024-848":46026,"Skein1024-856":46027,"Skein1024-864":46028,"Skein1024-872":46029,"Skein1024-880":46030,"Skein1024-888":46031,"Skein1024-896":46032,"Skein1024-904":46033,"Skein1024-912":46034,"Skein1024-920":46035,"Skein1024-928":46036,"Skein1024-936":46037,"Skein1024-944":46038,"Skein1024-952":46039,"Skein1024-960":46040,"Skein1024-968":46041,"Skein1024-976":46042,"Skein1024-984":46043,"Skein1024-992":46044,"Skein1024-1000":46045,"Skein1024-1008":46046,"Skein1024-1016":46047,"Skein1024-1024":46048}),t.codes=Object.freeze({0:"identity",17:"sha1",18:"sha2-256",19:"sha2-512",86:"dbl-sha2-256",23:"sha3-224",22:"sha3-256",21:"sha3-384",20:"sha3-512",24:"shake-128",25:"shake-256",26:"keccak-224",27:"keccak-256",28:"keccak-384",29:"keccak-512",34:"murmur3-128",35:"murmur3-32",45569:"blake2b-8",45570:"blake2b-16",45571:"blake2b-24",45572:"blake2b-32",45573:"blake2b-40",45574:"blake2b-48",45575:"blake2b-56",45576:"blake2b-64",45577:"blake2b-72",45578:"blake2b-80",45579:"blake2b-88",45580:"blake2b-96",45581:"blake2b-104",45582:"blake2b-112",45583:"blake2b-120",45584:"blake2b-128",45585:"blake2b-136",45586:"blake2b-144",45587:"blake2b-152",45588:"blake2b-160",45589:"blake2b-168",45590:"blake2b-176",45591:"blake2b-184",45592:"blake2b-192",45593:"blake2b-200",45594:"blake2b-208",45595:"blake2b-216",45596:"blake2b-224",45597:"blake2b-232",45598:"blake2b-240",45599:"blake2b-248",45600:"blake2b-256",45601:"blake2b-264",45602:"blake2b-272",45603:"blake2b-280",45604:"blake2b-288",45605:"blake2b-296",45606:"blake2b-304",45607:"blake2b-312",45608:"blake2b-320",45609:"blake2b-328",45610:"blake2b-336",45611:"blake2b-344",45612:"blake2b-352",45613:"blake2b-360",45614:"blake2b-368",45615:"blake2b-376",45616:"blake2b-384",45617:"blake2b-392",45618:"blake2b-400",45619:"blake2b-408",45620:"blake2b-416",45621:"blake2b-424",45622:"blake2b-432",45623:"blake2b-440",45624:"blake2b-448",45625:"blake2b-456",45626:"blake2b-464",45627:"blake2b-472",45628:"blake2b-480",45629:"blake2b-488",45630:"blake2b-496",45631:"blake2b-504",45632:"blake2b-512",45633:"blake2s-8",45634:"blake2s-16",45635:"blake2s-24",45636:"blake2s-32",45637:"blake2s-40",45638:"blake2s-48",45639:"blake2s-56",45640:"blake2s-64",45641:"blake2s-72",45642:"blake2s-80",45643:"blake2s-88",45644:"blake2s-96",45645:"blake2s-104",45646:"blake2s-112",45647:"blake2s-120",45648:"blake2s-128",45649:"blake2s-136",45650:"blake2s-144",45651:"blake2s-152",45652:"blake2s-160",45653:"blake2s-168",45654:"blake2s-176",45655:"blake2s-184",45656:"blake2s-192",45657:"blake2s-200",45658:"blake2s-208",45659:"blake2s-216",45660:"blake2s-224",45661:"blake2s-232",45662:"blake2s-240",45663:"blake2s-248",45664:"blake2s-256",45825:"Skein256-8",45826:"Skein256-16",45827:"Skein256-24",45828:"Skein256-32",45829:"Skein256-40",45830:"Skein256-48",45831:"Skein256-56",45832:"Skein256-64",45833:"Skein256-72",45834:"Skein256-80",45835:"Skein256-88",45836:"Skein256-96",45837:"Skein256-104",45838:"Skein256-112",45839:"Skein256-120",45840:"Skein256-128",45841:"Skein256-136",45842:"Skein256-144",45843:"Skein256-152",45844:"Skein256-160",45845:"Skein256-168",45846:"Skein256-176",45847:"Skein256-184",45848:"Skein256-192",45849:"Skein256-200",45850:"Skein256-208",45851:"Skein256-216",45852:"Skein256-224",45853:"Skein256-232",45854:"Skein256-240",45855:"Skein256-248",45856:"Skein256-256",45857:"Skein512-8",45858:"Skein512-16",45859:"Skein512-24",45860:"Skein512-32",45861:"Skein512-40",45862:"Skein512-48",45863:"Skein512-56",45864:"Skein512-64",45865:"Skein512-72",45866:"Skein512-80",45867:"Skein512-88",45868:"Skein512-96",45869:"Skein512-104",45870:"Skein512-112",45871:"Skein512-120",45872:"Skein512-128",45873:"Skein512-136",45874:"Skein512-144",45875:"Skein512-152",45876:"Skein512-160",45877:"Skein512-168",45878:"Skein512-176",45879:"Skein512-184",45880:"Skein512-192",45881:"Skein512-200",45882:"Skein512-208",45883:"Skein512-216",45884:"Skein512-224",45885:"Skein512-232",45886:"Skein512-240",45887:"Skein512-248",45888:"Skein512-256",45889:"Skein512-264",45890:"Skein512-272",45891:"Skein512-280",45892:"Skein512-288",45893:"Skein512-296",45894:"Skein512-304",45895:"Skein512-312",45896:"Skein512-320",45897:"Skein512-328",45898:"Skein512-336",45899:"Skein512-344",45900:"Skein512-352",45901:"Skein512-360",45902:"Skein512-368",45903:"Skein512-376",45904:"Skein512-384",45905:"Skein512-392",45906:"Skein512-400",45907:"Skein512-408",45908:"Skein512-416",45909:"Skein512-424",45910:"Skein512-432",45911:"Skein512-440",45912:"Skein512-448",45913:"Skein512-456",45914:"Skein512-464",45915:"Skein512-472",45916:"Skein512-480",45917:"Skein512-488",45918:"Skein512-496",45919:"Skein512-504",45920:"Skein512-512",45921:"Skein1024-8",45922:"Skein1024-16",45923:"Skein1024-24",45924:"Skein1024-32",45925:"Skein1024-40",45926:"Skein1024-48",45927:"Skein1024-56",45928:"Skein1024-64",45929:"Skein1024-72",45930:"Skein1024-80",45931:"Skein1024-88",45932:"Skein1024-96",45933:"Skein1024-104",45934:"Skein1024-112",45935:"Skein1024-120",45936:"Skein1024-128",45937:"Skein1024-136",45938:"Skein1024-144",45939:"Skein1024-152",45940:"Skein1024-160",45941:"Skein1024-168",45942:"Skein1024-176",45943:"Skein1024-184",45944:"Skein1024-192",45945:"Skein1024-200",45946:"Skein1024-208",45947:"Skein1024-216",45948:"Skein1024-224",45949:"Skein1024-232",45950:"Skein1024-240",45951:"Skein1024-248",45952:"Skein1024-256",45953:"Skein1024-264",45954:"Skein1024-272",45955:"Skein1024-280",45956:"Skein1024-288",45957:"Skein1024-296",45958:"Skein1024-304",45959:"Skein1024-312",45960:"Skein1024-320",45961:"Skein1024-328",45962:"Skein1024-336",45963:"Skein1024-344",45964:"Skein1024-352",45965:"Skein1024-360",45966:"Skein1024-368",45967:"Skein1024-376",45968:"Skein1024-384",45969:"Skein1024-392",45970:"Skein1024-400",45971:"Skein1024-408",45972:"Skein1024-416",45973:"Skein1024-424",45974:"Skein1024-432",45975:"Skein1024-440",45976:"Skein1024-448",45977:"Skein1024-456",45978:"Skein1024-464",45979:"Skein1024-472",45980:"Skein1024-480",45981:"Skein1024-488",45982:"Skein1024-496",45983:"Skein1024-504",45984:"Skein1024-512",45985:"Skein1024-520",45986:"Skein1024-528",45987:"Skein1024-536",45988:"Skein1024-544",45989:"Skein1024-552",45990:"Skein1024-560",45991:"Skein1024-568",45992:"Skein1024-576",45993:"Skein1024-584",45994:"Skein1024-592",45995:"Skein1024-600",45996:"Skein1024-608",45997:"Skein1024-616",45998:"Skein1024-624",45999:"Skein1024-632",46e3:"Skein1024-640",46001:"Skein1024-648",46002:"Skein1024-656",46003:"Skein1024-664",46004:"Skein1024-672",46005:"Skein1024-680",46006:"Skein1024-688",46007:"Skein1024-696",46008:"Skein1024-704",46009:"Skein1024-712",46010:"Skein1024-720",46011:"Skein1024-728",46012:"Skein1024-736",46013:"Skein1024-744",46014:"Skein1024-752",46015:"Skein1024-760",46016:"Skein1024-768",46017:"Skein1024-776",46018:"Skein1024-784",46019:"Skein1024-792",46020:"Skein1024-800",46021:"Skein1024-808",46022:"Skein1024-816",46023:"Skein1024-824",46024:"Skein1024-832",46025:"Skein1024-840",46026:"Skein1024-848",46027:"Skein1024-856",46028:"Skein1024-864",46029:"Skein1024-872",46030:"Skein1024-880",46031:"Skein1024-888",46032:"Skein1024-896",46033:"Skein1024-904",46034:"Skein1024-912",46035:"Skein1024-920",46036:"Skein1024-928",46037:"Skein1024-936",46038:"Skein1024-944",46039:"Skein1024-952",46040:"Skein1024-960",46041:"Skein1024-968",46042:"Skein1024-976",46043:"Skein1024-984",46044:"Skein1024-992",46045:"Skein1024-1000",46046:"Skein1024-1008",46047:"Skein1024-1016",46048:"Skein1024-1024"}),t.defaultLengths=Object.freeze({17:20,18:32,19:64,86:32,23:28,22:32,21:48,20:64,24:32,25:64,26:28,27:32,28:48,29:64,34:32,45569:1,45570:2,45571:3,45572:4,45573:5,45574:6,45575:7,45576:8,45577:9,45578:10,45579:11,45580:12,45581:13,45582:14,45583:15,45584:16,45585:17,45586:18,45587:19,45588:20,45589:21,45590:22,45591:23,45592:24,45593:25,45594:26,45595:27,45596:28,45597:29,45598:30,45599:31,45600:32,45601:33,45602:34,45603:35,45604:36,45605:37,45606:38,45607:39,45608:40,45609:41,45610:42,45611:43,45612:44,45613:45,45614:46,45615:47,45616:48,45617:49,45618:50,45619:51,45620:52,45621:53,45622:54,45623:55,45624:56,45625:57,45626:58,45627:59,45628:60,45629:61,45630:62,45631:63,45632:64,45633:1,45634:2,45635:3,45636:4,45637:5,45638:6,45639:7,45640:8,45641:9,45642:10,45643:11,45644:12,45645:13,45646:14,45647:15,45648:16,45649:17,45650:18,45651:19,45652:20,45653:21,45654:22,45655:23,45656:24,45657:25,45658:26,45659:27,45660:28,45661:29,45662:30,45663:31,45664:32,45825:1,45826:2,45827:3,45828:4,45829:5,45830:6,45831:7,45832:8,45833:9,45834:10,45835:11,45836:12,45837:13,45838:14,45839:15,45840:16,45841:17,45842:18,45843:19,45844:20,45845:21,45846:22,45847:23,45848:24,45849:25,45850:26,45851:27,45852:28,45853:29,45854:30,45855:31,45856:32,45857:1,45858:2,45859:3,45860:4,45861:5,45862:6,45863:7,45864:8,45865:9,45866:10,45867:11,45868:12,45869:13,45870:14,45871:15,45872:16,45873:17,45874:18,45875:19,45876:20,45877:21,45878:22,45879:23,45880:24,45881:25,45882:26,45883:27,45884:28,45885:29,45886:30,45887:31,45888:32,45889:33,45890:34,45891:35,45892:36,45893:37,45894:38,45895:39,45896:40,45897:41,45898:42,45899:43,45900:44,45901:45,45902:46,45903:47,45904:48,45905:49,45906:50,45907:51,45908:52,45909:53,45910:54,45911:55,45912:56,45913:57,45914:58,45915:59,45916:60,45917:61,45918:62,45919:63,45920:64,45921:1,45922:2,45923:3,45924:4,45925:5,45926:6,45927:7,45928:8,45929:9,45930:10,45931:11,45932:12,45933:13,45934:14,45935:15,45936:16,45937:17,45938:18,45939:19,45940:20,45941:21,45942:22,45943:23,45944:24,45945:25,45946:26,45947:27,45948:28,45949:29,45950:30,45951:31,45952:32,45953:33,45954:34,45955:35,45956:36,45957:37,45958:38,45959:39,45960:40,45961:41,45962:42,45963:43,45964:44,45965:45,45966:46,45967:47,45968:48,45969:49,45970:50,45971:51,45972:52,45973:53,45974:54,45975:55,45976:56,45977:57,45978:58,45979:59,45980:60,45981:61,45982:62,45983:63,45984:64,45985:65,45986:66,45987:67,45988:68,45989:69,45990:70,45991:71,45992:72,45993:73,45994:74,45995:75,45996:76,45997:77,45998:78,45999:79,46e3:80,46001:81,46002:82,46003:83,46004:84,46005:85,46006:86,46007:87,46008:88,46009:89,46010:90,46011:91,46012:92,46013:93,46014:94,46015:95,46016:96,46017:97,46018:98,46019:99,46020:100,46021:101,46022:102,46023:103,46024:104,46025:105,46026:106,46027:107,46028:108,46029:109,46030:110,46031:111,46032:112,46033:113,46034:114,46035:115,46036:116,46037:117,46038:118,46039:119,46040:120,46041:121,46042:122,46043:123,46044:124,46045:125,46046:126,46047:127,46048:128})},function(e,t){e.exports=function encode(e,t,a){t=t||[];a=a||0;var o=a;for(;e>=i;)t[a++]=255&e|r,e/=128;for(;e&n;)t[a++]=255&e|r,e>>>=7;t[a]=0|e;encode.bytes=a-o+1;return t};var r=128,n=-128,i=Math.pow(2,31)},function(e,t){e.exports=function read(e,t){var i,a=0,t=t||0,o=0,s=t,l=e.length;do{if(s>=l)throw read.bytes=0,new RangeError("Could not decode varint");i=e[s++],a+=o<28?(i&n)<<o:(i&n)*Math.pow(2,o),o+=7}while(i>=r);read.bytes=s-t;return a};var r=128,n=127},function(e,t){var r=Math.pow(2,7),n=Math.pow(2,14),i=Math.pow(2,21),a=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),l=Math.pow(2,49),u=Math.pow(2,56),c=Math.pow(2,63);e.exports=function(e){return e<r?1:e<n?2:e<i?3:e<a?4:e<o?5:e<s?6:e<l?7:e<u?8:e<c?9:10}},function(e,t){e.exports=function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t){e.exports=function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,r){"use strict";(function(e){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(293)),i=_interopRequireDefault(r(4)),a=_interopRequireDefault(r(13)),o=r(316),s="undefined"!=typeof window&&window||e,l=s.dashjs;l||(l=s.dashjs={}),l.MediaPlayer=n.default,l.FactoryMaker=i.default,l.Debug=a.default,l.Version=(0,o.getVersionString)(),t.default=l,t.MediaPlayer=n.default,t.FactoryMaker=i.default,t.Debug=a.default}).call(this,r(59))},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(101)),a=_interopRequireDefault(r(12)),o=_interopRequireDefault(r(14)),s=_interopRequireDefault(r(4)),l=_interopRequireDefault(r(13)),u=500;function PlaybackController(){var e=this.context,t=(0,a.default)(e).getInstance(),r=void 0,s=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,E=void 0,T=void 0,S=void 0,w=void 0,R=void 0,A=void 0,C=void 0,x=void 0,D=void 0,P=void 0,I=void 0,M=void 0,O=void 0;function onPeriodSwitchStarted(e){!w&&e.fromStreamInfo&&void 0!==b[e.fromStreamInfo.id]&&(delete T[e.fromStreamInfo.id],delete b[e.fromStreamInfo.id])}function getTimeToStreamEnd(){return parseFloat((getStreamEndTime()-getTime()).toFixed(5))}function getStreamEndTime(){var e=getStreamStartTime(!0),t=w&&S?e-S.start:0;return e+(S?S.duration-t:t)}function play(){S&&m&&m.getElement()?m.play():A=!0}function isPaused(){return S&&m?m.isPaused():null}function pause(){S&&m&&m.pause()}function isSeeking(){return S&&m?m.isSeeking():null}function seek(e,r,n){S&&m&&(!0===n?e!==m.getTime()&&(m.removeEventListener("seeking",onPlaybackSeeking),s.info("Requesting seek to time: "+e),m.setCurrentTime(e,r)):(t.trigger(o.default.PLAYBACK_SEEK_ASKED),s.info("Requesting seek to time: "+e),m.setCurrentTime(e,r)))}function getTime(){return S&&m?m.getTime():null}function getNormalizedTime(){var e=getTime();if(w&&!isNaN(x)){var t=x/1e3;e>t&&(e-=t)}return e}function getPlaybackRate(){return S&&m?m.getPlaybackRate():null}function getEnded(){return S&&m?m.getEnded():null}function getIsDynamic(){return w}function getCurrentLiveLatency(){if(!w||isNaN(x))return NaN;var e=getNormalizedTime();if(isNaN(e)||0===e)return 0;var t=(new Date).getTime()+1e3*y.getClientTimeOffset();return Math.max(((t-x-1e3*e)/1e3).toFixed(3),0)}function reset(){v=NaN,A=!1,b={},E=0,x=0,T={},m&&(t.off(o.default.DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this),t.off(o.default.BUFFER_LEVEL_STATE_CHANGED,onBufferLevelStateChanged,this),t.off(o.default.BYTES_APPENDED_END_FRAGMENT,onBytesAppended,this),t.off(o.default.LOADING_PROGRESS,onFragmentLoadProgress,this),t.off(o.default.PERIOD_SWITCH_STARTED,onPeriodSwitchStarted,this),t.off(o.default.PLAYBACK_PROGRESS,onPlaybackProgression,this),t.off(o.default.PLAYBACK_TIME_UPDATED,onPlaybackProgression,this),t.off(o.default.PLAYBACK_ENDED,onPlaybackEnded,this),stopUpdatingWallclockTime(),function removeAllListeners(){m.removeEventListener("canplay",onCanPlay),m.removeEventListener("play",onPlaybackStart),m.removeEventListener("waiting",onPlaybackWaiting),m.removeEventListener("playing",onPlaybackPlaying),m.removeEventListener("pause",onPlaybackPaused),m.removeEventListener("error",onPlaybackError),m.removeEventListener("seeking",onPlaybackSeeking),m.removeEventListener("seeked",onPlaybackSeeked),m.removeEventListener("timeupdate",onPlaybackTimeUpdated),m.removeEventListener("progress",onPlaybackProgress),m.removeEventListener("ratechange",onPlaybackRateChanged),m.removeEventListener("loadedmetadata",onPlaybackMetaDataLoaded),m.removeEventListener("stalled",onPlaybackStalled),m.removeEventListener("ended",onNativePlaybackEnded)}()),_=null,m=null,S=null,w=null}function getStartTimeFromUriParameters(){var e=O.getURIFragmentData(),t=void 0;if(e){t={};var r=parseInt(e.r,10);r>=0&&S&&r<S.manifestInfo.DVRWindowSize&&null===e.t&&(e.t=Math.max(Math.floor(Date.now()/1e3)-S.manifestInfo.DVRWindowSize,S.manifestInfo.availableFrom.getTime()/1e3+S.start)+r),t.fragS=parseFloat(e.s),t.fragT=parseFloat(e.t)}return t}function getStreamStartTime(e,t){var r=void 0,n=NaN;if(e)n=S?S.start:n;else{var i=getStartTimeFromUriParameters();n=i?isNaN(i.fragS)?i.fragT:i.fragS:0}if(w)!isNaN(n)&&S&&((r=n-S.manifestInfo.availableFrom.getTime()/1e3)>v||r<(isNaN(t)?NaN:t-S.manifestInfo.DVRWindowSize))&&(r=null),r=r||v;else if(S)if(!isNaN(n)&&n<Math.max(S.manifestInfo.duration,S.duration)&&n>=0)r=n;else{var a=b[S.id];r=void 0!==a?Math.max(void 0!==a.audio?a.audio:0,void 0!==a.video?a.video:0,S.start):S.start}return r}function startUpdatingWallclockTime(){if(null===_){_=setInterval(function tick(){!function onWallclockTime(){t.trigger(o.default.WALLCLOCK_TIME_UPDATED,{isDynamic:w,time:new Date}),getIsDynamic()&&isPaused()&&function updateLivePlaybackTime(){var e=Date.now();(!C||e>C+u)&&(C=e,onPlaybackTimeUpdated())}()}()},R.getWallclockTimeUpdateInterval())}}function stopUpdatingWallclockTime(){clearInterval(_),_=null}function updateCurrentTime(){if(!isPaused()&&w&&0!==m.getReadyState()){var e=getNormalizedTime(),t=function getActualPresentationTime(e){var t=f.getReadOnlyMetricsFor(n.default.VIDEO)||f.getReadOnlyMetricsFor(n.default.AUDIO),r=d.getCurrentDVRInfo(t),i=r?r.range:null,a=void 0;if(!i)return NaN;if(e>i.end)a=Math.max(i.end-2*S.manifestInfo.minBufferTime,i.start);else{if(!(e+.25<i.start))return e;a=i.start}return a}(e);!isNaN(t)&&t!==e&&seek(t)}}function onDataUpdateCompleted(e){if(!e.error){var t=g.convertDataToRepresentationInfo(e.currentRepresentation).mediaInfo.streamInfo;S.id===t.id&&(S=t,updateCurrentTime())}}function onCanPlay(){t.trigger(o.default.CAN_PLAY)}function onPlaybackStart(){s.info("Native video element event: play"),updateCurrentTime(),startUpdatingWallclockTime(),t.trigger(o.default.PLAYBACK_STARTED,{startTime:getTime()})}function onPlaybackWaiting(){s.info("Native video element event: waiting"),t.trigger(o.default.PLAYBACK_WAITING,{playingTime:getTime()})}function onPlaybackPlaying(){s.info("Native video element event: playing"),t.trigger(o.default.PLAYBACK_PLAYING,{playingTime:getTime()})}function onPlaybackPaused(){s.info("Native video element event: pause"),t.trigger(o.default.PLAYBACK_PAUSED,{ended:getEnded()})}function onPlaybackSeeking(){var e=getTime();s.info("Seeking to: "+e),startUpdatingWallclockTime(),t.trigger(o.default.PLAYBACK_SEEKING,{seekTime:e})}function onPlaybackSeeked(){s.info("Native video element event: seeked"),t.trigger(o.default.PLAYBACK_SEEKED),m.addEventListener("seeking",onPlaybackSeeking)}function onPlaybackTimeUpdated(){S&&t.trigger(o.default.PLAYBACK_TIME_UPDATED,{timeToEnd:getTimeToStreamEnd(),time:getTime()})}function onPlaybackProgress(){t.trigger(o.default.PLAYBACK_PROGRESS)}function onPlaybackRateChanged(){var e=getPlaybackRate();s.info("Native video element event: ratechange: ",e),t.trigger(o.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function onPlaybackMetaDataLoaded(){s.info("Native video element event: loadedmetadata"),t.trigger(o.default.PLAYBACK_METADATA_LOADED),startUpdatingWallclockTime()}function onNativePlaybackEnded(){s.info("Native video element event: ended"),pause(),stopUpdatingWallclockTime(),t.trigger(o.default.PLAYBACK_ENDED,{isLast:c.getActiveStreamInfo().isLast})}function onPlaybackEnded(e){_&&e.isLast&&(s.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended"),m.setCurrentTime(getStreamEndTime()),pause(),stopUpdatingWallclockTime())}function onPlaybackError(e){var r=e.target||e.srcElement;t.trigger(o.default.PLAYBACK_ERROR,{error:r.error})}function onPlaybackProgression(){w&&R.getLowLatencyEnabled()&&R.getCatchUpPlaybackRate()>0&&!isPaused()&&!isSeeking()&&(!function needToCatchUp(){return R.getCatchUpPlaybackRate()>0&&getTime()>0&&Math.abs(getCurrentLiveLatency()-R.getLiveDelay())>R.getLowLatencyMinDrift()}()?stopPlaybackCatchUp():function startPlaybackCatchUp(){if(m){var e=R.getCatchUpPlaybackRate(),t=R.getLiveDelay(),r=getCurrentLiveLatency()-t,i=5*r,a=2*e/(1+Math.pow(Math.E,-i)),o=1-e+a;if(I)(function getBufferLevel(){var e=null;return c.getActiveStreamProcessors().forEach(function(t){var r=t.getBufferLevel();e=null===e?r:Math.min(e,r)}),e})()>t/2?I=!1:r>0&&(o=1);Math.abs(m.getPlaybackRate()-o)>M&&m.setPlaybackRate(o),R.getLowLatencyMaxDriftBeforeSeeking()>0&&!P&&r>R.getLowLatencyMaxDriftBeforeSeeking()?(s.info("Low Latency catchup mechanism. Latency too high, doing a seek to live point"),P=!0,function seekToLive(){var e=f.getReadOnlyMetricsFor(n.default.VIDEO)||f.getReadOnlyMetricsFor(n.default.AUDIO),t=d.getCurrentDVRInfo(e);seek((t?t.range:null).end-R.getLiveDelay(),!0,!1)}()):P=!1}}())}function stopPlaybackCatchUp(){m&&m.setPlaybackRate(1)}function onBytesAppended(e){var t,r=void 0,i=e.bufferedRanges;if(i&&i.length&&(!b[S.id]||!0!==b[S.id].started)){var a=e.sender.getType();void 0===T[S.id]&&(T[S.id]=[]),T[S.id][a]=i,void 0===b[S.id]&&(b[S.id]=[],b[S.id].started=!1),void 0===b[S.id][a]&&(b[S.id][a]=Math.max(i.start(0),S.start));var o=c.isTrackTypePresent(n.default.VIDEO),s=c.isTrackTypePresent(n.default.AUDIO);t=getStreamStartTime(!1),s&&o?isNaN(b[S.id].audio)||isNaN(b[S.id].video)||(b[S.id].audio<b[S.id].video?(r=b[S.id].video>t?b[S.id].video:t,i=T[S.id].audio):(r=b[S.id].audio>t?b[S.id].audio:t,i=T[S.id].video),function checkTimeInRanges(e,t){if(t&&t.length>0)for(var r=0,n=t.length;r<n;r++)if(e>=t.start(r)&&e<t.end(r))return!0;return!1}(r,i)&&(isSeeking()||D||0===r||seek(r,!0,!0),b[S.id].started=!0)):b[S.id][a]&&(r=b[S.id][a]>t?b[S.id][a]:t,isSeeking()||D||seek(r,!1,!0),b[S.id].started=!0)}}function onFragmentLoadProgress(e){if(!1===e.stream&&R.getLowLatencyEnabled()&&!isNaN(e.request.duration)){var t=1.2*e.request.duration;t>R.getLiveDelay()&&(s.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",t.toFixed(2)),R.setLiveDelay(t))}}function onBufferLevelStateChanged(e){e.streamInfo.id===S.id&&(R.getLowLatencyEnabled()?e.state!==i.default.BUFFER_EMPTY||isSeeking()||I||(I=!0,stopPlaybackCatchUp()):m.setStallState(e.mediaType,e.state===i.default.BUFFER_EMPTY))}function onPlaybackStalled(e){t.trigger(o.default.PLAYBACK_STALLED,{e:e})}return r={initialize:function initialize(e,r){S=e,function addAllListeners(){m.addEventListener("canplay",onCanPlay),m.addEventListener("play",onPlaybackStart),m.addEventListener("waiting",onPlaybackWaiting),m.addEventListener("playing",onPlaybackPlaying),m.addEventListener("pause",onPlaybackPaused),m.addEventListener("error",onPlaybackError),m.addEventListener("seeking",onPlaybackSeeking),m.addEventListener("seeked",onPlaybackSeeked),m.addEventListener("timeupdate",onPlaybackTimeUpdated),m.addEventListener("progress",onPlaybackProgress),m.addEventListener("ratechange",onPlaybackRateChanged),m.addEventListener("loadedmetadata",onPlaybackMetaDataLoaded),m.addEventListener("stalled",onPlaybackStalled),m.addEventListener("ended",onNativePlaybackEnded)}(),w=S.manifestInfo.isDynamic,P=!1,I=!1,v=S.start,D=r;var n="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",i=/safari/.test(n)&&!/chrome/.test(n);M=i?.25:.02,t.on(o.default.DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this),t.on(o.default.BYTES_APPENDED_END_FRAGMENT,onBytesAppended,this),t.on(o.default.LOADING_PROGRESS,onFragmentLoadProgress,this),t.on(o.default.BUFFER_LEVEL_STATE_CHANGED,onBufferLevelStateChanged,this),t.on(o.default.PERIOD_SWITCH_STARTED,onPeriodSwitchStarted,this),t.on(o.default.PLAYBACK_PROGRESS,onPlaybackProgression,this),t.on(o.default.PLAYBACK_TIME_UPDATED,onPlaybackProgression,this),t.on(o.default.PLAYBACK_ENDED,onPlaybackEnded,this),A&&(A=!1,play())},setConfig:function setConfig(e){e&&(e.streamController&&(c=e.streamController),e.metricsModel&&(f=e.metricsModel),e.dashMetrics&&(d=e.dashMetrics),e.manifestModel&&(p=e.manifestModel),e.dashManifestModel&&(h=e.dashManifestModel),e.mediaPlayerModel&&(R=e.mediaPlayerModel),e.adapter&&(g=e.adapter),e.videoModel&&(m=e.videoModel),e.timelineConverter&&(y=e.timelineConverter),e.uriFragmentModel&&(O=e.uriFragmentModel))},getStartTimeFromUriParameters:getStartTimeFromUriParameters,getStreamStartTime:getStreamStartTime,getTimeToStreamEnd:getTimeToStreamEnd,getTime:getTime,getNormalizedTime:getNormalizedTime,getPlaybackRate:getPlaybackRate,getPlayedRanges:function getPlayedRanges(){return S&&m?m.getPlayedRanges():null},getEnded:getEnded,getIsDynamic:getIsDynamic,getStreamController:function getStreamController(){return c},setLiveStartTime:function setLiveStartTime(e){v=e},getLiveStartTime:function getLiveStartTime(){return v},computeLiveDelay:function computeLiveDelay(e,t){var r=h.getMpd(p.getValue()),i=void 0,a=void 0;if(i=R.getUseSuggestedPresentationDelay()&&r.hasOwnProperty(n.default.SUGGESTED_PRESENTATION_DELAY)?r.suggestedPresentationDelay:R.getLowLatencyEnabled()?0:R.getLiveDelay()?R.getLiveDelay():isNaN(e)?2*S.manifestInfo.minBufferTime:e*R.getLiveDelayFragmentCount(),r.availabilityStartTime&&(x=r.availabilityStartTime.getTime()),t>0){var o=Math.max(t-10,t/2);a=Math.min(i,o)}else a=i;return E=a,a},getLiveDelay:function getLiveDelay(){return E},getCurrentLiveLatency:getCurrentLiveLatency,play:play,isPaused:isPaused,pause:pause,isSeeking:isSeeking,seek:seek,reset:reset},function setup(){s=(0,l.default)(e).getInstance().getLogger(r),reset()}(),r}PlaybackController.__dashjs_factory_name="PlaybackController",t.default=s.default.getSingletonFactory(PlaybackController),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(155)),a=function(e){function CoreEvents(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CoreEvents),n(Object.getPrototypeOf(CoreEvents.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CoreEvents,i["default"]),CoreEvents}();t.default=a,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=r(42),a=_interopRequireDefault(r(631)),o=_interopRequireDefault(r(131)),s=_interopRequireDefault(r(295)),l=_interopRequireDefault(r(4)),u=_interopRequireDefault(r(13)),c=_interopRequireDefault(r(216)),f=_interopRequireDefault(r(650)),d=_interopRequireDefault(r(215)),p=_interopRequireDefault(r(301)),h=_interopRequireDefault(r(12)),g=_interopRequireDefault(r(14)),m=_interopRequireDefault(r(32)),y=_interopRequireDefault(r(38));function TextSourceBuffer(){var e=this.context,t=(0,h.default)(e).getInstance(),r=!1,l=void 0,v=void 0,_=void 0,b=void 0,E=void 0,T=void 0,S=void 0,w=void 0,R=void 0,A=void 0,C=void 0,x=void 0,D=void 0,P=void 0,I=void 0,M=void 0,O=void 0,k=void 0,L=void 0,N=void 0,F=void 0,B=void 0,U=void 0,j=void 0,q=void 0,G=void 0,H=void 0;function resetInitialSettings(){!function resetFragmented(){D=null,I=NaN,M=[],L=null,P=!1}(),C=[],w=null}function onVideoChunkReceived(e){var t=e.chunk;t.mediaInfo.embeddedCaptions&&append(t.bytes,t)}function initEmbedded(){F=[],(x=(0,c.default)(e).getInstance()).setConfig({videoModel:O}),x.initialize(),_=(0,o.default)(e).getInstance(),N=null,!1,B=0,q=[],j=[],U=null,r=!0,G=(0,f.default)(e).getInstance();var n=k.getActiveStreamProcessors();for(var i in n)if("video"===n[i].getType()){H=n[i].getRepresentationInfo().MSETimeOffset;break}t.on(g.default.VIDEO_CHUNK_RECEIVED,onVideoChunkReceived,this)}function setCurrentFragmentedTrackIdx(e){N=e}function createTextTrackFromMediaInfo(e,t){var r=new a.default,i={subtitle:"subtitles",caption:"captions"};r.captionData=e,r.lang=t.lang,r.labels=t.labels,r.id=t.id?t.id:t.index,r.index=t.index,r.isTTML=function checkTTML(){var e=!1;return t.codec&&t.codec.search(n.default.STPP)>=0&&(e=!0),t.mimeType&&t.mimeType.search(n.default.TTML)>=0&&(e=!0),e}(),r.defaultTrack=function getIsDefault(e){var t=!1;F.length>1&&e.isEmbedded?t=e.id&&e.id===n.default.CC1:1===F.length?e.id&&"string"==typeof e.id&&"CC"===e.id.substring(0,2)&&(t=!0):0===F.length&&(t=e.index===C[0].index);return t}(t),r.isFragmented=!E.getIsTextTrack(t.mimeType),r.isEmbedded=!!t.isEmbedded,r.kind=function getKind(){var e=t.roles.length>0?i[t.roles[0]]:i.caption;return e=e===i.caption||e===i.subtitle?e:i.caption}(),r.roles=t.roles,r.accessibility=t.accessibility;var o=(C?C.length:0)+F.length;x.addTextTrack(r,o)}function append(e,t){var r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,f=t.mediaInfo,h=f.type,g=f.mimeType,E=f.codec||g;if(E){if(h===n.default.FRAGMENTED_TEXT)if(P)if(a=(u=_.getSamplesInfo(e)).sampleList,null===L&&a.length>0&&(L=a[0].cts-t.start*I),E.search(n.default.STPP)>=0)for(w=null!==w?w:getParser(E),o=0;o<a.length;o++){var S=(W=a[o]).cts,R=S-L;this.buffered.add(R/I,(R+W.duration)/I);var A=new DataView(e,W.offset,W.subSizes[0]);c=d.default.Utils.dataViewToString(A,n.default.UTF8);var C=[],M=W.offset+W.subSizes[0];for(s=1;s<W.subSizes.length;s++){var k=new Uint8Array(e,M,W.subSizes[s]),V=String.fromCharCode.apply(null,k);C.push(V),M+=W.subSizes[s]}try{var z=T.getValue().ttmlTimeIsRelative?S/I:0;r=w.parse(c,z,S/I,(S+W.duration)/I,C),x.addCaptions(N,L/I,r)}catch(e){D.removeExecutedRequestsBeforeTime(),this.remove(),v.error("TTML parser error: "+e.message)}}else{var K=[];for(o=0;o<a.length;o++){var W;(W=a[o]).cts-=L,this.buffered.add(W.cts/I,(W.cts+W.duration)/I);var Y=e.slice(W.offset,W.offset+W.size),X=d.default.parseBuffer(Y);for(s=0;s<X.boxes.length;s++){var Q=X.boxes[s];if(v.debug("VTT box1: "+Q.type),"vtte"!==Q.type&&"vttc"===Q.type)for(v.debug("VTT vttc boxes.length = "+Q.boxes.length),l=0;l<Q.boxes.length;l++){var $=Q.boxes[l];if(v.debug("VTT box2: "+$.type),"payl"===$.type){var J=$.cue_text;v.debug("VTT cue_text = "+J);var Z=W.cts/I,ee=(W.cts+W.duration)/I;K.push({start:Z,end:ee,data:J,styles:{}}),v.debug("VTT "+Z+"-"+ee+" : "+J)}}}}K.length>0&&x.addCaptions(N,0,K)}else P=!0,I=_.getMediaTimescaleFromMoov(e);else if(h===n.default.TEXT){A=new DataView(e,0,e.byteLength);c=d.default.Utils.dataViewToString(A,n.default.UTF8);try{r=getParser(E).parse(c,0),x.addCaptions(x.getCurrentTrackIdx(),0,r)}catch(e){b.timedTextError(e,"parse",c),b.error(new m.default(y.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,y.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+e.message,c))}}else if(h===n.default.VIDEO)if(t.segmentType===i.HTTPRequest.INIT_SEGMENT_TYPE){if(0===B)for(B=_.getMediaTimescaleFromMoov(e),o=0;o<F.length;o++)createTextTrackFromMediaInfo(null,F[o])}else{if(0===B)return void v.warn("CEA-608: No timescale for embeddedTextTrack yet");var te=function makeCueAdderForIndex(e,t){return function newCue(e,r,n){var i=null;i=O.getTTMLRenderingDiv()?G.createHTMLCaptionsFromScreen(O.getElement(),e,r,n):[{start:e,end:r,data:n.getDisplayText(),styles:{}}],i&&x.addCaptions(t,0,i)}},re=(u=_.getSamplesInfo(e)).lastSequenceNumber;if(!q[0]&&!q[1]){var ne=void 0,ie=void 0;for(o=0;o<F.length;o++){if(F[o].id===n.default.CC1?(0,ie=x.getTrackIdxForId(n.default.CC1)):F[o].id===n.default.CC3&&(1,ie=x.getTrackIdxForId(n.default.CC3)),-1===ie)return void v.warn("CEA-608: data before track is ready.");ne=te(0,ie),q[o]=new p.default.Cea608Parser(o+1,{newCue:ne},null)}}if(B&&-1==j.indexOf(re)){if(null!==U&&re!==U+u.numSequences)for(o=0;o<q.length;o++)q[o]&&q[o].reset();for(var ae=function extractCea608Data(e,t){if(0===t.length)return null;for(var r={splits:[],fields:[[],[]]},n=new DataView(e),i=0;i<t.length;i++)for(var a=t[i],o=p.default.findCea608Nalus(n,a.offset,a.size),s=null,l=0,u=0;u<o.length;u++)for(var c=p.default.extractCea608DataFromRange(n,o[u]),f=0;f<2;f++)c[f].length>0&&(a.cts!==s?l=0:l+=1,r.fields[f].push([a.cts+H*B,c[f],l]),s=a.cts);return r.fields.forEach(function sortField(e){e.sort(function(e,t){return e[0]===t[0]?e[2]-t[2]:e[0]-t[0]})}),r}(e,u.sampleList),oe=0;oe<q.length;oe++){var se=ae.fields[oe],le=q[oe];if(le)for(o=0;o<se.length;o++)le.addData(se[o][0]/B,se[o][1])}U=re,j.push(re)}}}else v.error("No text type defined")}function getParser(e){var t=void 0;return e.search(n.default.VTT)>=0?t=R:(e.search(n.default.TTML)>=0||e.search(n.default.STPP)>=0)&&(t=A),t}return l={initialize:function initialize(t,i){r||initEmbedded(),x.setConfig({videoModel:O}),x.initialize(),_||(_=(0,o.default)(e).getInstance()),function addMediaInfos(t,r){var i=!E.getIsTextTrack(t);if(r){if(C=C.concat(r.getMediaInfoArr()),i){D=r.getFragmentModel(),l.buffered=(0,s.default)(e).create(),M=S.getTracksFor(n.default.FRAGMENTED_TEXT,k.getActiveStreamInfo());for(var a=S.getCurrentTrackFor(n.default.FRAGMENTED_TEXT,k.getActiveStreamInfo()),o=0;o<M.length;o++)if(M[o]===a){setCurrentFragmentedTrackIdx(o);break}}for(o=0;o<C.length;o++)createTextTrackFromMediaInfo(null,C[o])}}(t,i)},append:append,abort:function abort(){x.deleteAllTextTracks(),_=null,C=[],D=null,P=!1,M=[]},addEmbeddedTrack:function addEmbeddedTrack(e){if(r||initEmbedded(),e)if(e.id===n.default.CC1||e.id===n.default.CC3){for(var t=0;t<F.length;t++)if(F[t].id===e.id)return;F.push(e)}else v.warn("Embedded track "+e.id+" not supported!")},resetEmbedded:function resetEmbedded(){t.off(g.default.VIDEO_CHUNK_RECEIVED,onVideoChunkReceived,this),x&&x.deleteAllTextTracks(),r=!1,F=[],q=[null,null],j=[],U=null},setConfig:function setConfig(e){e&&(e.errHandler&&(b=e.errHandler),e.dashManifestModel&&(E=e.dashManifestModel),e.manifestModel&&(T=e.manifestModel),e.mediaController&&(S=e.mediaController),e.videoModel&&(O=e.videoModel),e.streamController&&(k=e.streamController),e.textTracks&&(x=e.textTracks),e.vttParser&&(R=e.vttParser),e.ttmlParser&&(A=e.ttmlParser))},getConfig:function getConfig(){return{fragmentModel:D,fragmentedTracks:M,videoModel:O}},setCurrentFragmentedTrackIdx:setCurrentFragmentedTrackIdx,remove:function remove(e,t){void 0===e&&e===t&&(e=this.buffered.start(0),t=this.buffered.end(this.buffered.length-1)),this.buffered.remove(e,t)},reset:function reset(){resetInitialSettings(),k=null,O=null,x=null}},function setup(){v=(0,u.default)(e).getInstance().getLogger(l),resetInitialSettings()}(),l}TextSourceBuffer.__dashjs_factory_name="TextSourceBuffer",t.default=l.default.getSingletonFactory(TextSourceBuffer),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function TextTrackInfo(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextTrackInfo),this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1},e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(633)),i=_interopRequireDefault(r(4));function IsoFile(){var e=void 0;function getBoxes(t){var r=[];if(!t||!e||"function"!=typeof e.fetchAll)return r;for(var n=e.fetchAll(t),i=void 0,a=0,o=n.length;a<o;a++)(i=convertToDashIsoBox(n[a]))&&r.push(i);return r}function convertToDashIsoBox(e){if(!e)return null;var t=new n.default(e);return e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete),t}return{getBox:function getBox(t){return t&&e&&e.boxes&&0!==e.boxes.length&&"function"==typeof e.fetch?convertToDashIsoBox(e.fetch(t)):null},getBoxes:getBoxes,setData:function setData(t){e=t},getLastBox:function getLastBox(){if(!e||!e.boxes||!e.boxes.length)return null;var t=getBoxes(e.boxes[e.boxes.length-1].type);return t.length>0?t[t.length-1]:null}}}IsoFile.__dashjs_factory_name="IsoFile",t.default=i.default.getClassFactory(IsoFile),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function IsoBox(e){if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IsoBox),this.offset=e._offset,this.type=e.type,this.size=e.size,this.boxes=[],e.boxes)for(var t=0;t<e.boxes.length;t++)this.boxes.push(new IsoBox(e.boxes[t]));switch(this.isComplete=!0,e.type){case"sidx":if(this.timescale=e.timescale,this.earliest_presentation_time=e.earliest_presentation_time,this.first_offset=e.first_offset,this.references=e.references,e.references){this.references=[];for(t=0;t<e.references.length;t++){var r={reference_type:e.references[t].reference_type,referenced_size:e.references[t].referenced_size,subsegment_duration:e.references[t].subsegment_duration};this.references.push(r)}}break;case"emsg":this.id=e.id,this.value=e.value,this.timescale=e.timescale,this.scheme_id_uri=e.scheme_id_uri,this.presentation_time_delta=1===e.version?e.presentation_time:e.presentation_time_delta,this.event_duration=e.event_duration,this.message_data=e.message_data;break;case"mdhd":this.timescale=e.timescale;break;case"mfhd":this.sequence_number=e.sequence_number;break;case"subs":this.entry_count=e.entry_count,this.entries=e.entries;break;case"tfhd":this.base_data_offset=e.base_data_offset,this.sample_description_index=e.sample_description_index,this.default_sample_duration=e.default_sample_duration,this.default_sample_size=e.default_sample_size,this.default_sample_flags=e.default_sample_flags,this.flags=e.flags;break;case"tfdt":this.version=e.version,this.baseMediaDecodeTime=e.baseMediaDecodeTime,this.flags=e.flags;break;case"trun":if(this.sample_count=e.sample_count,this.first_sample_flags=e.first_sample_flags,this.data_offset=e.data_offset,this.flags=e.flags,this.samples=e.samples,e.samples){this.samples=[];t=0;for(var n=e.samples.length;t<n;t++){var i={sample_size:e.samples[t].sample_size,sample_duration:e.samples[t].sample_duration,sample_composition_time_offset:e.samples[t].sample_composition_time_offset};this.samples.push(i)}}}}return n(IsoBox,[{key:"getChildBox",value:function getChildBox(e){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===e)return this.boxes[t]}},{key:"getChildBoxes",value:function getChildBoxes(e){for(var t=[],r=0;r<this.boxes.length;r++)this.boxes[r].type===e&&t.push(this.boxes[r]);return t}}]),IsoBox}();t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function IsoBoxSearchInfo(e,t,r){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IsoBoxSearchInfo),this.lastCompletedOffset=e,this.found=t,this.size=r},e.exports=t.default},function(e,t,r){!function(e,t,r,n){e.generateISD=function(e,t,r){var n=new ISD(e),i={};for(var a in e.head.layout.regions){var o=isdProcessContentElement(e,t,e.head.layout.regions[a],e.body,null,"",e.head.layout.regions[a],r,i);null!==o&&n.contents.push(o.element)}return n};var i=[r.byName.color.qname,r.byName.textCombine.qname,r.byName.textDecoration.qname,r.byName.textEmphasis.qname,r.byName.textOutline.qname,r.byName.textShadow.qname];function isdProcessContentElement(e,t,a,o,s,l,u,c,f){if(t<u.begin||t>=u.end)return null;var d="regionID"in u&&""!==u.regionID?u.regionID:l;if(null!==s&&d!==a.id&&(!("contents"in u)||"contents"in u&&0===u.contents.length||""!==d))return null;var p=new ISDContentElement(u);for(var h in u.sets)t<u.sets[h].begin||t>=u.sets[h].end||(p.styleAttrs[u.sets[h].qname]=u.sets[h].value);var g,m={};for(var y in p.styleAttrs)if(m[y]=!0,y===r.byName.writingMode.qname&&!(r.byName.direction.qname in p.styleAttrs)){var v=p.styleAttrs[y];"lrtb"===v||"lr"===v?p.styleAttrs[r.byName.direction.qname]="ltr":"rltb"!==v&&"rl"!==v||(p.styleAttrs[r.byName.direction.qname]="rtl")}if(null!==s)for(var _ in r.all){var b=r.all[_];if(b.qname===r.byName.textDecoration.qname){var E=s.styleAttrs[b.qname],T=p.styleAttrs[b.qname],S=[];void 0===T?S=E:-1===T.indexOf("none")?((-1===T.indexOf("noUnderline")&&-1!==E.indexOf("underline")||-1!==T.indexOf("underline"))&&S.push("underline"),(-1===T.indexOf("noLineThrough")&&-1!==E.indexOf("lineThrough")||-1!==T.indexOf("lineThrough"))&&S.push("lineThrough"),(-1===T.indexOf("noOverline")&&-1!==E.indexOf("overline")||-1!==T.indexOf("overline"))&&S.push("overline")):S.push("none"),p.styleAttrs[b.qname]=S}else if(b.qname!==r.byName.fontSize.qname||b.qname in p.styleAttrs||"span"!==p.kind||"textContainer"!==p.styleAttrs[r.byName.ruby.qname])if(b.qname!==r.byName.fontSize.qname||b.qname in p.styleAttrs||"span"!==p.kind||"text"!==p.styleAttrs[r.byName.ruby.qname])b.inherit&&b.qname in s.styleAttrs&&!(b.qname in p.styleAttrs)&&(p.styleAttrs[b.qname]=s.styleAttrs[b.qname]);else{var w=s.styleAttrs[r.byName.fontSize.qname];"textContainer"===s.styleAttrs[r.byName.ruby.qname]?p.styleAttrs[b.qname]=w:p.styleAttrs[b.qname]=new n.ComputedLength(.5*w.rw,.5*w.rh)}else{var R=s.styleAttrs[r.byName.fontSize.qname];p.styleAttrs[b.qname]=new n.ComputedLength(.5*R.rw,.5*R.rh)}}for(var A in r.all){var C=r.all[A];if(!(C.qname in p.styleAttrs)&&!(C.qname===r.byName.position.qname&&r.byName.origin.qname in p.styleAttrs||C.qname===r.byName.origin.qname&&r.byName.position.qname in p.styleAttrs)){var x=e.head.styling.initials[C.qname]||C.initial;("region"===p.kind||!1===C.inherit&&null!==x)&&(p.styleAttrs[C.qname]=C.parse(x),m[C.qname]=!0)}}for(var D in r.all){var P=r.all[D];if(P.qname in m&&null!==P.compute){var I=P.compute(e,s,p,p.styleAttrs[P.qname],f);null!==I?p.styleAttrs[P.qname]=I:reportError(c,"Style '"+P.qname+"' on element '"+p.kind+"' cannot be computed")}}if("none"===p.styleAttrs[r.byName.display.qname])return null;for(var M in null===s?g=null===o?[]:[o]:"contents"in u&&(g=u.contents),g){var O=isdProcessContentElement(e,t,a,o,p,d,g[M],c,f);null!==O&&p.contents.push(O.element)}for(var k in p.styleAttrs){var L=!1;if("span"===p.kind){var N=p.styleAttrs[r.byName.ruby.qname];(L=("container"===N||"textContainer"===N||"baseContainer"===N)&&-1!==i.indexOf(k))||(L="container"!==N&&k===r.byName.rubyAlign.qname),L||(L=!("textContainer"===N||"text"===N)&&k===r.byName.rubyPosition.qname)}if(!L)L=-1===r.byQName[k].applies.indexOf(p.kind);L&&delete p.styleAttrs[k]}if("span"===p.kind&&p.text&&"default"===p.space){var F=p.text.replace(/[\t\r\n ]+/g," ");p.text=F}if("p"===p.kind){var B=[];!function constructSpanList(e,t){if("contents"in e)for(var r in e.contents)constructSpanList(e.contents[r],t);else"span"!==e.kind&&"br"!==e.kind||t.push(e)}(p,B);for(var U=0,j="after_br",q=0;;)if("after_br"===j)U>=B.length||"br"===B[U].kind?(j="before_br",q=U,U--):("preserve"!==B[U].space&&(B[U].text=B[U].text.replace(/^[\t\r\n ]+/g,"")),B[U].text.length>0?(j="looking_br",U++):B.splice(U,1));else if("before_br"===j)if(U<0||"br"===B[U].kind){if(j="after_br",(U=q+1)>=B.length)break}else if("preserve"!==B[U].space&&(B[U].text=B[U].text.replace(/[\t\r\n ]+$/g,"")),B[U].text.length>0){if(j="after_br",(U=q+1)>=B.length)break}else B.splice(U,1),U--;else U>=B.length||"br"===B[U].kind?(j="before_br",q=U,U--):U++;!function pruneEmptySpans(e){if("br"===e.kind)return!1;if("text"in e)return 0===e.text.length;if("contents"in e){for(var t=e.contents.length;t--;)pruneEmptySpans(e.contents[t])&&e.contents.splice(t,1);return 0===e.contents.length}}(p)}return"div"===p.kind&&r.byName.backgroundImage.qname in p.styleAttrs||"br"===p.kind||"image"===p.kind||"contents"in p&&p.contents.length>0||"span"===p.kind&&null!==p.text||"region"===p.kind&&"always"===p.styleAttrs[r.byName.showBackground.qname]?{region_id:d,element:p}:null}function ISD(e){this.contents=[],this.aspectRatio=e.aspectRatio}function ISDContentElement(e){for(var t in this.kind=e.kind||"region",e.id&&(this.id=e.id),this.styleAttrs={},e.styleAttrs)this.styleAttrs[t]=e.styleAttrs[t];"src"in e&&(this.src=e.src),"type"in e&&(this.type=e.type),"text"in e?this.text=e.text:("region"===this.kind||"contents"in e)&&(this.contents=[]),"space"in e&&(this.space=e.space)}function reportError(e,t){if(e&&e.error&&e.error(t))throw t}}(t,"undefined"==typeof imscNames?r(156):imscNames,"undefined"==typeof imscStyles?r(217):imscStyles,"undefined"==typeof imscUtils?r(157):imscUtils)},function(e,t,r){!function(e,t,r,n,i){function resolveTiming(e,t,r,n){var i=n&&"seq"===n.timeContainer,a=0;n&&(a=i&&r?r.end:n.begin),t.begin=t.explicit_begin?t.explicit_begin+a:a;var o=t.begin,s=null;for(var l in t.sets)resolveTiming(e,t.sets[l],s,t),o="seq"===t.timeContainer?t.sets[l].end:Math.max(o,t.sets[l].end),s=t.sets[l];if("contents"in t)for(var u in t.contents)resolveTiming(e,t.contents[u],s,t),o="seq"===t.timeContainer?t.contents[u].end:Math.max(o,t.contents[u].end),s=t.contents[u];else o=i?t.begin:Number.POSITIVE_INFINITY;null!==t.explicit_end&&null!==t.explicit_dur?t.end=Math.min(t.begin+t.explicit_dur,a+t.explicit_end):null===t.explicit_end&&null!==t.explicit_dur?t.end=t.begin+t.explicit_dur:null!==t.explicit_end&&null===t.explicit_dur?t.end=a+t.explicit_end:t.end=o,delete t.explicit_begin,delete t.explicit_dur,delete t.explicit_end,e._registerEvent(t)}function ForeignElement(e){this.node=e}function TT(){this.events=[],this.head=new Head,this.body=null}function Head(){this.styling=new Styling,this.layout=new Layout}function Styling(){this.styles={},this.initials={}}function Style(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function Initial(){this.styleAttrs=null}function Layout(){this.regions={}}function Image(e,t){ContentElement.call(this,"image"),this.src=e,this.type=t}function ContentElement(e){this.kind=e}function IdentifiedElement(e){this.id=e}function LayoutElement(e){this.regionID=e}function StyledElement(e){this.styleAttrs=e}function AnimatedElement(e){this.sets=e}function ContainerElement(e){this.contents=e}function TimedElement(e,t,r){this.explicit_begin=e,this.explicit_end=t,this.explicit_dur=r}function Body(){ContentElement.call(this,"body")}function Div(){ContentElement.call(this,"div")}function P(){ContentElement.call(this,"p")}function Span(){ContentElement.call(this,"span")}function AnonymousSpan(){ContentElement.call(this,"span")}function Br(){ContentElement.call(this,"br")}function Region(){}function Set(){}function elementGetXMLID(e){return e&&"xml:id"in e.attributes&&e.attributes["xml:id"].value||null}function elementGetStyleRefs(e){return e&&"style"in e.attributes?e.attributes.style.value.split(" "):[]}function elementGetStyles(e,t){var r={};if(null!==e)for(var i in e.attributes){var a=e.attributes[i].uri+" "+e.attributes[i].local,o=n.byQName[a];if(void 0!==o){var s=o.parse(e.attributes[i].value);null!==s?(r[a]=s,o===n.byName.zIndex&&reportWarning(t,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):reportError(t,"Cannot parse styling attribute "+a+" --\x3e "+e.attributes[i].value)}}return r}function findAttribute(e,t,r){for(var n in e.attributes)if(e.attributes[n].uri===t&&e.attributes[n].local===r)return e.attributes[n].value;return null}function parseTimeExpression(e,t,r){var n,i=null;return null!==(n=/^(\d+(?:\.\d+)?)f$/.exec(r))?null!==t&&(i=parseFloat(n[1])/t):null!==(n=/^(\d+(?:\.\d+)?)t$/.exec(r))?null!==e&&(i=parseFloat(n[1])/e):null!==(n=/^(\d+(?:\.\d+)?)ms$/.exec(r))?i=parseFloat(n[1])/1e3:null!==(n=/^(\d+(?:\.\d+)?)s$/.exec(r))?i=parseFloat(n[1]):null!==(n=/^(\d+(?:\.\d+)?)h$/.exec(r))?i=3600*parseFloat(n[1]):null!==(n=/^(\d+(?:\.\d+)?)m$/.exec(r))?i=60*parseFloat(n[1]):null!==(n=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(r))?i=3600*parseInt(n[1])+60*parseInt(n[2])+parseFloat(n[3]):null!==(n=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(r))&&null!==t&&(i=3600*parseInt(n[1])+60*parseInt(n[2])+parseInt(n[3])+(null===n[4]?0:parseInt(n[4])/t)),i}function mergeChainedStyles(e,t,r){for(;t.styleRefs.length>0;){var n=t.styleRefs.pop();n in e.styles?(mergeChainedStyles(e,e.styles[n],r),mergeStylesIfNotPresent(e.styles[n].styleAttrs,t.styleAttrs)):reportError(r,"Non-existant style id referenced")}}function mergeReferencedStyles(e,t,r,n){for(var i=t.length-1;i>=0;i--){var a=t[i];a in e.styles?mergeStylesIfNotPresent(e.styles[a].styleAttrs,r):reportError(n,"Non-existant style id referenced")}}function mergeStylesIfNotPresent(e,t){for(var r in e)r in t||(t[r]=e[r])}function reportWarning(e,t){if(e&&e.warn&&e.warn(t))throw t}function reportError(e,t){if(e&&e.error&&e.error(t))throw t}function reportFatal(e,t){throw e&&e.fatal&&e.fatal(t),t}function indexOf(e,t){for(var r,n=0,i=e.length-1;n<=i;){var a=e[r=Math.floor((n+i)/2)];if(a<t)n=r+1;else{if(!(a>t))return{found:!0,index:r};i=r-1}}return{found:!1,index:n}}e.fromXML=function(e,i,a){var o=t.parser(!0,{xmlns:!0}),s=[],l=[],u=[],c=0,f=null;o.onclosetag=function(e){if(s[0]instanceof Styling)for(var t in s[0].styles)mergeChainedStyles(s[0],s[0].styles[t],i);else if(s[0]instanceof P||s[0]instanceof Span){if(s[0].contents.length>1){var n,o=[s[0].contents[0]];for(n=1;n<s[0].contents.length;n++)s[0].contents[n]instanceof AnonymousSpan&&o[o.length-1]instanceof AnonymousSpan?o[o.length-1].text+=s[0].contents[n].text:o.push(s[0].contents[n]);s[0].contents=o}s[0]instanceof Span&&1===s[0].contents.length&&s[0].contents[0]instanceof AnonymousSpan&&(s[0].text=s[0].contents[0].text,delete s[0].contents)}else s[0]instanceof ForeignElement&&(s[0].node.uri===r.ns_tt&&"metadata"===s[0].node.local?c--:c>0&&a&&"onCloseTag"in a&&a.onCloseTag());u.shift(),l.shift(),s.shift()},o.ontext=function(e){if(void 0===s[0]);else if(s[0]instanceof Span||s[0]instanceof P){if(s[0]instanceof Span){var t=s[0].styleAttrs[n.byName.ruby.qname];if("container"===t||"textContainer"===t||"baseContainer"===t)return}var r=new AnonymousSpan;r.initFromText(f,s[0],e,u[0],i),s[0].contents.push(r)}else s[0]instanceof ForeignElement&&c>0&&a&&"onText"in a&&a.onText(e)},o.onopentag=function(e){var t=e.attributes["xml:space"];t?u.unshift(t.value):0===u.length?u.unshift("default"):u.unshift(u[0]);var o=e.attributes["xml:lang"];if(o?l.unshift(o.value):0===l.length?l.unshift(""):l.unshift(l[0]),e.uri===r.ns_tt)if("tt"===e.local)null!==f&&reportFatal(i,"Two <tt> elements at ("+this.line+","+this.column+")"),(f=new TT).initFromNode(e,i),s.unshift(f);else if("head"===e.local)s[0]instanceof TT||reportFatal(i,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),s.unshift(f.head);else if("styling"===e.local)s[0]instanceof Head||reportFatal(i,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),s.unshift(f.head.styling);else if("style"===e.local){var d;s[0]instanceof Styling?((d=new Style).initFromNode(e,i),d.id?f.head.styling.styles[d.id]=d:reportError(i,"<style> element missing @id attribute"),s.unshift(d)):s[0]instanceof Region?((d=new Style).initFromNode(e,i),mergeStylesIfNotPresent(d.styleAttrs,s[0].styleAttrs),s.unshift(d)):reportFatal(i,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if("initial"===e.local){var p;if(s[0]instanceof Styling){for(var h in(p=new Initial).initFromNode(e,i),p.styleAttrs)f.head.styling.initials[h]=p.styleAttrs[h];s.unshift(p)}else reportFatal(i,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if("layout"===e.local)s[0]instanceof Head||reportFatal(i,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),s.unshift(f.head.layout);else if("region"===e.local){s[0]instanceof Layout||reportFatal(i,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var g=new Region;g.initFromNode(f,e,i),!g.id||g.id in f.head.layout.regions?reportError(i,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):f.head.layout.regions[g.id]=g,s.unshift(g)}else if("body"===e.local){s[0]instanceof TT||reportFatal(i,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==f.body&&reportFatal(i,"Second <body> element at "+this.line+","+this.column+")");var m=new Body;m.initFromNode(f,e,i),f.body=m,s.unshift(m)}else if("div"===e.local){s[0]instanceof Div||s[0]instanceof Body||reportFatal(i,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var y=new Div;y.initFromNode(f,s[0],e,i);var v=y.styleAttrs[n.byName.backgroundImage.qname];v&&(y.contents.push(new Image(v)),delete y.styleAttrs[n.byName.backgroundImage.qname]),s[0].contents.push(y),s.unshift(y)}else if("image"===e.local){s[0]instanceof Div||reportFatal(i,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var _=new Image;_.initFromNode(f,s[0],e,i),s[0].contents.push(_),s.unshift(_)}else if("p"===e.local){s[0]instanceof Div||reportFatal(i,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var b=new P;b.initFromNode(f,s[0],e,i),s[0].contents.push(b),s.unshift(b)}else if("span"===e.local){s[0]instanceof Span||s[0]instanceof P||reportFatal(i,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var E=new Span;E.initFromNode(f,s[0],e,u[0],i),s[0].contents.push(E),s.unshift(E)}else if("br"===e.local){s[0]instanceof Span||s[0]instanceof P||reportFatal(i,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var T=new Br;T.initFromNode(f,s[0],e,i),s[0].contents.push(T),s.unshift(T)}else if("set"===e.local){s[0]instanceof Span||s[0]instanceof P||s[0]instanceof Div||s[0]instanceof Body||s[0]instanceof Region||s[0]instanceof Br||reportFatal(i,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var S=new Set;S.initFromNode(f,s[0],e,i),s[0].sets.push(S),s.unshift(S)}else s.unshift(new ForeignElement(e));else s.unshift(new ForeignElement(e));if(s[0]instanceof ForeignElement)if(e.uri===r.ns_tt&&"metadata"===e.local)c++;else if(c>0&&a&&"onOpenTag"in a){var w=[];for(var R in e.attributes)w[e.attributes[R].uri+" "+e.attributes[R].local]={uri:e.attributes[R].uri,local:e.attributes[R].local,value:e.attributes[R].value};a.onOpenTag(e.uri,e.local,w)}},o.write(e).close(),delete f.head.styling.styles;var d=!1;for(var p in f.head.layout.regions){d=!0;break}if(!d){var h=Region.prototype.createDefaultRegion();f.head.layout.regions[h.id]=h}for(var g in f.head.layout.regions)resolveTiming(f,f.head.layout.regions[g],null,null);return f.body&&resolveTiming(f,f.body,null,null),f.body&&function cleanRubyContainers(e){if(!("contents"in e))return;var t="styleAttrs"in e?e.styleAttrs[n.byName.ruby.qname]:null;var r="span"===e.kind&&("container"===t||"textContainer"===t||"textContainer"===t);for(var i=e.contents.length-1;i>=0;i--)!r||"styleAttrs"in e.contents[i]&&n.byName.ruby.qname in e.contents[i].styleAttrs?cleanRubyContainers(e.contents[i]):delete e.contents[i]}(f.body),f},TT.prototype.initFromNode=function(e,t){var n=function extractCellResolution(e,t){var n=findAttribute(e,r.ns_ttp,"cellResolution"),i=15,a=32;if(null!==n){var o=/(\d+) (\d+)/.exec(n);null!==o?(a=parseInt(o[1]),i=parseInt(o[2])):reportWarning(t,"Malformed cellResolution value (using initial value instead)")}return{w:a,h:i}}(e,t);this.cellLength={h:new i.ComputedLength(0,1/n.h),w:new i.ComputedLength(1/n.w,0)};var a=function extractFrameAndTickRate(e,t){var n,i=findAttribute(e,r.ns_ttp,"frameRate"),a=30;if(null!==i){null!==(n=/(\d+)/.exec(i))?a=parseInt(n[1]):reportWarning(t,"Malformed frame rate attribute (using initial value instead)")}var o=findAttribute(e,r.ns_ttp,"frameRateMultiplier"),s=1;if(null!==o){null!==(n=/(\d+) (\d+)/.exec(o))?s=parseInt(n[1])/parseInt(n[2]):reportWarning(t,"Malformed frame rate multiplier attribute (using initial value instead)")}var l=s*a,u=1,c=findAttribute(e,r.ns_ttp,"tickRate");if(null===c)null!==i&&(u=l);else{null!==(n=/(\d+)/.exec(c))?u=parseInt(n[1]):reportWarning(t,"Malformed tick rate attribute (using initial value instead)")}return{effectiveFrameRate:l,tickRate:u}}(e,t);this.effectiveFrameRate=a.effectiveFrameRate,this.tickRate=a.tickRate,this.aspectRatio=function extractAspectRatio(e,t){var n=findAttribute(e,r.ns_ittp,"aspectRatio");null===n&&(n=findAttribute(e,r.ns_ttp,"displayAspectRatio"));var i=null;if(null!==n){var a=/(\d+)\s+(\d+)/.exec(n);if(null!==a){var o=parseInt(a[1]),s=parseInt(a[2]);0!==o&&0!==s?i=o/s:reportError(t,"Illegal aspectRatio values (ignoring)")}else reportError(t,"Malformed aspectRatio attribute (ignoring)")}return i}(e,t);var o=findAttribute(e,r.ns_ttp,"timeBase");null!==o&&"media"!==o&&reportFatal(t,"Unsupported time base");var s=function extractExtent(e,t){var n=findAttribute(e,r.ns_tts,"extent");if(null===n)return null;var a=n.split(" ");if(2!==a.length)return reportWarning(t,"Malformed extent (ignoring)"),null;var o=i.parseLength(a[0]),s=i.parseLength(a[1]);if(!s||!o)return reportWarning(t,"Malformed extent values (ignoring)"),null;return{h:s,w:o}}(e,t);null===s?this.pxLength={h:null,w:null}:("px"===s.h.unit&&"px"===s.w.unit||reportFatal(t,"Extent on TT must be in px or absent"),this.pxLength={h:new i.ComputedLength(0,1/s.h.value),w:new i.ComputedLength(1/s.w.value,0)}),this.dimensions={h:new i.ComputedLength(0,1),w:new i.ComputedLength(1,0)}},TT.prototype._registerEvent=function(e){if(!(e.end<=e.begin)){var t=indexOf(this.events,e.begin);if(t.found||this.events.splice(t.index,0,e.begin),e.end!==Number.POSITIVE_INFINITY){var r=indexOf(this.events,e.end);r.found||this.events.splice(r.index,0,e.end)}}},TT.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},TT.prototype.getMediaTimeEvents=function(){return this.events},Style.prototype.initFromNode=function(e,t){this.id=elementGetXMLID(e),this.styleAttrs=elementGetStyles(e,t),this.styleRefs=elementGetStyleRefs(e)},Initial.prototype.initFromNode=function(e,t){for(var n in this.styleAttrs={},e.attributes)if(e.attributes[n].uri===r.ns_itts||e.attributes[n].uri===r.ns_ebutts||e.attributes[n].uri===r.ns_tts){var i=e.attributes[n].uri+" "+e.attributes[n].local;this.styleAttrs[i]=e.attributes[n].value}},Image.prototype.initFromNode=function(e,t,r,n){this.src="src"in r.attributes?r.attributes.src.value:null,this.src||reportError(n,"Invalid image@src attribute"),this.type="type"in r.attributes?r.attributes.type.value:null,this.type||reportError(n,"Invalid image@type attribute"),StyledElement.prototype.initFromNode.call(this,e,t,r,n),TimedElement.prototype.initFromNode.call(this,e,t,r,n),AnimatedElement.prototype.initFromNode.call(this,e,t,r,n),LayoutElement.prototype.initFromNode.call(this,e,t,r,n)},IdentifiedElement.prototype.initFromNode=function(e,t,r,n){this.id=elementGetXMLID(r)},LayoutElement.prototype.initFromNode=function(e,t,r,n){this.regionID=function elementGetRegionID(e){return e&&"region"in e.attributes?e.attributes.region.value:""}(r)},StyledElement.prototype.initFromNode=function(e,t,r,n){this.styleAttrs=elementGetStyles(r,n),null!==e.head&&null!==e.head.styling&&mergeReferencedStyles(e.head.styling,elementGetStyleRefs(r),this.styleAttrs,n)},AnimatedElement.prototype.initFromNode=function(e,t,r,n){this.sets=[]},ContainerElement.prototype.initFromNode=function(e,t,r,n){this.contents=[]},TimedElement.prototype.initFromNode=function(e,t,r,n){var i=function processTiming(e,t,r,n){var i=null;r&&"begin"in r.attributes&&null===(i=parseTimeExpression(e.tickRate,e.effectiveFrameRate,r.attributes.begin.value))&&reportWarning(n,"Malformed begin value "+r.attributes.begin.value+" (using 0)");var a=null;r&&"dur"in r.attributes&&null===(a=parseTimeExpression(e.tickRate,e.effectiveFrameRate,r.attributes.dur.value))&&reportWarning(n,"Malformed dur value "+r.attributes.dur.value+" (ignoring)");var o=null;r&&"end"in r.attributes&&null===(o=parseTimeExpression(e.tickRate,e.effectiveFrameRate,r.attributes.end.value))&&reportWarning(n,"Malformed end value (ignoring)");return{explicit_begin:i,explicit_end:o,explicit_dur:a}}(e,0,r,n);this.explicit_begin=i.explicit_begin,this.explicit_end=i.explicit_end,this.explicit_dur=i.explicit_dur,this.timeContainer=function elementGetTimeContainer(e,t){var r=e&&"timeContainer"in e.attributes?e.attributes.timeContainer.value:null;return r&&"par"!==r?"seq"===r?"seq":(reportError(t,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(r,n)},Body.prototype.initFromNode=function(e,t,r){StyledElement.prototype.initFromNode.call(this,e,null,t,r),TimedElement.prototype.initFromNode.call(this,e,null,t,r),AnimatedElement.prototype.initFromNode.call(this,e,null,t,r),LayoutElement.prototype.initFromNode.call(this,e,null,t,r),ContainerElement.prototype.initFromNode.call(this,e,null,t,r)},Div.prototype.initFromNode=function(e,t,r,n){StyledElement.prototype.initFromNode.call(this,e,t,r,n),TimedElement.prototype.initFromNode.call(this,e,t,r,n),AnimatedElement.prototype.initFromNode.call(this,e,t,r,n),LayoutElement.prototype.initFromNode.call(this,e,t,r,n),ContainerElement.prototype.initFromNode.call(this,e,t,r,n)},P.prototype.initFromNode=function(e,t,r,n){StyledElement.prototype.initFromNode.call(this,e,t,r,n),TimedElement.prototype.initFromNode.call(this,e,t,r,n),AnimatedElement.prototype.initFromNode.call(this,e,t,r,n),LayoutElement.prototype.initFromNode.call(this,e,t,r,n),ContainerElement.prototype.initFromNode.call(this,e,t,r,n)},Span.prototype.initFromNode=function(e,t,r,n,i){StyledElement.prototype.initFromNode.call(this,e,t,r,i),TimedElement.prototype.initFromNode.call(this,e,t,r,i),AnimatedElement.prototype.initFromNode.call(this,e,t,r,i),LayoutElement.prototype.initFromNode.call(this,e,t,r,i),ContainerElement.prototype.initFromNode.call(this,e,t,r,i),this.space=n},AnonymousSpan.prototype.initFromText=function(e,t,r,n,i){TimedElement.prototype.initFromNode.call(this,e,t,null,i),this.text=r,this.space=n},Br.prototype.initFromNode=function(e,t,r,n){LayoutElement.prototype.initFromNode.call(this,e,t,r,n),TimedElement.prototype.initFromNode.call(this,e,t,r,n)},Region.prototype.createDefaultRegion=function(){var e=new Region;return IdentifiedElement.call(e,""),StyledElement.call(e,{}),AnimatedElement.call(e,[]),TimedElement.call(e,0,Number.POSITIVE_INFINITY,null),e},Region.prototype.initFromNode=function(e,t,r){IdentifiedElement.prototype.initFromNode.call(this,e,null,t,r),StyledElement.prototype.initFromNode.call(this,e,null,t,r),TimedElement.prototype.initFromNode.call(this,e,null,t,r),AnimatedElement.prototype.initFromNode.call(this,e,null,t,r),null!==e.head&&null!==e.head.styling&&mergeReferencedStyles(e.head.styling,elementGetStyleRefs(t),this.styleAttrs,r)},Set.prototype.initFromNode=function(e,t,r,n){TimedElement.prototype.initFromNode.call(this,e,t,r,n);var i=elementGetStyles(r,n);for(var a in this.qname=null,this.value=null,i){if(this.qname){reportError(n,"More than one style specified on set");break}this.qname=a,this.value=i[a]}}}(t,"undefined"==typeof sax?r(637):sax,"undefined"==typeof imscNames?r(156):imscNames,"undefined"==typeof imscStyles?r(217):imscStyles,"undefined"==typeof imscUtils?r(157):imscUtils)},function(e,t,r){(function(e){!function(t){t.parser=function(e,t){return new SAXParser(e,t)},t.SAXParser=SAXParser,t.SAXStream=SAXStream,t.createStream=function createStream(e,t){return new SAXStream(e,t)},t.MAX_BUFFER_LENGTH=65536;var n,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function SAXParser(e,r){if(!(this instanceof SAXParser))return new SAXParser(e,r);!function clearBuffers(e){for(var t=0,r=i.length;t<r;t++)e[i[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=r||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=S.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(g)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),emit(this,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function F(){}return F.prototype=e,new F}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),SAXParser.prototype={end:function(){end(this)},write:function write(e){if(this.error)throw this.error;if(this.closed)return error(this,"Cannot write after close. Assign an onready handler.");if(null===e)return end(this);"object"==typeof e&&(e=e.toString());var r=0,n="";for(;n=charAt(e,r++),this.c=n,n;)switch(this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++),this.state){case S.BEGIN:if(this.state=S.BEGIN_WHITESPACE,"\ufeff"===n)continue;beginWhiteSpace(this,n);continue;case S.BEGIN_WHITESPACE:beginWhiteSpace(this,n);continue;case S.TEXT:if(this.sawRoot&&!this.closedRoot){for(var a=r-1;n&&"<"!==n&&"&"!==n;)(n=charAt(e,r++))&&this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(a,r-1)}"<"!==n||this.sawRoot&&this.closedRoot&&!this.strict?(!not(o,n)||this.sawRoot&&!this.closedRoot||strictFail(this,"Text data outside of root node."),"&"===n?this.state=S.TEXT_ENTITY:this.textNode+=n):(this.state=S.OPEN_WAKA,this.startTagPosition=this.position);continue;case S.SCRIPT:"<"===n?this.state=S.SCRIPT_ENDING:this.script+=n;continue;case S.SCRIPT_ENDING:"/"===n?this.state=S.CLOSE_TAG:(this.script+="<"+n,this.state=S.SCRIPT);continue;case S.OPEN_WAKA:if("!"===n)this.state=S.SGML_DECL,this.sgmlDecl="";else if(is(o,n));else if(is(m,n))this.state=S.OPEN_TAG,this.tagName=n;else if("/"===n)this.state=S.CLOSE_TAG,this.tagName="";else if("?"===n)this.state=S.PROC_INST,this.procInstName=this.procInstBody="";else{if(strictFail(this,"Unencoded <"),this.startTagPosition+1<this.position){var s=this.position-this.startTagPosition;n=new Array(s).join(" ")+n}this.textNode+="<"+n,this.state=S.TEXT}continue;case S.SGML_DECL:(this.sgmlDecl+n).toUpperCase()===f?(emitNode(this,"onopencdata"),this.state=S.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+n==="--"?(this.state=S.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+n).toUpperCase()===d?(this.state=S.DOCTYPE,(this.doctype||this.sawRoot)&&strictFail(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===n?(emitNode(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=S.TEXT):is(u,n)?(this.state=S.SGML_DECL_QUOTED,this.sgmlDecl+=n):this.sgmlDecl+=n;continue;case S.SGML_DECL_QUOTED:n===this.q&&(this.state=S.SGML_DECL,this.q=""),this.sgmlDecl+=n;continue;case S.DOCTYPE:">"===n?(this.state=S.TEXT,emitNode(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,"["===n?this.state=S.DOCTYPE_DTD:is(u,n)&&(this.state=S.DOCTYPE_QUOTED,this.q=n));continue;case S.DOCTYPE_QUOTED:this.doctype+=n,n===this.q&&(this.q="",this.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:this.doctype+=n,"]"===n?this.state=S.DOCTYPE:is(u,n)&&(this.state=S.DOCTYPE_DTD_QUOTED,this.q=n);continue;case S.DOCTYPE_DTD_QUOTED:this.doctype+=n,n===this.q&&(this.state=S.DOCTYPE_DTD,this.q="");continue;case S.COMMENT:"-"===n?this.state=S.COMMENT_ENDING:this.comment+=n;continue;case S.COMMENT_ENDING:"-"===n?(this.state=S.COMMENT_ENDED,this.comment=textopts(this.opt,this.comment),this.comment&&emitNode(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==n?(strictFail(this,"Malformed comment"),this.comment+="--"+n,this.state=S.COMMENT):this.state=S.TEXT;continue;case S.CDATA:"]"===n?this.state=S.CDATA_ENDING:this.cdata+=n;continue;case S.CDATA_ENDING:"]"===n?this.state=S.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===n?(this.cdata&&emitNode(this,"oncdata",this.cdata),emitNode(this,"onclosecdata"),this.cdata="",this.state=S.TEXT):"]"===n?this.cdata+="]":(this.cdata+="]]"+n,this.state=S.CDATA);continue;case S.PROC_INST:"?"===n?this.state=S.PROC_INST_ENDING:is(o,n)?this.state=S.PROC_INST_BODY:this.procInstName+=n;continue;case S.PROC_INST_BODY:if(!this.procInstBody&&is(o,n))continue;"?"===n?this.state=S.PROC_INST_ENDING:this.procInstBody+=n;continue;case S.PROC_INST_ENDING:">"===n?(emitNode(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=S.TEXT):(this.procInstBody+="?"+n,this.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:is(y,n)?this.tagName+=n:(newTag(this),">"===n?openTag(this):"/"===n?this.state=S.OPEN_TAG_SLASH:(not(o,n)&&strictFail(this,"Invalid character in tag name"),this.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===n?(openTag(this,!0),closeTag(this)):(strictFail(this,"Forward-slash in opening tag not followed by >"),this.state=S.ATTRIB);continue;case S.ATTRIB:if(is(o,n))continue;">"===n?openTag(this):"/"===n?this.state=S.OPEN_TAG_SLASH:is(m,n)?(this.attribName=n,this.attribValue="",this.state=S.ATTRIB_NAME):strictFail(this,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===n?this.state=S.ATTRIB_VALUE:">"===n?(strictFail(this,"Attribute without value"),this.attribValue=this.attribName,attrib(this),openTag(this)):is(o,n)?this.state=S.ATTRIB_NAME_SAW_WHITE:is(y,n)?this.attribName+=n:strictFail(this,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===n)this.state=S.ATTRIB_VALUE;else{if(is(o,n))continue;strictFail(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",emitNode(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===n?openTag(this):is(m,n)?(this.attribName=n,this.state=S.ATTRIB_NAME):(strictFail(this,"Invalid attribute name"),this.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(is(o,n))continue;is(u,n)?(this.q=n,this.state=S.ATTRIB_VALUE_QUOTED):(strictFail(this,"Unquoted attribute value"),this.state=S.ATTRIB_VALUE_UNQUOTED,this.attribValue=n);continue;case S.ATTRIB_VALUE_QUOTED:if(n!==this.q){"&"===n?this.state=S.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}attrib(this),this.q="",this.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:is(o,n)?this.state=S.ATTRIB:">"===n?openTag(this):"/"===n?this.state=S.OPEN_TAG_SLASH:is(m,n)?(strictFail(this,"No whitespace between attributes"),this.attribName=n,this.attribValue="",this.state=S.ATTRIB_NAME):strictFail(this,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(not(c,n)){"&"===n?this.state=S.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}attrib(this),">"===n?openTag(this):this.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(this.tagName)">"===n?closeTag(this):is(y,n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=S.SCRIPT):(not(o,n)&&strictFail(this,"Invalid tagname in closing tag"),this.state=S.CLOSE_TAG_SAW_WHITE);else{if(is(o,n))continue;not(m,n)?this.script?(this.script+="</"+n,this.state=S.SCRIPT):strictFail(this,"Invalid tagname in closing tag."):this.tagName=n}continue;case S.CLOSE_TAG_SAW_WHITE:if(is(o,n))continue;">"===n?closeTag(this):strictFail(this,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:var l,p;switch(this.state){case S.TEXT_ENTITY:l=S.TEXT,p="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:l=S.ATTRIB_VALUE_QUOTED,p="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:l=S.ATTRIB_VALUE_UNQUOTED,p="attribValue"}";"===n?(this[p]+=parseEntity(this),this.entity="",this.state=l):is(this.entity.length?_:v,n)?this.entity+=n:(strictFail(this,"Invalid character in entity name"),this[p]+="&"+this.entity+n,this.entity="",this.state=l);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function checkBufferLength(e){for(var r=Math.max(t.MAX_BUFFER_LENGTH,10),n=0,a=0,o=i.length;a<o;a++){var s=e[i[a]].length;if(s>r)switch(i[a]){case"textNode":closeText(e);break;case"cdata":emitNode(e,"oncdata",e.cdata),e.cdata="";break;case"script":emitNode(e,"onscript",e.script),e.script="";break;default:error(e,"Max buffer length exceeded: "+i[a])}n=Math.max(n,s)}var l=t.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=l+e.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function flushBuffers(e){closeText(e),""!==e.cdata&&(emitNode(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(emitNode(e,"onscript",e.script),e.script="")}(this)}};try{n=r(379).Stream}catch(e){n=function(){}}var a=t.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function SAXStream(e,t){if(!(this instanceof SAXStream))return new SAXStream(e,t);n.apply(this),this._parser=new SAXParser(e,t),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,a.forEach(function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})})}SAXStream.prototype=Object.create(n.prototype,{constructor:{value:SAXStream}}),SAXStream.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var n=r(182).StringDecoder;this._decoder=new n("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},SAXStream.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},SAXStream.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===a.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),n.prototype.on.call(r,e,t)};var o="\r\n\t ",s="0124356789",l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",u="'\"",c=o+">",f="[CDATA[",d="DOCTYPE",p="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",g={xml:p,xmlns:h};o=charClass(o),s=charClass(s),l=charClass(l);var m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function charClass(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}function is(e,t){return function isRegExp(e){return"[object RegExp]"===Object.prototype.toString.call(e)}(e)?!!t.match(e):e[t]}function not(e,t){return!is(e,t)}u=charClass(u),c=charClass(c);var b,E,T,S=0;for(var w in t.STATE={BEGIN:S++,BEGIN_WHITESPACE:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var r=t.ENTITIES[e],n="number"==typeof r?String.fromCharCode(r):r;t.ENTITIES[e]=n}),t.STATE)t.STATE[t.STATE[w]]=w;function emit(e,t,r){e[t]&&e[t](r)}function emitNode(e,t,r){e.textNode&&closeText(e),emit(e,t,r)}function closeText(e){e.textNode=textopts(e.opt,e.textNode),e.textNode&&emit(e,"ontext",e.textNode),e.textNode=""}function textopts(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function error(e,t){return closeText(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,emit(e,"onerror",t),e}function end(e){return e.sawRoot&&!e.closedRoot&&strictFail(e,"Unclosed root tag"),e.state!==S.BEGIN&&e.state!==S.BEGIN_WHITESPACE&&e.state!==S.TEXT&&error(e,"Unexpected end"),closeText(e),e.c="",e.closed=!0,emit(e,"onend"),SAXParser.call(e,e.strict,e.opt),e}function strictFail(e,t){if("object"!=typeof e||!(e instanceof SAXParser))throw new Error("bad call to strictFail");e.strict&&error(e,t)}function newTag(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,emitNode(e,"onopentagstart",r)}function qname(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],i=r[1];return t&&"xmlns"===e&&(n="xmlns",i=""),{prefix:n,local:i}}function attrib(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=qname(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==p)strictFail(e,"xml: prefix must be bound to "+p+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==h)strictFail(e,"xmlns: prefix must be bound to "+h+"\nActual: "+e.attribValue);else{var i=e.tag,a=e.tags[e.tags.length-1]||e;i.ns===a.ns&&(i.ns=Object.create(a.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,emitNode(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function openTag(e,t){if(e.opt.xmlns){var r=e.tag,n=qname(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(strictFail(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach(function(t){emitNode(e,"onopennamespace",{prefix:t,uri:r.ns[t]})});for(var a=0,o=e.attribList.length;a<o;a++){var s=e.attribList[a],l=s[0],u=s[1],c=qname(l,!0),f=c.prefix,d=c.local,p=""===f?"":r.ns[f]||"",h={name:l,value:u,prefix:f,local:d,uri:p};f&&"xmlns"!==f&&!p&&(strictFail(e,"Unbound namespace prefix: "+JSON.stringify(f)),h.uri=f),e.tag.attributes[l]=h,emitNode(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),emitNode(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=S.TEXT:e.state=S.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function closeTag(e){if(!e.tagName)return strictFail(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=S.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=S.SCRIPT);emitNode(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--;){if(e.tags[t].name===n)break;strictFail(e,"Unexpected close tag")}if(t<0)return strictFail(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=S.TEXT);e.tagName=r;for(var i=e.tags.length;i-- >t;){var a=e.tag=e.tags.pop();e.tagName=e.tag.name,emitNode(e,"onclosetag",e.tagName);var o={};for(var s in a.ns)o[s]=a.ns[s];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&a.ns!==l.ns&&Object.keys(a.ns).forEach(function(t){var r=a.ns[t];emitNode(e,"onclosenamespace",{prefix:t,uri:r})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=S.TEXT}function parseEntity(e){var t,r=e.entity,n=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),i=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),i=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),i.toLowerCase()!==r?(strictFail(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function beginWhiteSpace(e,t){"<"===t?(e.state=S.OPEN_WAKA,e.startTagPosition=e.position):not(o,t)&&(strictFail(e,"Non-whitespace before first tag."),e.textNode=t,e.state=S.TEXT)}function charAt(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}S=t.STATE,String.fromCodePoint||(b=String.fromCharCode,E=Math.floor,T=function(){var e,t,r=16384,n=[],i=-1,a=arguments.length;if(!a)return"";for(var o="";++i<a;){var s=Number(arguments[i]);if(!isFinite(s)||s<0||s>1114111||E(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,n.push(e,t)),(i+1===a||n.length>r)&&(o+=b.apply(null,n),n.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:T,configurable:!0,writable:!0}):String.fromCodePoint=T)}(t)}).call(this,r(89).Buffer)},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},,function(e,t,r){"use strict";var n=r(219).Buffer,i=r(641);e.exports=function(){function BufferList(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function push(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},BufferList.prototype.unshift=function unshift(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},BufferList.prototype.shift=function shift(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},BufferList.prototype.clear=function clear(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function join(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},BufferList.prototype.concat=function concat(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,a=n.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=a,i=s,t.copy(r,i),s+=o.data.length,o=o.next;return a},BufferList}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},,function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function Timeout(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new Timeout(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new Timeout(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function onTimeout(){e._onTimeout&&e._onTimeout()},t))},r(643),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(59))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i=1,a={},o=!1,s=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?function installNextTickImplementation(){n=function(){var e=addFromSetImmediateArguments(arguments);return t.nextTick(partiallyApplied(runIfPresent,e)),e}}():!function canUsePostMessage(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?function installMessageChannelImplementation(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},n=function(){var t=addFromSetImmediateArguments(arguments);return e.port2.postMessage(t),t}}():s&&"onreadystatechange"in s.createElement("script")?function installReadyStateChangeImplementation(){var e=s.documentElement;n=function(){var t=addFromSetImmediateArguments(arguments),r=s.createElement("script");return r.onreadystatechange=function(){runIfPresent(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r),t}}():function installSetTimeoutImplementation(){n=function(){var e=addFromSetImmediateArguments(arguments);return setTimeout(partiallyApplied(runIfPresent,e),0),e}}():function installPostMessageImplementation(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&runIfPresent(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(){var r=addFromSetImmediateArguments(arguments);return e.postMessage(t+r,"*"),r}}(),l.setImmediate=n,l.clearImmediate=clearImmediate}function addFromSetImmediateArguments(e){return a[i]=partiallyApplied.apply(r,e),i++}function partiallyApplied(e){var t=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(r,t):new Function(""+e)()}}function runIfPresent(e){if(o)setTimeout(partiallyApplied(runIfPresent,e),0);else{var t=a[e];if(t){o=!0;try{t()}finally{clearImmediate(e),o=!1}}}}function clearImmediate(e){delete a[e]}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(59),r(90))},function(e,t,r){"use strict";e.exports=PassThrough;var n=r(300),i=r(132);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);n.call(this,e)}i.inherits=r(109),i.inherits(PassThrough,n),PassThrough.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){e.exports=r(220)},function(e,t,r){e.exports=r(103)},function(e,t,r){e.exports=r(218).Transform},function(e,t,r){e.exports=r(218).PassThrough},function(e,t,r){!function(e,t,r){function processElement(e,t,i){var a;if("region"===i.kind)(a=document.createElement("div")).style.position="absolute";else if("body"===i.kind)a=document.createElement("div");else if("div"===i.kind)a=document.createElement("div");else if("image"===i.kind){if(a=document.createElement("img"),null!==e.imgResolver&&null!==i.src){var o=e.imgResolver(i.src,a);o&&(a.src=o),a.height=e.regionH,a.width=e.regionW}}else if("p"===i.kind)a=document.createElement("p");else if("span"===i.kind){if("container"===i.styleAttrs[r.byName.ruby.qname])a=document.createElement("ruby"),e.ruby=!0;else if("base"===i.styleAttrs[r.byName.ruby.qname])a=document.createElement("rb");else if("text"===i.styleAttrs[r.byName.ruby.qname])a=document.createElement("rt");else if("baseContainer"===i.styleAttrs[r.byName.ruby.qname])a=document.createElement("rbc");else if("textContainer"===i.styleAttrs[r.byName.ruby.qname])a=document.createElement("rtc");else{if("delimiter"===i.styleAttrs[r.byName.ruby.qname])return;a=document.createElement("span")}var s=i.styleAttrs[r.byName.textEmphasis.qname];s&&"none"!==s.style&&(e.textEmphasis=!0)}else"br"===i.kind&&(a=document.createElement("br"));if(a){for(var l in t.appendChild(a),a.style.margin="0",n){var u=n[l],c=i.styleAttrs[u.qname];void 0!==c&&null!==u.map&&u.map(e,a,i,c)}var f=a;if("region"===i.kind){var d=i.styleAttrs[r.byName.writingMode.qname];"lrtb"===d||"lr"===d?(e.ipd="lr",e.bpd="tb"):"rltb"===d||"rl"===d?(e.ipd="rl",e.bpd="tb"):"tblr"===d?(e.ipd="tb",e.bpd="lr"):"tbrl"!==d&&"tb"!==d||(e.ipd="tb",e.bpd="rl")}var p=i.styleAttrs[r.byName.linePadding.qname];if(p&&!p.isZero()){var h=p.toUsedLength(e.w,e.h);if(h>0){var g=Math.ceil(h)+"px";"tb"===e.bpd?(f.style.paddingLeft=g,f.style.paddingRight=g):(f.style.paddingTop=g,f.style.paddingBottom=g),e.lp=p}}var m=i.styleAttrs[r.byName.multiRowAlign.qname];if(m&&"auto"!==m){var y=document.createElement("span");y.style.display="inline-block",y.style.textAlign=m,a.appendChild(y),f=y,e.mra=m}var v=i.styleAttrs[r.byName.rubyReserve.qname];if(v&&"none"!==v[0]&&(e.rubyReserve=v),i.styleAttrs[r.byName.fillLineGap.qname]&&(e.flg=!0),"span"===i.kind&&i.text)if(r.byName.textCombine.qname in i.styleAttrs&&"all"===i.styleAttrs[r.byName.textCombine.qname][0])a.textContent=i.text;else for(var _="",b=0;b<i.text.length;b++){_+=i.text.charAt(b);var E=i.text.charCodeAt(b);if(E<55296||E>56319||b===i.text.length){var T=document.createElement("span");T.textContent=_,a.appendChild(T),_=""}}for(var S in i.contents)processElement(e,f,i.contents[S]);var w=[];if((e.lp||e.mra||e.flg||e.ruby||e.textEmphasis||e.rubyReserve)&&"p"===i.kind&&(constructLineList(e,f,w,null),e.rubyReserve&&(!function applyRubyReserve(e,t){for(var r=0;r<e.length;r++){var n,i,a=document.createElement("ruby"),o=document.createElement("rb");o.textContent="",a.appendChild(o);var s=t.rubyReserve[1].toUsedLength(t.w,t.h)+"px";"both"===t.rubyReserve[0]?((n=document.createElement("rtc")).style.rubyPosition="under",n.textContent="",n.style.fontSize=s,(i=document.createElement("rtc")).style.rubyPosition="over",i.textContent="",i.style.fontSize=s,a.appendChild(n),a.appendChild(i)):((n=document.createElement("rtc")).textContent="",n.style.fontSize=s,"after"===t.rubyReserve[0]||"outside"===t.rubyReserve[0]&&r>0?n.style.rubyPosition="tb"===t.bpd||"rl"===t.bpd?"under":"over":n.style.rubyPosition="tb"===t.bpd||"rl"===t.bpd?"over":"under",a.appendChild(n));e[r].elements[0].node.parentElement.insertBefore(a,e[r].elements[0].node)}}(w,e),e.rubyReserve=null),(e.ruby||e.rubyReserve)&&(!function applyRubyPosition(e,t){for(var r=0;r<e.length;r++)for(var n=0;n<e[r].rbc.length;n++){var i;if(""===e[r].rbc[n].style.rubyPosition)i="tb"===t.bpd?0===r?"over":"under":"rl"===t.bpd?0===r?"over":"under":0===r?"under":"over",e[r].rbc[n].style.rubyPosition=i}}(w,e),e.ruby=null),e.textEmphasis&&(!function applyTextEmphasis(e,t){for(var r=0;r<e.length;r++)for(var n=0;n<e[r].te.length;n++){var i;if(""===e[r].te[n].style.textEmphasisPosition)i="tb"===t.bpd?0===r?"left over":"left under":"rl"===t.bpd?0===r?"right under":"left under":0===r?"left under":"right under",e[r].te[n].style.textEmphasisPosition=i}}(w,e),e.textEmphasis=null),e.mra&&(!function applyMultiRowAlign(e){for(var t=0;t<e.length-1;t++){var r=e[t].elements.length;if(0!==r&&!1===e[t].br){var n=document.createElement("br"),i=e[t].elements[r-1].node;i.parentElement.insertBefore(n,i.nextSibling)}}}(w),e.mra=null),e.lp&&(!function applyLinePadding(e,t,r){for(var n in e){var i=e[n].elements.length,a=e[n].elements[e[n].start_elem],o=e[n].elements[e[n].end_elem],s=Math.ceil(t)+"px",l="-"+Math.ceil(t)+"px";0!==i&&("lr"===r.ipd?(a.node.style.borderLeftColor=a.bgcolor||"#00000000",a.node.style.borderLeftStyle="solid",a.node.style.borderLeftWidth=s,a.node.style.marginLeft=l):"rl"===r.ipd?(a.node.style.borderRightColor=a.bgcolor||"#00000000",a.node.style.borderRightStyle="solid",a.node.style.borderRightWidth=s,a.node.style.marginRight=l):"tb"===r.ipd&&(a.node.style.borderTopColor=a.bgcolor||"#00000000",a.node.style.borderTopStyle="solid",a.node.style.borderTopWidth=s,a.node.style.marginTop=l),"lr"===r.ipd?(o.node.style.borderRightColor=o.bgcolor||"#00000000",o.node.style.borderRightStyle="solid",o.node.style.borderRightWidth=s,o.node.style.marginRight=l):"rl"===r.ipd?(o.node.style.borderLeftColor=o.bgcolor||"#00000000",o.node.style.borderLeftStyle="solid",o.node.style.borderLeftWidth=s,o.node.style.marginLeft=l):"tb"===r.ipd&&(o.node.style.borderBottomColor=o.bgcolor||"#00000000",o.node.style.borderBottomStyle="solid",o.node.style.borderBottomWidth=s,o.node.style.marginBottom=l))}}(w,e.lp.toUsedLength(e.w,e.h),e),e.lp=null),e.flg)){var R=rect2edges(f.getBoundingClientRect(),e);!function applyFillLineGap(e,t,r,n){for(var i=Math.sign(r-t),a=0;a<=e.length;a++){var o,s,l;if(o=0===a?t:a===e.length?r:(e[a].before+e[a-1].after)/2,a>0)for(var u=0;u<e[a-1].elements.length;u++)null!==e[a-1].elements[u].bgcolor&&(l=e[a-1].elements[u],i*(l.after-o)<0&&(s=Math.ceil(Math.abs(o-l.after))+"px",l.node.style.backgroundColor=l.bgcolor,"lr"===n.bpd?l.node.style.paddingRight=s:"rl"===n.bpd?l.node.style.paddingLeft=s:"tb"===n.bpd&&(l.node.style.paddingBottom=s)));if(a<e.length)for(var c=0;c<e[a].elements.length;c++)null!==(l=e[a].elements[c]).bgcolor&&i*(l.before-o)>0&&(s=Math.ceil(Math.abs(l.before-o))+"px",l.node.style.backgroundColor=l.bgcolor,"lr"===n.bpd?l.node.style.paddingLeft=s:"rl"===n.bpd?l.node.style.paddingRight=s:"tb"===n.bpd&&(l.node.style.paddingTop=s))}}(w,R.before,R.after,e),e.flg=null}if("region"===i.kind&&(constructLineList(e,f,w),"tb"===e.bpd&&e.enableRollUp&&i.contents.length>0&&"after"===i.styleAttrs[r.byName.displayAlign.qname])){var A=new RegionPBuffer(""===i.id?"_":i.id,w);if(e.currentISDState[A.id]=A,e.previousISDState&&A.id in e.previousISDState&&e.previousISDState[A.id].plist.length>0&&A.plist.length>1&&A.plist[A.plist.length-2].text===e.previousISDState[A.id].plist[e.previousISDState[A.id].plist.length-1].text){var C=a.firstElementChild,x=A.plist[A.plist.length-1].after-A.plist[A.plist.length-1].before;C.style.bottom="-"+x+"px",C.style.transition="transform 0.4s",C.style.position="relative",C.style.transform="translateY(-"+x+"px)"}}}else(function reportError(e,t){if(e&&e.error&&e.error(t))throw t})(e.errorHandler,"Error processing ISD element kind: "+i.kind)}function RegionPBuffer(e,t){this.id=e,this.plist=t}function rect2edges(e,t){var r={before:null,after:null,start:null,end:null};return"tb"===t.bpd?(r.before=e.top,r.after=e.bottom,"lr"===t.ipd?(r.start=e.left,r.end=e.right):(r.start=e.right,r.end=e.left)):"lr"===t.bpd?(r.before=e.left,r.after=e.right,r.start=e.top,r.end=e.bottom):"rl"===t.bpd&&(r.before=e.right,r.after=e.left,r.start=e.top,r.end=e.bottom),r}function constructLineList(e,t,r,n){if("rt"!==t.localName&&"rtc"!==t.localName){var i=t.style.backgroundColor||n;if(0===t.childElementCount)if("span"===t.localName||"rb"===t.localName){var a=t.getBoundingClientRect();if(0===a.height||0===a.width)return;var o=rect2edges(a,e);if(0!==r.length&&function isSameLine(e,t,r,n){return t<n&&e>r||n<=t&&r>=e}(o.before,o.after,r[r.length-1].before,r[r.length-1].after)){var s=Math.sign(o.after-o.before),l=Math.sign(o.end-o.start);s*(o.before-r[r.length-1].before)<0&&(r[r.length-1].before=o.before),s*(o.after-r[r.length-1].after)>0&&(r[r.length-1].after=o.after),l*(o.start-r[r.length-1].start)<0&&(r[r.length-1].start=o.start,r[r.length-1].start_elem=r[r.length-1].elements.length),l*(o.end-r[r.length-1].end)>0&&(r[r.length-1].end=o.end,r[r.length-1].end_elem=r[r.length-1].elements.length)}else r.push({before:o.before,after:o.after,start:o.start,end:o.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});r[r.length-1].text+=t.textContent,r[r.length-1].elements.push({node:t,bgcolor:i,before:o.before,after:o.after})}else"br"===t.localName&&0!==r.length&&(r[r.length-1].br=!0);else for(var u=t.firstChild;u;)u.nodeType===Node.ELEMENT_NODE&&(constructLineList(e,u,r,i),"ruby"===u.localName||"rtc"===u.localName?r.length>0&&r[r.length-1].rbc.push(u):"span"===u.localName&&""!==u.style.textEmphasisStyle&&r[r.length-1].te.push(u)),u=u.nextSibling}}function HTMLStylingMapDefintion(e,t){this.qname=e,this.map=t}e.render=function(e,t,r,n,i,a,o,s,l){var u=n||t.clientHeight,c=i||t.clientWidth;if(null!==e.aspectRatio){var f=u*e.aspectRatio;f>c?u=Math.round(c/e.aspectRatio):c=f}var d=document.createElement("div");d.style.position="relative",d.style.width=c+"px",d.style.height=u+"px",d.style.margin="auto",d.style.top=0,d.style.bottom=0,d.style.left=0,d.style.right=0,d.style.zIndex=0;var p={h:u,w:c,regionH:null,regionW:null,imgResolver:r,displayForcedOnlyMode:a||!1,isd:e,errorHandler:o,previousISDState:s,enableRollUp:l||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};for(var h in t.appendChild(d),e.contents)processElement(p,d,e.contents[h]);return p.currentISDState};var n=[new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling backgroundColor",function(e,t,r,n){0!==n[3]&&(t.style.backgroundColor="rgba("+n[0].toString()+","+n[1].toString()+","+n[2].toString()+","+(n[3]/255).toString()+")")}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling color",function(e,t,r,n){t.style.color="rgba("+n[0].toString()+","+n[1].toString()+","+n[2].toString()+","+(n[3]/255).toString()+")"}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling direction",function(e,t,r,n){t.style.direction=n}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling display",function(e,t,r,n){}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling displayAlign",function(e,t,r,n){t.style.display="flex",t.style.flexDirection="column","before"===n?t.style.justifyContent="flex-start":"center"===n?t.style.justifyContent="center":"after"===n&&(t.style.justifyContent="flex-end")}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling extent",function(e,t,r,n){e.regionH=n.h.toUsedLength(e.w,e.h),e.regionW=n.w.toUsedLength(e.w,e.h);var i=0,a=0,o=r.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];o&&(i=o[0].toUsedLength(e.w,e.h)+o[2].toUsedLength(e.w,e.h),a=o[1].toUsedLength(e.w,e.h)+o[3].toUsedLength(e.w,e.h)),t.style.height=e.regionH-i+"px",t.style.width=e.regionW-a+"px"}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling fontFamily",function(e,t,r,n){var i=[];for(var a in n)"monospaceSerif"===n[a]?(i.push("Courier New"),i.push('"Liberation Mono"'),i.push("Courier"),i.push("monospace")):"proportionalSansSerif"===n[a]?(i.push("Arial"),i.push("Helvetica"),i.push('"Liberation Sans"'),i.push("sans-serif")):"monospace"===n[a]?i.push("monospace"):"sansSerif"===n[a]?i.push("sans-serif"):"serif"===n[a]?i.push("serif"):"monospaceSansSerif"===n[a]?(i.push("Consolas"),i.push("monospace")):"proportionalSerif"===n[a]?i.push("serif"):i.push(n[a]);t.style.fontFamily=i.join(",")}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling shear",function(e,t,r,n){if(0!==n){var i=-.9*n;"tb"===e.bpd?t.style.transform="skewX("+i+"deg)":t.style.transform="skewY("+i+"deg)"}}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling fontSize",function(e,t,r,n){t.style.fontSize=n.toUsedLength(e.w,e.h)+"px"}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling fontStyle",function(e,t,r,n){t.style.fontStyle=n}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling fontWeight",function(e,t,r,n){t.style.fontWeight=n}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling lineHeight",function(e,t,r,n){t.style.lineHeight="normal"===n?"normal":n.toUsedLength(e.w,e.h)+"px"}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling opacity",function(e,t,r,n){t.style.opacity=n}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling origin",function(e,t,r,n){t.style.top=n.h.toUsedLength(e.w,e.h)+"px",t.style.left=n.w.toUsedLength(e.w,e.h)+"px"}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling overflow",function(e,t,r,n){t.style.overflow=n}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling padding",function(e,t,r,n){var i=[];i[0]=n[0].toUsedLength(e.w,e.h)+"px",i[1]=n[3].toUsedLength(e.w,e.h)+"px",i[2]=n[2].toUsedLength(e.w,e.h)+"px",i[3]=n[1].toUsedLength(e.w,e.h)+"px",t.style.padding=i.join(" ")}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling position",function(e,t,r,n){t.style.top=n.h.toUsedLength(e.w,e.h)+"px",t.style.left=n.w.toUsedLength(e.w,e.h)+"px"}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling rubyAlign",function(e,t,r,n){t.style.rubyAlign=n}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling rubyPosition",function(e,t,r,n){var i;"before"!==n&&"after"!==n||(i="tb"===e.bpd?"before"===n?"over":"under":"rl"===e.bpd?"before"===n?"over":"under":"before"===n?"under":"over",t.parentElement.style.rubyPosition=i)}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling showBackground",null),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling textAlign",function(e,t,n,i){var a,o=n.styleAttrs[r.byName.direction.qname];a="start"===i?"rtl"===o?"right":"left":"end"===i?"rtl"===o?"left":"right":i,t.style.textAlign=a}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling textDecoration",function(e,t,r,n){t.style.textDecoration=n.join(" ").replace("lineThrough","line-through")}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling textOutline",function(e,t,r,n){}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling textShadow",function(e,t,n,i){var a=n.styleAttrs[r.byName.textOutline.qname];if("none"===i&&"none"===a)t.style.textShadow="";else{var o=[];if("none"!==a&&o.push("rgba("+a.color[0].toString()+","+a.color[1].toString()+","+a.color[2].toString()+","+(a.color[3]/255).toString()+") 0px 0px "+a.thickness.toUsedLength(e.w,e.h)+"px"),"none"!==i)for(var s in i)o.push(i[s].x_off.toUsedLength(e.w,e.h)+"px "+i[s].y_off.toUsedLength(e.w,e.h)+"px "+i[s].b_radius.toUsedLength(e.w,e.h)+"px rgba("+i[s].color[0].toString()+","+i[s].color[1].toString()+","+i[s].color[2].toString()+","+(i[s].color[3]/255).toString()+")");t.style.textShadow=o.join(",")}}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling textCombine",function(e,t,r,n){t.style.textCombineUpright=n.join(" ")}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling textEmphasis",function(e,t,r,n){var i;("none"!==n.style&&(t.style.textEmphasisStyle=n.style+" "+n.symbol),"before"===n.position||"after"===n.position)&&(i="tb"===e.bpd?"before"===n.position?"left over":"left under":"rl"===e.bpd?"before"===n.position?"right under":"left under":"before"===n.position?"left under":"right under",t.style.textEmphasisPosition=i)}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling unicodeBidi",function(e,t,r,n){var i;i="bidiOverride"===n?"bidi-override":n,t.style.unicodeBidi=i}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling visibility",function(e,t,r,n){t.style.visibility=n}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling wrapOption",function(e,t,r,n){"wrap"===n?"preserve"===r.space?t.style.whiteSpace="pre-wrap":t.style.whiteSpace="normal":"preserve"===r.space?t.style.whiteSpace="pre":t.style.whiteSpace="noWrap"}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling writingMode",function(e,t,r,n){"lrtb"===n||"lr"===n?e.writingMode="horizontal-tb":"rltb"===n||"rl"===n?e.writingMode="horizontal-tb":"tblr"===n?e.writingMode="vertical-lr":"tbrl"!==n&&"tb"!==n||(e.writingMode="vertical-rl"),t.style.writingMode=e.writingMode}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml#styling zIndex",function(e,t,r,n){t.style.zIndex=n}),new HTMLStylingMapDefintion("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(e,t,r,n){e.displayForcedOnlyMode&&!1===n&&(t.style.visibility="hidden")})],i={};for(var a in n)i[n[a].qname]=n[a]}(t,"undefined"==typeof imscNames?r(156):imscNames,"undefined"==typeof imscStyles?r(217):imscStyles,"undefined"==typeof imscUtils?r(157):imscUtils)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function EmbeddedTextHtmlRender(){var e=0;function checkIndent(e){for(var t="",r=0;r<e.length;++r){t+=e[r].uchar}return t.length-t.replace(/^\s+/,"").length}function getRegionProperties(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function createRGB(e){return"red"===e?"rgb(255, 0, 0)":"green"===e?"rgb(0, 255, 0)":"blue"===e?"rgb(0, 0, 255)":"cyan"===e?"rgb(0, 255, 255)":"magenta"===e?"rgb(255, 0, 255)":"yellow"===e?"rgb(255, 255, 0)":"white"===e?"rgb(255, 255, 255)":"black"===e?"rgb(0, 0, 0)":e}function getStyle(e,t){var r=e.videoHeight/15;return t?"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?createRGB(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?createRGB(t.background):"transparent")+";":"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function ltrim(e){return e.replace(/^\s+/g,"")}function rtrim(e){return e.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function createHTMLCaptionsFromScreen(t,r,n,i){var a=null,o=!1,s=-1,l={start:r,end:n,spans:[]},u="style_cea608_white_black",c={},f={},d=[],p=void 0,h=void 0;for(p=0;p<15;++p){var g=i.rows[p],m="",y=null;if(!1===g.isEmpty()){var v=checkIndent(g.chars);null===a&&(a={x:v,y1:p,y2:p+1,p:[]}),v!==s&&o&&(a.p.push(l),l={start:r,end:n,spans:[]},a.y2=p,a.name="region_"+a.x+"_"+a.y1+"_"+a.y2,!1===c.hasOwnProperty(a.name)?(d.push(a),c[a.name]=a):c[a.name].p.contat(a.p),a={x:v,y1:p,y2:p+1,p:[]});for(var _=0;_<g.chars.length;++_){var b=g.chars[_],E=b.penState;if(null===y||!E.equals(y)){m.trim().length>0&&(l.spans.push({name:u,line:m,row:p}),m="");var T="style_cea608_"+E.foreground+"_"+E.background;E.underline&&(T+="_underline"),E.italics&&(T+="_italics"),f.hasOwnProperty(T)||(f[T]=JSON.parse(JSON.stringify(E))),y=E,u=T}m+=b.uchar}m.trim().length>0&&l.spans.push({name:u,line:m,row:p}),o=!0,s=v}else o=!1,s=-1,a&&(a.p.push(l),l={start:r,end:n,spans:[]},a.y2=p,a.name="region_"+a.x+"_"+a.y1+"_"+a.y2,!1===c.hasOwnProperty(a.name)?(d.push(a),c[a.name]=a):c[a.name].p.contat(a.p),a=null)}a&&(a.p.push(l),a.y2=p+1,a.name="region_"+a.x+"_"+a.y1+"_"+a.y2,!1===c.hasOwnProperty(a.name)?(d.push(a),c[a.name]=a):c[a.name].p.contat(a.p),a=null);var S=[];for(p=0;p<d.length;++p){var w=d[p],R="sub_cea608_"+e++,A=document.createElement("div");A.id=R;var C=getRegionProperties(w);A.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+C;var x=document.createElement("div");x.className="paragraph bodyStyle",x.style.cssText=getStyle(t);var D=document.createElement("div");D.className="cueUniWrapper",D.style.cssText="unicode-bidi: normal; direction: ltr;";for(var P=0;P<w.p.length;++P){var I=w.p[P],M=0;for(h=0;h<I.spans.length;++h){var O=I.spans[h];if(O.line.length>0){if(0!==h&&M!=O.row){var k=document.createElement("br");k.className="lineBreak",D.appendChild(k)}var L=!1;M===O.row&&(L=!0),M=O.row;var N=f[O.name],F=document.createElement("span");F.className="spanPadding "+O.name+" customSpanColor",F.style.cssText=getStyle(t,N),0!==h&&L?h===I.spans.length-1?F.textContent=rtrim(O.line):F.textContent=O.line:I.spans.length>1&&h<I.spans.length-1&&O.row===I.spans[h+1].row?F.textContent=ltrim(O.line):F.textContent=O.line.trim(),D.appendChild(F)}}}x.appendChild(D),A.appendChild(x);var B={bodyStyle:["%",90]};for(var U in f)f.hasOwnProperty(U)&&(B[U]=["%",90]);S.push({type:"html",start:r,end:n,cueHTMLElement:A,cueID:R,cellResolution:[32,15],isFromCEA608:!0,fontSize:B,lineHeight:{},linePadding:{}})}return S}}}EmbeddedTextHtmlRender.__dashjs_factory_name="EmbeddedTextHtmlRender",t.default=n.default.getSingletonFactory(EmbeddedTextHtmlRender),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(13)),a="WEBVTT";function VTTParser(){var e=this.context,t=void 0,r=void 0,n=void 0,o=void 0,s=void 0,l=void 0;function convertCuePointTimes(e){var t=e.split(":"),r=t.length-1;return e=60*parseInt(t[r-1],10)+parseFloat(t[r]),2===r&&(e+=3600*parseInt(t[0],10)),e}function parseItemAttributes(e){var t=e.split(o),r=t[1].split(l);return r.shift(),t[1]=r[0],r.shift(),{cuePoints:t,styles:getCaptionStyles(r)}}function getCaptionStyles(e){var t={};return e.forEach(function(e){if(e.split(/:/).length>1){var r=e.split(/:/)[1];r&&-1!=r.search(/%/)&&(r=parseInt(r.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=r),(e.match(/line/)||e.match(/L/))&&(t.line=r),(e.match(/position/)||e.match(/P/))&&(t.position=r),(e.match(/size/)||e.match(/S/))&&(t.size=r)}}),t}function getSublines(e,t){for(var r,n=t,i="",a="";""!==e[n]&&n<e.length;)n++;if((r=n-t)>1)for(var s=0;s<r;s++){if((a=e[t+s]).match(o)){i="";break}i+=a,s!==r-1&&(i+="\n")}else(a=e[t]).match(o)||(i=a);return i}return t={parse:function parse(e){var t,i=[],l=void 0;if(!e)return i;t=(e=e.split(n)).length,l=-1;for(var u=0;u<t;u++){var c=e[u];if(c.length>0&&c!==a&&c.match(o)){var f=parseItemAttributes(c),d=f.cuePoints,p=f.styles,h=getSublines(e,u+1),g=convertCuePointTimes(d[0].replace(s,"")),m=convertCuePointTimes(d[1].replace(s,""));!isNaN(g)&&!isNaN(m)&&g>=l&&m>g?""!==h?(l=g,i.push({start:g,end:m,data:h,styles:p})):r.error("Skipping cue due to empty/malformed cue text"):r.error("Skipping cue due to incorrect cue timing")}}return i}},function setup(){r=(0,i.default)(e).getInstance().getLogger(t),n=/(?:\r\n|\r|\n)/gm,o=/-->/,s=/(^[\s]+|[\s]+$)/g,l=/\s\b/g}(),t}VTTParser.__dashjs_factory_name="VTTParser",t.default=n.default.getSingletonFactory(VTTParser),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(13)),a=_interopRequireDefault(r(12)),o=_interopRequireDefault(r(14)),s=r(296);function TTMLParser(){var e=this.context,t=(0,a.default)(e).getInstance(),r=void 0,n=void 0,l=0;return r={parse:function parse(e,r,i,a,u){var c="",f=[],d=void 0,p=void 0,h=void 0,g={},m={},y="",v="",_={onOpenTag:function onOpenTag(e,t,r){if("image"===t&&"http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===e){if(!r[" imagetype"]||"PNG"!==r[" imagetype"].value)return void n.warn("smpte-tt imagetype != PNG. Discarded");y=r["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function onCloseTag(){y&&(m[y]=v.trim()),v="",y=""},onText:function onText(e){y&&(v+=e)}};if(!e)throw c="no ttml data to parse",new Error(c);g.data=e,t.trigger(o.default.TTML_TO_PARSE,g);var b=(0,s.fromXML)(g.data,function(e){c=e},_);t.trigger(o.default.TTML_PARSED,{ttmlString:g.data,ttmlDoc:b});var E,T=b.getMediaTimeEvents();for(h=0;h<T.length;h++){var S=(0,s.generateISD)(b,T[h],function(e){c=e});S.contents.some(function(e){return e.contents.length})&&(d=T[h]+r<i?i:T[h]+r)<(p=T[h+1]+r>a?a:T[h+1]+r)&&f.push({start:d,end:p,type:"html",cueID:(E=void 0,E="cue_TTML_"+l,l++,E),isd:S,images:u,embeddedImages:m})}if(""!==c)throw n.error(c),new Error(c);return f}},function setup(){n=(0,i.default)(e).getInstance().getLogger(r)}(),r}TTMLParser.__dashjs_factory_name="TTMLParser",t.default=n.default.getSingletonFactory(TTMLParser),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(13)),i=_interopRequireDefault(r(4));function PreBufferSink(e){var t=this.context,r=void 0,i=void 0,a=void 0,o=[],s=e;function remove(e,t){o=o.filter(function(r){return!((isNaN(t)||r.start<t)&&(isNaN(e)||r.end>e))})}return r={getAllBufferRanges:function getAllBufferRanges(){for(var e=[],t=0;t<o.length;t++){var r=o[t];0===e.length||r.start>e[e.length-1].end?e.push({start:r.start,end:r.end}):e[e.length-1].end=r.end}var n={start:function start(t){return e[t].start},end:function end(t){return e[t].end}};return Object.defineProperty(n,"length",{get:function get(){return e.length}}),n},append:function append(e){"InitializationSegment"!==e.segmentType?(o.push(e),o.sort(function(e,t){return e.start-t.start}),a=null):a=e,i.debug("PreBufferSink appended chunk s: "+e.start+"; e: "+e.end),s&&s({chunk:e})},remove:remove,abort:function abort(){},discharge:function discharge(e,t){var r=function getChunksAt(e,t){return o.filter(function(r){return(isNaN(t)||r.start<t)&&(isNaN(e)||r.end>e)})}(e,t);return a&&(r.push(a),a=null),remove(e,t),r},reset:function reset(){o=[],a=null,s=null},updateTimestampOffset:function updateTimestampOffset(){},hasDiscontinuitiesAfter:function hasDiscontinuitiesAfter(){return!1}},function setup(){i=(0,n.default)(t).getInstance().getLogger(r)}(),r}PreBufferSink.__dashjs_factory_name="PreBufferSink";var a=i.default.getClassFactory(PreBufferSink);t.default=a,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(101)),i=_interopRequireDefault(r(159)),a=_interopRequireDefault(r(4)),o=_interopRequireDefault(r(13)),s=_interopRequireDefault(r(77)),l=_interopRequireDefault(r(11));function ThroughputRule(e){e=e||{};var t=this.context,r=e.metricsModel,a=void 0,u=void 0;return a={getMaxIndex:function getMaxIndex(e){var a=(0,s.default)(t).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getScheduleController")))return a;!function checkConfig(){if(!r||!r.hasOwnProperty("getReadOnlyMetricsFor"))throw new Error(l.default.MISSING_CONFIG_ERROR)}();var o=e.getMediaInfo(),c=e.getMediaType(),f=r.getReadOnlyMetricsFor(c),d=e.getScheduleController(),p=e.getAbrController(),h=e.getStreamInfo(),g=h&&h.manifestInfo?h.manifestInfo.isDynamic:null,m=p.getThroughputHistory(),y=m.getSafeAverageThroughput(c,g),v=m.getAverageLatency(c),_=f.BufferState.length>0?f.BufferState[f.BufferState.length-1]:null,b=e.useBufferOccupancyABR();return!f||isNaN(y)||!_||b?a:(p.getAbandonmentStateFor(c)!==i.default.ABANDON_LOAD&&(_.state===n.default.BUFFER_LOADED||g)&&(a.quality=p.getQualityForBitrate(o,y,v),d.setTimeToLoadDelay(0),u.debug("requesting switch to index: ",a.quality,"type: ",c,"Average throughput",Math.round(y),"kbps"),a.reason={throughput:y,latency:v}),a)},reset:function reset(){}},function setup(){u=(0,o.default)(t).getInstance().getLogger(a)}(),a}ThroughputRule.__dashjs_factory_name="ThroughputRule",t.default=a.default.getClassFactory(ThroughputRule),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(101)),i=_interopRequireDefault(r(12)),a=_interopRequireDefault(r(14)),o=_interopRequireDefault(r(4)),s=_interopRequireDefault(r(13)),l=_interopRequireDefault(r(77)),u=_interopRequireDefault(r(11));function InsufficientBufferRule(e){e=e||{};var t=.5,r=this.context,o=(0,i.default)(r).getInstance(),c=e.metricsModel,f=e.dashMetrics,d=void 0,p=void 0,h=void 0;function resetInitialSettings(){h={}}function onPlaybackSeeking(){resetInitialSettings()}return d={getMaxIndex:function getMaxIndex(e){var i=(0,l.default)(r).create();if(!e||!e.hasOwnProperty("getMediaType"))return i;!function checkConfig(){if(!(c&&c.hasOwnProperty("getReadOnlyMetricsFor")&&f&&f.hasOwnProperty("getCurrentBufferLevel")))throw new Error(u.default.MISSING_CONFIG_ERROR)}();var a=e.getMediaType(),o=c.getReadOnlyMetricsFor(a),s=o.BufferState.length>0?o.BufferState[o.BufferState.length-1]:null,d=e.getRepresentationInfo().fragmentDuration;if(!s||!function wasFirstBufferLoadedEventTriggered(e,t){h[e]=h[e]||{};var r=!1;h[e].firstBufferLoadedEvent?r=!0:t&&t.state===n.default.BUFFER_LOADED&&(h[e].firstBufferLoadedEvent=!0,r=!0);return r}(a,s)||!d)return i;if(s.state===n.default.BUFFER_EMPTY)p.debug("Switch to index 0; buffer is empty."),i.quality=0,i.reason="InsufficientBufferRule: Buffer is empty";else{var g=e.getMediaInfo(),m=e.getAbrController(),y=m.getThroughputHistory(),v=f.getCurrentBufferLevel(o),_=y.getAverageThroughput(a),b=y.getAverageLatency(a),E=_*(v/d)*t;i.quality=m.getQualityForBitrate(g,E,b),i.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return i},reset:function reset(){resetInitialSettings(),o.off(a.default.PLAYBACK_SEEKING,onPlaybackSeeking,d)}},function setup(){p=(0,s.default)(r).getInstance().getLogger(d),resetInitialSettings(),o.on(a.default.PLAYBACK_SEEKING,onPlaybackSeeking,d)}(),d}InsufficientBufferRule.__dashjs_factory_name="InsufficientBufferRule",t.default=o.default.getClassFactory(InsufficientBufferRule),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(77)),i=_interopRequireDefault(r(4)),a=_interopRequireDefault(r(13));function AbandonRequestsRule(e){e=e||{};var t=1.8,r=500,i=5,o=this.context,s=e.mediaPlayerModel,l=e.metricsModel,u=e.dashMetrics,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0;function reset(){d={},p={},h=[]}return c={shouldAbandon:function shouldAbandon(e){var a=(0,n.default)(o).create(n.default.NO_CHANGE,{name:AbandonRequestsRule.__dashjs_factory_name});if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getCurrentRequest")&&e.hasOwnProperty("getRepresentationInfo")&&e.hasOwnProperty("getAbrController")))return a;var c=e.getMediaInfo(),g=e.getMediaType(),m=e.getCurrentRequest();if(!isNaN(m.index)){!function setFragmentRequestDict(e,t){d[e]=d[e]||{},d[e][t]=d[e][t]||{}}(g,m.index);var y=s.getStableBufferTime();if(u.getCurrentBufferLevel(l.getReadOnlyMetricsFor(g))>y)return a;var v=d[g][m.index];if(null===v||null===m.firstByteDate||p.hasOwnProperty(v.id))return a;if(void 0===v.firstByteTime&&(h[g]=[],v.firstByteTime=m.firstByteDate.getTime(),v.segmentDuration=m.duration,v.bytesTotal=m.bytesTotal,v.id=m.index),v.bytesLoaded=m.bytesLoaded,v.elapsedTime=(new Date).getTime()-v.firstByteTime,v.bytesLoaded>0&&v.elapsedTime>0&&function storeLastRequestThroughputByType(e,t){h[e]=h[e]||[],h[e].push(t)}(g,Math.round(8*v.bytesLoaded/v.elapsedTime)),h[g].length>=i&&v.elapsedTime>r&&v.bytesLoaded<v.bytesTotal){var _=h[g].reduce(function(e,t){return e+t},0);if(v.measuredBandwidthInKbps=Math.round(_/h[g].length),v.estimatedTimeOfDownload=+(8*v.bytesTotal/v.measuredBandwidthInKbps/1e3).toFixed(2),v.estimatedTimeOfDownload<v.segmentDuration*t||0===e.getRepresentationInfo().quality)return a;if(!p.hasOwnProperty(v.id)){var b=e.getAbrController(),E=v.bytesTotal-v.bytesLoaded,T=b.getBitrateList(c),S=b.getQualityForBitrate(c,v.measuredBandwidthInKbps*s.getBandwidthSafetyFactor());E>v.bytesTotal*T[S].bitrate/T[b.getQualityFor(g,c.streamInfo)].bitrate&&(a.quality=S,a.reason.throughput=v.measuredBandwidthInKbps,a.reason.fragmentID=v.id,p[v.id]=v,f.debug("( ",g,"frag id",v.id,") is asking to abandon and switch to quality to ",S," measured bandwidth was",v.measuredBandwidthInKbps),delete d[g][v.id])}}else v.bytesLoaded===v.bytesTotal&&delete d[g][v.id]}return a},reset:reset},function setup(){f=(0,a.default)(o).getInstance().getLogger(c),reset()}(),c}AbandonRequestsRule.__dashjs_factory_name="AbandonRequestsRule",t.default=i.default.getClassFactory(AbandonRequestsRule),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(77)),a=_interopRequireDefault(r(13));function DroppedFramesRule(){var e=this.context,t=void 0,r=void 0,n=.15,o=375;return t={getMaxIndex:function getMaxIndex(t){var a=t.getDroppedFramesHistory();if(a){for(var s=a.getFrameHistory(),l=0,u=0,c=i.default.NO_CHANGE,f=1;f<s.length;f++)if(s[f]&&(l=s[f].droppedVideoFrames,(u=s[f].totalVideoFrames)>o&&l/u>n)){c=f-1,r.debug("index: "+c+" Dropped Frames: "+l+" Total Frames: "+u);break}return(0,i.default)(e).create(c,{droppedFrames:l})}return(0,i.default)(e).create()}},function setup(){r=(0,a.default)(e).getInstance().getLogger(t)}(),t}DroppedFramesRule.__dashjs_factory_name="DroppedFramesRule",t.default=n.default.getClassFactory(DroppedFramesRule),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(13)),a=_interopRequireDefault(r(77));function SwitchHistoryRule(){var e=this.context,t=void 0,r=void 0,n=.075,o=6;return t={getMaxIndex:function getMaxIndex(t){for(var i=t?t.getSwitchHistory():null,s=i?i.getSwitchRequests():[],l=0,u=0,c=0,f=(0,a.default)(e).create(),d=0;d<s.length;d++)if(void 0!==s[d]&&(l+=s[d].drops,u+=s[d].noDrops,c+=s[d].dropSize,l+u>=o&&l/u>n)){f.quality=d>0&&s[d].drops>0?d-1:d,f.reason={index:f.quality,drops:l,noDrops:u,dropSize:c},r.debug("Switch history rule index: "+f.quality+" samples: "+(l+u)+" drops: "+l);break}return f}},function setup(){r=(0,i.default)(e).getInstance().getLogger(t)}(),t}SwitchHistoryRule.__dashjs_factory_name="SwitchHistoryRule",t.default=n.default.getClassFactory(SwitchHistoryRule),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(116)),i=_interopRequireDefault(r(77)),a=_interopRequireDefault(r(4)),o=r(42),s=_interopRequireDefault(r(12)),l=_interopRequireDefault(r(14)),u=_interopRequireDefault(r(13)),c=0,f=1,d=2,p=10,h=2,g=.99;function BolaRule(e){e=e||{};var t=this.context,r=e.dashMetrics,a=e.metricsModel,m=e.mediaPlayerModel,y=(0,s.default)(t).getInstance(),v=void 0,_=void 0,b=void 0;function calculateBolaParameters(e,t,r){var n=r.reduce(function(e,t,n){return t>r[e]?n:e},0);if(0===n)return null;var i=Math.max(e,p+h*t.length),a=(r[n]-1)/(i/p-1);return{gp:a,Vp:p/a}}function getInitialBolaState(e){var t={},r=e.getMediaInfo().bitrateList.map(function(e){return e.bandwidth}),n=function utilitiesFromBitrates(e){return e.map(function(e){return Math.log(e)})}(r);n=n.map(function(e){return e-n[0]+1});var i=m.getStableBufferTime(),a=calculateBolaParameters(i,r,n);return a?(t.state=f,t.bitrates=r,t.utilities=n,t.stableBufferTime=i,t.Vp=a.Vp,t.gp=a.gp,t.lastQuality=0,clearBolaStateOnSeek(t)):t.state=c,t}function clearBolaStateOnSeek(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN}function checkBolaStateStableBufferTime(e,t){var n=m.getStableBufferTime();if(e.stableBufferTime!==n){var i=calculateBolaParameters(n,e.bitrates,e.utilities);if(i.Vp!==e.Vp||i.gp!==e.gp){var o=r.getCurrentBufferLevel(a.getReadOnlyMetricsFor(t)),s=o+e.placeholderBuffer;s-=p,s*=i.Vp/e.Vp,s+=p,e.stableBufferTime=n,e.Vp=i.Vp,e.gp=i.gp,e.placeholderBuffer=Math.max(0,s-o)}}}function maxBufferLevelForQuality(e,t){return e.Vp*(e.utilities[t]+e.gp)}function minBufferLevelForQuality(e,t){for(var r=e.bitrates[t],n=e.utilities[t],i=0,a=t-1;a>=0;--a)if(e.utilities[a]<e.utilities[t]){var o=e.bitrates[a],s=e.utilities[a],l=e.Vp*(e.gp+(r*s-o*n)/(r-o));i=Math.max(i,l)}return i}function onBufferEmpty(){for(var e in b)b.hasOwnProperty(e)&&b[e].state===d&&(b[e].placeholderBuffer=0)}function onPlaybackSeeking(){for(var e in b)if(b.hasOwnProperty(e)){var t=b[e];t.state!==c&&(t.state=f,clearBolaStateOnSeek(t))}}function onPeriodSwitchStarted(){}function onMediaFragmentLoaded(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=b[e.chunk.mediaInfo.type];if(t&&t.state!==c){var r=e.chunk.start;isNaN(t.mostAdvancedSegmentStart)||r>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=r,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=r,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,checkNewSegment(t,e.chunk.mediaInfo.type)}}}function onMetricAdded(e){if(e&&e.metric===n.default.HTTP_REQUEST&&e.value&&e.value.type===o.HTTPRequest.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length){var t=b[e.mediaType];t&&t.state!==c&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),checkNewSegment(t,e.mediaType))}}function checkNewSegment(e,t){if(!isNaN(e.lastSegmentStart)&&!isNaN(e.lastSegmentRequestTimeMs)&&!isNaN(e.placeholderBuffer)){if(e.placeholderBuffer*=g,!isNaN(e.lastSegmentFinishTimeMs)){var n=r.getCurrentBufferLevel(a.getReadOnlyMetricsFor(t))+.001*(e.lastSegmentFinishTimeMs-e.lastSegmentRequestTimeMs),i=maxBufferLevelForQuality(e,e.lastQuality),o=Math.max(0,i-n);e.placeholderBuffer=Math.min(o,e.placeholderBuffer)}e.lastSegmentWasReplacement&&!isNaN(e.lastSegmentDurationS)&&(e.placeholderBuffer+=e.lastSegmentDurationS),e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN}}function onQualityChangeRequested(e){if(e){var t=b[e.mediaType];t&&t.state!==c&&(t.abrQuality=e.newQuality)}}function onFragmentLoadingAbandoned(e){if(e){var t=b[e.mediaType];if(t&&t.state!==c){var n=r.getCurrentBufferLevel(a.getReadOnlyMetricsFor(e.mediaType)),i=void 0;i=t.abrQuality>0?minBufferLevelForQuality(t,t.abrQuality):p;var o=Math.max(0,i-n);t.placeholderBuffer=Math.min(t.placeholderBuffer,o)}}}function resetInitialSettings(){b={}}return v={getMaxIndex:function getMaxIndex(e){var n=e.getMediaInfo(),o=e.getMediaType(),s=a.getReadOnlyMetricsFor(o),l=e.getScheduleController(),u=e.getStreamInfo(),p=e.getAbrController(),h=p.getThroughputHistory(),g=u?u.id:null,m=u&&u.manifestInfo&&u.manifestInfo.isDynamic,y=e.useBufferOccupancyABR(),v=(0,i.default)(t).create();if(v.reason=v.reason||{},!y)return v;l.setTimeToLoadDelay(0);var E=function getBolaState(e){var t=e.getMediaType(),r=b[t];return r?r.state!==c&&checkBolaStateStableBufferTime(r,t):(r=getInitialBolaState(e),b[t]=r),r}(e);if(E.state===c)return v;var T=r.getCurrentBufferLevel(s),S=h.getAverageThroughput(o,m),w=h.getSafeAverageThroughput(o,m),R=h.getAverageLatency(o),A=void 0;if(v.reason.state=E.state,v.reason.throughput=S,v.reason.latency=R,isNaN(S))return v;switch(E.state){case f:A=p.getQualityForBitrate(n,w,R),v.quality=A,v.reason.throughput=w,E.placeholderBuffer=Math.max(0,minBufferLevelForQuality(E,A)-T),E.lastQuality=A,!isNaN(E.lastSegmentDurationS)&&T>=E.lastSegmentDurationS&&(E.state=d);break;case d:!function updatePlaceholderBuffer(e,t){var r=Date.now();if(isNaN(e.lastSegmentFinishTimeMs)){if(!isNaN(e.lastCallTimeMs)){n=.001*(r-e.lastCallTimeMs);e.placeholderBuffer+=Math.max(0,n)}}else{var n=.001*(r-e.lastSegmentFinishTimeMs);e.placeholderBuffer+=Math.max(0,n)}e.lastCallTimeMs=r,e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN,checkBolaStateStableBufferTime(e,t)}(E,o),A=function getQualityFromBufferLevel(e,t){for(var r=e.bitrates.length,n=NaN,i=NaN,a=0;a<r;++a){var o=(e.Vp*(e.utilities[a]+e.gp)-t)/e.bitrates[a];(isNaN(i)||o>=i)&&(i=o,n=a)}return n}(E,T+E.placeholderBuffer);var C=p.getQualityForBitrate(n,w,R);A>E.lastQuality&&A>C&&(A=Math.max(C,E.lastQuality));var x=Math.max(0,T+E.placeholderBuffer-maxBufferLevelForQuality(E,A));x<=E.placeholderBuffer?(E.placeholderBuffer-=x,x=0):(x-=E.placeholderBuffer,E.placeholderBuffer=0,A<p.getTopQualityIndexFor(o,g)?l.setTimeToLoadDelay(1e3*x):x=0),v.quality=A,v.reason.throughput=S,v.reason.latency=R,v.reason.bufferLevel=T,v.reason.placeholderBuffer=E.placeholderBuffer,v.reason.delay=x,E.lastQuality=A;break;default:_.debug("BOLA ABR rule invoked in bad state."),v.quality=p.getQualityForBitrate(n,w,R),v.reason.state=E.state,v.reason.throughput=w,v.reason.latency=R,E.state=f,clearBolaStateOnSeek(E)}return v},reset:function reset(){resetInitialSettings(),y.off(l.default.BUFFER_EMPTY,onBufferEmpty,v),y.off(l.default.PLAYBACK_SEEKING,onPlaybackSeeking,v),y.off(l.default.PERIOD_SWITCH_STARTED,onPeriodSwitchStarted,v),y.off(l.default.MEDIA_FRAGMENT_LOADED,onMediaFragmentLoaded,v),y.off(l.default.METRIC_ADDED,onMetricAdded,v),y.off(l.default.QUALITY_CHANGE_REQUESTED,onQualityChangeRequested,v),y.off(l.default.FRAGMENT_LOADING_ABANDONED,onFragmentLoadingAbandoned,v)}},function setup(){_=(0,u.default)(t).getInstance().getLogger(v),resetInitialSettings(),y.on(l.default.BUFFER_EMPTY,onBufferEmpty,v),y.on(l.default.PLAYBACK_SEEKING,onPlaybackSeeking,v),y.on(l.default.PERIOD_SWITCH_STARTED,onPeriodSwitchStarted,v),y.on(l.default.MEDIA_FRAGMENT_LOADED,onMediaFragmentLoaded,v),y.on(l.default.METRIC_ADDED,onMetricAdded,v),y.on(l.default.QUALITY_CHANGE_REQUESTED,onQualityChangeRequested,v),y.on(l.default.FRAGMENT_LOADING_ABANDONED,onFragmentLoadingAbandoned,v)}(),v}BolaRule.__dashjs_factory_name="BolaRule",t.default=a.default.getClassFactory(BolaRule),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function RulesContext(e){var t=(e=e||{}).abrController,r=e.switchHistory,n=e.droppedFramesHistory,i=e.currentRequest,a=e.useBufferOccupancyABR,o=e.streamProcessor?e.streamProcessor.getScheduleController():null,s=e.streamProcessor?e.streamProcessor.getRepresentationInfo():null;function getMediaInfo(){return s?s.mediaInfo:null}return{getMediaType:function getMediaType(){var e=getMediaInfo();return e?e.type:null},getMediaInfo:getMediaInfo,getDroppedFramesHistory:function getDroppedFramesHistory(){return n},getCurrentRequest:function getCurrentRequest(){return i},getSwitchHistory:function getSwitchHistory(){return r},getStreamInfo:function getStreamInfo(){var e=getMediaInfo();return e?e.streamInfo:null},getScheduleController:function getScheduleController(){return o},getAbrController:function getAbrController(){return t},getRepresentationInfo:function getRepresentationInfo(){return s},useBufferOccupancyABR:function useBufferOccupancyABR(){return a}}}RulesContext.__dashjs_factory_name="RulesContext",t.default=n.default.getClassFactory(RulesContext),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(77)),a=8;function SwitchRequestHistory(){var e=[],t=[];return{push:function push(r){r.newValue===i.default.NO_CHANGE&&(r.newValue=r.oldValue),e[r.oldValue]||(e[r.oldValue]={noDrops:0,drops:0,dropSize:0});var n=r.newValue-r.oldValue,o=n<0?1:0,s=o?-n:0,l=o?0:1;if(e[r.oldValue].drops+=o,e[r.oldValue].dropSize+=s,e[r.oldValue].noDrops+=l,t.push({idx:r.oldValue,noDrop:l,drop:o,dropSize:s}),t.length>a){var u=t.shift();e[u.idx].drops-=u.drop,e[u.idx].dropSize-=u.dropSize,e[u.idx].noDrops-=u.noDrop}},getSwitchRequests:function getSwitchRequests(){return e},reset:function reset(){e=[],t=[]}}}SwitchRequestHistory.__dashjs_factory_name="SwitchRequestHistory";var o=n.default.getClassFactory(SwitchRequestHistory);t.default=o,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function DroppedFramesHistory(){var e=[],t=0,r=0;return{push:function push(n,i){var a=i&&i.droppedVideoFrames?i.droppedVideoFrames:0,o=i&&i.totalVideoFrames?i.totalVideoFrames:0,s=a-t;t=a;var l=o-r;r=o,isNaN(n)||(e[n]?(e[n].droppedVideoFrames+=s,e[n].totalVideoFrames+=l):e[n]={droppedVideoFrames:s,totalVideoFrames:l})},getFrameHistory:function getDroppedFrameHistory(){return e},reset:function reset(n){e=[],t=n.droppedVideoFrames,r=n.totalVideoFrames}}}DroppedFramesHistory.__dashjs_factory_name="DroppedFramesHistory";var i=n.default.getClassFactory(DroppedFramesHistory);t.default=i,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(4));function ThroughputHistory(e){var t=20,r=3,i=4,a=4,o=1.3,s=1.3,l=8,u=3,c=2,f=1,d=(e=e||{}).mediaPlayerModel,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0;function updateEwmaEstimate(e,t,r,n){var i=Math.pow(.5,r/n.fast);e.fastEstimate=(1-i)*t+i*e.fastEstimate;var a=Math.pow(.5,r/n.slow);e.slowEstimate=(1-a)*t+a*e.slowEstimate,e.totalWeight+=r}function getAverage(e,t,l){return d.getMovingAverageMethod()!==n.default.MOVING_AVERAGE_SLIDING_WINDOW?function getAverageEwma(e,t){var r=e?y.throughputHalfLife:y.latencyHalfLife,n=e?g[t]:m[t];if(!n||n.totalWeight<=0)return NaN;var i=n.fastEstimate/(1-Math.pow(.5,n.totalWeight/r.fast)),a=n.slowEstimate/(1-Math.pow(.5,n.totalWeight/r.slow));return e?Math.min(i,a):Math.max(i,a)}(e,t):function getAverageSlidingWindow(e,t,n){var l=function getSampleSize(e,t,n){var l=void 0,u=void 0;if(e?(l=p[t],u=n?r:i):(l=h[t],u=a),l){if(u>=l.length)u=l.length;else if(e)for(var c=1;c<u;++c){var f=l[c]/l[c-1];if((f>=s||f<=1/o)&&(u+=1)===l.length)break}}else u=0;return u}(e,t,n),u=(e?p:h)[t];if(0===l||!u||0===u.length)return NaN;return(u=u.slice(-l)).reduce(function(e,t){return e+t})/u.length}(e,t,l)}function getAverageThroughput(e,t){return getAverage(!0,e,t)}function checkSettingsForMediaType(e){p[e]=p[e]||[],h[e]=h[e]||[],g[e]=g[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0},m[e]=m[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function reset(){p={},h={},g={},m={}}var v={push:function push(e,r,i){if(r.trace&&r.trace.length){var a=r.tresponse.getTime()-r.trequest.getTime()||1,o=r._tfinish.getTime()-r.tresponse.getTime()||1,s=r.trace.reduce(function(e,t){return e+t.b[0]},0),l=void 0;l=d.getLowLatencyEnabled()?r.trace.reduce(function(e,t){return e+t.d},0):i?o:a+o;var u=Math.round(8*s/l);if(checkSettingsForMediaType(e),function isCachedResponse(e,t,r){return e===n.default.VIDEO?r<d.getCacheLoadThresholdForType(n.default.VIDEO):e===n.default.AUDIO?r<d.getCacheLoadThresholdForType(n.default.AUDIO):void 0}(e,0,o)){if(p[e].length>0&&!p[e].hasCachedEntries)return;p[e].hasCachedEntries=!0}else p[e]&&p[e].hasCachedEntries&&function clearSettingsForMediaType(e){delete p[e],delete h[e],delete g[e],delete m[e],checkSettingsForMediaType(e)}(e);p[e].push(u),p[e].length>t&&p[e].shift(),h[e].push(a),h[e].length>t&&h[e].shift(),updateEwmaEstimate(g[e],u,.001*o,y.throughputHalfLife),updateEwmaEstimate(m[e],a,1,y.latencyHalfLife)}},getAverageThroughput:getAverageThroughput,getSafeAverageThroughput:function getSafeAverageThroughput(e,t){var r=getAverageThroughput(e,t);return isNaN(r)||(r*=d.getBandwidthSafetyFactor()),r},getAverageLatency:function getAverageLatency(e){return getAverage(!1,e)},reset:reset};return function setup(){y={throughputHalfLife:{fast:u,slow:l},latencyHalfLife:{fast:f,slow:c}},reset()}(),v}ThroughputHistory.__dashjs_factory_name="ThroughputHistory",t.default=i.default.getClassFactory(ThroughputHistory),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(116)),a=_interopRequireDefault(r(665)),o=_interopRequireDefault(r(690)),s=_interopRequireDefault(r(12)),l=_interopRequireDefault(r(14)),u=_interopRequireDefault(r(4)),c=r(305),f=_interopRequireDefault(r(13)),d=_interopRequireDefault(r(222)),p=_interopRequireDefault(r(84)),h=_interopRequireDefault(r(308)),g=_interopRequireDefault(r(691)),m=_interopRequireDefault(r(309)),y=_interopRequireDefault(r(698)),v=_interopRequireDefault(r(32)),_=_interopRequireDefault(r(38));function StreamController(){var e=40,t=this.context,r=(0,s.default)(t).getInstance(),u=void 0,b=void 0,E=void 0,T=void 0,S=void 0,w=void 0,R=void 0,A=void 0,C=void 0,x=void 0,D=void 0,P=void 0,I=void 0,M=void 0,O=void 0,k=void 0,L=void 0,N=void 0,F=void 0,B=void 0,U=void 0,j=void 0,q=void 0,G=void 0,H=void 0,V=void 0,z=void 0,K=void 0,W=void 0,Y=void 0,X=void 0,Q=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,re=void 0,ne=void 0,ie=void 0,ae=void 0,oe=void 0,se=void 0,le=void 0,ue=void 0,ce=void 0,fe=void 0;function onPlaybackTimeUpdated(){if(isTrackTypePresent(n.default.VIDEO)){var e=X.getPlaybackQuality();e&&C.addDroppedFrames(n.default.VIDEO,e)}}function onWallclockTimeUpdated(){if(!(!$.getJumpGaps()||0===getActiveStreamProcessors()||Q.isSeeking()||J||z||K||W)&&++oe>=e){var t=Q.getTime();ce===t?function jumpGap(e){for(var t=getActiveStreamProcessors(),n=$.getSmallGapLimit(),i=void 0,a=0;a<t.length;a++){var o=t[a].getBuffer().getAllBufferRanges(),s=void 0;if(o&&!(o.length<=1)){for(var u=0;u<o.length;u++)if(e<o.start(u)){s=o.start(u);break}if(s>0){var c=s-e;c>0&&c<=n&&(void 0===i||s>i)&&(i=s)}}}var f=Q.getTimeToStreamEnd();void 0===i&&!isNaN(f)&&f<n&&(i=e+f);i>0&&(!isNaN(f)&&i>=e+f?(b.info("Jumping media gap (discontinuity) at time ",e,". Jumping to end of the stream"),r.trigger(l.default.PLAYBACK_ENDED,{isLast:getActiveStreamInfo().isLast})):(b.info("Jumping media gap (discontinuity) at time ",e,". Jumping to time position",i),Q.seek(i,!0,!0)))}(t):ce=t,oe=0}}function onPlaybackSeeking(e){var t=getStreamForTime(e.seekTime);ie&&(stopEndPeriodTimer(),ne=!1),ae&&function stopPreloadTimer(){b.debug("[PreloadTimer] stop period preload timer."),clearTimeout(ae),ae=void 0}(),t===q&&ue&&ue.deactivate(!0),t&&(t!==q||ue&&!q.isActive())?(flushPlaylistMetrics(c.PlayListTrace.END_OF_PERIOD_STOP_REASON),switchStream(q,t,e.seekTime)):flushPlaylistMetrics(c.PlayListTrace.USER_REQUEST_STOP_REASON),addPlaylistMetrics(c.PlayList.SEEK_START_REASON)}function onPlaybackStarted(){b.debug("[onPlaybackStarted]"),Z?(Z=!1,addPlaylistMetrics(c.PlayList.INITIAL_PLAYOUT_START_REASON)):J&&(J=!1,addPlaylistMetrics(c.PlayList.RESUME_FROM_PAUSE_START_REASON),toggleEndPeriodTimer())}function onPlaybackPaused(e){b.debug("[onPlaybackPaused]"),e.ended||(J=!0,flushPlaylistMetrics(c.PlayListTrace.USER_REQUEST_STOP_REASON),toggleEndPeriodTimer())}function stopEndPeriodTimer(){b.debug("[toggleEndPeriodTimer] stop end period timer."),clearTimeout(ie),ie=void 0}function toggleEndPeriodTimer(){if(ne)if(ie)stopEndPeriodTimer();else{var e=Q.getTimeToStreamEnd(),t=e>0?1e3*e:0,n=t<2e3?t/4:t-2e3;b.debug("[toggleEndPeriodTimer] Going to fire preload in",n,"milliseconds"),ae=setTimeout(onStreamCanLoadNext,n),b.debug("[toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in",t,"milliseconds"),ie=setTimeout(function(){r.trigger(l.default.PLAYBACK_ENDED,{isLast:getActiveStreamInfo().isLast})},t)}}function onTrackBufferingCompleted(e){if(e.sender&&(e.sender.getType()===n.default.AUDIO||e.sender.getType()===n.default.VIDEO)){var t=getActiveStreamInfo().isLast;Y&&!t&&void 0===ie&&(b.info("[onTrackBufferingCompleted] end of period detected. Track",e.sender.getType(),"has finished"),ne=!0,!1===J&&toggleEndPeriodTimer())}}function onStreamBufferingCompleted(){var e=getActiveStreamInfo().isLast;Y&&e&&(b.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),D.signalEndOfStream(Y))}function onStreamCanLoadNext(){var e,t=getActiveStreamInfo().isLast;Y&&!t&&(e=getNextStream(),(le=q.isProtectionCompatible(e)&&(fe||q.isMediaCodecCompatible(e)))&&(b.info("[onStreamCanLoadNext] Preloading next stream"),q.stopEventController(),q.deactivate(!0),e.preload(Y,se),ue=e,e.getProcessors().forEach(function(t){A.setIndexHandlerTime(t,e.getStartTime())})))}function getStreamForTime(e){var t=0,r=null,n=j.length;n>0&&(t+=j[0].getStartTime());for(var i=0;i<n;i++)if(r=j[i],e<(t=parseFloat((t+r.getDuration()).toFixed(5))))return r;return null}function getActiveStreamProcessors(){return q?q.getProcessors():[]}function onEnded(){var e=getNextStream();e?(re=void 0,te=void 0,switchStream(q,e,NaN)):b.debug("StreamController no next stream found"),flushPlaylistMetrics(e?c.PlayListTrace.END_OF_PERIOD_STOP_REASON:c.PlayListTrace.END_OF_CONTENT_STOP_REASON),ie=void 0,ne=!1}function getNextStream(){if(q){var e=(t=getActiveStreamInfo().start,r=getActiveStreamInfo().duration,{v:j.filter(function(e){return e.getStreamInfo().start===parseFloat((t+r).toFixed(5))})[0]});if("object"==typeof e)return e.v}var t,r}function switchStream(e,t,n){z||!t||e===t&&t.isActive()||(z=!0,r.trigger(l.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:e?e.getStreamInfo():null,toStreamInfo:t.getStreamInfo()}),le=!1,e&&(e.stopEventController(),le=q.isProtectionCompatible(t)&&(fe||q.isMediaCodecCompatible(t))&&!n||t.getPreloaded(),e.deactivate(le)),q=t,ue=!1,Q.initialize(getActiveStreamInfo(),le),X.getElement()?openMediaSource(n,e,!1,le):function preloadStream(e){activateStream(e,le)}(n))}function openMediaSource(e,t,n,i){var a=void 0;function onMediaSourceOpen(){Y&&(b.debug("MediaSource is open!"),window.URL.revokeObjectURL(a),Y.removeEventListener("sourceopen",onMediaSourceOpen),Y.removeEventListener("webkitsourceopen",onMediaSourceOpen),setMediaDuration(),t||r.trigger(l.default.SOURCE_INITIALIZED),n?q.setMediaSource(Y):activateStream(e,i))}Y?i?(activateStream(e,i),t||r.trigger(l.default.SOURCE_INITIALIZED)):(D.detachMediaSource(X),Y.addEventListener("sourceopen",onMediaSourceOpen,!1),Y.addEventListener("webkitsourceopen",onMediaSourceOpen,!1),a=D.attachMediaSource(Y,X),b.debug("MediaSource attached to element.  Waiting on open...")):((Y=D.createMediaSource()).addEventListener("sourceopen",onMediaSourceOpen,!1),Y.addEventListener("webkitsourceopen",onMediaSourceOpen,!1),a=D.attachMediaSource(Y,X),b.debug("MediaSource attached to element.  Waiting on open..."))}function activateStream(e,t){if(se=q.activate(Y,t?se:void 0),re=checkTrackPresence(n.default.AUDIO),te=checkTrackPresence(n.default.VIDEO),se){var i=Object.keys(se);i.length>0&&se[i[0]].changeType&&(b.debug("SourceBuffer changeType method supported. Use it to switch codecs in periods transitions"),fe=!0)}var a;Z||(isNaN(e)?(a=Q.getStreamStartTime(!0),t||getActiveStreamProcessors().forEach(function(e){A.setIndexHandlerTime(e,a)})):Q.seek(e)),q.startEventController(),!V&&Z||Q.play(),z=!1,r.trigger(l.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:getActiveStreamInfo()})}function setMediaDuration(e){var t=e||getActiveStreamInfo().manifestInfo.duration,r=D.setDuration(Y,t);b.debug("Duration successfully set to: "+r)}function getComposedStream(e){for(var t=0,r=j.length;t<r;t++)if(j[t].getId()===e.id)return j[t];return null}function onTimeSyncCompleted(){var e=w.getValue();G&&(r.trigger(l.default.PROTECTION_CREATED,{controller:G,manifest:e}),G.setMediaElement(X.getElement()),H&&G.setProtectionData(H)),function composeStreams(){try{var e=A.getStreamsInfo();if(0===e.length)throw new Error("There are no streams");var i=x.getCurrentManifestUpdate(C.getMetricsFor(n.default.STREAM));C.updateManifestUpdateInfo(i,{currentTime:Q.getTime(),buffered:X.getBufferRange(),presentationStartTime:e[0].start,clientTimeOffset:U.getClientTimeOffset()});for(var o=0,s=e.length;o<s;o++){var c=e[o],f=getComposedStream(c);f?f.updateData(c):(f=(0,a.default)(t).create({manifestModel:w,dashManifestModel:R,mediaPlayerModel:$,metricsModel:C,dashMetrics:x,manifestUpdater:T,adapter:A,timelineConverter:U,capabilities:E,errHandler:B,baseURLController:I,domStorage:M,abrController:O,playbackController:Q,mediaController:k,textController:L,videoModel:X,streamController:u}),j.push(f),f.initialize(c,G)),C.addManifestUpdateStreamInfo(i,c.id,c.index,c.start,c.duration)}if(!q){var d=Q.getStartTimeFromUriParameters(),p=null;if(d)p=getStreamForTime(isNaN(d.fragS)?d.fragT:d.fragS);switchStream(null,null!==p?p:j[0],NaN)}r.trigger(l.default.STREAMS_COMPOSED)}catch(e){B.manifestError(e.message,"nostreamscomposed",w.getValue()),B.error(new v.default(_.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,e.message+"nostreamscomposed",w.getValue())),W=!0,reset()}}()}function onManifestUpdated(e){e.error?(W=!0,reset()):function(){var t=e.manifest;A.updatePeriods(t);var r=A.getStreamsInfo(void 0,1)[0],i=A.getMediaInfoForType(r,n.default.VIDEO)||A.getMediaInfoForType(r,n.default.AUDIO),a=void 0;i&&(a=R.getUseCalculatedLiveEdgeTimeForAdaptation(A.getDataForMedia(i)))&&(b.debug("SegmentTimeline detected using calculated Live Edge Time"),$.setUseManifestDateHeaderTimeSource(!1));var o=R.getUTCTimingSources(e.manifest),s=!R.getIsDynamic(t)||a?o:o.concat($.getUTCTimingSources()),l=F.isHTTPS(e.manifest.url);s.forEach(function(e){e.value.replace(/.*?:\/\//g,"")===$.getDefaultUtcTimingSource().value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(l?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),l?"https://":"http://"),b.debug("Matching default timing source protocol to manifest protocol: ",e.value))}),I.initialize(t),P.setConfig({metricsModel:C,dashMetrics:x,baseURLController:I}),P.initialize(s,$.getUseManifestDateHeaderTimeSource())}()}function isTrackTypePresent(e){var t=void 0;if(!e)return t;switch(e){case n.default.VIDEO:t=te;break;case n.default.AUDIO:t=re}return t}function checkTrackPresence(e){var t=!1;return getActiveStreamProcessors().forEach(function(r){r.getMediaInfo().type===e&&(t=!0)}),t}function flushPlaylistMetrics(e,t){t=t||new Date,ee&&(getActiveStreamProcessors().forEach(function(r){var n=r.getScheduleController();n&&n.finalisePlayList(t,e)}),C.addPlayList(ee),ee=null)}function addPlaylistMetrics(e){(ee=new c.PlayList).start=new Date,ee.mstart=1e3*Q.getTime(),ee.starttype=e,getActiveStreamProcessors().forEach(function(e){var t=e.getScheduleController();t&&t.setPlayList(ee)})}function onPlaybackError(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}K=!0,e.error.message&&(t+=" ("+e.error.message+")"),e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),b.fatal("Video Element Error: "+t),e.error&&b.fatal(e.error),B.mediaSourceError(t),B.error(new v.default(e.error.code,t)),reset()}}function getActiveStreamInfo(){return q?q.getStreamInfo():null}function checkSetConfigCall(){if(!(S&&S.hasOwnProperty("load")&&U&&U.hasOwnProperty("initialize")&&U.hasOwnProperty("reset")&&U.hasOwnProperty("getClientTimeOffset")&&w&&B&&C&&Q))throw new Error("setConfig function has to be called previously")}function onManifestValidityChanged(e){isNaN(e.newDuration)||setMediaDuration(e.newDuration)}function resetInitialSettings(){j=[],G=null,z=!1,q=null,K=!1,W=!1,te=void 0,re=void 0,Z=!0,J=!1,V=!0,ee=null,ie=void 0,ne=!1,oe=0}function reset(){checkSetConfigCall(),P.reset(),flushPlaylistMetrics(K||W?c.PlayListTrace.FAILURE_STOP_REASON:c.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=j?j.length:0;e<t;e++){j[e].reset(K)}!function unRegisterEvents(){r.off(l.default.PLAYBACK_TIME_UPDATED,onPlaybackTimeUpdated,this),r.off(l.default.PLAYBACK_SEEKING,onPlaybackSeeking,this),r.off(l.default.PLAYBACK_ERROR,onPlaybackError,this),r.off(l.default.PLAYBACK_STARTED,onPlaybackStarted,this),r.off(l.default.PLAYBACK_PAUSED,onPlaybackPaused,this),r.off(l.default.PLAYBACK_ENDED,onEnded,this),r.off(l.default.MANIFEST_UPDATED,onManifestUpdated,this),r.off(l.default.BUFFERING_COMPLETED,onTrackBufferingCompleted,this),r.off(l.default.STREAM_BUFFERING_COMPLETED,onStreamBufferingCompleted,this),r.off(l.default.MANIFEST_VALIDITY_CHANGED,onManifestValidityChanged,this),r.off(l.default.TIME_SYNCHRONIZATION_COMPLETED,onTimeSyncCompleted,this),r.off(l.default.WALLCLOCK_TIME_UPDATED,onWallclockTimeUpdated,this),r.off(h.default.METRIC_ADDED,onMetricAdded,this)}(),I.reset(),T.reset(),C.clearAllCurrentMetrics(),w.setValue(null),S.reset(),U.reset(),N.reset(),Y&&(D.detachMediaSource(X),Y=null),X=null,G&&(G.setMediaElement(null),G=null,H=null,w.getValue()&&r.trigger(l.default.PROTECTION_DESTROYED,{data:w.getValue().url})),r.trigger(l.default.STREAM_TEARDOWN_COMPLETE),resetInitialSettings()}function onMetricAdded(e){e.metric===i.default.DVR_INFO&&e.mediaType===n.default.AUDIO&&D.setSeekable(Y,e.value.range.start,e.value.range.end)}return u={initialize:function initialize(e,n){checkSetConfigCall(),V=e,H=n,U.initialize(),(T=(0,o.default)(t).create()).setConfig({manifestModel:w,dashManifestModel:R,mediaPlayerModel:$,manifestLoader:S,errHandler:B}),T.initialize(),I.setConfig({dashManifestModel:R}),function registerEvents(){r.on(l.default.PLAYBACK_TIME_UPDATED,onPlaybackTimeUpdated,this),r.on(l.default.PLAYBACK_SEEKING,onPlaybackSeeking,this),r.on(l.default.PLAYBACK_ERROR,onPlaybackError,this),r.on(l.default.PLAYBACK_STARTED,onPlaybackStarted,this),r.on(l.default.PLAYBACK_PAUSED,onPlaybackPaused,this),r.on(l.default.PLAYBACK_ENDED,onEnded,this),r.on(l.default.MANIFEST_UPDATED,onManifestUpdated,this),r.on(l.default.BUFFERING_COMPLETED,onTrackBufferingCompleted,this),r.on(l.default.STREAM_BUFFERING_COMPLETED,onStreamBufferingCompleted,this),r.on(l.default.MANIFEST_VALIDITY_CHANGED,onManifestValidityChanged,this),r.on(l.default.TIME_SYNCHRONIZATION_COMPLETED,onTimeSyncCompleted,this),r.on(l.default.WALLCLOCK_TIME_UPDATED,onWallclockTimeUpdated,this),r.on(h.default.METRIC_ADDED,onMetricAdded,this)}()},getActiveStreamInfo:getActiveStreamInfo,isTrackTypePresent:isTrackTypePresent,switchToVideoElement:function switchToVideoElement(e){q&&(Q.initialize(getActiveStreamInfo()),openMediaSource(e,null,!0,!1))},getStreamById:function getStreamById(e){return j.filter(function(t){return t.getId()===e})[0]},getStreamForTime:getStreamForTime,getTimeRelativeToStreamId:function getTimeRelativeToStreamId(e,t){for(var r=null,n=0,i=0,a=null,o=j.length,s=0;s<o;s++){if(i=(r=j[s]).getStartTime(),a=r.getDuration(),Number.isFinite(i)&&(n=i),r.getId()===t)return e-n;Number.isFinite(a)&&(n+=a)}return null},load:function load(e){checkSetConfigCall(),S.load(e)},loadWithManifest:function loadWithManifest(e){!function checkInitializeCall(){if(!T||!T.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}(),T.setManifest(e)},getActiveStreamProcessors:getActiveStreamProcessors,setConfig:function setConfig(e){e&&(e.capabilities&&(E=e.capabilities),e.manifestLoader&&(S=e.manifestLoader),e.manifestModel&&(w=e.manifestModel),e.dashManifestModel&&(R=e.dashManifestModel),e.mediaPlayerModel&&($=e.mediaPlayerModel),e.protectionController&&(G=e.protectionController),e.adapter&&(A=e.adapter),e.metricsModel&&(C=e.metricsModel),e.dashMetrics&&(x=e.dashMetrics),e.errHandler&&(B=e.errHandler),e.timelineConverter&&(U=e.timelineConverter),e.videoModel&&(X=e.videoModel),e.playbackController&&(Q=e.playbackController),e.domStorage&&(M=e.domStorage),e.abrController&&(O=e.abrController),e.mediaController&&(k=e.mediaController),e.textController&&(L=e.textController))},setProtectionData:function setProtectionData(e){H=e},reset:reset},function setup(){b=(0,f.default)(t).getInstance().getLogger(u),P=(0,g.default)(t).getInstance(),I=(0,m.default)(t).getInstance(),D=(0,y.default)(t).getInstance(),N=(0,d.default)(t).getInstance(),F=(0,p.default)(t).getInstance(),resetInitialSettings()}(),u}StreamController.__dashjs_factory_name="StreamController",t.default=u.default.getSingletonFactory(StreamController),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(666)),a=_interopRequireDefault(r(682)),o=_interopRequireDefault(r(683)),s=_interopRequireDefault(r(687)),l=_interopRequireDefault(r(12)),u=_interopRequireDefault(r(14)),c=_interopRequireDefault(r(13)),f=_interopRequireDefault(r(38)),d=_interopRequireDefault(r(4)),p=_interopRequireDefault(r(32));function Stream(e){e=e||{};var t=this.context,r=(0,l.default)(t).getInstance(),d=e.manifestModel,h=e.dashManifestModel,g=e.mediaPlayerModel,m=e.manifestUpdater,y=e.adapter,v=e.capabilities,_=e.errHandler,b=e.timelineConverter,E=e.metricsModel,T=e.abrController,S=e.playbackController,w=e.mediaController,R=e.textController,A=e.videoModel,C=void 0,x=void 0,D=void 0,P=void 0,I=void 0,M=void 0,O=void 0,k=void 0,L=void 0,N=void 0,F=void 0,B=void 0,U=void 0,j=void 0,q=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function deactivate(e){for(var t=D?D.length:0,n=0;n<t;n++){D[n].getFragmentModel().removeExecutedRequestsBeforeTime(getStartTime()+getDuration()),D[n].reset(!1,e)}D=[],P=!1,I=!1,setPreloaded(!1),r.off(u.default.CURRENT_TRACK_CHANGED,onCurrentTrackChanged,C)}function resetInitialSettings(){deactivate(),M=null,O={},k=!1}function reset(){S&&S.pause(),N&&(N.reset(),N=null),resetInitialSettings(),function unRegisterEvents(){r.off(u.default.DATA_UPDATE_COMPLETED,onDataUpdateCompleted,C),r.off(u.default.BUFFERING_COMPLETED,onBufferingCompleted,C)}(),function unRegisterProtectionEvents(){L&&(r.off(u.default.KEY_ERROR,onProtectionError,C),r.off(u.default.SERVER_CERTIFICATE_UPDATED,onProtectionError,C),r.off(u.default.LICENSE_REQUEST_COMPLETE,onProtectionError,C),r.off(u.default.KEY_SYSTEM_SELECTED,onProtectionError,C),r.off(u.default.KEY_SESSION_CREATED,onProtectionError,C),r.off(u.default.KEY_STATUSES_CHANGED,onProtectionError,C))}(),setPreloaded(!1)}function getDuration(){return M?M.duration:NaN}function getStartTime(){return M?M.start:NaN}function getStreamInfo(){return M}function checkConfig(){if(!(T&&T.hasOwnProperty("getBitrateList")&&y&&y.hasOwnProperty("getAllMediaInfoForType")&&y.hasOwnProperty("getEventsFor")))throw new Error(n.default.MISSING_CONFIG_ERROR)}function onProtectionError(e){e.error&&(_.mediaKeySessionError(e.error.message),_.error(e.error),x.fatal(e.error.message),reset())}function isMediaSupported(e){var t,r=e.type,i=void 0;if(r===n.default.MUXED&&e)return i="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",x.fatal(i),_.manifestError(i,"multiplexedrep",d.getValue()),_.error(new p.default(f.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,i,d.getValue())),!1;if(r===n.default.TEXT||r===n.default.FRAGMENTED_TEXT||r===n.default.EMBEDDED_TEXT||r===n.default.IMAGE)return!0;if(t=e.codec,x.debug(r+" codec: "+t),e.contentProtection&&!v.supportsEncryptedMedia())_.capabilityError("encryptedmedia"),_.error(new p.default(f.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,f.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE));else if(!v.supportsCodec(t))return i=r+"Codec ("+t+") is not supported.",x.error(i),!1;return!0}function onCurrentTrackChanged(e){if(e.newMediaInfo.streamInfo.id===M.id){var t=getProcessorForMediaInfo(e.newMediaInfo);if(t){var r=S.getTime();x.info("Stream -  Process track changed at current time "+r);var i=e.newMediaInfo,a=d.getValue();y.setCurrentMediaInfo(M.id,i.type,i),x.debug("Stream -  Update stream controller"),a.refreshManifestOnSwitchTrack?(x.debug("Stream -  Refreshing manifest for switch track"),j=e,m.refreshManifest()):(t.selectMediaInfo(i),i.type!==n.default.FRAGMENTED_TEXT?(T.updateTopQualityIndex(i),t.switchTrackAsked(),t.getFragmentModel().abortRequests()):(t.getScheduleController().setSeekTarget(NaN),y.setIndexHandlerTime(t,r),y.resetIndexHandler(t)))}}}function initializeMediaForType(r,a){var o=y.getAllMediaInfoForType(M,r),l=null,u=void 0;if(o&&0!==o.length){for(var c=0,f=o.length;c<f;c++)if(l=o[c],r===n.default.EMBEDDED_TEXT)R.addEmbeddedTrack(l);else{if(!isMediaSupported(l))continue;w.addTrack(l)}r!==n.default.EMBEDDED_TEXT&&0!==w.getTracksFor(r,M).length&&(r!==n.default.IMAGE?((r!==n.default.FRAGMENTED_TEXT||r===n.default.FRAGMENTED_TEXT&&R.getTextDefaultEnabled())&&(w.checkInitialMediaSettingsForType(r,M),u=w.getCurrentTrackFor(r,M)),r!==n.default.FRAGMENTED_TEXT||R.getTextDefaultEnabled()||(u=w.getTracksFor(r,M)[0]),function createStreamProcessor(r,a,o,s){var l=(0,i.default)(t).create({type:r.type,mimeType:r.mimeType,timelineConverter:b,adapter:y,manifestModel:d,dashManifestModel:h,mediaPlayerModel:g,metricsModel:E,dashMetrics:e.dashMetrics,baseURLController:e.baseURLController,stream:C,abrController:T,domStorage:e.domStorage,playbackController:S,mediaController:w,streamController:e.streamController,textController:R,errHandler:_});if(l.initialize(o),T.updateTopQualityIndex(r),s?(l.setBuffer(s.buffer),l.getIndexHandler().setCurrentTime(s.currentTime),D[s.replaceIdx]=l):D.push(l),!s||!s.ignoreMediaInfo)if(r.type===n.default.TEXT||r.type===n.default.FRAGMENTED_TEXT){for(var u=void 0,c=0;c<a.length;c++)a[c].index===r.index&&(u=c),l.addMediaInfo(a[c]);l.selectMediaInfo(a[u])}else l.addMediaInfo(r,!0)}(u,o,a)):F=(0,s.default)(t).create({dashManifestModel:h,adapter:y,baseURLController:e.baseURLController,stream:C,timelineConverter:e.timelineConverter}))}else x.info("No "+r+" data.")}function initializeEventController(){B||((B=(0,a.default)(t).create()).setConfig({manifestUpdater:m,playbackController:S}),addInlineEvents())}function addInlineEvents(){var e=y.getEventsFor(M);B.addInlineEvents(e)}function filterCodecs(e){var t=y.getAdaptationForType(d.getValue(),M.index,e,M);t&&Array.isArray(t.Representation_asArray)&&(t.Representation_asArray=t.Representation_asArray.filter(function(e,r){if(0===r)return!0;var n=h.getCodec(t,r,!0);return!!v.supportsCodec(n)||(x.error("[Stream] codec not supported: "+n),!1)}))}function checkIfInitializationCompleted(){for(var e=D.length,t=!!O.audio||!!O.video?new p.default(f.default.DATA_UPDATE_FAILED_ERROR_CODE,f.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,i=0;i<e;i++)if(D[i].isUpdating()||k)return;if(I){if(L)for(i=0;i<e&&D[i];i++)D[i].getType()!==n.default.AUDIO&&D[i].getType()!==n.default.VIDEO&&D[i].getType()!==n.default.FRAGMENTED_TEXT||L.initializeForMedia(D[i].getMediaInfo());r.trigger(u.default.STREAM_INITIALIZED,{streamInfo:M,error:t})}}function createBuffers(e){for(var t={},r=0,n=D.length;r<n;r++)t[D[r].getType()]=D[r].createBuffer(e).getBuffer();return t}function onBufferingCompleted(e){if(e.streamInfo===M){var t=getProcessors(),i=t.length;if(0!==i){for(var a=0;a<i;a++)if(!t[a].isBufferingCompleted()&&(t[a].getType()===n.default.AUDIO||t[a].getType()===n.default.VIDEO))return void x.warn("onBufferingCompleted - One streamProcessor has finished but",t[a].getType(),"one is not buffering completed");x.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),r.trigger(u.default.STREAM_BUFFERING_COMPLETED,{streamInfo:M})}else x.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}}function onDataUpdateCompleted(e){var t=e.sender.getStreamProcessor();t.getStreamInfo()===M&&(O[t.getType()]=e.error,checkIfInitializationCompleted())}function getProcessorForMediaInfo(e){return e?getProcessors().filter(function(t){return t.getType()===e.type})[0]:null}function getProcessors(){for(var e=D.length,t=[],r=void 0,i=void 0,a=0;a<e;a++)(r=(i=D[a]).getType())!==n.default.AUDIO&&r!==n.default.VIDEO&&r!==n.default.FRAGMENTED_TEXT&&r!==n.default.TEXT||t.push(i);return t}function compareProtectionConfig(e,t){if(!e)return!1;var r=e.getStreamInfo(),n=getStreamInfo();if(!r||!n)return!1;var i=y.getAdaptationForType(d.getValue(),r.index,t,r),a=y.getAdaptationForType(d.getValue(),n.index,t,n);return i&&a?!i.ContentProtection&&!a.ContentProtection:!i&&!a}function compareCodecs(e,t){if(!e)return!1;var r=e.getStreamInfo(),n=getStreamInfo();if(!r||!n)return!1;var i=y.getAdaptationForType(d.getValue(),r.index,t,r),a=y.getAdaptationForType(d.getValue(),n.index,t,n);if(!i||!a)return!i&&!a;var o=i&&a&&i.mimeType===a.mimeType,s=a.Representation_asArray.map(function(e){return e.codecs}),l=i.Representation_asArray.map(function(e){return e.codecs}),u=l.some(function(e){return s.indexOf(e)>-1}),c=l.some(function(e){return s.some(function(t){return function codecRootCompatibleWithCodec(e,t){for(var r=e.split(".")[0],n=0===t.indexOf(r),i=void 0,a=0;a<q.length;a++)if(q[a].codec===r){i=q[a];break}if(i)return n||i.compatibleCodecs.some(function(e){return 0===t.indexOf(e)});return n}(t,e)})});return u||c&&o}function setPreloaded(e){U=e}function getPreloaded(){return U}return C={initialize:function initialize(e,t){M=e,L=t,function registerProtectionEvents(){L&&(r.on(u.default.KEY_ERROR,onProtectionError,C),r.on(u.default.SERVER_CERTIFICATE_UPDATED,onProtectionError,C),r.on(u.default.LICENSE_REQUEST_COMPLETE,onProtectionError,C),r.on(u.default.KEY_SYSTEM_SELECTED,onProtectionError,C),r.on(u.default.KEY_SESSION_CREATED,onProtectionError,C),r.on(u.default.KEY_STATUSES_CHANGED,onProtectionError,C))}()},activate:function activate(e,t){if(!P){var i=void 0;return r.on(u.default.CURRENT_TRACK_CHANGED,onCurrentTrackChanged,C),getPreloaded()?(!function initializeAfterPreload(){if(k=!0,checkConfig(),filterCodecs(n.default.VIDEO),filterCodecs(n.default.AUDIO),I=!0,k=!1,0===D.length){var e="No streams to play.";_.manifestError(e,"nostreams",d.getValue()),x.debug(e)}else checkIfInitializationCompleted()}(),i=t):i=function initializeMedia(e,t){checkConfig();var r=A.getElement();initializeEventController(),k=!0,filterCodecs(n.default.VIDEO),filterCodecs(n.default.AUDIO),(null===r||r&&/^VIDEO$/i.test(r.nodeName))&&initializeMediaForType(n.default.VIDEO,e);initializeMediaForType(n.default.AUDIO,e),initializeMediaForType(n.default.TEXT,e),initializeMediaForType(n.default.FRAGMENTED_TEXT,e),initializeMediaForType(n.default.EMBEDDED_TEXT,e),initializeMediaForType(n.default.MUXED,e),initializeMediaForType(n.default.IMAGE,e);var i=createBuffers(t);if(I=!0,k=!1,0===D.length){var a="No streams to play.";_.manifestError(a,"nostreams",d.getValue()),_.error(new p.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,a,d.getValue())),x.fatal(a)}else checkIfInitializationCompleted();return i}(e,t),P=!0,i}return t},deactivate:deactivate,isActive:function isActive(){return P},getDuration:getDuration,getStartTime:getStartTime,getId:function getId(){return M?M.id:null},getStreamInfo:getStreamInfo,preload:function preload(e,t){initializeEventController(),initializeMediaForType(n.default.VIDEO,e),initializeMediaForType(n.default.AUDIO,e),initializeMediaForType(n.default.TEXT,e),initializeMediaForType(n.default.FRAGMENTED_TEXT,e),initializeMediaForType(n.default.EMBEDDED_TEXT,e),initializeMediaForType(n.default.MUXED,e),initializeMediaForType(n.default.IMAGE,e),createBuffers(t),r.on(u.default.CURRENT_TRACK_CHANGED,onCurrentTrackChanged,C);for(var i=0;i<D.length&&D[i];i++)D[i].getScheduleController().start();setPreloaded(!0)},getFragmentController:function getFragmentController(){return N},getThumbnailController:function getThumbnailController(){return F},getBitrateListFor:function getBitrateListFor(e){if(checkConfig(),e===n.default.IMAGE)return F?F.getBitrateList():[];var t=function getMediaInfo(e){for(var t=D.length,r=null,n=0;n<t;n++)if((r=D[n]).getType()===e)return r.getMediaInfo();return null}(e);return T.getBitrateList(t)},startEventController:function startEventController(){B&&B.start()},stopEventController:function stopEventController(){B&&B.stop()},updateData:function updateData(e){x.info("Manifest updated... updating data system wide."),P=!1,k=!0,M=e,B&&addInlineEvents(),filterCodecs(n.default.VIDEO),filterCodecs(n.default.AUDIO);for(var t=0,r=D.length;t<r;t++){var i=D[t],a=y.getMediaInfoForType(M,i.getType());T.updateTopQualityIndex(a),i.addMediaInfo(a,!0)}if(j&&"fragmentedText"!==(a=j.newMediaInfo).type){var o=getProcessorForMediaInfo(j.oldMediaInfo);if(!o)return;o.switchTrackAsked(),j=void 0}k=!1,checkIfInitializationCompleted()},reset:reset,getProcessors:getProcessors,setMediaSource:function setMediaSource(e){for(var t=0;t<D.length;)isMediaSupported(D[t].getMediaInfo())?(D[t].setMediaSource(e),t++):(D[t].reset(),D.splice(t,1));for(t=0;t<D.length;t++)D[t].dischargePreBuffer();if(0===D.length){var r="No streams to play.";_.manifestError(r,"nostreams",d.getValue()),_.error(new p.default(f.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,r+"nostreams",d.getValue())),x.fatal(r)}},isMediaCodecCompatible:function isMediaCodecCompatible(e){return compareCodecs(e,n.default.VIDEO)&&compareCodecs(e,n.default.AUDIO)},isProtectionCompatible:function isProtectionCompatible(e){return compareProtectionConfig(e,n.default.VIDEO)&&compareProtectionConfig(e,n.default.AUDIO)},getPreloaded:getPreloaded,addInbandEvents:function addInbandEvents(e){B&&B.addInbandEvents(e)}},function setup(){x=(0,c.default)(t).getInstance().getLogger(C),resetInitialSettings(),N=(0,o.default)(t).create({mediaPlayerModel:g,metricsModel:E,errHandler:_}),function registerEvents(){r.on(u.default.BUFFERING_COMPLETED,onBufferingCompleted,C),r.on(u.default.DATA_UPDATE_COMPLETED,onDataUpdateCompleted,C)}()}(),C}Stream.__dashjs_factory_name="Stream",t.default=d.default.getClassFactory(Stream),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(667)),a=_interopRequireDefault(r(101)),o=_interopRequireDefault(r(668)),s=_interopRequireDefault(r(670)),l=_interopRequireDefault(r(673)),u=_interopRequireDefault(r(4)),c=_interopRequireDefault(r(674));function StreamProcessor(e){e=e||{};var t=this.context,r=e.type,u=e.errHandler,f=e.mimeType,d=e.timelineConverter,p=e.adapter,h=e.manifestModel,g=e.mediaPlayerModel,m=e.stream,y=e.abrController,v=e.playbackController,_=e.streamController,b=e.mediaController,E=e.textController,T=e.domStorage,S=e.metricsModel,w=e.dashMetrics,R=e.dashManifestModel,A=void 0,C=void 0,x=void 0,D=void 0,P=void 0,I=void 0,M=void 0,O=void 0,k=void 0,L=void 0;function unregisterAllExternalController(){k=[]}function resetInitialSettings(){x=[],C=null,unregisterAllExternalController()}function getStreamInfo(){return m?m.getStreamInfo():null}function getMediaInfo(){return C}return A={initialize:function initialize(i){(L=(0,c.default)(t).create({mimeType:f,timelineConverter:d,dashMetrics:w,metricsModel:S,mediaPlayerModel:g,baseURLController:e.baseURLController,errHandler:u})).initialize(A),y.registerStreamType(r,A),(O=m.getFragmentController().getModel(r)).setStreamProcessor(A),D=function createBufferControllerForType(e){var r=null;r=e===n.default.VIDEO||e===n.default.AUDIO?(0,a.default)(t).create({type:e,metricsModel:S,mediaPlayerModel:g,manifestModel:h,errHandler:u,streamController:_,mediaController:b,adapter:p,textController:E,abrController:y,playbackController:v,streamProcessor:A}):(0,o.default)(t).create({type:e,mimeType:f,metricsModel:S,mediaPlayerModel:g,manifestModel:h,errHandler:u,streamController:_,mediaController:b,adapter:p,textController:E,abrController:y,playbackController:v,streamProcessor:A});return r}(r),P=(0,s.default)(t).create({type:r,mimeType:f,metricsModel:S,adapter:p,dashMetrics:w,dashManifestModel:R,timelineConverter:d,mediaPlayerModel:g,abrController:y,playbackController:v,streamController:_,textController:E,streamProcessor:A,mediaController:b}),(M=(0,l.default)(t).create()).setConfig({abrController:y,domStorage:T,metricsModel:S,dashMetrics:w,dashManifestModel:R,manifestModel:h,playbackController:v,timelineConverter:d,streamProcessor:A}),D.initialize(i),P.initialize(),M.initialize()},isUpdating:function isUpdating(){return!!M&&M.isUpdating()},getType:function getType(){return r},getBufferController:function getBufferController(){return D},getFragmentModel:function getFragmentModel(){return O},getScheduleController:function getScheduleController(){return P},getLiveEdgeFinder:function getLiveEdgeFinder(){return I},getFragmentController:function getFragmentController(){return m?m.getFragmentController():null},getRepresentationController:function getRepresentationController(){return M},getIndexHandler:function getIndexHandler(){return L},getRepresentationInfo:function getRepresentationInfo(e){return p.getRepresentationInfo(M,e)},getBufferLevel:function getBufferLevel(){return D.getBufferLevel()},switchInitData:function switchInitData(e,t){D&&D.switchInitData(getStreamInfo().id,e,t)},isBufferingCompleted:function isBufferingCompleted(){return!!D&&D.getIsBufferingCompleted()},timeIsBuffered:function timeIsBuffered(e){return!!D&&null!==D.getRangeAt(e,0)},createBuffer:function createBuffer(e){return D.getBuffer()||D.createBuffer(C,e)},getStreamInfo:getStreamInfo,selectMediaInfo:function selectMediaInfo(e){e===C||e&&C&&e.type!==C.type||(C=e),p.updateData(this)},addMediaInfo:function addMediaInfo(e,t){-1===x.indexOf(e)&&x.push(e),t&&this.selectMediaInfo(e)},switchTrackAsked:function switchTrackAsked(){P.switchTrackAsked()},getMediaInfoArr:function getMediaInfoArr(){return x},getMediaInfo:getMediaInfo,getMediaSource:function getMediaSource(){return D.getMediaSource()},setMediaSource:function setMediaSource(e){D.setMediaSource(e,getMediaInfo())},dischargePreBuffer:function dischargePreBuffer(){D.dischargePreBuffer()},getBuffer:function getBuffer(){return D.getBuffer()},setBuffer:function setBuffer(e){D.setBuffer(e)},registerExternalController:function registerExternalController(e){k.push(e)},unregisterExternalController:function unregisterExternalController(e){var t=k.indexOf(e);-1!==t&&k.splice(t,1)},getExternalControllers:function getExternalControllers(){return k},unregisterAllExternalController:unregisterAllExternalController,addInbandEvents:function addInbandEvents(e){m&&m.addInbandEvents(e)},reset:function reset(e,t){L.reset(),D&&(D.reset(e,t),D=null),P&&(P.reset(),P=null),M&&(M.reset(),M=null),y&&y.unRegisterStreamType(r),k.forEach(function(e){e.reset()}),resetInitialSettings(),r=null,m=null,I&&(I.reset(),I=null)}},function setup(){v&&v.getIsDynamic()&&(I=(0,i.default)(t).create({timelineConverter:d,streamProcessor:A})),resetInitialSettings()}(),A}StreamProcessor.__dashjs_factory_name="StreamProcessor",t.default=u.default.getClassFactory(StreamProcessor),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(11));function LiveEdgeFinder(e){var t=(e=e||{}).timelineConverter,r=e.streamProcessor;return{getLiveEdge:function getLiveEdge(){!function checkConfig(){if(!(t&&t.hasOwnProperty("getExpectedLiveEdge")&&r&&r.hasOwnProperty("getRepresentationInfo")))throw new Error(i.default.MISSING_CONFIG_ERROR)}();var e=r.getRepresentationInfo(),n=e.DVRWindow?e.DVRWindow.end:0,a=n;return e.useCalculatedLiveEdgeTime&&(a=t.getExpectedLiveEdge(),t.setClientTimeOffset(a-n)),a},reset:function reset(){t=null,r=null}}}LiveEdgeFinder.__dashjs_factory_name="LiveEdgeFinder",t.default=n.default.getClassFactory(LiveEdgeFinder),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(4)),a=_interopRequireDefault(r(101)),o=_interopRequireDefault(r(669));function TextBufferController(e){e=e||{};var t,r=this.context,i=void 0;function getBuffer(){return i.getBuffer()}return t={getBufferControllerType:function getBufferControllerType(){return i.getBufferControllerType()},initialize:function initialize(e,t){return i.initialize(e,t)},createBuffer:function createBuffer(e){return i.createBuffer(e)},getType:function getType(){return i.getType()},getStreamProcessor:function getStreamProcessor(){i.getStreamProcessor()},setSeekStartTime:function setSeekStartTime(e){i.setSeekStartTime(e)},getBuffer:getBuffer,setBuffer:function setBuffer(e){i.setBuffer(e)},getBufferLevel:function getBufferLevel(){return i.getBufferLevel()},setMediaSource:function setMediaSource(e){i.setMediaSource(e)},getMediaSource:function getMediaSource(){return i.getMediaSource()},getIsBufferingCompleted:function getIsBufferingCompleted(){return i.getIsBufferingCompleted()},getIsPruningInProgress:function getIsPruningInProgress(){return i.getIsPruningInProgress()},dischargePreBuffer:function dischargePreBuffer(){return i.dischargePreBuffer()},switchInitData:function switchInitData(e,t){i.switchInitData(e,t)},getRangeAt:function getRangeAt(e){return i.getRangeAt(e)},reset:function reset(e){i.reset(e)},updateTimestampOffset:function updateTimestampOffset(e){var t=getBuffer();t.timestampOffset===e||isNaN(e)||(t.timestampOffset=e)}},function setup(){i=e.type===n.default.FRAGMENTED_TEXT?(0,a.default)(r).create({type:e.type,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,manifestModel:e.manifestModel,errHandler:e.errHandler,streamController:e.streamController,mediaController:e.mediaController,adapter:e.adapter,textController:e.textController,abrController:e.abrController,playbackController:e.playbackController,streamProcessor:e.streamProcessor}):(0,o.default)(r).create({type:e.type,mimeType:e.mimeType,errHandler:e.errHandler,streamProcessor:e.streamProcessor})}(),t}TextBufferController.__dashjs_factory_name="TextBufferController",t.default=i.default.getClassFactory(TextBufferController),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(12)),a=_interopRequireDefault(r(14)),o=_interopRequireDefault(r(4)),s=_interopRequireDefault(r(222)),l=_interopRequireDefault(r(294)),u=_interopRequireDefault(r(214)),c=_interopRequireDefault(r(32)),f=_interopRequireDefault(r(38)),d="NotFragmentedTextBufferController";function NotFragmentedTextBufferController(e){e=e||{};var t=this.context,r=(0,i.default)(t).getInstance(),o=(0,u.default)(t).getInstance(),p=e.errHandler,h=e.type,g=e.mimeType,m=e.streamProcessor,y=void 0,v=void 0,_=void 0,b=void 0,E=void 0,T=void 0;function setMediaSource(e){b=e}function onDataUpdateCompleted(e){e.sender.getStreamProcessor()===m&&(T.extract(m.getStreamInfo().id,e.sender.getCurrentRepresentation().id)||r.trigger(a.default.TIMED_TEXT_REQUESTED,{index:0,sender:e.sender}))}function onInitFragmentLoaded(e){e.fragmentModel===m.getFragmentModel()&&e.chunk.bytes&&(T.save(e.chunk),E.append(e.chunk),r.trigger(a.default.STREAM_COMPLETED,{request:e.request,fragmentModel:e.fragmentModel}))}return y={getBufferControllerType:function getBufferControllerType(){return d},initialize:function initialize(e){setMediaSource(e),T=(0,s.default)(t).getInstance()},createBuffer:function createBuffer(e){try{if(E=(0,l.default)(t).create(b,e),!_){var r=E.getBuffer();r.hasOwnProperty(n.default.INITIALIZE)&&r.initialize(g,m),_=!0}return E}catch(t){if(e.isText||-1!==e.codec.indexOf('codecs="stpp')||-1!==e.codec.indexOf('codecs="wvtt'))try{E=o.getTextSourceBuffer()}catch(e){p.mediaSourceError("Error creating "+h+" source buffer."),p.error(new c.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+h+" : "+e.message))}else p.mediaSourceError("Error creating "+h+" source buffer."),p.error(new c.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+h))}},getType:function getType(){return h},getStreamProcessor:function getStreamProcessor(){return m},setSeekStartTime:function setSeekStartTime(){},getBuffer:function getBuffer(){return E},getBufferLevel:function getBufferLevel(){return 0},setMediaSource:setMediaSource,getMediaSource:function getMediaSource(){return b},getIsBufferingCompleted:function getIsBufferingCompleted(){return v},getIsPruningInProgress:function getIsPruningInProgress(){return!1},dischargePreBuffer:function dischargePreBuffer(){},switchInitData:function switchInitData(e,t){T.extract(e,t)||r.trigger(a.default.TIMED_TEXT_REQUESTED,{index:0,sender:y})},getRangeAt:function getRangeAt(){return null},reset:function reset(e){r.off(a.default.DATA_UPDATE_COMPLETED,onDataUpdateCompleted,y),r.off(a.default.INIT_FRAGMENT_LOADED,onInitFragmentLoaded,y),!e&&E&&(E.abort(),E.reset(),E=null)},updateTimestampOffset:function updateTimestampOffset(e){E.timestampOffset===e||isNaN(e)||(E.timestampOffset=e)}},function setup(){_=!1,b=null,v=!1,r.on(a.default.DATA_UPDATE_COMPLETED,onDataUpdateCompleted,y),r.on(a.default.INIT_FRAGMENT_LOADED,onInitFragmentLoaded,y)}(),y}NotFragmentedTextBufferController.__dashjs_factory_name=d,t.default=o.default.getClassFactory(NotFragmentedTextBufferController),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=r(305),a=_interopRequireDefault(r(159)),o=_interopRequireDefault(r(101)),s=_interopRequireDefault(r(671)),l=_interopRequireDefault(r(672)),u=_interopRequireDefault(r(154)),c=_interopRequireDefault(r(12)),f=_interopRequireDefault(r(14)),d=_interopRequireDefault(r(4)),p=_interopRequireDefault(r(13)),h=_interopRequireDefault(r(221)),g=r(104);function ScheduleController(e){e=e||{};var t=this.context,r=(0,c.default)(t).getInstance(),d=e.metricsModel,m=e.adapter,y=e.dashMetrics,v=e.dashManifestModel,_=e.timelineConverter,b=e.mediaPlayerModel,E=e.abrController,T=e.playbackController,S=e.streamController,w=e.textController,R=e.type,A=e.streamProcessor,C=e.mediaController,x=void 0,D=void 0,P=void 0,I=void 0,M=void 0,O=void 0,k=void 0,L=void 0,N=void 0,F=void 0,B=void 0,U=void 0,j=void 0,q=void 0,G=void 0,H=void 0,V=void 0,z=void 0,K=void 0,W=void 0,Y=void 0,X=void 0,Q=void 0;function start(){I&&!A.isBufferingCompleted()?(D.debug("Schedule Controller starts"),addPlaylistTraceMetrics(),O=!1,M&&(M=!1),startScheduleTimer(0)):D.warn("Start denied to Schedule Controller")}function stop(){O||(D.debug("Schedule Controller stops"),O=!0,clearTimeout(U))}function schedule(){var e=A.getBufferController();if(O||F||!e||T.isPaused()&&!b.getScheduleWhilePaused()||!(R!==n.default.FRAGMENTED_TEXT&&R!==n.default.TEXT||w.isTextEnabled()))D.debug("Schedule stop!");else if(e.getIsBufferingCompleted())D.debug("Schedule stop because buffering is completed!");else{!function validateExecutedFragmentRequest(){var e=T.getTime(),t=1.5*I.fragmentDuration,r=P.getRequests({state:u.default.FRAGMENT_MODEL_EXECUTED,time:e+t,threshold:0})[0];if(r&&-1===K.indexOf(r)&&!v.getIsTextTrack(R)){var n=b.getFastSwitchEnabled(),i=A.getBufferLevel(),o=E.getAbandonmentStateFor(R),s=!C.isCurrentTrack(r.mediaInfo)&&C.getSwitchMode(r.mediaInfo.type)===h.default.TRACK_SWITCH_MODE_NEVER_REPLACE,l=r.quality<I.quality;n&&(s||l)&&i>=t&&o!==a.default.ABANDON_LOAD?(replaceRequest(r),Q=!0,D.debug("Reloading outdated fragment at index: ",r.index)):r.quality>I.quality&&!Y&&setSeekTarget(T.getTime()+A.getBufferLevel())}}();var t=K.length>0,r=A.getStreamInfo();if(Y||isNaN(z)||W||t||function hasTopQualityChanged(e,t){V[t]=V[t]||{};var r=E.getTopQualityIndexFor(e,t);return V[t][e]!=r&&(D.info("Top quality "+e+" index has changed from "+V[t][e]+" to "+r),V[t][e]=r,!0)}(I.mediaInfo.type,r.id)||q.execute(A,S.isTrackTypePresent(n.default.VIDEO))){setFragmentProcessState(!0),t||W||E.checkPlaybackQuality(R),function getNextFragment(){var e=A.getFragmentController();if(I.quality===z&&!W||Y){var t=K.shift();if(e.isInitializationRequest(t))A.switchInitData(t.representationId);else{var n=void 0;A.getBufferController().getIsPruningInProgress()||(n=G.execute(A,j,t),setSeekTarget(NaN),n&&!t&&(isNaN(n.startTime+n.duration)||m.setIndexHandlerTime(A,n.startTime+n.duration),n.delayLoadingTime=(new Date).getTime()+B,setTimeToLoadDelay(0)),!n&&r.manifestInfo&&r.manifestInfo.isDynamic&&D.debug("Next fragment seems to be at the bleeding live edge and is not available yet. Rescheduling.")),n?(D.debug("Next fragment request url is "+n.url),P.executeRequest(n)):(setFragmentProcessState(!1),startScheduleTimer(b.getLowLatencyEnabled()?100:500))}}else D.debug("Quality has changed, get init request for representationid = "+I.id),W?(Y=C.getSwitchMode(R)===h.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,D.debug("Switch track has been asked, get init request for "+R+" with representationid = "+I.id+"bufferResetInProgress = "+Y),A.switchInitData(I.id,Y),W=!1):A.switchInitData(I.id),z=I.quality}()}else startScheduleTimer(500)}}function startScheduleTimer(e){clearTimeout(U),U=setTimeout(schedule,e)}function onInitRequested(e){e.sender&&e.sender.getStreamProcessor()===A&&getInitRequest(I.quality)}function setFragmentProcessState(e){F!==e?F=e:D.debug("isFragmentProcessingInProgress is already equal to",e)}function getInitRequest(e){var t=m.getInitRequest(A,e);t&&(setFragmentProcessState(!0),t.url=(0,g.replaceTokenForTemplate)(t.url,"Bandwidth",I?I.bandwidth:null),P.executeRequest(t))}function replaceRequest(e){K.push(e)}function onQualityChanged(e){if(R===e.mediaType&&A.getStreamInfo().id===e.streamInfo.id){if(null==(I=A.getRepresentationInfo(e.newQuality)))throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");clearPlayListTraceMetrics(new Date,i.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),addPlaylistTraceMetrics()}}function completeQualityChange(e){if(T&&P){var t=P.getRequests({state:u.default.FRAGMENT_MODEL_EXECUTED,time:T.getTime(),threshold:0})[0];t&&T.getTime()>=t.startTime&&((!H.mediaInfo||t.mediaInfo.type===H.mediaInfo.type&&t.mediaInfo.id!==H.mediaInfo.id)&&e&&r.trigger(f.default.TRACK_CHANGE_RENDERED,{mediaType:R,oldMediaInfo:H.mediaInfo,newMediaInfo:t.mediaInfo}),t.quality===H.quality&&t.adaptationIndex===H.adaptationIndex||!e||r.trigger(f.default.QUALITY_CHANGE_RENDERED,{mediaType:R,oldQuality:H.quality,newQuality:t.quality}),H={mediaInfo:t.mediaInfo,quality:t.quality,adaptationIndex:t.adaptationIndex})}}function onDataUpdateCompleted(e){e.error||e.sender.getStreamProcessor()!==A||(I=m.convertDataToRepresentationInfo(e.currentRepresentation))}function onStreamInitialized(e){e.error||A.getStreamInfo().id!==e.streamInfo.id||(I=A.getRepresentationInfo(),M&&(T.getIsDynamic()?(_.setTimeSyncCompleted(!0),function setLiveEdgeSeekTarget(){var e=A.getLiveEdgeFinder();if(e){var t=e.getLiveEdge(),r=I.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,i=t-T.computeLiveDelay(I.fragmentDuration,r),a=m.getFragmentRequest(A,I,i,{ignoreIsFinished:!0});if(a)if(b.getLowLatencyEnabled()){var o=a.duration<b.getLiveDelay()?a.startTime:a.startTime+a.duration-b.getLiveDelay();T.setLiveStartTime(o)}else T.setLiveStartTime(a.startTime);else D.debug("setLiveEdgeSeekTarget : getFragmentRequest returned undefined request object");j=T.getStreamStartTime(!1,t),A.getBufferController().setSeekStartTime(j),j>I.mediaInfo.streamInfo.start+I.mediaInfo.streamInfo.duration&&T.seek(j);var s=y.getCurrentManifestUpdate(d.getMetricsFor(n.default.STREAM));d.updateManifestUpdateInfo(s,{currentTime:j,presentationStartTime:t,latency:t-j,clientTimeOffset:_.getClientTimeOffset()})}}()):(j=T.getStreamStartTime(!1),A.getBufferController().setSeekStartTime(j))),O&&start())}function onStreamCompleted(e){e.fragmentModel===P&&(stop(),setFragmentProcessState(!1),D.info("Stream is complete"))}function onFragmentLoadingCompleted(e){e.sender===P&&(D.info("OnFragmentLoadingCompleted - Url:",e.request?e.request.url:"undefined",", Range:",e.request.range?e.request.range:"undefined"),v.getIsTextTrack(R)&&setFragmentProcessState(!1),e.error&&e.request.serviceLocation&&!O&&(replaceRequest(e.request),setFragmentProcessState(!1),startScheduleTimer(0)),Y&&(X=e.request))}function onPlaybackTimeUpdated(){completeQualityChange(!0)}function onBytesAppended(e){if(e.sender.getStreamProcessor()===A)if(Y&&!isNaN(e.startTime)&&(Y=!1,P.addExecutedRequest(X)),setFragmentProcessState(!1),Q&&!isNaN(e.startTime)){var t=T.getTime(),r=e.startTime+I.fragmentDuration,n=1.5*I.fragmentDuration;startScheduleTimer(t+n>=r?0:1e3*(r-(t+n))),Q=!1}else startScheduleTimer(0)}function onFragmentLoadingAbandoned(e){e.streamProcessor===A&&(D.info("onFragmentLoadingAbandoned for "+R+", request: "+e.request.url+" has been aborted"),T.isSeeking()||W||(D.info("onFragmentLoadingAbandoned for "+R+", request: "+e.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),replaceRequest(e.request)),setFragmentProcessState(!1),startScheduleTimer(0))}function onDataUpdateStarted(e){e.sender.getStreamProcessor()===A&&stop()}function onBufferCleared(e){if(e.sender.getStreamProcessor()===A){var t=A.getStreamInfo();t&&(e.unintended?P.removeExecutedRequestsAfterTime(e.from,t.duration):P.syncExecutedRequestsWithBufferedRange(A.getBufferController().getBuffer().getAllBufferRanges(),t.duration)),e.hasEnoughSpaceToAppend&&O&&start()}}function onBufferLevelStateChanged(e){e.sender.getStreamProcessor()!==A||e.state!==o.default.BUFFER_EMPTY||T.isSeeking()||(D.info("Buffer is empty! Stalling!"),clearPlayListTraceMetrics(new Date,i.PlayListTrace.REBUFFERING_REASON))}function onQuotaExceeded(e){e.sender.getStreamProcessor()===A&&(stop(),setFragmentProcessState(!1))}function onURLResolutionFailed(){P.abortRequests(),stop()}function onTimedTextRequested(e){e.sender.getStreamProcessor()===A&&w.isTextEnabled()&&getInitRequest(e.index)}function onPlaybackStarted(){!O&&b.getScheduleWhilePaused()||start()}function onPlaybackSeeking(e){j=e.seekTime,setTimeToLoadDelay(0),O&&start();var t=y.getCurrentManifestUpdate(d.getMetricsFor(n.default.STREAM)),r=I.DVRWindow&&T?I.DVRWindow.end-T.getTime():NaN;d.updateManifestUpdateInfo(t,{latency:r}),F?(D.debug("onPlaybackSeeking for "+R+", call fragmentModel.abortRequests in order to seek quicker"),P.abortRequests()):startScheduleTimer(0)}function onPlaybackRateChanged(e){L&&(L.playbackspeed=e.playbackRate.toString())}function setSeekTarget(e){j=e}function setTimeToLoadDelay(e){B=e}function clearPlayListTraceMetrics(e,t){if(k&&!1===N){var r=L.start,n=e.getTime()-r.getTime();L.duration=n,L.stopreason=t,k.trace.push(L),N=!0}}function addPlaylistTraceMetrics(){k&&!0===N&&I&&(N=!1,(L=new i.PlayListTrace).representationid=I.id,L.start=new Date,L.mstart=1e3*T.getTime(),L.playbackspeed=T.getPlaybackRate().toString())}function resetInitialSettings(){F=!1,B=0,j=NaN,k=null,L=null,N=!0,M=!0,z=NaN,H={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},V={},K=[],O=!0,W=!1,Y=!1,X=null,Q=!1}return x={initialize:function initialize(){P=A.getFragmentModel(),q=(0,s.default)(t).create({abrController:E,dashMetrics:y,metricsModel:d,mediaPlayerModel:b,textController:w}),G=(0,l.default)(t).create({adapter:m,textController:w,playbackController:T}),v.getIsTextTrack(e.mimeType)&&r.on(f.default.TIMED_TEXT_REQUESTED,onTimedTextRequested,this),r.on(f.default.QUALITY_CHANGE_REQUESTED,onQualityChanged,this),r.on(f.default.DATA_UPDATE_STARTED,onDataUpdateStarted,this),r.on(f.default.DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this),r.on(f.default.FRAGMENT_LOADING_COMPLETED,onFragmentLoadingCompleted,this),r.on(f.default.STREAM_COMPLETED,onStreamCompleted,this),r.on(f.default.STREAM_INITIALIZED,onStreamInitialized,this),r.on(f.default.BUFFER_LEVEL_STATE_CHANGED,onBufferLevelStateChanged,this),r.on(f.default.BUFFER_CLEARED,onBufferCleared,this),r.on(f.default.BYTES_APPENDED_END_FRAGMENT,onBytesAppended,this),r.on(f.default.INIT_REQUESTED,onInitRequested,this),r.on(f.default.QUOTA_EXCEEDED,onQuotaExceeded,this),r.on(f.default.PLAYBACK_SEEKING,onPlaybackSeeking,this),r.on(f.default.PLAYBACK_STARTED,onPlaybackStarted,this),r.on(f.default.PLAYBACK_RATE_CHANGED,onPlaybackRateChanged,this),r.on(f.default.PLAYBACK_TIME_UPDATED,onPlaybackTimeUpdated,this),r.on(f.default.URL_RESOLUTION_FAILED,onURLResolutionFailed,this),r.on(f.default.FRAGMENT_LOADING_ABANDONED,onFragmentLoadingAbandoned,this)},getType:function getType(){return R},setSeekTarget:setSeekTarget,setTimeToLoadDelay:setTimeToLoadDelay,replaceRequest:replaceRequest,switchTrackAsked:function switchTrackAsked(){W=!0},isStarted:function isStarted(){return!1===O},start:start,stop:stop,reset:function reset(){r.off(f.default.DATA_UPDATE_STARTED,onDataUpdateStarted,this),r.off(f.default.DATA_UPDATE_COMPLETED,onDataUpdateCompleted,this),r.off(f.default.BUFFER_LEVEL_STATE_CHANGED,onBufferLevelStateChanged,this),r.off(f.default.QUALITY_CHANGE_REQUESTED,onQualityChanged,this),r.off(f.default.FRAGMENT_LOADING_COMPLETED,onFragmentLoadingCompleted,this),r.off(f.default.STREAM_COMPLETED,onStreamCompleted,this),r.off(f.default.STREAM_INITIALIZED,onStreamInitialized,this),r.off(f.default.QUOTA_EXCEEDED,onQuotaExceeded,this),r.off(f.default.BYTES_APPENDED_END_FRAGMENT,onBytesAppended,this),r.off(f.default.BUFFER_CLEARED,onBufferCleared,this),r.off(f.default.INIT_REQUESTED,onInitRequested,this),r.off(f.default.PLAYBACK_RATE_CHANGED,onPlaybackRateChanged,this),r.off(f.default.PLAYBACK_SEEKING,onPlaybackSeeking,this),r.off(f.default.PLAYBACK_STARTED,onPlaybackStarted,this),r.off(f.default.PLAYBACK_TIME_UPDATED,onPlaybackTimeUpdated,this),r.off(f.default.URL_RESOLUTION_FAILED,onURLResolutionFailed,this),r.off(f.default.FRAGMENT_LOADING_ABANDONED,onFragmentLoadingAbandoned,this),v.getIsTextTrack(R)&&r.off(f.default.TIMED_TEXT_REQUESTED,onTimedTextRequested,this),stop(),completeQualityChange(!1),resetInitialSettings()},setPlayList:function setPlayList(e){k=e},getBufferTarget:function getBufferTarget(){return q.getBufferTarget(A,S.isTrackTypePresent(n.default.VIDEO))},finalisePlayList:function finalisePlayList(e,t){clearPlayListTraceMetrics(e,t),k=null}},function setup(){D=(0,p.default)(t).getInstance().getLogger(x),resetInitialSettings()}(),x}ScheduleController.__dashjs_factory_name="ScheduleController",t.default=d.default.getClassFactory(ScheduleController),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(4));function BufferLevelRule(e){var t=(e=e||{}).dashMetrics,r=e.metricsModel,i=e.mediaPlayerModel,a=e.textController,o=e.abrController;function getBufferTarget(e,s){var l=NaN;if(!e)return l;var u=e.getType(),c=e.getRepresentationInfo();if(u===n.default.FRAGMENTED_TEXT)l=a.isTextEnabled()?c.fragmentDuration:0;else if(u===n.default.AUDIO&&s){var f=t.getCurrentBufferLevel(r.getReadOnlyMetricsFor(n.default.VIDEO));l=isNaN(c.fragmentDuration)?f:Math.max(f,c.fragmentDuration)}else{var d=c.mediaInfo.streamInfo;if(o.isPlayingAtTopQuality(d))l=d.manifestInfo.duration>=i.getLongFormContentDurationThreshold()?i.getBufferTimeAtTopQualityLongForm():i.getBufferTimeAtTopQuality();else l=i.getStableBufferTime()}return l}return{execute:function execute(e,n){return!e||t.getCurrentBufferLevel(r.getReadOnlyMetricsFor(e.getType()))<getBufferTarget(e,n)},getBufferTarget:getBufferTarget}}BufferLevelRule.__dashjs_factory_name="BufferLevelRule",t.default=i.default.getClassFactory(BufferLevelRule),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(13)),a=_interopRequireDefault(r(4)),o=_interopRequireDefault(r(102));function NextFragmentRequestRule(e){e=e||{};var t=this.context,r=e.adapter,a=e.textController,s=e.playbackController,l=void 0,u=void 0;return l={execute:function execute(e,t,i){if(!e)return null;var l=e.getRepresentationInfo(),c=e.getType(),f=!isNaN(t),d=e.getBufferController(),p=s.getNormalizedTime(),h=f?t:r.getIndexHandlerTime(e),g=!1,m=void 0;if(isNaN(h)||c===n.default.FRAGMENTED_TEXT&&!a.isTextEnabled())return null;if(d){var y=d.getRangeAt(h),v=d.getRangeAt(p),_=d.getBuffer().hasDiscontinuitiesAfter(p);null===y&&null===v||f||((!y||v&&v.start!=y.start&&v.end!=y.end)&&(_&&c!==n.default.FRAGMENTED_TEXT&&(e.getFragmentModel().removeExecutedRequestsAfterTime(v.end),g=!0),y=v),h!==y.end&&(u.debug("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end for",c,".",h,"was changed to",y.end),h=y.end))}if(i)h=i.startTime+i.duration/2,m=r.getFragmentRequest(e,l,h,{timeThreshold:0,ignoreIsFinished:!0});else for(m=r.getFragmentRequest(e,l,h,{keepIdx:!f&&!g});m&&m.action!==o.default.ACTION_COMPLETE&&e.getFragmentModel().isFragmentLoaded(m);)m=r.getFragmentRequest(e,l);return m}},function setup(){u=(0,i.default)(t).getInstance().getLogger(l)}(),l}NextFragmentRequestRule.__dashjs_factory_name="NextFragmentRequestRule",t.default=a.default.getClassFactory(NextFragmentRequestRule),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(38)),a=_interopRequireDefault(r(57)),o=_interopRequireDefault(r(32)),s=_interopRequireDefault(r(12)),l=_interopRequireDefault(r(14)),u=_interopRequireDefault(r(4)),c=_interopRequireDefault(r(224));function RepresentationController(){var e=this.context,t=(0,s.default)(e).getInstance(),r=void 0,u=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,E=void 0,T=void 0,S=void 0,w=void 0;function isUpdating(){return d}function getCurrentRepresentation(){return h}function resetInitialSettings(){u=null,f=-1,d=!0,p=[],g=null,y=null,v=null,_=null,b=null,E=null,T=null}function addRepresentationSwitch(){var e=new Date,t=getCurrentRepresentation(),r=1e3*y.getTime();v.addRepresentationSwitch(t.adaptation.type,e,r,t.id)}function addDVRMetric(){var e=S.getStreamInfo(),t=e?e.manifestInfo:null,r=t?t.isDynamic:null,n=b.calcSegmentAvailabilityRange(h,r);v.addDVRInfo(S.getType(),y.getTime(),t,n)}function getRepresentationForQuality(e){return null==e||e>=p.length?null:p[e]}function postponeUpdate(e){var n=e;d=!1,t.trigger(l.default.AST_IN_FUTURE,{delay:n}),setTimeout(function update(){if(!isUpdating()){d=!0,t.trigger(l.default.DATA_UPDATE_STARTED,{sender:r}),function resetAvailabilityWindow(){p.forEach(function(e){e.segmentAvailabilityRange=null})}();for(var e=0;e<p.length;e++)m.updateRepresentation(p[e],!0)}},n)}function onRepresentationUpdated(e){if(e.sender.getStreamProcessor()===S&&isUpdating()){var r=e.representation,s=v.getMetricsFor(n.default.STREAM),f=v.getMetricsFor(getCurrentRepresentation().adaptation.type),m=T.getCurrentManifestUpdate(s),_=!1,b=0,E=void 0,w=void 0;if(r.adaptation.period.mpd.manifest.type===a.default.DYNAMIC&&!r.adaptation.period.mpd.manifest.ignorePostponeTimePeriod){var R=r.segmentAvailabilityRange.end-r.segmentAvailabilityRange.start;b=1e3*(y.computeLiveDelay(h.segmentDuration,S.getStreamInfo().manifestInfo.DVRWindowSize)-R)}if(b>0)return addDVRMetric(),postponeUpdate(b),w=new o.default(i.default.SEGMENTS_UPDATE_FAILED_ERROR_CODE,i.default.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE),void t.trigger(l.default.DATA_UPDATE_COMPLETED,{sender:this,data:u,currentRepresentation:h,error:w});if(m){for(var A=0;A<m.representationInfo.length;A++)if((E=m.representationInfo[A]).index===r.index&&E.mediaType===S.getType()){_=!0;break}_||v.addManifestUpdateRepresentationInfo(m,r.id,r.index,r.adaptation.period.index,S.getType(),r.presentationTimeOffset,r.startNumber,r.segmentInfoType)}(function isAllRepresentationsUpdated(){for(var e=0,t=p.length;e<t;e++){var r=p[e].segmentInfoType;if(null===p[e].segmentAvailabilityRange||!c.default.hasInitialization(p[e])||(r===a.default.SEGMENT_BASE||r===a.default.BASE_URL)&&!p[e].segments)return!1}return!0})()&&(d=!1,g.setPlaybackQuality(S.getType(),S.getStreamInfo(),function getQualityForRepresentation(e){return p.indexOf(e)}(h)),v.updateManifestUpdateInfo(m,{latency:h.segmentAvailabilityRange.end-y.getTime()}),T.getCurrentRepresentationSwitch(f)||addRepresentationSwitch(),t.trigger(l.default.DATA_UPDATE_COMPLETED,{sender:this,data:u,currentRepresentation:h}))}}function onWallclockTimeUpdated(e){e.isDynamic&&function updateAvailabilityWindow(e){for(var t=void 0,r=0,n=p.length;r<n;r++)(t=p[r]).segmentAvailabilityRange=b.calcSegmentAvailabilityRange(t,e)}(e.isDynamic)}function onBufferLevelUpdated(e){e.sender.getStreamProcessor()===S&&(w.getValue().doNotUpdateDVRWindowOnBufferUpdated||addDVRMetric())}function onQualityChanged(e){if(e.mediaType===S.getType()&&S.getStreamInfo().id===e.streamInfo.id&&e.oldQuality!==e.newQuality){h=getRepresentationForQuality(e.newQuality);var t=g.getThroughputHistory().getAverageThroughput(e.mediaType);isNaN(t)||_.setSavedBitrateSettings(e.mediaType,t),addRepresentationSwitch()}}function onManifestValidityChanged(e){if(e.newDuration){var t=getCurrentRepresentation();if(t&&t.adaptation.period)t.adaptation.period.duration=e.newDuration}}return r={initialize:function initialize(){m=S.getIndexHandler()},setConfig:function setConfig(e){e.abrController&&(g=e.abrController),e.domStorage&&(_=e.domStorage),e.metricsModel&&(v=e.metricsModel),e.dashMetrics&&(T=e.dashMetrics),e.dashManifestModel&&(E=e.dashManifestModel),e.playbackController&&(y=e.playbackController),e.timelineConverter&&(b=e.timelineConverter),e.manifestModel&&(w=e.manifestModel),e.streamProcessor&&(S=e.streamProcessor)},getData:function getData(){return u},getDataIndex:function getDataIndex(){return f},isUpdating:isUpdating,updateData:function updateData(e,r,i){var a=S.getStreamInfo(),o=g.getTopQualityIndexFor(i,a.id),s=g.getMinAllowedIndexFor(i),c=void 0,y=null;if(d=!0,t.trigger(l.default.DATA_UPDATE_STARTED,{sender:this}),p=function updateRepresentations(e){return f=E.getIndexForAdaptation(u,e.period.mpd.manifest,e.period.index),E.getRepresentationsForAdaptation(e)}(r),null!==u&&u.id==e.id||i===n.default.FRAGMENTED_TEXT?c=g.getQualityFor(i,a):(y=g.getThroughputHistory().getAverageThroughput(i)||g.getInitialBitrateFor(i,a),c=g.getQualityForBitrate(S.getMediaInfo(),y)),void 0!==s&&c<s&&(c=s),c>o&&(c=o),h=getRepresentationForQuality(c),u=e,i!==n.default.VIDEO&&i!==n.default.AUDIO&&i!==n.default.FRAGMENTED_TEXT)return d=!1,void t.trigger(l.default.DATA_UPDATE_COMPLETED,{sender:this,data:u,currentRepresentation:h});for(var v=0;v<p.length;v++)m.updateRepresentation(p[v],!0)},getStreamProcessor:function getStreamProcessor(){return S},getCurrentRepresentation:getCurrentRepresentation,getRepresentationForQuality:getRepresentationForQuality,reset:function reset(){t.off(l.default.QUALITY_CHANGE_REQUESTED,onQualityChanged,r),t.off(l.default.REPRESENTATION_UPDATED,onRepresentationUpdated,r),t.off(l.default.WALLCLOCK_TIME_UPDATED,onWallclockTimeUpdated,r),t.off(l.default.BUFFER_LEVEL_UPDATED,onBufferLevelUpdated,r),t.off(l.default.MANIFEST_VALIDITY_CHANGED,onManifestValidityChanged,r),resetInitialSettings()}},function setup(){resetInitialSettings(),t.on(l.default.QUALITY_CHANGE_REQUESTED,onQualityChanged,r),t.on(l.default.REPRESENTATION_UPDATED,onRepresentationUpdated,r),t.on(l.default.WALLCLOCK_TIME_UPDATED,onWallclockTimeUpdated,r),t.on(l.default.BUFFER_LEVEL_UPDATED,onBufferLevelUpdated,r),t.on(l.default.MANIFEST_VALIDITY_CHANGED,onManifestValidityChanged,r)}(),r}RepresentationController.__dashjs_factory_name="RepresentationController",t.default=u.default.getClassFactory(RepresentationController),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(57)),a=_interopRequireDefault(r(102)),o=_interopRequireDefault(r(32)),s=r(42),l=_interopRequireDefault(r(14)),u=_interopRequireDefault(r(12)),c=_interopRequireDefault(r(38)),f=_interopRequireDefault(r(4)),d=_interopRequireDefault(r(13)),p=_interopRequireDefault(r(84)),h=_interopRequireDefault(r(224)),g=r(104),m=_interopRequireDefault(r(675)),y=_interopRequireDefault(r(306)),v=_interopRequireDefault(r(680));function DashHandler(e){e=e||{};var t=this.context,r=(0,u.default)(t).getInstance(),f=(0,p.default)(t).getInstance(),_=void 0,b=e.timelineConverter,E=e.dashMetrics,T=e.metricsModel,S=e.mediaPlayerModel,w=e.errHandler,R=e.baseURLController,A=void 0,C=void 0,x=void 0,D=void 0,P=void 0,I=void 0,M=void 0;function getType(){return I?I.getType():null}function isDynamic(){var e=I?I.getStreamInfo():null;return e?e.manifestInfo.isDynamic:null}function getMediaInfo(){return I?I.getMediaInfo():null}function resetIndex(){x=-1}function resetInitialSettings(){resetIndex(),P=0,D=null,I=null,M=null}function setRequestUrl(e,t,r){var n=R.resolve(r.path),i=void 0,a=void 0;return n&&t!==n.url&&f.isRelative(t)?(i=n.url,a=n.serviceLocation,t&&(i=f.resolve(t,i))):i=t,!f.isRelative(i)&&(e.url=i,e.serviceLocation=a,!0)}function isMediaFinished(e){var t=!1,r=isDynamic();if(r||x!==e.availableSegmentsNumber){var n=(0,g.getSegmentByIndex)(x,e);if(n){var a=parseFloat((n.presentationStartTime-e.adaptation.period.start).toFixed(5)),o=e.adaptation.period.duration;C.debug(e.segmentInfoType+": "+a+" / "+o),t=(e.segmentInfoType!==i.default.SEGMENT_TIMELINE||!r)&&a>=o}else C.debug("isMediaFinished - no segment found")}else t=!0;return t}function updateSegments(e){M.getSegments(e,D,x,onSegmentListUpdated)}function onSegmentListUpdated(e,t){if(e.segments=t,t&&t.length>0&&isDynamic()){var r=t[t.length-1].presentationStartTime,i=T.getMetricsFor(n.default.STREAM);b.setExpectedLiveEdge(r),T.updateManifestUpdateInfo(E.getCurrentManifestUpdate(i),{presentationStartTime:r})}}function updateSegmentList(e){if(!e)throw new Error("no representation");e.segments=null,updateSegments(e)}function getIndexForSegments(e,t,r){var n=t.segments,i=n?n.length:null,a=-1,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0;if(n&&i>0)for(r=null==r?S.getSegmentOverlapToleranceTime():r,c=0;c<i;c++)if(l=(s=n[c]).presentationStartTime,u=s.duration,e+(o=null==r?u/2:r)>=l&&e-o<l+u){a=s.availabilityIdx;break}return a}function getRequestForSegment(e){if(null==e)return null;var t=new a.default,r=e.representation,n=r.adaptation.period.mpd.manifest.Period_asArray[r.adaptation.period.index].AdaptationSet_asArray[r.adaptation.index].Representation_asArray[r.index].bandwidth,i=e.media;return i=(0,g.replaceTokenForTemplate)(i,"Number",e.replacementNumber),i=(0,g.replaceTokenForTemplate)(i,"Time",e.replacementTime),i=(0,g.replaceTokenForTemplate)(i,"Bandwidth",n),i=(0,g.replaceIDForTemplate)(i,r.id),i=(0,g.unescapeDollarsInTemplate)(i),t.mediaType=getType(),t.type=s.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=e.mediaRange,t.startTime=e.presentationStartTime,t.duration=e.duration,t.timescale=r.timescale,t.availabilityStartTime=e.availabilityStartTime,t.availabilityEndTime=e.availabilityEndTime,t.wallStartTime=e.wallStartTime,t.quality=r.index,t.index=e.availabilityIdx,t.mediaInfo=getMediaInfo(),t.adaptationIndex=r.adaptation.index,t.representationId=r.id,setRequestUrl(t,i,r)?t:void 0}function onInitializationLoaded(e){var t=e.representation;t.segments&&r.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:t})}function onSegmentsLoaded(e){if(!e.error&&getType()===e.mediaType){var t,n=e.segments,i=e.representation,a=[],o=0,s=void 0,u=void 0,c=void 0;for(s=0,t=n.length;s<t;s++)u=n[s],c=(0,g.getTimeBasedSegment)(b,isDynamic(),i,u.startTime,u.duration,u.timescale,u.media,u.mediaRange,o),a.push(c),c=null,o++;i.segmentAvailabilityRange={start:a[0].presentationStartTime,end:a[t-1].presentationStartTime},i.availableSegmentsNumber=t,onSegmentListUpdated(i,a),h.default.hasInitialization(i)&&r.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:i})}}return A={initialize:function initialize(r){I=r,_.initialize(),M=(0,m.default)(t).create(e,isDynamic())},getStreamProcessor:function getStreamProcessor(){return I},getInitRequest:function getInitRequest(e){return e?function generateInitRequest(e,t){var r=new a.default,n=e.adaptation.period,i=n.start,o=isDynamic();if(r.mediaType=t,r.type=s.HTTPRequest.INIT_SEGMENT_TYPE,r.range=e.range,r.availabilityStartTime=b.calcAvailabilityStartTimeFromPresentationTime(i,n.mpd,o),r.availabilityEndTime=b.calcAvailabilityEndTimeFromPresentationTime(i+n.duration,n.mpd,o),r.quality=e.index,r.mediaInfo=getMediaInfo(),r.representationId=e.id,setRequestUrl(r,e.initialization,e))return r}(e,getType()):null},getSegmentRequestForTime:function getSegmentRequestForTime(e,t,r){var n=void 0;if(!e)return null;var o=getType(),s=x,l=!!r&&r.keepIdx,u=r?r.timeThreshold:null,c=!(!r||!r.ignoreIsFinished);return D!==t&&(D=t,C.debug("Getting the request for "+o+" time : "+t)),updateSegments(e),(x=getIndexForSegments(t,e,u))<0&&(updateSegments(e),x=getIndexForSegments(t,e,u)),x>=0&&C.debug("Index for "+o+" time "+t+" is "+x),!c&&isMediaFinished(e)?((n=new a.default).action=a.default.ACTION_COMPLETE,n.index=x,n.mediaType=o,n.mediaInfo=getMediaInfo(),C.debug("Signal complete in getSegmentRequestForTime -",o)):n=getRequestForSegment((0,g.getSegmentByIndex)(x,e)),l&&s>=0&&(x=e.segmentInfoType===i.default.SEGMENT_TIMELINE&&isDynamic()?x:s),n},getNextSegmentRequest:function getNextSegmentRequest(e){var t=void 0,r=void 0;if(!e||-1===x)return null;var n=getType(),i=isDynamic();return D=null,x++,C.debug("Getting the next request at index: "+x+", type: "+n),!(0,g.getSegmentByIndex)(x,e)&&i?(C.debug("No segment found at index: "+x+". Wait for next loop"),updateSegments(e),x--,null):(isMediaFinished(e)?((t=new a.default).action=a.default.ACTION_COMPLETE,t.index=x,t.mediaType=n,t.mediaInfo=getMediaInfo(),C.debug("Signal complete -",n)):(updateSegments(e),t=getRequestForSegment(r=(0,g.getSegmentByIndex)(x,e)),!r&&i&&x--),t)},updateRepresentation:function updateRepresentation(e,t){var n=h.default.hasInitialization(e),i=h.default.hasSegments(e),a=void 0;if(e.segmentDuration||e.segments||updateSegmentList(e),e.segmentAvailabilityRange=b.calcSegmentAvailabilityRange(e,isDynamic()),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime)return a=new o.default(c.default.SEGMENTS_UNAVAILABLE_ERROR_CODE,c.default.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE,{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),void r.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:e,error:a});t||resetIndex(),e.segmentDuration&&updateSegmentList(e),n||_.loadInitialization(e),i||_.loadSegments(e,getType(),e.indexRange),n&&i&&r.trigger(l.default.REPRESENTATION_UPDATED,{sender:this,representation:e})},updateSegmentList:updateSegmentList,setCurrentTime:function setCurrentTime(e){P=e},getCurrentTime:function getCurrentTime(){return P},reset:function reset(){resetInitialSettings(),r.off(l.default.INITIALIZATION_LOADED,onInitializationLoaded,A),r.off(l.default.SEGMENTS_LOADED,onSegmentsLoaded,A)},resetIndex:resetIndex},function setup(){C=(0,d.default)(t).getInstance().getLogger(A),resetInitialSettings(),(_=function isWebM(e){return"webm"===e.split("/")[1].toLowerCase()}(e.mimeType)?(0,v.default)(t).getInstance():(0,y.default)(t).getInstance()).setConfig({baseURLController:R,metricsModel:T,mediaPlayerModel:S,errHandler:w}),r.on(l.default.INITIALIZATION_LOADED,onInitializationLoaded,A),r.on(l.default.SEGMENTS_LOADED,onSegmentsLoaded,A)}(),A}DashHandler.__dashjs_factory_name="DashHandler",t.default=f.default.getClassFactory(DashHandler),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(57)),i=_interopRequireDefault(r(4)),a=_interopRequireDefault(r(676)),o=_interopRequireDefault(r(677)),s=_interopRequireDefault(r(678));function SegmentsGetter(e,t){var r,i=this.context,l=void 0,u=void 0,c=void 0;return r={getSegments:function getSegments(e,t,r,i,a){var o=void 0,s=e.segmentInfoType;s!==n.default.SEGMENT_BASE&&s!==n.default.BASE_URL&&function isSegmentListUpdateRequired(e,t){var r=e.segments,n=!1,i=void 0,a=void 0;r&&0!==r.length?(a=r[0].availabilityIdx,i=r[r.length-1].availabilityIdx,n=t<a||t>i):n=!0;return n}(e,r)?(s===n.default.SEGMENT_TIMELINE?o=l.getSegments(e,t,r,a):s===n.default.SEGMENT_TEMPLATE?o=u.getSegments(e,t,r,a):s===n.default.SEGMENT_LIST&&(o=c.getSegments(e,t,r,a)),i&&i(e,o)):o=e.segments}},function setup(){l=(0,a.default)(i).create(e,t),u=(0,o.default)(i).create(e,t),c=(0,s.default)(i).create(e,t)}(),r}SegmentsGetter.__dashjs_factory_name="SegmentsGetter";var l=i.default.getClassFactory(SegmentsGetter);t.default=l,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(11)),a=r(104);function TimelineSegmentsGetter(e,t){var r=(e=e||{}).timelineConverter;return{getSegments:function getSegmentsFromTimeline(e,n,o,s){if(function checkConfig(){if(!r||!r.hasOwnProperty("calcMediaTimeFromPresentationTime")||!r.hasOwnProperty("calcSegmentAvailabilityRange"))throw new Error(i.default.MISSING_CONFIG_ERROR)}(),!e)throw new Error("no representation");void 0===n&&(n=null);var l=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,u=l.SegmentTimeline,c=l.SegmentURL_asArray,f=e.availableSegmentsNumber>0,d=void 0;d=s||(o>-1||null!==n?10:1/0);var p,h,g,m=0,y=0,v=-1,_=[],b=null,E=void 0,T=void 0,S=void 0,w=void 0,R=void 0,A=void 0,C=void 0,x=void 0,D=function createSegment(n,i){var o=l.media,s=n.mediaRange;return c&&(o=c[i].media||"",s=c[i].mediaRange),(0,a.getTimeBasedSegment)(r,t,e,m,n.d,x,o,s,v,n.tManifest)};for(x=e.timescale,p=u.S_asArray,g=o,null!==n&&(b=r.calcMediaTimeFromPresentationTime(n,e)),T=0,h=p.length;T<h;T++){if(w=0,(E=p[T]).hasOwnProperty("r")&&(w=E.r),E.hasOwnProperty("t")&&(y=(m=E.t)/x),w<0){if((A=p[T+1])&&A.hasOwnProperty("t"))R=A.t/x;else{var P=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:r.calcSegmentAvailabilityRange(e,t).end;R=r.calcMediaTimeFromPresentationTime(P,e),e.segmentDuration=E.d/x}w=Math.ceil((R-y)/(E.d/x))-1}if(C){if(f)break;v+=w+1}else for(S=0;S<=w;S++)if(v++,_.length>d){if(C=!0,f)break}else null!==b?y>=b-E.d/x*1.5&&_.push(D(E,v)):v>=g&&_.push(D(E,v)),y=(m+=E.d)/x}return f||(e.availableSegmentsNumber=v+1),_}}}TimelineSegmentsGetter.__dashjs_factory_name="TimelineSegmentsGetter";var o=n.default.getClassFactory(TimelineSegmentsGetter);t.default=o,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4)),i=r(104);function TemplateSegmentsGetter(e,t){var r=e.timelineConverter;return{getSegments:function getSegmentsFromTemplate(e,n,a,o){var s,l,u,c=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,f=e.segmentDuration,d=e.segmentAvailabilityRange,p=[],h=null,g=null,m=void 0,y=void 0;for(u=e.startNumber,s=(m=isNaN(f)&&!t?{start:u,end:u}:(0,i.decideSegmentListRangeForTemplate)(r,t,e,n,a,o)).start,l=m.end,y=s;y<=l;y++)(g=(0,i.getIndexBasedSegment)(r,t,e,y)).replacementTime=(u+y-1)*e.segmentDuration,h=c.media,h=(0,i.replaceTokenForTemplate)(h,"Number",g.replacementNumber),h=(0,i.replaceTokenForTemplate)(h,"Time",g.replacementTime),g.media=h,p.push(g),g=null;return isNaN(f)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((d.end-d.start)/f),p}}}TemplateSegmentsGetter.__dashjs_factory_name="TemplateSegmentsGetter";var a=n.default.getClassFactory(TemplateSegmentsGetter);t.default=a,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4)),i=r(104);function ListSegmentsGetter(e,t){var r=(e=e||{}).timelineConverter;return{getSegments:function getSegmentsFromList(e,n,a,o){var s,l,u,c,f=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,d=f.SegmentURL_asArray.length,p=[],h=void 0,g=void 0,m=void 0;for(c=e.startNumber,s=(0,i.decideSegmentListRangeForTemplate)(r,t,e,n,a,o),l=Math.max(s.start,0),u=Math.min(s.end,f.SegmentURL_asArray.length-1),h=l;h<=u;h++)m=f.SegmentURL_asArray[h],(g=(0,i.getIndexBasedSegment)(r,t,e,h)).replacementTime=(c+h-1)*e.segmentDuration,g.media=m.media?m.media:"",g.mediaRange=m.mediaRange,g.index=m.index,g.indexRange=m.indexRange,p.push(g),g=null;return e.availableSegmentsNumber=d,p}}}ListSegmentsGetter.__dashjs_factory_name="ListSegmentsGetter";var a=n.default.getClassFactory(ListSegmentsGetter);t.default=a,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function FetchLoader(e){var t=(e=e||{}).requestModifier,r=e.boxParser;function read(e,t){e.reader.read().then(t).catch(function(t){e.onerror&&200===e.response.status&&e.onerror(t)})}function calculateDownloadedTime(e,t){if((e=e.filter(function(r){return r.bytes>t/4/e.length})).length>1){var r=(n=0,i=(e[e.length-1].ts-e[0].ts)/e.length,e.forEach(function(t,r){var a=e[r+1];if(a){var o=a.ts-t.ts;n+=o<i?o:0}}),{v:n});if("object"==typeof r)return r.v}var n,i;return null}return{load:function load(e){var n=new Date,i=e.request,a=new Headers;i.range&&a.append("Range","bytes="+i.range),i.requestStartDate||(i.requestStartDate=n),t&&t.modifyRequestHeader({setRequestHeader:function setRequestHeader(e,t){a.append(e,t)}});var o=void 0;"function"==typeof window.AbortController&&(o=new AbortController,e.abortController=o);var s={method:e.method,headers:a,credentials:e.withCredentials?"include":void 0,signal:o?o.signal:void 0};fetch(e.url,s).then(function(t){e.response||(e.response={}),e.response.status=t.status,e.response.statusText=t.statusText,e.response.responseURL=t.url,t.ok||e.onerror();var n="",i=!0,a=!1,o=void 0;try{for(var s,l=t.headers.keys()[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;n+=u+": "+t.headers.get(u)+"\n"}}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}if(e.response.responseHeaders=n,!t.body)return t.arrayBuffer().then(function(t){e.response.response=t;var r={loaded:t.byteLength,total:t.byteLength,stream:!1};e.progress(r),e.onload(),e.onend()});var c=parseInt(t.headers.get("Content-Length"),10),f=0,d=!1,p=new Uint8Array,h=0;e.reader=t.body.getReader();var g=[];read(e,function processResult(t){var n=t.value;if(t.done)return p&&(e.progress({loaded:f,total:isNaN(c)?f:c,lengthComputable:!0,time:calculateDownloadedTime(g,f),stream:!0}),e.response.response=p.buffer),e.onload(),void e.onend();if(n&&n.length>0){p=function concatTypedArray(e,t){if(0===e.length)return t;var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}(p,n),f+=n.length,g.push({ts:Date.now(),bytes:n.length});var i=r.findLastTopIsoBoxCompleted(["moov","mdat"],p,h);if(i.found){var a=i.lastCompletedOffset+i.size,o=void 0;a===p.length?(o=p,p=new Uint8Array):(o=new Uint8Array(p.subarray(0,a)),p=p.subarray(a)),e.progress({data:o.buffer,lengthComputable:!1,noTrace:!0}),h=0}else h=i.lastCompletedOffset,d||(e.progress({lengthComputable:!1,noTrace:!0}),d=!0)}read(e,processResult)})}).catch(function(t){e.onerror&&e.onerror(t)})},abort:function abort(e){if(e.abortController)e.abortController.abort();else if(e.reader)try{e.reader.cancel()}catch(e){}},calculateDownloadedTime:calculateDownloadedTime}}FetchLoader.__dashjs_factory_name="FetchLoader";var i=n.default.getClassFactory(FetchLoader);t.default=i,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(14)),i=_interopRequireDefault(r(12)),a=_interopRequireDefault(r(681)),o=_interopRequireDefault(r(11)),s=_interopRequireDefault(r(4)),l=_interopRequireDefault(r(13)),u=_interopRequireDefault(r(160)),c=_interopRequireDefault(r(223)),f=r(42),d=_interopRequireDefault(r(102)),p=_interopRequireDefault(r(133)),h=_interopRequireDefault(r(32)),g=_interopRequireDefault(r(38));function WebmSegmentBaseLoader(){var e=this.context,t=(0,i.default)(e).getInstance(),r=void 0,s=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,E=void 0,T=void 0;function parseSegments(t,r,n,i){var o,l,u=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0;for(f=[],p=0,l=(o=function parseCues(t){var r=[],n=void 0,i=void 0,o=(0,a.default)(e).create({data:t});for(o.consumeTagAndSize(m.Segment.Cues);o.moreData()&&o.consumeTagAndSize(m.Segment.Cues.CuePoint,!0);){for((n={}).CueTime=o.parseTag(m.Segment.Cues.CuePoint.CueTime),n.CueTracks=[];o.moreData()&&o.consumeTag(m.Segment.Cues.CuePoint.CueTrackPositions,!0);){var s=o.getMatroskaCodedNum(),l=o.getPos();if((i={}).Track=o.parseTag(m.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===i.Track)throw new Error("Cue track cannot be 0");i.ClusterPosition=o.parseTag(m.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),n.CueTracks.push(i),o.setPos(l+s)}if(0===n.CueTracks.length)throw new Error("Mandatory cuetrack not found");r.push(n)}if(0===r.length)throw new Error("mandatory cuepoint not found");return r}(t)).length;p<l;p+=1)d=new c.default,u=0,u=p<o.length-1?o[p+1].CueTime-o[p].CueTime:i-o[p].CueTime,d.duration=u,d.startTime=o[p].CueTime,d.timescale=1e3,h=o[p].CueTracks[0].ClusterPosition+r,g=p<o.length-1?o[p+1].CueTracks[0].ClusterPosition+r-1:n-1,d.mediaRange=h+"-"+g,f.push(d);return s.debug("Parsed cues: "+f.length+" cues."),f}function checkSetConfigCall(){if(!T||!T.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function onLoaded(e,r,i){e?t.trigger(n.default.SEGMENTS_LOADED,{segments:e,representation:r,mediaType:i}):t.trigger(n.default.SEGMENTS_LOADED,{segments:null,representation:r,mediaType:i,error:new h.default(g.default.SEGMENT_BASE_LOADER_ERROR_CODE,g.default.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function getFragmentRequest(e){var t=new d.default;return t.type=e.init?f.HTTPRequest.INIT_SEGMENT_TYPE:f.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}return r={setConfig:function setConfig(e){if(!(e.baseURLController&&e.metricsModel&&e.mediaPlayerModel&&e.errHandler))throw new Error(o.default.MISSING_CONFIG_ERROR);T=e.baseURLController,_=e.metricsModel,b=e.mediaPlayerModel,y=e.errHandler},initialize:function initialize(){v=(0,u.default)(e).getInstance(),E=(0,p.default)(e).create({errHandler:y,metricsModel:_,mediaPlayerModel:b,requestModifier:v})},loadInitialization:function loadInitialization(e,r){checkSetConfigCall();var i=null,a=T.resolve(e.path),o=a?a.url:void 0,l=e.range.split("-"),u=r||{range:{start:parseFloat(l[0]),end:parseFloat(l[1])},request:i,url:o,init:!0};s.info("Start loading initialization."),i=getFragmentRequest(u),E.load({request:i,success:function onload(){t.trigger(n.default.INITIALIZATION_LOADED,{representation:e})},error:function onloadend(){t.trigger(n.default.INITIALIZATION_LOADED,{representation:e})}}),s.debug("Perform init load: "+u.url)},loadSegments:function loadSegments(t,r,n,i){checkSetConfigCall();var o=null,l=T.resolve(t.path),u=l?l.url:void 0;i=i||onLoaded,o=getFragmentRequest({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:o,url:u,init:!1}),s.debug("Parsing ebml header"),E.load({request:o,success:function onload(o){!function parseEbmlHeader(t,r,n,i){var o,l=(0,a.default)(e).create({data:t}),u=void 0,c=void 0,f=n.split("-"),d=null,p={url:r,range:{start:parseFloat(f[0]),end:parseFloat(f[1])},request:d},h=void 0;for(s.debug("Parse EBML header: "+p.url),l.skipOverElement(m.EBML),l.consumeTag(m.Segment),h=l.getMatroskaCodedNum(),h+=l.getPos(),o=l.getPos();l.moreData()&&!l.consumeTagAndSize(m.Segment.Info,!0);)if(!(l.skipOverElement(m.Segment.SeekHead,!0)||l.skipOverElement(m.Segment.Tracks,!0)||l.skipOverElement(m.Segment.Cues,!0)||l.skipOverElement(m.Void,!0)))throw new Error("no valid top level element found");for(;void 0===u;){var g=l.getMatroskaCodedNum(!0),y=l.getMatroskaCodedNum();switch(g){case m.Segment.Info.Duration.tag:u=l[m.Segment.Info.Duration.parse](y);break;default:l.setPos(l.getPos()+y)}}d=getFragmentRequest(p),E.load({request:d,success:function onload(e){c=parseSegments(e,o,h,u),i(c)},error:function onloadend(){s.error("Download Error: Cues "+p.url),i(null)}}),s.debug("Perform cues load: "+p.url+" bytes="+p.range.start+"-"+p.range.end)}(o,u,n,function(e){i(e,t,r)})},error:function onloadend(){i(null,t,r)}})},reset:function reset(){y=null,v=null}},function setup(){s=(0,l.default)(e).getInstance().getLogger(r),m={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}(),r}WebmSegmentBaseLoader.__dashjs_factory_name="WebmSegmentBaseLoader",t.default=s.default.getSingletonFactory(WebmSegmentBaseLoader),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function EBMLParser(e){e=e||{};var t=void 0,r=new DataView(e.data),n=0;function consumeTag(e,t){var i=!0,a=0;if(void 0===t&&(t=!1),e.tag>16777215?(r.getUint32(n)!==e.tag&&(i=!1),a=4):e.tag>65535?(256*r.getUint16(n)+r.getUint8(n+2)!==e.tag&&(i=!1),a=3):e.tag>255?(r.getUint16(n)!==e.tag&&(i=!1),a=2):(r.getUint8(n)!==e.tag&&(i=!1),a=1),!i&&e.required&&!t)throw new Error("required tag not found");return i&&(n+=a),i}function getMatroskaCodedNum(e){var t=1,i=128,a=-1,o=0,s=r.getUint8(n),l=0;for(l=0;l<8;l+=1){if((s&i)===i){o=void 0===e?s&~i:s,a=l;break}i>>=1}for(l=0;l<a;l+=1,t+=1)o=o<<8|255&r.getUint8(n+t);return n+=t,o}return t={getPos:function getPos(){return n},setPos:function setPos(e){n=e},consumeTag:consumeTag,consumeTagAndSize:function consumeTagAndSize(e,t){var r=consumeTag(e,t);return r&&getMatroskaCodedNum(),r},parseTag:function parseTag(e){var r;return consumeTag(e),r=getMatroskaCodedNum(),t[e.parse](r)},skipOverElement:function skipOverElement(e,t){var r=consumeTag(e,t),i=void 0;return r&&(i=getMatroskaCodedNum(),n+=i),r},getMatroskaCodedNum:getMatroskaCodedNum,getMatroskaFloat:function getMatroskaFloat(e){var t=void 0;switch(e){case 4:t=r.getFloat32(n),n+=4;break;case 8:t=r.getFloat64(n),n+=8}return t},getMatroskaUint:function getMatroskaUint(e){for(var t=0,i=0;i<e;i+=1)t<<=8,t|=255&r.getUint8(n+i);return n+=e,t},moreData:function moreData(){return n<r.byteLength}}}EBMLParser.__dashjs_factory_name="EBMLParser",t.default=n.default.getClassFactory(EBMLParser),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(13)),a=_interopRequireDefault(r(12)),o=_interopRequireDefault(r(14)),s=_interopRequireDefault(r(225));function EventController(){var e="urn:mpeg:dash:event:2012",t=1,r="urn:mpeg:dash:event:callback:2015",n=1,l=this.context,u=(0,a.default)(l).getInstance(),c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0;function resetInitialSettings(){b=!1,d={},p={},h={},g=null,m=100,y=Date.now()/1e3}function checkSetConfigCall(){if(!v||!_)throw new Error("setConfig function has to be called previously")}function stop(){null!==g&&b&&(clearInterval(g),g=null,b=!1)}function handleManifestReloadEvent(e){if(e.eventStream.value==t){var r=e.eventStream.timescale||1,n=e.presentationTime/r,i=void 0;i=4294967295==e.presentationTime?NaN:(e.presentationTime+e.duration)/r,f.info("Manifest validity changed: Valid until: "+n+"; remaining duration: "+i),u.trigger(o.default.MANIFEST_VALIDITY_CHANGED,{id:e.id,validUntil:n,newDuration:i,newManifestValidAfter:NaN})}}function onEventTimer(){var e=_.getTime(),t=e-y;y=e,triggerEvents(p,t,e),triggerEvents(d,t,e),function removeEvents(){if(h)for(var e=_.getTime(),t=Object.keys(h),r=0;r<t.length;r++){var n=t[r],i=h[n];null!==i&&(i.duration+i.presentationTime)/i.eventStream.timescale<e&&(f.debug("Remove Event "+n+" at time "+e),i=null,delete h[n])}}()}function triggerEvents(i,a,o){var c,d;if(i)for(var p=Object.keys(i),g=0;g<p.length;g++){var m=p[g],y=i[m];void 0!==y&&(0===(c=y.presentationTime/y.eventStream.timescale)||c<=o&&c+a>o)&&(f.debug("Start Event "+m+" at "+o),y.duration>0&&(h[m]=y),y.eventStream.schemeIdUri==e&&y.eventStream.value==t?0===y.duration&&0===y.presentationTimeDelta||(checkSetConfigCall(),v.refreshManifest()):y.eventStream.schemeIdUri==r&&y.eventStream.value==n?(d=y.messageData,(0,s.default)(l).create({}).load({method:"get",url:d,request:{responseType:"arraybuffer"}})):u.trigger(y.eventStream.schemeIdUri,{event:y}),delete i[m])}}return c={addInlineEvents:function addInlineEvents(e){if(checkSetConfigCall(),d={},e)for(var t=0;t<e.length;t++){var r=e[t];d[r.id]=r,f.debug("Add inline event with id "+r.id)}f.debug("Added "+e.length+" inline events")},addInbandEvents:function addInbandEvents(t){checkSetConfigCall();for(var r=0;r<t.length;r++){var n=t[r];n.id in p?f.debug("Repeated event with id "+n.id):(n.eventStream.schemeIdUri===e&&void 0===p[n.id]&&handleManifestReloadEvent(n),p[n.id]=n,f.debug("Add inband event with id "+n.id))}},stop:stop,start:function start(){checkSetConfigCall(),f.debug("Start Event Controller"),b||isNaN(m)||(b=!0,g=setInterval(onEventTimer,m))},setConfig:function setConfig(e){e&&(e.manifestUpdater&&(v=e.manifestUpdater),e.playbackController&&(_=e.playbackController))},reset:function reset(){stop(),resetInitialSettings()}},function setup(){f=(0,i.default)(l).getInstance().getLogger(c),resetInitialSettings()}(),c}EventController.__dashjs_factory_name="EventController",t.default=n.default.getClassFactory(EventController),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=r(42),a=_interopRequireDefault(r(684)),o=_interopRequireDefault(r(154)),s=_interopRequireDefault(r(685)),l=_interopRequireDefault(r(160)),u=_interopRequireDefault(r(12)),c=_interopRequireDefault(r(14)),f=_interopRequireDefault(r(4)),d=_interopRequireDefault(r(13));function FragmentController(e){e=e||{};var t=this.context,r=(0,u.default)(t).getInstance(),f=e.errHandler,p=e.mediaPlayerModel,h=e.metricsModel,g=void 0,m=void 0,y=void 0;function isInitializationRequest(e){return e&&e.type&&e.type===i.HTTPRequest.INIT_SEGMENT_TYPE}function resetInitialSettings(){for(var e in y)y[e].reset();y={}}function onFragmentLoadingCompleted(e){if(y[e.request.mediaType]===e.sender){var t=e.request,i=e.response,o=isInitializationRequest(t),s=t.mediaInfo.streamInfo;if(e.error&&(e.request.mediaType!==n.default.AUDIO&&e.request.mediaType!==n.default.VIDEO&&e.request.mediaType!==n.default.FRAGMENTED_TEXT||r.trigger(c.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:e.request.serviceLocation})),i&&s){var l=function createDataChunk(e,t,r,n){var i=new a.default;return i.streamId=r,i.mediaInfo=t.mediaInfo,i.segmentType=t.type,i.start=t.startTime,i.duration=t.duration,i.end=i.start+i.duration,i.bytes=e,i.index=t.index,i.quality=t.quality,i.representationId=t.representationId,i.endFragment=n,i}(i,t,s.id,e.type!==c.default.FRAGMENT_LOADING_PROGRESS);r.trigger(o?c.default.INIT_FRAGMENT_LOADED:c.default.MEDIA_FRAGMENT_LOADED,{chunk:l,fragmentModel:e.sender})}else m.warn("No "+t.mediaType+" bytes to push or stream is inactive.")}}return g={getModel:function getModel(e){var r=y[e];return r||(r=(0,o.default)(t).create({metricsModel:h,fragmentLoader:(0,s.default)(t).create({metricsModel:h,mediaPlayerModel:p,errHandler:f,requestModifier:(0,l.default)(t).getInstance()})}),y[e]=r),r},isInitializationRequest:isInitializationRequest,reset:function reset(){r.off(c.default.FRAGMENT_LOADING_COMPLETED,onFragmentLoadingCompleted,this),r.off(c.default.FRAGMENT_LOADING_PROGRESS,onFragmentLoadingCompleted,this),resetInitialSettings()}},function setup(){m=(0,d.default)(t).getInstance().getLogger(g),resetInitialSettings(),r.on(c.default.FRAGMENT_LOADING_COMPLETED,onFragmentLoadingCompleted,g),r.on(c.default.FRAGMENT_LOADING_PROGRESS,onFragmentLoadingCompleted,g)}(),g}FragmentController.__dashjs_factory_name="FragmentController",t.default=f.default.getClassFactory(FragmentController),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function DataChunk(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DataChunk),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(133)),i=_interopRequireDefault(r(686)),a=_interopRequireDefault(r(32)),o=_interopRequireDefault(r(12)),s=_interopRequireDefault(r(131)),l=_interopRequireDefault(r(14)),u=_interopRequireDefault(r(38)),c=_interopRequireDefault(r(4));function FragmentLoader(e){e=e||{};var t=this.context,r=(0,o.default)(t).getInstance(),c=void 0,f=void 0;return c={checkForExistence:function checkForExistence(e){var t=function report(t){r.trigger(l.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var n=new i.default(e.url);f.load({request:n,success:function success(){t(!0)},error:function error(){t(!1)}})}else t(!1)},load:function load(e){var t=function report(t,n){r.trigger(l.default.LOADING_COMPLETED,{request:e,response:t||null,error:n||null,sender:c})};e?f.load({request:e,progress:function progress(t){r.trigger(l.default.LOADING_PROGRESS,{request:e,stream:t.stream}),t.data&&r.trigger(l.default.LOADING_DATA_PROGRESS,{request:e,response:t.data||null,error:null,sender:c})},success:function success(e){t(e)},error:function error(e,r,n){t(void 0,new a.default(u.default.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,n,r))},abort:function abort(e){e&&r.trigger(l.default.LOADING_ABANDONED,{request:e,mediaType:e.mediaType,sender:c})}}):t(void 0,new a.default(u.default.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,u.default.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function abort(){f&&f.abort()},reset:function reset(){f&&(f.abort(),f=null)}},function setup(){var r=(0,s.default)(t).getInstance();f=(0,n.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,boxParser:r,useFetch:e.mediaPlayerModel.getLowLatencyEnabled()})}(),c}FragmentLoader.__dashjs_factory_name="FragmentLoader",t.default=c.default.getClassFactory(FragmentLoader),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(102)),a=function(e){function HeadRequest(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,HeadRequest),n(Object.getPrototypeOf(HeadRequest.prototype),"constructor",this).call(this),this.url=e||null,this.checkForExistenceOnly=!0}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(HeadRequest,i["default"]),HeadRequest}();t.default=a,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(11)),a=_interopRequireDefault(r(688)),o=_interopRequireDefault(r(307)),s=_interopRequireDefault(r(304)),l=r(104);function ThumbnailController(e){var t,r=this.context,n=void 0;function reset(){n&&n.reset()}return t={get:function getThumbnail(e,t){var r=n.getCurrentTrack();if(!r||r.segmentDuration<=0||null==e)return null;var i=Math.floor(e/r.segmentDuration),o=e%r.segmentDuration,s=Math.floor(o*r.tilesHor*r.tilesVert/r.segmentDuration),u=new a.default;return u.width=Math.floor(r.widthPerTile),u.height=Math.floor(r.heightPerTile),u.x=Math.floor(s%r.tilesHor)*r.widthPerTile,u.y=Math.floor(s/r.tilesHor)*r.heightPerTile,"readThumbnail"in r?r.readThumbnail(e,function(e){u.url=e,t&&t(u)}):(u.url=function buildUrlFromTemplate(e,t){var r=t+e.startNumber,n=(0,l.replaceTokenForTemplate)(e.templateUrl,"Number",r);return n=(0,l.replaceTokenForTemplate)(n,"Time",(r-1)*e.segmentDuration),n=(0,l.replaceTokenForTemplate)(n,"Bandwidth",e.bandwidth),(0,l.unescapeDollarsInTemplate)(n)}(r,i),t&&t(u),u)},setTrackByIndex:function setTrackByIndex(e){n.setTrackByIndex(e)},getCurrentTrackIndex:function getCurrentTrackIndex(){return n.getCurrentTrackIndex()},getBitrateList:function getBitrateList(){var e=n.getTracks(),t=0;return e.map(function(e){var r=new s.default;return r.mediaType=i.default.IMAGE,r.qualityIndex=t++,r.bitrate=e.bitrate,r.width=e.width,r.height=e.height,r})},reset:reset},function setup(){reset(),n=(0,o.default)(r).create({dashManifestModel:e.dashManifestModel,adapter:e.adapter,baseURLController:e.baseURLController,stream:e.stream,timelineConverter:e.timelineConverter})}(),t}ThumbnailController.__dashjs_factory_name="ThumbnailController",t.default=n.default.getClassFactory(ThumbnailController),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function Thumbnail(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Thumbnail),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function ThumbnailTrackInfo(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ThumbnailTrackInfo),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""},e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(12)),i=_interopRequireDefault(r(14)),a=_interopRequireDefault(r(4)),o=_interopRequireDefault(r(13)),s=_interopRequireDefault(r(38));function ManifestUpdater(){var e=this.context,t=(0,n.default)(e).getInstance(),r=void 0,a=void 0,l=void 0,u=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0;function resetInitialSettings(){l=NaN,f=!1,c=!0,stopManifestRefreshTimer()}function stopManifestRefreshTimer(){null!==u&&(clearInterval(u),u=null)}function startManifestRefreshTimer(e){stopManifestRefreshTimer(),isNaN(e)&&!isNaN(l)&&(e=1e3*l),isNaN(e)||(a.debug("Refresh manifest in "+e+" milliseconds."),u=setTimeout(onRefreshTimer,e))}function refreshManifest(){f=!0;var e=p.getValue(),t=e.url,r=h.getLocation(e);r&&(t=r),d.load(t)}function update(e){p.setValue(e);var r=new Date,n=(r.getTime()-e.loadedTime.getTime())/1e3;1e3*(l=h.getManifestUpdatePeriod(e,n))>2147483647&&(l=2147483.647),t.trigger(i.default.MANIFEST_UPDATED,{manifest:e}),a.info("Manifest has been refreshed at "+r+"["+r.getTime()/1e3+"] "),c||startManifestRefreshTimer()}function onRefreshTimer(){c&&!m.getScheduleWhilePaused()||(f?startManifestRefreshTimer(m.getManifestUpdateRetryInterval()):refreshManifest())}function onManifestLoaded(e){e.error?e.error.code===s.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&g.error(e.error):update(e.manifest)}function onPlaybackStarted(){c=!1,startManifestRefreshTimer()}function onPlaybackPaused(){c=!0,stopManifestRefreshTimer()}function onStreamsComposed(){f=!1}return r={initialize:function initialize(){resetInitialSettings(),t.on(i.default.STREAMS_COMPOSED,onStreamsComposed,this),t.on(i.default.PLAYBACK_STARTED,onPlaybackStarted,this),t.on(i.default.PLAYBACK_PAUSED,onPlaybackPaused,this),t.on(i.default.INTERNAL_MANIFEST_LOADED,onManifestLoaded,this)},setManifest:function setManifest(e){update(e)},refreshManifest:refreshManifest,setConfig:function setConfig(e){e&&(e.manifestModel&&(p=e.manifestModel),e.dashManifestModel&&(h=e.dashManifestModel),e.mediaPlayerModel&&(m=e.mediaPlayerModel),e.manifestLoader&&(d=e.manifestLoader),e.errHandler&&(g=e.errHandler))},reset:function reset(){t.off(i.default.PLAYBACK_STARTED,onPlaybackStarted,this),t.off(i.default.PLAYBACK_PAUSED,onPlaybackPaused,this),t.off(i.default.STREAMS_COMPOSED,onStreamsComposed,this),t.off(i.default.INTERNAL_MANIFEST_LOADED,onManifestLoaded,this),resetInitialSettings()}},function setup(){a=(0,o.default)(e).getInstance().getLogger(r)}(),r}ManifestUpdater.__dashjs_factory_name="ManifestUpdater",t.default=a.default.getClassFactory(ManifestUpdater),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(32)),a=r(42),o=_interopRequireDefault(r(12)),s=_interopRequireDefault(r(14)),l=_interopRequireDefault(r(38)),u=_interopRequireDefault(r(4)),c=_interopRequireDefault(r(13)),f=_interopRequireDefault(r(84)),d=5e3;function TimeSyncController(){var e=this.context,t=(0,o.default)(e).getInstance(),r=(0,f.default)(e).getInstance(),u=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0;function setIsSynchronizing(e){g=e}function setOffsetMs(e){h=e}function xsdatetimeDecoder(e){var t=Date.parse(e);return isNaN(t)&&(t=function alternateXsdatetimeDecoder(e){var t=void 0,r=void 0,n=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e);return t=Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10),n[6]&&(parseInt(n[6],10)||0),n[7]&&1e3*parseFloat(n[7])||0),n[9]&&n[10]&&(r=60*parseInt(n[9],10)+parseInt(n[10],10),t+=("+"===n[8]?-1:1)*r*60*1e3),new Date(t).getTime()}(e)),t}function iso8601Decoder(e){return Date.parse(e)}function rfc1123Decoder(e){return Date.parse(e)}function notSupportedHandler(e,t,r){r()}function directHandler(e,t,r){var n=xsdatetimeDecoder(e);isNaN(n)?r():t(n)}function httpHandler(e,t,n,i,o){var s,l,u=!1,c=new XMLHttpRequest,f=o?a.HTTPRequest.HEAD:a.HTTPRequest.GET,p=t.match(/\S+/g);if(t=p.shift(),s=function(){u||(u=!0,p.length?httpHandler(e,p.join(" "),n,i,o):i())},l=function(){var t=void 0,r=void 0;200===c.status&&(t=o?c.getResponseHeader("Date"):c.response,r=e(t),isNaN(r)||(n(r),u=!0))},r.isRelative(t)){var h=b.resolve();h&&(t=r.resolve(t,h.url))}c.open(f,t),c.timeout=d||0,c.onload=l,c.onloadend=s,c.send()}function httpHeadHandler(e,t,r){httpHandler(rfc1123Decoder,e,t,r,!0)}function completeTimeSyncSequence(e,r,n){setIsSynchronizing(!1),t.trigger(s.default.TIME_SYNCHRONIZATION_COMPLETED,{time:r,offset:n,error:e?new i.default(l.default.TIME_SYNC_FAILED_ERROR_CODE,l.default.TIME_SYNC_FAILED_ERROR_MESSAGE):null})}return u={initialize:function initialize(e,t){m=t,h=0,g=!1,y={"urn:mpeg:dash:utc:http-head:2014":httpHeadHandler,"urn:mpeg:dash:utc:http-xsdate:2014":httpHandler.bind(null,xsdatetimeDecoder),"urn:mpeg:dash:utc:http-iso:2014":httpHandler.bind(null,iso8601Decoder),"urn:mpeg:dash:utc:direct:2014":directHandler,"urn:mpeg:dash:utc:http-head:2012":httpHeadHandler,"urn:mpeg:dash:utc:http-xsdate:2012":httpHandler.bind(null,xsdatetimeDecoder),"urn:mpeg:dash:utc:http-iso:2012":httpHandler.bind(null,iso8601Decoder),"urn:mpeg:dash:utc:direct:2012":directHandler,"urn:mpeg:dash:utc:http-ntp:2014":notSupportedHandler,"urn:mpeg:dash:utc:ntp:2014":notSupportedHandler,"urn:mpeg:dash:utc:sntp:2014":notSupportedHandler},function getIsSynchronizing(){return g}()||function attemptSync(e,t){var r=t||0;var i=e[r];var a=function onComplete(e,t){var r=!e||!t;r&&m?function checkForDateHeader(){var e=v.getReadOnlyMetricsFor(n.default.STREAM),t=_.getLatestMPDRequestHeaderValueByID(e,"Date"),r=null!==t?new Date(t).getTime():Number.NaN;isNaN(r)?completeTimeSyncSequence(!0):(setOffsetMs(r-(new Date).getTime()),completeTimeSyncSequence(!1,r/1e3,h))}():completeTimeSyncSequence(r,e,t)};setIsSynchronizing(!0);i?y.hasOwnProperty(i.schemeIdUri)?y[i.schemeIdUri](i.value,function(e){var t=(new Date).getTime(),r=function calculateTimeOffset(e,t){return e-t}(e,t);setOffsetMs(r),p.info("Local time: "+new Date(t)),p.info("Server time: "+new Date(e)),p.info("Server Time - Local Time (ms): "+r),a(e,r)},function(){attemptSync(e,r+1)}):attemptSync(e,r+1):(setOffsetMs(0),a())}(e)},getOffsetToDeviceTimeMs:function getOffsetToDeviceTimeMs(){return function getOffsetMs(){return h}()},setConfig:function setConfig(e){e&&(e.metricsModel&&(v=e.metricsModel),e.dashMetrics&&(_=e.dashMetrics),e.baseURLController&&(b=e.baseURLController))},reset:function reset(){setIsSynchronizing(!1)}},function setup(){p=(0,c.default)(e).getInstance().getLogger(u)}(),u}TimeSyncController.__dashjs_factory_name="TimeSyncController";var p=u.default.getSingletonFactory(TimeSyncController);p.HTTP_TIMEOUT_MS=d,u.default.updateSingletonFactory(TimeSyncController.__dashjs_factory_name,p),t.default=p,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(310)),i=_interopRequireDefault(r(4)),a=NaN,o=function Node(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Node),this.data={baseUrls:e||null,selectedIdx:t||a},this.children=[]};function BaseURLTreeModel(){var e,t=void 0,r=void 0,i=this.context,s=(0,n.default)(i).getInstance();function updateChildData(e,t,n){var i=r.getBaseURLsFromElement(n);e[t]?s.areEqual(i,e[t].data.baseUrls)||(e[t].data.baseUrls=i,e[t].data.selectedIdx=a):e[t]=new o(i)}function getBaseURLCollectionsFromManifest(e){!function checkSetConfigCall(){if(!r||!r.hasOwnProperty("getBaseURLsFromElement")||!r.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")}();var n=r.getBaseURLsFromElement(e);s.areEqual(n,t.data.baseUrls)||(t.data.baseUrls=n,t.data.selectedIdx=a),e&&e.Period_asArray&&e.Period_asArray.forEach(function(e,n){updateChildData(t.children,n,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach(function(e,i){updateChildData(t.children[n].children,i,e),e.Representation_asArray&&e.Representation_asArray.sort(r.getRepresentationSortFunction()).forEach(function(e,r){updateChildData(t.children[n].children[i].children,r,e)})})})}function reset(){t=new o}return e={reset:reset,update:function update(e){getBaseURLCollectionsFromManifest(e)},getForPath:function getForPath(e){var r=t,n=[r.data];return e&&e.forEach(function(e){(r=r.children[e])&&n.push(r.data)}),n.filter(function(e){return e.baseUrls.length})},invalidateSelectedIndexes:function invalidateSelectedIndexes(e){!function walk(e,r){var n=r||t;e(n.data),n.children&&n.children.forEach(function(t){return walk(e,t)})}(function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=a)})},setConfig:function setConfig(e){e.dashManifestModel&&(r=e.dashManifestModel)}},function setup(){reset()}(),e}BaseURLTreeModel.__dashjs_factory_name="BaseURLTreeModel",t.default=i.default.getClassFactory(BaseURLTreeModel),e.exports=t.default},function(e,t,r){"use strict";var n=Array.isArray,i=Object.keys,a=Object.prototype.hasOwnProperty;e.exports=function equal(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,o,s,l=n(e),u=n(t);if(l&&u){if((o=e.length)!=t.length)return!1;for(r=o;0!=r--;)if(!equal(e[r],t[r]))return!1;return!0}if(l!=u)return!1;var c=e instanceof Date,f=t instanceof Date;if(c!=f)return!1;if(c&&f)return e.getTime()==t.getTime();var d=e instanceof RegExp,p=t instanceof RegExp;if(d!=p)return!1;if(d&&p)return e.toString()==t.toString();var h=i(e);if((o=h.length)!==i(t).length)return!1;for(r=o;0!=r--;)if(!a.call(t,h[r]))return!1;for(r=o;0!=r--;)if(!equal(e[s=h[r]],t[s]))return!1;return!0}return e!=e&&t!=t}},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(38)),i=_interopRequireDefault(r(12)),a=_interopRequireDefault(r(14)),o=_interopRequireDefault(r(695)),s=_interopRequireDefault(r(696)),l=_interopRequireDefault(r(697)),u=_interopRequireDefault(r(4)),c=_interopRequireDefault(r(32)),f=_interopRequireDefault(r(11));function BaseURLSelector(){var e,t=this.context,r=(0,i.default)(t).getInstance(),u=void 0,d=void 0,p=void 0,h=void 0,g=void 0;function reset(){d.reset()}return e={chooseSelectorFromManifest:function chooseSelectorFromManifest(e){!function checkConfig(){if(!u||!u.hasOwnProperty("getIsDVB"))throw new Error(f.default.MISSING_CONFIG_ERROR)}(),g=u.getIsDVB(e)?h:p},select:function select(e){if(e){var t=e.baseUrls,i=e.selectedIdx;if(!isNaN(i))return t[i];var o=g.select(t);return o?(e.selectedIdx=t.indexOf(o),o):(r.trigger(a.default.URL_RESOLUTION_FAILED,{error:new c.default(n.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,n.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(g===p&&reset()))}},reset:reset,setConfig:function setConfig(e){e.selector&&(g=e.selector),e.dashManifestModel&&(u=e.dashManifestModel)}},function setup(){d=(0,o.default)(t).create({updateEventName:a.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:a.default.SERVICE_LOCATION_BLACKLIST_ADD}),p=(0,l.default)(t).create({blacklistController:d}),h=(0,s.default)(t).create({blacklistController:d}),g=p}(),e}BaseURLSelector.__dashjs_factory_name="BaseURLSelector",t.default=u.default.getClassFactory(BaseURLSelector),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(12));function BlackListController(e){e=e||{};var t=[],r=(0,i.default)(this.context).getInstance(),n=e.updateEventName,a=e.addBlacklistEventName;function add(e){-1===t.indexOf(e)&&(t.push(e),r.trigger(n,{entry:e}))}function onAddBlackList(e){add(e.entry)}return function setup(){a&&r.on(a,onAddBlackList,this)}(),{add:add,contains:function contains(e){return!!(t.length&&e&&e.length)&&-1!==t.indexOf(e)},reset:function reset(){t=[]}}}BlackListController.__dashjs_factory_name="BlackListController",t.default=n.default.getClassFactory(BlackListController),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function DVBSelector(e){var t=(e=e||{}).blacklistController;return{select:function select(e){return e&&function selectByWeight(e){var t=0,r=[],n=0,i=void 0,a=void 0;if((a=e.sort(function prioritySorter(e,t){var r=e.dvb_priority-t.dvb_priority;return isNaN(r)?0:r}).filter(function topPriorityFilter(e,t,r){return!t||r[0].dvb_priority&&e.dvb_priority&&r[0].dvb_priority===e.dvb_priority})).length)return a.length>1&&(a.forEach(function(e){t+=e.dvb_weight,r.push(t)}),i=Math.floor(Math.random()*(t-1)),r.every(function(e,t){return n=t,!(i<e)})),a[n]}(function getNonBlacklistedBaseUrls(e){var r=[];return e.filter(function serviceLocationFilter(e){return!t.contains(e.serviceLocation)||(e.dvb_priority&&r.push(e.dvb_priority),!1)}).filter(function samePrioritiesFilter(e){return!r.length||!e.dvb_priority||-1===r.indexOf(e.dvb_priority)})}(e))}}}DVBSelector.__dashjs_factory_name="DVBSelector",t.default=n.default.getClassFactory(DVBSelector),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function BasicSelector(e){var t=(e=e||{}).blacklistController;return{select:function select(e){var r=0,n=void 0;return e&&e.some(function(e,n){return r=n,!t.contains(e.serviceLocation)})&&(n=e[r]),n}}}BasicSelector.__dashjs_factory_name="BasicSelector",t.default=n.default.getClassFactory(BasicSelector),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(13));function MediaSourceController(){var e=void 0,t=void 0,r=this.context;return e={createMediaSource:function createMediaSource(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null},attachMediaSource:function attachMediaSource(e,t){var r=window.URL.createObjectURL(e);return t.setSource(r),r},detachMediaSource:function detachMediaSource(e){e.setSource(null)},setDuration:function setDuration(e,t){return e.duration!=t&&(e.duration=t),e.duration},setSeekable:function setSeekable(e,t,r){e&&"function"==typeof e.setLiveSeekableRange&&"function"==typeof e.clearLiveSeekableRange&&"open"===e.readyState&&t>=0&&t<r&&(e.clearLiveSeekableRange(),e.setLiveSeekableRange(t,r))},signalEndOfStream:function signalEndOfStream(e){var r=e.sourceBuffers,n=r.length;if("open"===e.readyState){for(var i=0;i<n;i++){if(r[i].updating)return;if(0===r[i].buffered.length)return}t.info("call to mediaSource endOfStream"),e.endOfStream()}}},function setup(){t=(0,i.default)(r).getInstance().getLogger(e)}(),e}MediaSourceController.__dashjs_factory_name="MediaSourceController",t.default=n.default.getSingletonFactory(MediaSourceController),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(700)),a=_interopRequireDefault(r(133)),o=_interopRequireDefault(r(84)),s=_interopRequireDefault(r(312)),l=_interopRequireDefault(r(32)),u=r(42),c=_interopRequireDefault(r(12)),f=_interopRequireDefault(r(14)),d=_interopRequireDefault(r(38)),p=_interopRequireDefault(r(4)),h=_interopRequireDefault(r(702)),g=_interopRequireDefault(r(13));function ManifestLoader(e){e=e||{};var t=this.context,r=(0,c.default)(t).getInstance(),p=(0,o.default)(t).getInstance(),m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,E=e.mssHandler,T=e.errHandler;function onXlinkReady(e){r.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}return m={load:function load(e){var i=new s.default(e,u.HTTPRequest.MPD_TYPE);v.load({request:i,success:function success(i,a,o){if(_){var s=void 0,u=void 0,c=void 0;if(o&&o!==e?(u=p.parseBaseUrl(o),s=o):(p.isRelative(e)&&(e=p.resolve(e,window.location.href)),u=p.parseBaseUrl(e)),null===b&&(b=function createParser(e){var r=null;return e.indexOf("SmoothStreamingMedia")>-1?(E&&(r=E.createMssParser(),E.registerEvents()),r):e.indexOf("MPD")>-1?(0,h.default)(t).create():r}(i)),null!==b){_.setMatchers(b.getMatchers()),_.setIron(b.getIron());try{c=b.parse(i)}catch(t){return void r.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l.default(d.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,d.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}c?(c.url=s||e,c.originalUrl||(c.originalUrl=c.url),c.hasOwnProperty(n.default.LOCATION)&&(u=p.parseBaseUrl(c.Location_asArray[0]),y.debug("BaseURI set by Location to: "+u)),c.baseUri=u,c.loadedTime=new Date,_.resolveManifestOnLoad(c)):r.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l.default(d.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,d.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}else r.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l.default(d.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,d.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+e)})}},error:function error(t,n,i){r.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l.default(d.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,d.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+(e+", ")+i)})}})},reset:function reset(){r.off(f.default.XLINK_READY,onXlinkReady,m),_&&(_.reset(),_=null),v&&(v.abort(),v=null),E&&E.reset()}},function setup(){y=(0,g.default)(t).getInstance().getLogger(m),r.on(f.default.XLINK_READY,onXlinkReady,m),v=(0,a.default)(t).create({errHandler:T,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),_=(0,i.default)(t).create({errHandler:T,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier}),b=null}(),m}ManifestLoader.__dashjs_factory_name="ManifestLoader";var m=p.default.getClassFactory(ManifestLoader);t.default=m,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(701)),i=_interopRequireDefault(r(12)),a=_interopRequireDefault(r(14)),o=_interopRequireDefault(r(4)),s=_interopRequireDefault(r(313)),l=_interopRequireDefault(r(84)),u=_interopRequireDefault(r(57)),c="onLoad",f="onActuate",d="urn:mpeg:dash:resolve-to-zero:2013";function XlinkController(e){e=e||{};var t=this.context,r=(0,i.default)(t).getInstance(),o=(0,l.default)(t).getInstance(),p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0;function resolve(e,t,r){var n={},i=void 0,a=void 0;n.elements=e,n.type=t,n.resolveType=r,0===n.elements.length&&onXlinkAllElementsLoaded(n);for(var s=0;s<n.elements.length;s++)i=n.elements[s],a=o.isHTTPURL(i.url)?i.url:i.originalContent.BaseURL+i.url,v.load(a,i,n)}function onXlinkElementLoaded(e){var t,r=void 0,n="";if(r=e.element,t=e.resolveObject,r.resolvedContent){var i=0;0===r.resolvedContent.indexOf("<?xml")&&(i=r.resolvedContent.indexOf("?>")+2),n=r.resolvedContent.substr(0,i)+"<response>"+r.resolvedContent.substr(i)+"</response>",r.resolvedContent=y.xml_str2json(n)}(function isResolvingFinished(e){var t=void 0;for(t=0;t<e.elements.length;t++)if(!1===e.elements[t].resolved)return!1;return!0})(t)&&onXlinkAllElementsLoaded(t)}function onXlinkAllElementsLoaded(e){var t=[],n=void 0,i=void 0;if(function mergeElementsBack(e){var t=[],r=void 0,n=void 0,i=void 0,a=void 0,o=void 0,s=void 0;for(a=e.elements.length-1;a>=0;a--){if(r=e.elements[a],n=r.type+"_asArray",r.resolvedContent){if(r.resolvedContent)for(o=0;o<r.resolvedContent[n].length;o++)i=r.resolvedContent[n][o],t.push(i)}else delete r.originalContent["xlink:actuate"],delete r.originalContent["xlink:href"],t.push(r.originalContent);for(r.parentElement[n].splice(r.index,1),s=0;s<t.length;s++)r.parentElement[n].splice(r.index+s,0,t[s]);t=[]}e.elements.length>0&&g.run(m)}(e),e.resolveType===f&&r.trigger(a.default.XLINK_READY,{manifest:m}),e.resolveType===c)switch(e.type){case u.default.PERIOD:for(n=0;n<m[u.default.PERIOD+"_asArray"].length;n++)(i=m[u.default.PERIOD+"_asArray"][n]).hasOwnProperty(u.default.ADAPTATION_SET+"_asArray")&&(t=t.concat(getElementsToResolve(i[u.default.ADAPTATION_SET+"_asArray"],i,u.default.ADAPTATION_SET,c))),i.hasOwnProperty(u.default.EVENT_STREAM+"_asArray")&&(t=t.concat(getElementsToResolve(i[u.default.EVENT_STREAM+"_asArray"],i,u.default.EVENT_STREAM,c)));resolve(t,u.default.ADAPTATION_SET,c);break;case u.default.ADAPTATION_SET:r.trigger(a.default.XLINK_READY,{manifest:m})}}function getElementsToResolve(e,t,r,n){var i=[],a=void 0,o=void 0,s=void 0;for(o=e.length-1;o>=0;o--)(a=e[o]).hasOwnProperty("xlink:href")&&a["xlink:href"]===d&&e.splice(o,1);for(o=0;o<e.length;o++)(a=e[o]).hasOwnProperty("xlink:href")&&a.hasOwnProperty("xlink:actuate")&&a["xlink:actuate"]===n&&(s=createXlinkObject(a["xlink:href"],t,r,o,n,a),i.push(s));return i}function createXlinkObject(e,t,r,n,i,a){return{url:e,parentElement:t,type:r,index:n,resolveType:i,originalContent:a,resolvedContent:null,resolved:!1}}return p={resolveManifestOnLoad:function resolveManifestOnLoad(e){y=new s.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:h}),resolve(getElementsToResolve((m=e).Period_asArray,m,u.default.PERIOD,c),u.default.PERIOD,c)},setMatchers:function setMatchers(e){e&&(h=e)},setIron:function setIron(e){e&&(g=e)},reset:function reset(){r.off(a.default.XLINK_ELEMENT_LOADED,onXlinkElementLoaded,p),v&&(v.reset(),v=null)}},function setup(){r.on(a.default.XLINK_ELEMENT_LOADED,onXlinkElementLoaded,p),v=(0,n.default)(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier})}(),p}XlinkController.__dashjs_factory_name="XlinkController",t.default=o.default.getClassFactory(XlinkController),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(32)),i=_interopRequireDefault(r(133)),a=r(42),o=_interopRequireDefault(r(312)),s=_interopRequireDefault(r(12)),l=_interopRequireDefault(r(14)),u=_interopRequireDefault(r(4)),c=_interopRequireDefault(r(38));function XlinkLoader(e){e=e||{};var t="urn:mpeg:dash:resolve-to-zero:2013",r=this.context,u=(0,s.default)(r).getInstance(),f=(0,i.default)(r).create({errHandler:e.errHandler,metricsModel:e.metricsModel,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier});return{load:function load(e,r,i){var s=function report(t,a){r.resolved=!0,r.resolvedContent=t||null,u.trigger(l.default.XLINK_ELEMENT_LOADED,{element:r,resolveObject:i,error:t||a?null:new n.default(c.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,c.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+e)})};if(e===t)s(null,!0);else{var d=new o.default(e,a.HTTPRequest.XLINK_EXPANSION_TYPE);f.load({request:d,success:function success(e){s(e)},error:function error(){s(null)}})}},reset:function reset(){f&&(f.abort(),f=null)}}}XlinkLoader.__dashjs_factory_name="XlinkLoader",t.default=u.default.getClassFactory(XlinkLoader),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(13)),a=_interopRequireDefault(r(703)),o=_interopRequireDefault(r(313)),s=_interopRequireDefault(r(704)),l=_interopRequireDefault(r(705)),u=_interopRequireDefault(r(706)),c=_interopRequireDefault(r(707)),f=_interopRequireDefault(r(708)),d=_interopRequireDefault(r(710));function DashParser(){var e=this.context,t=void 0,r=void 0,n=void 0,p=void 0,h=void 0;return t={parse:function parse(e){var t,n=window.performance.now();if(!(t=p.xml_str2json(e)))throw new Error("parsing the manifest failed");var i=window.performance.now();h.run(t);var a=window.performance.now();return r.info("Parsing complete: ( xml2json: "+(i-n).toPrecision(3)+"ms, objectiron: "+(a-i).toPrecision(3)+"ms, total: "+((a-n)/1e3).toPrecision(3)+"s)"),t},getMatchers:function getMatchers(){return n},getIron:function getIron(){return h}},function setup(){r=(0,i.default)(e).getInstance().getLogger(t),n=[new l.default,new u.default,new c.default,new s.default],p=new o.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:n}),h=(0,a.default)(e).create({adaptationset:new f.default,period:new d.default})}(),t}DashParser.__dashjs_factory_name="DashParser",t.default=n.default.getClassFactory(DashParser),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function ObjectIron(e){function mergeValues(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function mapProperties(e,t,r){for(var n=0,i=e.length;n<i;++n){var a=e[n];if(t[a.name])if(r[a.name]){if(a.merge){var o=t[a.name],s=r[a.name];"object"==typeof o&&"object"==typeof s?mergeValues(o,s):r[a.name]=o+s}}else r[a.name]=t[a.name]}}function mapItem(e,t){for(var r=0,n=e.children.length;r<n;++r){var i=e.children[r],a=t[i.name+"_asArray"];if(a)for(var o=0,s=a.length;o<s;++o){var l=a[o];mapProperties(e.properties,t,l),mapItem(i,l)}}}return{run:function run(t){if(null===t||"object"!=typeof t)return t;if("period"in e)for(var r=e.period,n=t.Period_asArray,i=0,a=n.length;i<a;++i){var o=n[i];if(mapItem(r,o),"adaptationset"in e){var s=o.AdaptationSet_asArray;if(s)for(var l=e.adaptationset,u=0,c=s.length;u<c;++u)mapItem(l,s[u])}}return t}}}ObjectIron.__dashjs_factory_name="ObjectIron";var i=n.default.getClassFactory(ObjectIron);t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=_interopRequireDefault(r(161)),a=_interopRequireDefault(r(57)),o=function(e){function StringMatcher(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StringMatcher),n(Object.getPrototypeOf(StringMatcher.prototype),"constructor",this).call(this,function(e,t){var r,n=(_defineProperty(r={},a.default.MPD,[a.default.ID,a.default.PROFILES]),_defineProperty(r,a.default.PERIOD,[a.default.ID]),_defineProperty(r,a.default.BASE_URL,[a.default.SERVICE_LOCATION,a.default.BYTE_RANGE]),_defineProperty(r,a.default.SEGMENT_BASE,[a.default.INDEX_RANGE]),_defineProperty(r,a.default.INITIALIZATION,[a.default.RANGE]),_defineProperty(r,a.default.REPRESENTATION_INDEX,[a.default.RANGE]),_defineProperty(r,a.default.SEGMENT_LIST,[a.default.INDEX_RANGE]),_defineProperty(r,a.default.BITSTREAM_SWITCHING,[a.default.RANGE]),_defineProperty(r,a.default.SEGMENT_URL,[a.default.MEDIA_RANGE,a.default.INDEX_RANGE]),_defineProperty(r,a.default.SEGMENT_TEMPLATE,[a.default.INDEX_RANGE,a.default.MEDIA,a.default.INDEX,a.default.INITIALIZATION_MINUS,a.default.BITSTREAM_SWITCHING_MINUS]),_defineProperty(r,a.default.ASSET_IDENTIFIER,[a.default.VALUE,a.default.ID]),_defineProperty(r,a.default.EVENT_STREAM,[a.default.VALUE]),_defineProperty(r,a.default.ADAPTATION_SET,[a.default.PROFILES,a.default.MIME_TYPE,a.default.SEGMENT_PROFILES,a.default.CODECS,a.default.CONTENT_TYPE]),_defineProperty(r,a.default.FRAME_PACKING,[a.default.VALUE,a.default.ID]),_defineProperty(r,a.default.AUDIO_CHANNEL_CONFIGURATION,[a.default.VALUE,a.default.ID]),_defineProperty(r,a.default.CONTENT_PROTECTION,[a.default.VALUE,a.default.ID]),_defineProperty(r,a.default.ESSENTIAL_PROPERTY,[a.default.VALUE,a.default.ID]),_defineProperty(r,a.default.SUPPLEMENTAL_PROPERTY,[a.default.VALUE,a.default.ID]),_defineProperty(r,a.default.INBAND_EVENT_STREAM,[a.default.VALUE,a.default.ID]),_defineProperty(r,a.default.ACCESSIBILITY,[a.default.VALUE,a.default.ID]),_defineProperty(r,a.default.ROLE,[a.default.VALUE,a.default.ID]),_defineProperty(r,a.default.RATING,[a.default.VALUE,a.default.ID]),_defineProperty(r,a.default.VIEWPOINT,[a.default.VALUE,a.default.ID]),_defineProperty(r,a.default.CONTENT_COMPONENT,[a.default.CONTENT_TYPE]),_defineProperty(r,a.default.REPRESENTATION,[a.default.ID,a.default.DEPENDENCY_ID,a.default.MEDIA_STREAM_STRUCTURE_ID]),_defineProperty(r,a.default.SUBSET,[a.default.ID]),_defineProperty(r,a.default.METRICS,[a.default.METRICS_MINUS]),_defineProperty(r,a.default.REPORTING,[a.default.VALUE,a.default.ID]),r);if(n.hasOwnProperty(t)){var i=n[t];return void 0!==i&&i.indexOf(e.name)>=0}return!1},function(e){return String(e)})}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(StringMatcher,i["default"]),StringMatcher}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=_interopRequireDefault(r(161)),a=_interopRequireDefault(r(11)),o=_interopRequireDefault(r(57)),s=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,l=31536e3,u=2592e3,c=86400,f=3600,d=60,p=function(e){function DurationMatcher(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DurationMatcher),n(Object.getPrototypeOf(DurationMatcher.prototype),"constructor",this).call(this,function(e){for(var t=[o.default.MIN_BUFFER_TIME,o.default.MEDIA_PRESENTATION_DURATION,o.default.MINIMUM_UPDATE_PERIOD,o.default.TIMESHIFT_BUFFER_DEPTH,o.default.MAX_SEGMENT_DURATION,o.default.MAX_SUBSEGMENT_DURATION,a.default.SUGGESTED_PRESENTATION_DELAY,o.default.START,a.default.START_TIME,o.default.DURATION],r=t.length,n=0;n<r;n++)if(e.nodeName===t[n])return s.test(e.value);return!1},function(e){var t=s.exec(e),r=parseFloat(t[2]||0)*l+parseFloat(t[4]||0)*u+parseFloat(t[6]||0)*c+parseFloat(t[8]||0)*f+parseFloat(t[10]||0)*d+parseFloat(t[12]||0);return void 0!==t[1]&&(r=-r),r})}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DurationMatcher,i["default"]),DurationMatcher}();t.default=p,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(161)),a=60,o=60,s=1e3,l=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,u=function(e){function DateTimeMatcher(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DateTimeMatcher),n(Object.getPrototypeOf(DateTimeMatcher.prototype),"constructor",this).call(this,function(e){return l.test(e.value)},function(e){var t=l.exec(e),r=void 0;if(r=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&parseFloat(t[7])*s||0),t[9]&&t[10]){var n=parseInt(t[9],10)*o+parseInt(t[10],10);r+=("+"===t[8]?-1:1)*n*a*s}return new Date(r)})}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DateTimeMatcher,i["default"]),DateTimeMatcher}();t.default=u,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(161)),a=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,o=function(e){function NumericMatcher(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NumericMatcher),n(Object.getPrototypeOf(NumericMatcher.prototype),"constructor",this).call(this,function(e){return a.test(e.value)},function(e){return parseFloat(e)})}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(NumericMatcher,i["default"]),NumericMatcher}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=_interopRequireDefault(r(314)),a=_interopRequireDefault(r(57)),o=function(e){function RepresentationBaseValuesMap(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RepresentationBaseValuesMap);var e=[a.default.PROFILES,a.default.WIDTH,a.default.HEIGHT,a.default.SAR,a.default.FRAMERATE,a.default.AUDIO_SAMPLING_RATE,a.default.MIME_TYPE,a.default.SEGMENT_PROFILES,a.default.CODECS,a.default.MAXIMUM_SAP_PERIOD,a.default.START_WITH_SAP,a.default.MAX_PLAYOUT_RATE,a.default.CODING_DEPENDENCY,a.default.SCAN_TYPE,a.default.FRAME_PACKING,a.default.AUDIO_CHANNEL_CONFIGURATION,a.default.CONTENT_PROTECTION,a.default.ESSENTIAL_PROPERTY,a.default.SUPPLEMENTAL_PROPERTY,a.default.INBAND_EVENT_STREAM];n(Object.getPrototypeOf(RepresentationBaseValuesMap.prototype),"constructor",this).call(this,a.default.ADAPTATION_SET,e,[new i.default(a.default.REPRESENTATION,e,[new i.default(a.default.SUB_REPRESENTATION,e)])])}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(RepresentationBaseValuesMap,i["default"]),RepresentationBaseValuesMap}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function CommonProperty(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CommonProperty);this._name=e,this._merge=function getDefaultMergeForName(e){return e&&e.length&&e.charAt(0)===e.charAt(0).toUpperCase()}(e)}return n(CommonProperty,[{key:"name",get:function get(){return this._name}},{key:"merge",get:function get(){return this._merge}}]),CommonProperty}();t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var i=_interopRequireDefault(r(314)),a=_interopRequireDefault(r(57)),o=function(e){function SegmentValuesMap(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SegmentValuesMap);var e=[a.default.SEGMENT_BASE,a.default.SEGMENT_TEMPLATE,a.default.SEGMENT_LIST];n(Object.getPrototypeOf(SegmentValuesMap.prototype),"constructor",this).call(this,a.default.PERIOD,e,[new i.default(a.default.ADAPTATION_SET,e,[new i.default(a.default.REPRESENTATION,e)])])}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(SegmentValuesMap,i["default"]),SegmentValuesMap}();t.default=o,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(12)),i=_interopRequireDefault(r(14)),a=_interopRequireDefault(r(4));function ErrorHandler(){var e=this.context,t=(0,n.default)(e).getInstance();return{capabilityError:function capabilityError(e){t.trigger(i.default.ERROR,{error:"capability",event:e})},downloadError:function downloadError(e,r,n){t.trigger(i.default.ERROR,{error:"download",event:{id:e,url:r,request:n}})},manifestError:function manifestError(e,r,n,a){t.trigger(i.default.ERROR,{error:"manifestError",event:{message:e,id:r,manifest:n,event:a}})},timedTextError:function timedTextError(e,r,n){t.trigger(i.default.ERROR,{error:"cc",event:{message:e,id:r,cc:n}})},mediaSourceError:function mediaSourceError(e){t.trigger(i.default.ERROR,{error:"mediasource",event:e})},mediaKeySessionError:function mediaKeySessionError(e){t.trigger(i.default.ERROR,{error:"key_session",event:e})},mediaKeyMessageError:function mediaKeyMessageError(e){t.trigger(i.default.ERROR,{error:"key_message",event:e})},error:function error(e){t.trigger(i.default.ERROR,{error:e})}}}ErrorHandler.__dashjs_factory_name="ErrorHandler",t.default=a.default.getSingletonFactory(ErrorHandler),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(4));function Capabilities(){var e,t=void 0;return e={supportsMediaSource:function supportsMediaSource(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t},supportsEncryptedMedia:function supportsEncryptedMedia(){return t},supportsCodec:function supportsCodec(e){return!!("MediaSource"in window&&MediaSource.isTypeSupported(e))||!!("WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(e))},setEncryptedMediaSupported:function setEncryptedMediaSupported(e){t=e}},function setup(){t=!1}(),e}Capabilities.__dashjs_factory_name="Capabilities",t.default=n.default.getSingletonFactory(Capabilities),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(714)),i=_interopRequireDefault(r(4));function URIFragmentModel(){var e=void 0;return{initialize:function initialize(t){if(e=new n.default,!t)return null;var r=t.indexOf("#");if(-1!==r)for(var i=t.substr(r+1).split("&"),a=0,o=i.length;a<o;++a){var s=i[a],l=s.indexOf("=");if(-1!==l){var u=s.substring(0,l);e.hasOwnProperty(u)&&(e[u]=s.substr(l+1))}}},getURIFragmentData:function getURIFragmentData(){return e}}}URIFragmentModel.__dashjs_factory_name="URIFragmentModel",t.default=i.default.getSingletonFactory(URIFragmentModel),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function URIFragmentData(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,URIFragmentData),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null},e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(12)),i=_interopRequireDefault(r(14)),a=_interopRequireDefault(r(4));function ManifestModel(){var e=this.context,t=(0,n.default)(e).getInstance(),r=void 0;return{getValue:function getValue(){return r},setValue:function setValue(e){r=e,e&&t.trigger(i.default.MANIFEST_LOADED,{data:e})}}}ManifestModel.__dashjs_factory_name="ManifestModel",t.default=a.default.getSingletonFactory(ManifestModel),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(315)),i=_interopRequireDefault(r(4)),a=r(42),o=_interopRequireDefault(r(11)),s=_interopRequireDefault(r(303)),l=r(117),u=4,c=36e4,f=36e4,d=.9,p=1e4,h=20,g=80,m=10,y=12,v=20,_=30,b=60,E=600,T=.2,S=.8,w=100,R=50,A=5,C=3,x=1e3,D=3,P=500,I=1,M=500,O=3,k=10,L=5,N=.02,F=0,B=.5,U=50,j=!1;function MediaPlayerModel(){var e,t=void 0,r=void 0,i=void 0,q=void 0,G=void 0,H=void 0,V=void 0,z=void 0,K=void 0,W=void 0,Y=void 0,X=void 0,Q=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,re=void 0,ne=void 0,ie=void 0,ae=void 0,oe=void 0,se=void 0,le=void 0,ue=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,me=void 0,ye=void 0,ve=void 0,_e=void 0,be={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso&ms"};function findABRCustomRuleIndex(e){var t=void 0;for(t=0;t<ue.length;t++)if(ue[t].rulename===e)return t;return-1}function getLiveDelay(){return he?G||O:G}function addUTCTimingSource(e,t){removeUTCTimingSource(e,t);var r=new n.default;r.schemeIdUri=e,r.value=t,i.push(r)}function removeUTCTimingSource(e,t){(0,l.checkParameterType)(e,"string"),(0,l.checkParameterType)(t,"string"),i.forEach(function(r,n){r.schemeIdUri===e&&r.value===t&&i.splice(n,1)})}function getLowLatencyEnabled(){return he}return e={setABRStrategy:function setABRStrategy(e){if(e!==o.default.ABR_STRATEGY_DYNAMIC&&e!==o.default.ABR_STRATEGY_BOLA&&e!==o.default.ABR_STRATEGY_THROUGHPUT)throw o.default.BAD_ARGUMENT_ERROR;ae=e},getABRStrategy:function getABRStrategy(){return ae},setUseDefaultABRRules:function setUseDefaultABRRules(e){(0,l.checkParameterType)(e,"boolean"),oe=e},getUseDefaultABRRules:function getUseDefaultABRRules(){return oe},getABRCustomRules:function getABRCustomRules(){return ue},addABRCustomRule:function addABRCustomRule(e,t,r){if("string"!=typeof e||e!==s.default.ABANDON_FRAGMENT_RULES&&e!==s.default.QUALITY_SWITCH_RULES||"string"!=typeof t)throw o.default.BAD_ARGUMENT_ERROR;var n=findABRCustomRuleIndex(t);-1===n?ue.push({type:e,rulename:t,rule:r}):(ue[n].type=e,ue[n].rule=r)},removeABRCustomRule:function removeABRCustomRule(e){if(e){var t=findABRCustomRuleIndex(e);-1!==t&&ue.splice(t,1)}else ue=[]},setBandwidthSafetyFactor:function setBandwidthSafetyFactor(e){(0,l.checkParameterType)(e,"number"),ee=e},getBandwidthSafetyFactor:function getBandwidthSafetyFactor(){return ee},setAbandonLoadTimeout:function setAbandonLoadTimeout(e){(0,l.checkParameterType)(e,"number"),te=e},getAbandonLoadTimeout:function getAbandonLoadTimeout(){return te},setLastBitrateCachingInfo:function setLastBitrateCachingInfo(e,t){if("boolean"!=typeof e||void 0!==t&&("number"!=typeof t||isNaN(t)))throw o.default.BAD_ARGUMENT_ERROR;W.enabled=e,void 0!==t&&(W.ttl=t)},getLastBitrateCachingInfo:function getLastBitrateCachingInfo(){return W},setLastMediaSettingsCachingInfo:function setLastMediaSettingsCachingInfo(e,t){if("boolean"!=typeof e||void 0!==t&&("number"!=typeof t||isNaN(t)))throw o.default.BAD_ARGUMENT_ERROR;Y.enabled=e,void 0!==t&&(Y.ttl=t)},getLastMediaSettingsCachingInfo:function getLastMediaSettingsCachingInfo(){return Y},setStableBufferTime:function setStableBufferTime(e){(0,l.checkParameterType)(e,"number"),X=e},getStableBufferTime:function getStableBufferTime(){return getLowLatencyEnabled()?.6*getLiveDelay():isNaN(X)?le?v:y:X},setBufferTimeAtTopQuality:function setBufferTimeAtTopQuality(e){(0,l.checkParameterType)(e,"number"),Q=e},getBufferTimeAtTopQuality:function getBufferTimeAtTopQuality(){return Q},setBufferTimeAtTopQualityLongForm:function setBufferTimeAtTopQualityLongForm(e){(0,l.checkParameterType)(e,"number"),$=e},getBufferTimeAtTopQualityLongForm:function getBufferTimeAtTopQualityLongForm(){return $},setLongFormContentDurationThreshold:function setLongFormContentDurationThreshold(e){(0,l.checkParameterType)(e,"number"),J=e},getLongFormContentDurationThreshold:function getLongFormContentDurationThreshold(){return J},setSegmentOverlapToleranceTime:function setSegmentOverlapToleranceTime(e){(0,l.checkParameterType)(e,"number"),Z=e},getSegmentOverlapToleranceTime:function getSegmentOverlapToleranceTime(){return Z},getCacheLoadThresholdForType:function getCacheLoadThresholdForType(e){return fe[e]},setCacheLoadThresholdForType:function setCacheLoadThresholdForType(e,t){(0,l.checkParameterType)(t,"number"),(0,l.checkIsVideoOrAudioType)(e),fe[e]=t},setBufferToKeep:function setBufferToKeep(e){(0,l.checkParameterType)(e,"number"),V=e},getBufferToKeep:function getBufferToKeep(){return V},setBufferAheadToKeep:function setBufferAheadToKeep(e){(0,l.checkParameterType)(e,"number"),z=e},getBufferAheadToKeep:function getBufferAheadToKeep(){return z},setBufferPruningInterval:function setBufferPruningInterval(e){(0,l.checkParameterType)(e,"number"),K=e},getBufferPruningInterval:function getBufferPruningInterval(){return K},setRetryAttemptsForType:function setRetryAttemptsForType(e,t){if("number"!=typeof t||"string"!=typeof e||e!==a.HTTPRequest.MPD_TYPE&&e!==a.HTTPRequest.MEDIA_SEGMENT_TYPE)throw o.default.BAD_ARGUMENT_ERROR;re[e]=t},getRetryAttemptsForType:function getRetryAttemptsForType(e){return getLowLatencyEnabled()?re[e]*L:re[e]},setRetryIntervalForType:function setRetryIntervalForType(e,t){(0,l.checkParameterType)(t,"number"),ne[e]=t},getRetryIntervalForType:function getRetryIntervalForType(e){return getLowLatencyEnabled()?ne[e]/k:ne[e]},setWallclockTimeUpdateInterval:function setWallclockTimeUpdateInterval(e){(0,l.checkParameterType)(e,"number"),ie=e},getWallclockTimeUpdateInterval:function getWallclockTimeUpdateInterval(){return ie},setScheduleWhilePaused:function setScheduleWhilePaused(e){(0,l.checkParameterType)(e,"boolean"),H=e},getScheduleWhilePaused:function getScheduleWhilePaused(){return H},getUseSuggestedPresentationDelay:function getUseSuggestedPresentationDelay(){return r},setUseSuggestedPresentationDelay:function setUseSuggestedPresentationDelay(e){(0,l.checkParameterType)(e,"boolean"),r=e},setLiveDelayFragmentCount:function setLiveDelayFragmentCount(e){(0,l.checkParameterType)(e,"number"),q=e},getLiveDelayFragmentCount:function getLiveDelayFragmentCount(){return q},getLiveDelay:getLiveDelay,setLiveDelay:function setLiveDelay(e){void 0!==e&&(0,l.checkParameterType)(e,"number"),G=e},setUseManifestDateHeaderTimeSource:function setUseManifestDateHeaderTimeSource(e){(0,l.checkParameterType)(e,"boolean"),t=e},getUseManifestDateHeaderTimeSource:function getUseManifestDateHeaderTimeSource(){return t},addUTCTimingSource:addUTCTimingSource,removeUTCTimingSource:removeUTCTimingSource,getUTCTimingSources:function getUTCTimingSources(){return i},clearDefaultUTCTimingSources:function clearDefaultUTCTimingSources(){i=[]},restoreDefaultUTCTimingSources:function restoreDefaultUTCTimingSources(){addUTCTimingSource(be.scheme,be.value)},setXHRWithCredentialsForType:function setXHRWithCredentialsForType(e,t){e?se[e]=!!t:Object.keys(se).forEach(function(e){setXHRWithCredentialsForType(e,t)})},getXHRWithCredentialsForType:function getXHRWithCredentialsForType(e){var t=se[e];return void 0===t?se.default:t},setFastSwitchEnabled:function setFastSwitchEnabled(e){(0,l.checkParameterType)(e,"boolean"),le=e},getFastSwitchEnabled:function getFastSwitchEnabled(){return le},setMovingAverageMethod:function setMovingAverageMethod(e){if(e!==o.default.MOVING_AVERAGE_SLIDING_WINDOW&&e!==o.default.MOVING_AVERAGE_EWMA)throw o.default.BAD_ARGUMENT_ERROR;ce=e},getMovingAverageMethod:function getMovingAverageMethod(){return ce},setJumpGaps:function setJumpGaps(e){(0,l.checkParameterType)(e,"boolean"),de=e},getJumpGaps:function getJumpGaps(){return de},setSmallGapLimit:function setSmallGapLimit(e){(0,l.checkParameterType)(e,"number"),pe=e},getSmallGapLimit:function getSmallGapLimit(){return pe},getLowLatencyEnabled:getLowLatencyEnabled,setLowLatencyEnabled:function setLowLatencyEnabled(e){(0,l.checkParameterType)(e,"boolean"),he=e},setCatchUpPlaybackRate:function setCatchUpPlaybackRate(e){(0,l.checkParameterType)(e,"number"),(0,l.checkRange)(e,0,.5),_e=e},getCatchUpPlaybackRate:function getCatchUpPlaybackRate(){return _e},setLowLatencyMinDrift:function setLowLatencyMinDrift(e){(0,l.checkParameterType)(e,"number"),ye=e},getLowLatencyMinDrift:function getLowLatencyMinDrift(){return ye},setLowLatencyMaxDriftBeforeSeeking:function setLowLatencyMaxDriftBeforeSeeking(e){(0,l.checkParameterType)(e,"number"),ve=e},getLowLatencyMaxDriftBeforeSeeking:function getLowLatencyMaxDriftBeforeSeeking(){return ve},setManifestUpdateRetryInterval:function setManifestUpdateRetryInterval(e){(0,l.checkParameterType)(e,"number"),ge=e},getManifestUpdateRetryInterval:function getManifestUpdateRetryInterval(){return ge},setKeepProtectionMediaKeys:function setKeepProtectionMediaKeys(e){(0,l.checkParameterType)(e,"boolean"),me=e},getKeepProtectionMediaKeys:function getKeepProtectionMediaKeys(){return me},getDefaultUtcTimingSource:function getDefaultUtcTimingSource(){return be},reset:function reset(){}},function setup(){var e,n;i=[],r=!1,t=!0,H=!0,ae=o.default.ABR_STRATEGY_DYNAMIC,oe=!0,le=!1,W={enabled:!0,ttl:c},Y={enabled:!0,ttl:f},q=u,G=void 0,V=h,z=g,K=m,X=NaN,Q=_,$=b,J=E,Z=T,ee=d,te=p,ie=U,de=!1,pe=S,ge=w,se={default:j},ue=[],ce=o.default.MOVING_AVERAGE_SLIDING_WINDOW,he=!1,ye=N,ve=F,_e=B,_defineProperty(e={},a.HTTPRequest.MPD_TYPE,D),_defineProperty(e,a.HTTPRequest.XLINK_EXPANSION_TYPE,I),_defineProperty(e,a.HTTPRequest.MEDIA_SEGMENT_TYPE,C),_defineProperty(e,a.HTTPRequest.INIT_SEGMENT_TYPE,C),_defineProperty(e,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,C),_defineProperty(e,a.HTTPRequest.INDEX_SEGMENT_TYPE,C),_defineProperty(e,a.HTTPRequest.OTHER_TYPE,C),re=e,_defineProperty(n={},a.HTTPRequest.MPD_TYPE,P),_defineProperty(n,a.HTTPRequest.XLINK_EXPANSION_TYPE,M),_defineProperty(n,a.HTTPRequest.MEDIA_SEGMENT_TYPE,x),_defineProperty(n,a.HTTPRequest.INIT_SEGMENT_TYPE,x),_defineProperty(n,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,x),_defineProperty(n,a.HTTPRequest.INDEX_SEGMENT_TYPE,x),_defineProperty(n,a.HTTPRequest.OTHER_TYPE,x),ne=n,(fe={})[o.default.VIDEO]=R,fe[o.default.AUDIO]=A,me=!1}(),e}MediaPlayerModel.__dashjs_factory_name="MediaPlayerModel",t.default=i.default.getSingletonFactory(MediaPlayerModel),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(116)),a=_interopRequireDefault(r(718)),o=r(42),s=_interopRequireDefault(r(719)),l=_interopRequireDefault(r(720)),u=_interopRequireDefault(r(721)),c=_interopRequireDefault(r(722)),f=_interopRequireDefault(r(723)),d=r(724),p=_interopRequireDefault(r(725)),h=_interopRequireDefault(r(12)),g=_interopRequireDefault(r(726)),m=_interopRequireDefault(r(14)),y=_interopRequireDefault(r(4));function MetricsModel(){var e,t=1e3,r=this.context,y=(0,h.default)(r).getInstance(),v=void 0;function metricsChanged(){y.trigger(m.default.METRICS_CHANGED)}function metricChanged(e){y.trigger(m.default.METRIC_CHANGED,{mediaType:e}),metricsChanged()}function metricUpdated(e,t,r){y.trigger(m.default.METRIC_UPDATED,{mediaType:e,metric:t,value:r}),metricChanged(e)}function metricAdded(e,t,r){y.trigger(m.default.METRIC_ADDED,{mediaType:e,metric:t,value:r}),metricChanged(e)}function getMetricsFor(e){var t=void 0;return v.hasOwnProperty(e)?t=v[e]:(t=new a.default,v[e]=t),t}function pushMetrics(e,r,n){var i=getMetricsFor(e);i[r].push(n),i[r].length>t&&i[r].shift()}function pushAndNotify(e,t,r){pushMetrics(e,t,r),metricAdded(e,t,r)}return e={clearCurrentMetricsForType:function clearCurrentMetricsForType(e){delete v[e],metricChanged(e)},clearAllCurrentMetrics:function clearAllCurrentMetrics(){v={},metricsChanged()},getReadOnlyMetricsFor:function getReadOnlyMetricsFor(e){return v.hasOwnProperty(e)?v[e]:null},getMetricsFor:getMetricsFor,addHttpRequest:function addHttpRequest(e,t,r,n,a,s,l,u,c,f,d,p,h,g){var m=new o.HTTPRequest;a&&a!==n&&(addHttpRequest(e,null,r,n,null,null,l,u,null,null,null,p,null,null),m.actualurl=a),m.tcpid=t,m.type=r,m.url=n,m.range=l,m.trequest=u,m.tresponse=c,m.responsecode=d,m._tfinish=f,m._stream=e,m._mediaduration=p,m._responseHeaders=h,m._serviceLocation=s,g?g.forEach(function(e){!function appendHttpTrace(e,t,r,n){var i=new o.HTTPRequestTrace;return i.s=t,i.d=r,i.b=n,e.trace.push(i),e.interval||(e.interval=0),e.interval+=r,i}(m,e.s,e.d,e.b)}):(delete m.interval,delete m.trace),pushAndNotify(e,i.default.HTTP_REQUEST,m)},addRepresentationSwitch:function addRepresentationSwitch(e,t,r,n,a){var o=new s.default;o.t=t,o.mt=r,o.to=n,a?o.lto=a:delete o.lto,pushAndNotify(e,i.default.TRACK_SWITCH,o)},addBufferLevel:function addBufferLevel(e,t,r){var n=new l.default;n.t=t,n.level=r,pushAndNotify(e,i.default.BUFFER_LEVEL,n)},addBufferState:function addBufferState(e,t,r){var n=new u.default;n.target=r,n.state=t,pushAndNotify(e,i.default.BUFFER_STATE,n)},addDVRInfo:function addDVRInfo(e,t,r,n){var a=new c.default;a.time=t,a.range=n,a.manifestInfo=r,pushAndNotify(e,i.default.DVR_INFO,a)},addDroppedFrames:function addDroppedFrames(e,t){var r=new f.default,n=getMetricsFor(e).DroppedFrames;r.time=t.creationTime,r.droppedFrames=t.droppedVideoFrames,n.length>0&&n[n.length-1]==r||pushAndNotify(e,i.default.DROPPED_FRAMES,r)},addSchedulingInfo:function addSchedulingInfo(e,t,r,n,a,o,s,l,u){var c=new p.default;c.mediaType=e,c.t=t,c.type=r,c.startTime=n,c.availabilityStartTime=a,c.duration=o,c.quality=s,c.range=l,c.state=u,pushAndNotify(e,i.default.SCHEDULING_INFO,c)},addRequestsQueue:function addRequestsQueue(e,t,r){var n=new g.default;n.loadingRequests=t,n.executedRequests=r,getMetricsFor(e).RequestsQueue=n,metricAdded(e,i.default.REQUESTS_QUEUE,n)},addManifestUpdate:function addManifestUpdate(e,t,r,a,o,s,l,u,c,f){var p=new d.ManifestUpdate;p.mediaType=e,p.type=t,p.requestTime=r,p.fetchTime=a,p.availabilityStartTime=o,p.presentationStartTime=s,p.clientTimeOffset=l,p.currentTime=u,p.buffered=c,p.latency=f,pushMetrics(n.default.STREAM,i.default.MANIFEST_UPDATE,p),metricAdded(e,i.default.MANIFEST_UPDATE,p)},updateManifestUpdateInfo:function updateManifestUpdateInfo(e,t){if(e){for(var r in t)e[r]=t[r];metricUpdated(e.mediaType,i.default.MANIFEST_UPDATE,e)}},addManifestUpdateStreamInfo:function addManifestUpdateStreamInfo(e,t,r,n,a){if(e){var o=new d.ManifestUpdateStreamInfo;o.id=t,o.index=r,o.start=n,o.duration=a,e.streamInfo.push(o),metricUpdated(e.mediaType,i.default.MANIFEST_UPDATE_STREAM_INFO,e)}},addManifestUpdateRepresentationInfo:function addManifestUpdateRepresentationInfo(e,t,r,n,a,o,s,l){if(e){var u=new d.ManifestUpdateRepresentationInfo;u.id=t,u.index=r,u.streamIndex=n,u.mediaType=a,u.startNumber=s,u.fragmentInfoType=l,u.presentationTimeOffset=o,e.representationInfo.push(u),metricUpdated(e.mediaType,i.default.MANIFEST_UPDATE_TRACK_INFO,e)}},addPlayList:function addPlayList(e){var t=n.default.STREAM;e.trace&&Array.isArray(e.trace)?e.trace.forEach(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel}):delete e.trace,pushAndNotify(t,i.default.PLAY_LIST,e)},addDVBErrors:function addDVBErrors(e){pushAndNotify(n.default.STREAM,i.default.DVB_ERRORS,e)}},function setup(){v={}}(),e}MetricsModel.__dashjs_factory_name="MetricsModel",t.default=y.default.getSingletonFactory(MetricsModel),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function MetricsList(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MetricsList),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function RepresentationSwitch(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RepresentationSwitch),this.t=null,this.mt=null,this.to=null,this.lto=null},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function BufferLevel(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BufferLevel),this.t=null,this.level=null},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(101));t.default=function BufferState(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BufferState),this.target=null,this.state=n.default.BUFFER_EMPTY},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function DVRInfo(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DVRInfo),this.time=null,this.range=null,this.manifestInfo=null},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function DroppedFrames(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DroppedFrames),this.time=null,this.droppedFrames=null},e.exports=t.default},function(e,t,r){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.ManifestUpdate=function ManifestUpdate(){_classCallCheck(this,ManifestUpdate),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},t.ManifestUpdateStreamInfo=function ManifestUpdateStreamInfo(){_classCallCheck(this,ManifestUpdateStreamInfo),this.id=null,this.index=null,this.start=null,this.duration=null},t.ManifestUpdateRepresentationInfo=function ManifestUpdateRepresentationInfo(){_classCallCheck(this,ManifestUpdateRepresentationInfo),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function SchedulingInfo(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SchedulingInfo),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function RequestsQueue(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RequestsQueue),this.loadingRequests=[],this.executedRequests=[]},e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(12)),a=_interopRequireDefault(r(14)),o=_interopRequireDefault(r(13));function VideoModel(){var e=void 0,t=void 0,r=void 0,n=void 0,s=void 0,l="element is not video or audio DOM type!",u=this.context,c=(0,i.default)(u).getInstance(),f=[];function onPlaybackCanPlay(){r&&(r.playbackRate=s||1,r.removeEventListener("canplay",onPlaybackCanPlay))}function setPlaybackRate(e){r&&(r.readyState<=2&&e>0?r.addEventListener("canplay",onPlaybackCanPlay):r.playbackRate=e)}function isStalled(){return f.length>0}function removeStalledStream(e){var t=f.indexOf(e),n=void 0;null!==e&&(-1!==t&&f.splice(t,1),r&&!1===isStalled()&&0===r.playbackRate&&(setPlaybackRate(s||1),r.paused||((n=document.createEvent("Event")).initEvent("playing",!0,!1),r.dispatchEvent(n))))}function onPlaying(){if(r&&isStalled()&&0===r.playbackRate){var e=document.createEvent("Event");e.initEvent("waiting",!0,!1),r.dispatchEvent(e)}}function getBufferRange(){return r?r.buffered:null}return e={initialize:function initialize(){c.on(a.default.PLAYBACK_PLAYING,onPlaying,this)},setCurrentTime:function setCurrentTime(e,t){if(r){if(r.currentTime==e)return;try{e=t?function stickTimeToBuffered(e){var t=getBufferRange(),r=e,n=9999999999;if(t)for(var i=0;i<t.length;i++){var a=t.start(i),o=t.end(i),s=Math.abs(a-e),l=Math.abs(o-e);if(e>=a&&e<=o)return e;s<n&&(n=s,r=a),l<n&&(n=l,r=o)}return r}(e):e,r.currentTime=e}catch(t){0===r.readyState&&t.code===t.INVALID_STATE_ERR&&setTimeout(function(){r.currentTime=e},400)}}},play:function play(){if(r){r.autoplay=!0;var e=r.play();e&&e.catch&&"undefined"!=typeof Promise&&e.catch(function(e){"NotAllowedError"===e.name&&c.trigger(a.default.PLAYBACK_NOT_ALLOWED),t.warn("Caught pending play exception - continuing ("+e+")")})}},isPaused:function isPaused(){return r?r.paused:null},pause:function pause(){r&&(r.pause(),r.autoplay=!1)},isSeeking:function isSeeking(){return r?r.seeking:null},getTime:function getTime(){return r?r.currentTime:null},getPlaybackRate:function getPlaybackRate(){return r?r.playbackRate:null},setPlaybackRate:setPlaybackRate,getPlayedRanges:function getPlayedRanges(){return r?r.played:null},getEnded:function getEnded(){return r?r.ended:null},setStallState:function setStallState(e,t){!function stallStream(e,t){t?function addStalledStream(e){var t=void 0;if(null===e||r.seeking||-1!==f.indexOf(e))return;f.push(e),r&&1===f.length&&((t=document.createEvent("Event")).initEvent("waiting",!0,!1),s=r.playbackRate,setPlaybackRate(0),r.dispatchEvent(t))}(e):removeStalledStream(e)}(e,t)},getElement:function getElement(){return r},setElement:function setElement(e){if(!(null==e||e&&/^(VIDEO|AUDIO)$/i.test(e.nodeName)))throw l;(r=e)&&(r.preload="auto")},setSource:function setSource(e){r&&(e?r.src=e:(r.removeAttribute("src"),r.load()))},getSource:function getSource(){return r?r.src:null},getTTMLRenderingDiv:function getTTMLRenderingDiv(){return n},setTTMLRenderingDiv:function setTTMLRenderingDiv(e){(n=e).style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top=0,n.style.left=0},getPlaybackQuality:function getPlaybackQuality(){if(!r)return null;var e="webkitDroppedFrameCount"in r&&"webkitDecodedFrameCount"in r,t=null;return"getVideoPlaybackQuality"in r?t=r.getVideoPlaybackQuality():e&&(t={droppedVideoFrames:r.webkitDroppedFrameCount,totalVideoFrames:r.webkitDroppedFrameCount+r.webkitDecodedFrameCount,creationTime:new Date}),t},addEventListener:function addEventListener(e,t){r&&r.addEventListener(e,t)},removeEventListener:function removeEventListener(e,t){r&&r.removeEventListener(e,t)},getReadyState:function getReadyState(){return r?r.readyState:NaN},getBufferRange:getBufferRange,getClientWidth:function getClientWidth(){return r?r.clientWidth:NaN},getClientHeight:function getClientHeight(){return r?r.clientHeight:NaN},getTextTracks:function getTextTracks(){return r?r.textTracks:[]},getTextTrack:function getTextTrack(e,t,n,i,a){if(r)for(var o=0;o<r.textTracks.length;o++)if(r.textTracks[o].kind===e&&(!t||r.textTracks[o].label==t)&&r.textTracks[o].language===n&&r.textTracks[o].isTTML===i&&r.textTracks[o].isEmbedded===a)return r.textTracks[o];return null},addTextTrack:function addTextTrack(e,t,n){return r?r.addTextTrack(e,t,n):null},appendChild:function appendChild(e){r&&(r.appendChild(e),void 0!==e.isTTML&&(r.textTracks[r.textTracks.length-1].isTTML=e.isTTML,r.textTracks[r.textTracks.length-1].isEmbedded=e.isEmbedded))},removeChild:function removeChild(e){r&&r.removeChild(e)},getVideoWidth:function getVideoWidth(){return r?r.videoWidth:NaN},getVideoHeight:function getVideoHeight(){return r?r.videoHeight:NaN},getVideoRelativeOffsetTop:function getVideoRelativeOffsetTop(){return r&&r.parentNode?r.getBoundingClientRect().top-r.parentNode.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function getVideoRelativeOffsetLeft(){return r&&r.parentNode?r.getBoundingClientRect().left-r.parentNode.getBoundingClientRect().left:NaN},reset:function reset(){c.off(a.default.PLAYBACK_PLAYING,onPlaying,this)}},function setup(){t=(0,o.default)(u).getInstance().getLogger(e)}(),e}VideoModel.__dashjs_factory_name="VideoModel",t.default=n.default.getSingletonFactory(VideoModel),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(4)),i=_interopRequireDefault(r(13)),a=_interopRequireDefault(r(11)),o=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],s="dashjs_?_bitrate",l="dashjs_?_settings",u="localStorage",c="sessionStorage",f="LastBitrate",d="LastMediaSettings";function DOMStorage(e){e=e||{};var t=this.context,r=e.mediaPlayerModel,n=void 0,p=void 0,h=void 0;function isSupported(e){if(void 0!==h)return h;h=!1;var t=void 0;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return p.warn("DOMStorage access denied: "+e.message),h}if(!t||e!==u&&e!==c)return h;try{t.setItem("1","1"),t.removeItem("1"),h=!0}catch(e){p.warn("DOMStorage is supported, but cannot be used: "+e.message)}return h}function getTimestamp(){return 6e5*Math.round((new Date).getTime()/6e5)}function canStore(e,t){return isSupported(e)&&r["get"+t+"CachingInfo"]().enabled}function checkConfig(){if(!r||!r.hasOwnProperty("getLastMediaSettingsCachingInfo"))throw new Error(a.default.MISSING_CONFIG_ERROR)}return n={getSavedBitrateSettings:function getSavedBitrateSettings(e){var t=NaN;if(checkConfig(),canStore(u,f)){var n=s.replace(/\?/,e);try{var i=JSON.parse(localStorage.getItem(n))||{},a=(new Date).getTime()-parseInt(i.timestamp,10)>=r.getLastMediaSettingsCachingInfo().ttl||!1,o=parseFloat(i.bitrate);isNaN(o)||a?a&&localStorage.removeItem(n):(t=o,p.debug("Last saved bitrate for "+e+" was "+o))}catch(e){return null}}return t},setSavedBitrateSettings:function setSavedBitrateSettings(e,t){if(canStore(u,f)&&t){var r=s.replace(/\?/,e);try{localStorage.setItem(r,JSON.stringify({bitrate:t.toFixed(3),timestamp:getTimestamp()}))}catch(e){p.error(e.message)}}},getSavedMediaSettings:function getSavedMediaSettings(e){if(checkConfig(),!canStore(u,d))return null;var t=null,n=l.replace(/\?/,e);try{var i=JSON.parse(localStorage.getItem(n))||{},a=(new Date).getTime()-parseInt(i.timestamp,10)>=r.getLastMediaSettingsCachingInfo().ttl||!1;t=i.settings,a&&(localStorage.removeItem(n),t=null)}catch(e){return null}return t},setSavedMediaSettings:function setSavedMediaSettings(e,t){if(canStore(u,d)){var r=l.replace(/\?/,e);try{localStorage.setItem(r,JSON.stringify({settings:t,timestamp:getTimestamp()}))}catch(e){p.error(e.message)}}}},function setup(){p=(0,i.default)(t).getInstance().getLogger(n),function translateLegacyKeys(){isSupported(u)&&o.forEach(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){p.error(e.message)}}})}()}(),n}DOMStorage.__dashjs_factory_name="DOMStorage";var p=n.default.getSingletonFactory(DOMStorage);t.default=p,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(57)),a=_interopRequireDefault(r(730)),o=_interopRequireDefault(r(731)),s=_interopRequireDefault(r(732)),l=_interopRequireDefault(r(733)),u=_interopRequireDefault(r(317)),c=_interopRequireDefault(r(4)),f=_interopRequireDefault(r(301)),d=r(117);function DashAdapter(){var e,t=void 0,r=void 0,c=void 0,p=void 0;function getRepresentationForRepresentationInfo(e,t){return t&&e?t.getRepresentationForQuality(e.quality):null}function getAdaptationForMediaInfo(e){return e&&e.streamInfo&&void 0!==e.streamInfo.id&&c[e.streamInfo.id]?c[e.streamInfo.id][e.index]:null}function getPeriodForStreamInfo(e,t){for(var r=t.length,n=0;n<r;n++){var i=t[n];if(e.id===i.id)return i}return null}function convertRepresentationToRepresentationInfo(e){var r=new a.default,n=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],i=t.getRepresentationFor(e.index,n);return r.id=e.id,r.quality=e.index,r.bandwidth=t.getBandwidth(i),r.DVRWindow=e.segmentAvailabilityRange,r.fragmentDuration=e.segmentDuration||(e.segments&&e.segments.length>0?e.segments[0].duration:NaN),r.MSETimeOffset=e.MSETimeOffset,r.useCalculatedLiveEdgeTime=e.useCalculatedLiveEdgeTime,r.mediaInfo=convertAdaptationToMediaInfo(e.adaptation),r}function convertAdaptationToMediaInfo(e){var r,n=new o.default,i=e.period.mpd.manifest.Period_asArray[e.period.index].AdaptationSet_asArray[e.index];return n.id=e.id,n.index=e.index,n.type=e.type,n.streamInfo=convertPeriodToStreamInfo(e.period),n.representationCount=t.getRepresentationCount(i),n.labels=t.getLabelsForAdaptation(i),n.lang=t.getLanguageForAdaptation(i),r=t.getViewpointForAdaptation(i),n.viewpoint=r?r.value:void 0,n.accessibility=t.getAccessibilityForAdaptation(i).map(function(e){var t=e.value,r=t;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&void 0!==f.default&&(r=t?"cea-608:"+t:"cea-608",n.embeddedCaptions=!0),r}),n.audioChannelConfiguration=t.getAudioChannelConfigurationForAdaptation(i).map(function(e){return e.value}),n.roles=t.getRolesForAdaptation(i).map(function(e){return e.value}),n.codec=t.getCodec(i),n.mimeType=t.getMimeType(i),n.contentProtection=t.getContentProtectionData(i),n.bitrateList=t.getBitrateListForAdaptation(i),n.contentProtection&&n.contentProtection.forEach(function(e){e.KID=t.getKID(e)}),n.isText=t.getIsTextTrack(n.mimeType),n}function convertVideoInfoToEmbeddedTextInfo(e,t,r){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type=n.default.EMBEDDED_TEXT,e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=r,e.roles=["caption"]}function convertPeriodToStreamInfo(e){var r=new s.default;return r.id=e.id,r.index=e.index,r.start=e.start,r.duration=e.duration,r.manifestInfo=function convertMpdToManifestInfo(e){var r=new l.default;return r.DVRWindowSize=e.timeShiftBufferDepth,r.loadedTime=e.manifest.loadedTime,r.availableFrom=e.availabilityStartTime,r.minBufferTime=e.manifest.minBufferTime,r.maxFragmentDuration=e.maxSegmentDuration,r.duration=t.getDuration(e.manifest),r.isDynamic=t.getIsDynamic(e.manifest),r}(e.mpd),r.isLast=1===e.mpd.manifest.Period_asArray.length||Math.abs(r.start+r.duration-r.manifestInfo.duration)<1,r}function getAdaptationForType(e,r,n,a){var o,s=t.getAdaptationsForType(e,r,n);if(!s||0===s.length)return null;if(s.length>1&&a){var l=getAllMediaInfoForType(a,n);if(p[a.id]&&p[a.id][n])for(var u=0,c=s.length;u<c;u++)if(p[a.id][n].isMediaInfoEqual(l[u]))return s[u];for(u=0,c=s.length;u<c;u++)if(o=s[u],t.getRolesForAdaptation(o).filter(function(e){return e.value===i.default.MAIN})[0])return s[u]}return s[0]}function getAllMediaInfoForType(e,i,a){var o,s=r,l=a,u=[],f=void 0,d=void 0,p=void 0,h=void 0,g=void 0;if(l){checkSetConfigCall();var m=t.getMpd(l);s=t.getRegularPeriods(m)}else{if(!(r.length>0))return u;l=r[0].mpd.manifest}var y=getPeriodForStreamInfo(e,s),v=y.id,_=t.getAdaptationsForType(l,e.index,i!==n.default.EMBEDDED_TEXT?i:n.default.VIDEO);if(!_)return u;for(c[v]=c[v]||t.getAdaptationsForPeriod(y),h=0,o=_.length;h<o;h++)if(f=_[h],p=t.getIndexForAdaptation(f,l,e.index),d=convertAdaptationToMediaInfo(c[v][p]),i===n.default.EMBEDDED_TEXT){var b=d.accessibility.length;for(g=0;g<b;g++)if(d){var E=d.accessibility[g];if(0===E.indexOf("cea-608:")){var T=E.substring(8).split(";");if("CC"===T[0].substring(0,2))for(g=0;g<T.length;g++)d||(d=convertAdaptationToMediaInfo.call(this,c[v][p])),convertVideoInfoToEmbeddedTextInfo(d,T[g].substring(0,3),T[g].substring(4)),u.push(d),d=null;else for(g=0;g<T.length;g++)d||(d=convertAdaptationToMediaInfo.call(this,c[v][p])),convertVideoInfoToEmbeddedTextInfo(d,"CC"+(g+1),T[g]),u.push(d),d=null}else 0===E.indexOf("cea-608")&&(convertVideoInfoToEmbeddedTextInfo(d,n.default.CC1,"eng"),u.push(d),d=null)}}else i===n.default.IMAGE?(d.type=n.default.IMAGE,u.push(d),d=null):d&&u.push(d);return u}function checkSetConfigCall(){if(!t||!t.hasOwnProperty("getMpd")||!t.hasOwnProperty("getRegularPeriods"))throw new Error("setConfig function has to be called previously")}function checkStreamProcessor(e){if(!(e&&e.hasOwnProperty("getRepresentationController")&&e.hasOwnProperty("getIndexHandler")&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getType")&&e.hasOwnProperty("getStreamInfo")))throw new Error("streamProcessor parameter is missing or malformed!")}function reset(){r=[],c={},p={}}return e={convertDataToRepresentationInfo:convertRepresentationToRepresentationInfo,getDataForMedia:getAdaptationForMediaInfo,getStreamsInfo:function getStreamsInfo(e,n){var i=[],a=r;if(e){checkSetConfigCall();var o=t.getMpd(e);a=t.getRegularPeriods(o)}n||(n=a.length);for(var s=0;s<n;s++)i.push(convertPeriodToStreamInfo(a[s]));return i},getMediaInfoForType:function getMediaInfoForType(e,n){if(0===r.length)return null;var i=r[0].mpd.manifest,a=getAdaptationForType(i,e.index,n,e);if(!a)return null;var o=getPeriodForStreamInfo(e,r),s=o.id,l=t.getIndexForAdaptation(a,i,e.index);return c[s]=c[s]||t.getAdaptationsForPeriod(o),convertAdaptationToMediaInfo(c[s][l])},getAllMediaInfoForType:getAllMediaInfoForType,getRepresentationInfo:function getRepresentationInfo(e,t){!function checkRepresentationController(e){if(!e||!e.hasOwnProperty("getRepresentationForQuality")||!e.hasOwnProperty("getCurrentRepresentation"))throw new Error("representationController parameter is missing or malformed!")}(e);var r=void 0;return void 0!==t?((0,d.checkInteger)(t),r=e.getRepresentationForQuality(t)):r=e.getCurrentRepresentation(),r?convertRepresentationToRepresentationInfo(r):null},getAdaptationForType:getAdaptationForType,updateData:function updateData(e){checkStreamProcessor(e);var n,i=getPeriodForStreamInfo(e.getStreamInfo(),r),a=e.getMediaInfo(),o=getAdaptationForMediaInfo(a),s=e.getType(),l=void 0;n=a?a.id:null,r.length>0&&(l=n?t.getAdaptationForId(n,r[0].mpd.manifest,i.index):t.getAdaptationForIndex(a.index,r[0].mpd.manifest,i.index),e.getRepresentationController().updateData(l,o,s))},getInitRequest:function getInitRequest(e,t){var r,n=void 0,i=void 0;return checkStreamProcessor(e),(0,d.checkInteger)(t),n=e.getRepresentationController(),i=e.getIndexHandler(),r=n?n.getRepresentationForQuality(t):null,i?i.getInitRequest(r):null},getFragmentRequest:function getFragmentRequest(e,t,r,n){var i,a=void 0,o=null;return checkStreamProcessor(e),i=getRepresentationForRepresentationInfo(t,e.getRepresentationController()),(a=e.getIndexHandler())&&(o=void 0!==r&&void 0!==n?a.getSegmentRequestForTime(i,r,n):a.getNextSegmentRequest(i)),o},getIndexHandlerTime:function getIndexHandlerTime(e){checkStreamProcessor(e);var t=e.getIndexHandler();return t?t.getCurrentTime():NaN},setIndexHandlerTime:function setIndexHandlerTime(e,t){checkStreamProcessor(e);var r=e.getIndexHandler();r&&r.setCurrentTime(t)},getEventsFor:function getEventsFor(e,n){var i=[];if(0===r.length)return i;var l=r[0].mpd.manifest;return e instanceof s.default?i=t.getEventsForPeriod(getPeriodForStreamInfo(e,r)):e instanceof o.default?i=t.getEventStreamForAdaptationSet(l,getAdaptationForMediaInfo(e)):e instanceof a.default&&(i=t.getEventStreamForRepresentation(l,getRepresentationForRepresentationInfo(e,n.getRepresentationController()))),i},getEvent:function getEvent(e,t,r){if(!e||!t)return null;var n=new u.default,i=e.scheme_id_uri,a=e.value,o=e.timescale,s=e.presentation_time_delta,l=e.event_duration,c=e.id,f=e.message_data,d=r*o+s;return t[i+"/"+a]?(n.eventStream=t[i+"/"+a],n.eventStream.value=a,n.eventStream.timescale=o,n.duration=l,n.id=c,n.presentationTime=d,n.messageData=f,n.presentationTimeDelta=s,n):null},setConfig:function setConfig(e){e&&e.dashManifestModel&&(t=e.dashManifestModel)},updatePeriods:function updatePeriods(e){if(!e)return null;checkSetConfigCall();var n=t.getMpd(e);r=t.getRegularPeriods(n),c={}},reset:reset,resetIndexHandler:function resetIndexHandler(e){checkStreamProcessor(e);var t=e.getIndexHandler();t&&t.resetIndex()},setCurrentMediaInfo:function setCurrentMediaInfo(e,t,r){p[e]=p[e]||{},p[e][t]=p[e][t]||{},p[e][t]=r}},function setup(){reset()}(),e}DashAdapter.__dashjs_factory_name="DashAdapter",t.default=c.default.getSingletonFactory(DashAdapter),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function RepresentationInfo(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RepresentationInfo),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function MediaInfo(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MediaInfo),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null}return n(MediaInfo,[{key:"isMediaInfoEqual",value:function isMediaInfoEqual(e){if(!e)return!1;var t=this.id===e.id,r=this.viewpoint===e.viewpoint,n=this.lang===e.lang,i=this.roles.toString()===e.roles.toString(),a=this.accessibility.toString()===e.accessibility.toString(),o=this.audioChannelConfiguration.toString()===e.audioChannelConfiguration.toString();return t&&r&&n&&i&&a&&o}}]),MediaInfo}();t.default=i,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function StreamInfo(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StreamInfo),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function ManifestInfo(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ManifestInfo),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null},e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(11)),i=_interopRequireDefault(r(57)),a=_interopRequireDefault(r(224)),o=_interopRequireDefault(r(735)),s=_interopRequireDefault(r(736)),l=_interopRequireDefault(r(737)),u=_interopRequireDefault(r(315)),c=_interopRequireDefault(r(317)),f=_interopRequireDefault(r(311)),d=_interopRequireDefault(r(738)),p=_interopRequireDefault(r(310)),h=_interopRequireDefault(r(84)),g=_interopRequireDefault(r(4)),m=_interopRequireDefault(r(13)),y=_interopRequireDefault(r(32)),v=_interopRequireDefault(r(38)),_=r(307);function DashManifestModel(e){e=e||{};var t=void 0,r=void 0,g=this.context,b=(0,h.default)(g).getInstance(),E=e.timelineConverter,T=e.errHandler,S=e.BASE64,w="urn:dvb:dash:profile:dvb-dash:2014",R=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function getIsTypeOf(e,t){var r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=!1,f=!1;if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.hasOwnProperty("ContentComponent_asArray")&&(s=e.ContentComponent_asArray),l=t!==n.default.TEXT?new RegExp(t):new RegExp("(vtt|ttml)"),e.Representation_asArray&&e.Representation_asArray.length&&e.Representation_asArray.length>0){var d=getEssentialPropertiesForRepresentation(e.Representation_asArray[0]);if(d&&d.length>0&&_.THUMBNAILS_SCHEME_ID_URIS.indexOf(d[0].schemeIdUri)>=0)return t===n.default.IMAGE;if(e.Representation_asArray[0].hasOwnProperty(i.default.CODECS)&&(0===(u=e.Representation_asArray[0].codecs).search(n.default.STPP)||0===u.search(n.default.WVTT)))return t===n.default.FRAGMENTED_TEXT}if(s){if(s.length>1)return t===n.default.MUXED;s[0]&&s[0].contentType===t&&(c=!0,f=!0)}if(e.hasOwnProperty(i.default.MIME_TYPE)&&(c=l.test(e.mimeType),f=!0),!f)for(r=0,a=e.Representation_asArray&&e.Representation_asArray.length?e.Representation_asArray.length:0;!f&&r<a;)(o=e.Representation_asArray[r]).hasOwnProperty(i.default.MIME_TYPE)&&(c=l.test(o.mimeType),f=!0),r++;return c}function getIsAudio(e){return getIsTypeOf(e,n.default.AUDIO)}function getIsVideo(e){return getIsTypeOf(e,n.default.VIDEO)}function getIsFragmentedText(e){return getIsTypeOf(e,n.default.FRAGMENTED_TEXT)}function getIsImage(e){return getIsTypeOf(e,n.default.IMAGE)}function getIsTextTrack(e){return"text/vtt"===e||"application/ttml+xml"===e}function getRepresentationSortFunction(){return function(e,t){return e.bandwidth-t.bandwidth}}function processAdaptation(e){return e&&void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort(function(e,t){return e.bandwidth-t.bandwidth}),e}function getRealAdaptations(e,t){return e&&e.Period_asArray&&R(t)&&e.Period_asArray[t]?e.Period_asArray[t].AdaptationSet_asArray:[]}function getIsDynamic(e){var t=!1;return e&&e.hasOwnProperty("type")&&(t=e.type===i.default.DYNAMIC),t}function getEssentialPropertiesForRepresentation(e){return e&&e.EssentialProperty_asArray&&e.EssentialProperty_asArray.length?e.EssentialProperty_asArray.map(function(e){return{schemeIdUri:e.schemeIdUri,value:e.value}}):null}function getRealAdaptationFor(e){if(e&&e.period&&R(e.period.index)){var t=e.period.mpd.manifest.Period_asArray[e.period.index];if(t&&t.AdaptationSet_asArray&&R(e.index))return processAdaptation(t.AdaptationSet_asArray[e.index])}}function isLastRepeatAttributeValid(e){var t=e.S_asArray[e.S_asArray.length-1];return!t.hasOwnProperty("r")||t.r>=0}function getPeriodId(e,t){if(!e)throw new Error("Period cannot be null or undefined");var r=s.default.DEFAULT_ID+"_"+t;return e.hasOwnProperty(i.default.ID)&&e.id.length>0&&"__proto__"!==e.id&&(r=e.id),r}function getEventStreams(e,t){var r=[],a=void 0;if(!e)return r;for(a=0;a<e.length;a++){var o=new d.default;if(o.timescale=1,o.representation=t,!e[a].hasOwnProperty(n.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");o.schemeIdUri=e[a].schemeIdUri,e[a].hasOwnProperty(i.default.TIMESCALE)&&(o.timescale=e[a].timescale),e[a].hasOwnProperty(i.default.VALUE)&&(o.value=e[a].value),r.push(o)}return r}function getBaseURLsFromElement(e){var t=[],r=e.BaseURL_asArray||[e.baseUri],n=!1;return r.some(function(r){if(r){var a=new f.default,o=r.__text||r;return b.isRelative(o)&&(n=!0,e.baseUri&&(o=b.resolve(o,e.baseUri))),a.url=o,r.hasOwnProperty(i.default.SERVICE_LOCATION)&&r.serviceLocation.length?a.serviceLocation=r.serviceLocation:a.serviceLocation=o,r.hasOwnProperty(i.default.DVB_PRIORITY)&&(a.dvb_priority=r[i.default.DVB_PRIORITY]),r.hasOwnProperty(i.default.DVB_WEIGHT)&&(a.dvb_weight=r[i.default.DVB_WEIGHT]),r.hasOwnProperty(i.default.AVAILABILITY_TIME_OFFSET)&&(a.availabilityTimeOffset=r[i.default.AVAILABILITY_TIME_OFFSET]),r.hasOwnProperty(i.default.AVAILABILITY_TIME_COMPLETE)&&(a.availabilityTimeComplete="false"!==r[i.default.AVAILABILITY_TIME_COMPLETE]),t.push(a),n}}),t}return t={getIsTypeOf:getIsTypeOf,getIsTextTrack:getIsTextTrack,getLanguageForAdaptation:function getLanguageForAdaptation(e){var t="";return e&&e.hasOwnProperty(i.default.LANG)&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t},getViewpointForAdaptation:function getViewpointForAdaptation(e){return e&&e.hasOwnProperty(i.default.VIEWPOINT)?e.Viewpoint:null},getRolesForAdaptation:function getRolesForAdaptation(e){return e&&e.hasOwnProperty(i.default.ROLE_ASARRAY)?e.Role_asArray:[]},getAccessibilityForAdaptation:function getAccessibilityForAdaptation(e){return e&&e.hasOwnProperty(i.default.ACCESSIBILITY_ASARRAY)?e.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function getAudioChannelConfigurationForAdaptation(e){return e&&e.hasOwnProperty(i.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function getAdaptationForIndex(e,t,r){var n=getRealAdaptations(t,r);return n.length>0&&R(e)?n[e]:null},getIndexForAdaptation:function getIndexForAdaptation(e,t,r){var n=getRealAdaptations(t,r),i=n.length;if(e)for(var a=0;a<i;a++){if((0,p.default)(g).getInstance().areEqual(n[a],e))return a}return-1},getAdaptationForId:function getAdaptationForId(e,t,r){var n,a=getRealAdaptations(t,r),o=void 0;for(o=0,n=a.length;o<n;o++)if(a[o].hasOwnProperty(i.default.ID)&&a[o].id===e)return a[o];return null},getAdaptationsForType:function getAdaptationsForType(e,t,r){var n,i=getRealAdaptations(e,t),a=void 0,o=[];for(a=0,n=i.length;a<n;a++)getIsTypeOf(i[a],r)&&o.push(processAdaptation(i[a]));return o},getCodec:function getCodec(e,t,r){var n=null;if(e&&e.Representation_asArray&&e.Representation_asArray.length>0){var i=R(t)&&t>=0&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0];i&&(n=i.mimeType+';codecs="'+i.codecs+'"',r&&void 0!==i.width&&(n+=';width="'+i.width+'";height="'+i.height+'"'))}return n},getMimeType:function getMimeType(e){return e&&e.Representation_asArray&&e.Representation_asArray.length>0?e.Representation_asArray[0].mimeType:null},getKID:function getKID(e){return e&&e.hasOwnProperty(i.default.CENC_DEFAULT_KID)?e[i.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function getLabelsForAdaptation(e){if(!e.Label_asArray||!e.Label_asArray.length)return[];for(var t=[],r=0;r<e.Label_asArray.length;r++)t.push({lang:e.Label_asArray[r].lang,text:e.Label_asArray[r].__text||e.Label_asArray[r]});return t},getContentProtectionData:function getContentProtectionData(e){return e&&e.hasOwnProperty(i.default.CONTENTPROTECTION_ASARRAY)&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null},getIsDynamic:getIsDynamic,getIsDVB:function getIsDVB(e){return function hasProfile(e,t){var r=!1;return e&&e.profiles&&e.profiles.length>0&&(r=-1!==e.profiles.indexOf(t)),r}(e,w)},getDuration:function getDuration(e){return e&&e.hasOwnProperty(i.default.MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function getBandwidth(e){return e&&e.bandwidth?e.bandwidth:NaN},getManifestUpdatePeriod:function getManifestUpdatePeriod(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=NaN;return e&&e.hasOwnProperty(i.default.MINIMUM_UPDATE_PERIOD)&&(r=e.minimumUpdatePeriod),isNaN(r)?r:Math.max(r-t,1)},getRepresentationCount:function getRepresentationCount(e){return e&&e.Representation_asArray&&e.Representation_asArray.length?e.Representation_asArray.length:0},getBitrateListForAdaptation:function getBitrateListForAdaptation(e){return e&&e.Representation_asArray&&e.Representation_asArray.length?processAdaptation(e).Representation_asArray.map(function(e){return{bandwidth:e.bandwidth,width:e.width||0,height:e.height||0,scanType:e.scanType||null}}):null},getRepresentationFor:function getRepresentationFor(e,t){return t&&t.Representation_asArray&&t.Representation_asArray.length>0&&R(e)?t.Representation_asArray[e]:null},getRepresentationsForAdaptation:function getRepresentationsForAdaptation(e){var t=[],r=getRealAdaptationFor(e),n=void 0,o=void 0;if(e&&e.period&&R(e.period.index)){var s=getBaseURLsFromElement(e.period.mpd.manifest);s&&(o=s[0])}if(r&&r.Representation_asArray)for(var l=0,u=r.Representation_asArray.length;l<u;++l){var c=r.Representation_asArray[l],f=new a.default;if(f.index=l,f.adaptation=e,c.hasOwnProperty(i.default.ID)&&(f.id=c.id),c.hasOwnProperty(i.default.CODECS)&&(f.codecs=c.codecs),c.hasOwnProperty(i.default.CODEC_PRIVATE_DATA)&&(f.codecPrivateData=c.codecPrivateData),c.hasOwnProperty(i.default.BANDWITH)&&(f.bandwidth=c.bandwidth),c.hasOwnProperty(i.default.WIDTH)&&(f.width=c.width),c.hasOwnProperty(i.default.HEIGHT)&&(f.height=c.height),c.hasOwnProperty(i.default.SCAN_TYPE)&&(f.scanType=c.scanType),c.hasOwnProperty(i.default.MAX_PLAYOUT_RATE)&&(f.maxPlayoutRate=c.maxPlayoutRate),c.hasOwnProperty(i.default.SEGMENT_BASE)?(n=c.SegmentBase,f.segmentInfoType=i.default.SEGMENT_BASE):c.hasOwnProperty(i.default.SEGMENT_LIST)?(n=c.SegmentList).hasOwnProperty(i.default.SEGMENT_TIMELINE)?(f.segmentInfoType=i.default.SEGMENT_TIMELINE,f.useCalculatedLiveEdgeTime=isLastRepeatAttributeValid(n.SegmentTimeline)):(f.segmentInfoType=i.default.SEGMENT_LIST,f.useCalculatedLiveEdgeTime=!0):c.hasOwnProperty(i.default.SEGMENT_TEMPLATE)?((n=c.SegmentTemplate).hasOwnProperty(i.default.SEGMENT_TIMELINE)?(f.segmentInfoType=i.default.SEGMENT_TIMELINE,f.useCalculatedLiveEdgeTime=isLastRepeatAttributeValid(n.SegmentTimeline)):f.segmentInfoType=i.default.SEGMENT_TEMPLATE,n.hasOwnProperty(i.default.INITIALIZATION_MINUS)&&(f.initialization=n.initialization.split("$Bandwidth$").join(c.bandwidth).split("$RepresentationID$").join(c.id))):f.segmentInfoType=i.default.BASE_URL,f.essentialProperties=getEssentialPropertiesForRepresentation(c),n){if(n.hasOwnProperty(i.default.INITIALIZATION)){var d=n.Initialization;d.hasOwnProperty(i.default.SOURCE_URL)?f.initialization=d.sourceURL:d.hasOwnProperty(i.default.RANGE)&&(f.range=d.range)}else c.hasOwnProperty(i.default.MIME_TYPE)&&getIsTextTrack(c.mimeType)&&(f.range=0);n.hasOwnProperty(i.default.TIMESCALE)&&(f.timescale=n.timescale),n.hasOwnProperty(i.default.DURATION)&&(f.segmentDuration=n.duration/f.timescale),n.hasOwnProperty(i.default.MEDIA)&&(f.media=n.media),n.hasOwnProperty(i.default.START_NUMBER)&&(f.startNumber=n.startNumber),n.hasOwnProperty(i.default.INDEX_RANGE)&&(f.indexRange=n.indexRange),n.hasOwnProperty(i.default.PRESENTATION_TIME_OFFSET)&&(f.presentationTimeOffset=n.presentationTimeOffset/f.timescale),n.hasOwnProperty(i.default.AVAILABILITY_TIME_OFFSET)?f.availabilityTimeOffset=n.availabilityTimeOffset:o&&void 0!==o.availabilityTimeOffset&&(f.availabilityTimeOffset=o.availabilityTimeOffset),n.hasOwnProperty(i.default.AVAILABILITY_TIME_COMPLETE)?f.availabilityTimeComplete="false"!==n.availabilityTimeComplete:o&&void 0!==o.availabilityTimeComplete&&(f.availabilityTimeComplete=o.availabilityTimeComplete)}f.MSETimeOffset=E.calcMSETimeOffset(f),f.path=[e.period.index,e.index,l],t.push(f)}return t},getAdaptationsForPeriod:function getAdaptationsForPeriod(e){var t=e&&R(e.index)?e.mpd.manifest.Period_asArray[e.index]:null,r=[],a=void 0,s=void 0,l=void 0;if(t&&t.AdaptationSet_asArray)for(l=0;l<t.AdaptationSet_asArray.length;l++)s=t.AdaptationSet_asArray[l],a=new o.default,s.hasOwnProperty(i.default.ID)&&(a.id=s.id),a.index=l,a.period=e,getIsTypeOf(s,n.default.MUXED)?a.type=n.default.MUXED:getIsAudio(s)?a.type=n.default.AUDIO:getIsVideo(s)?a.type=n.default.VIDEO:getIsFragmentedText(s)?a.type=n.default.FRAGMENTED_TEXT:getIsImage(s)?a.type=n.default.IMAGE:a.type=n.default.TEXT,r.push(a);return r},getRegularPeriods:function getRegularPeriods(e){var t,n=!!e&&getIsDynamic(e.manifest),a=[],o=null,l=null,u=null,c=null,f=void 0;for(f=0,t=e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0;f<t;f++)(l=e.manifest.Period_asArray[f]).hasOwnProperty(i.default.START)?(c=new s.default).start=l.start:null!==o&&o.hasOwnProperty(i.default.DURATION)&&null!==u?(c=new s.default).start=parseFloat((u.start+u.duration).toFixed(5)):0!==f||n||((c=new s.default).start=0),null!==u&&isNaN(u.duration)&&(null!==c?u.duration=parseFloat((c.start-u.start).toFixed(5)):r.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==c&&(c.id=getPeriodId(l,f),c.index=f,c.mpd=e,l.hasOwnProperty(i.default.DURATION)&&(c.duration=l.duration),a.push(c),o=l,u=c),l=null,c=null;return 0===a.length?a:(null!==u&&isNaN(u.duration)&&(u.duration=parseFloat((function getEndTimeForLastPeriod(e){var t=getIsDynamic(e.mpd.manifest),r=void 0;e.mpd.manifest.mediaPresentationDuration?r=e.mpd.manifest.mediaPresentationDuration:e.duration?r=e.duration:t?r=Number.POSITIVE_INFINITY:T.error(new y.default(v.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",e));return r}(u)-u.start).toFixed(5))),a)},getMpd:function getMpd(e){var t=new l.default;return e&&(t.manifest=e,e.hasOwnProperty(i.default.AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty(i.default.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(i.default.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(i.default.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(n.default.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(i.default.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(i.default.MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=e.maxSegmentDuration)),t},getEventsForPeriod:function getEventsForPeriod(e){var t=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,r=t?t.Period_asArray:null,a=r&&e&&R(e.index)?r[e.index].EventStream_asArray:null,o=[],s=void 0,l=void 0;if(a)for(s=0;s<a.length;s++){var u=new d.default;if(u.period=e,u.timescale=1,!a[s].hasOwnProperty(n.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(u.schemeIdUri=a[s].schemeIdUri,a[s].hasOwnProperty(i.default.TIMESCALE)&&(u.timescale=a[s].timescale),a[s].hasOwnProperty(i.default.VALUE)&&(u.value=a[s].value),l=0;a[s].Event_asArray&&l<a[s].Event_asArray.length;l++){var f=new c.default;f.presentationTime=0,f.eventStream=u,a[s].Event_asArray[l].hasOwnProperty(i.default.PRESENTATION_TIME)&&(f.presentationTime=a[s].Event_asArray[l].presentationTime),a[s].Event_asArray[l].hasOwnProperty(i.default.DURATION)&&(f.duration=a[s].Event_asArray[l].duration),a[s].Event_asArray[l].hasOwnProperty(i.default.ID)&&(f.id=a[s].Event_asArray[l].id),a[s].Event_asArray[l].Signal&&a[s].Event_asArray[l].Signal.Binary?f.messageData=S.decodeArray(a[s].Event_asArray[l].Signal.Binary):f.messageData=a[s].Event_asArray[l].messageData||a[s].Event_asArray[l].__text,o.push(f)}}return o},getEventStreamForAdaptationSet:function getEventStreamForAdaptationSet(e,t){var r=void 0,n=void 0,i=void 0;return e&&e.Period_asArray&&t&&t.period&&R(t.period.index)&&(n=e.Period_asArray[t.period.index])&&n.AdaptationSet_asArray&&R(t.index)&&(i=n.AdaptationSet_asArray[t.index])&&(r=i.InbandEventStream_asArray),getEventStreams(r,null)},getEventStreamForRepresentation:function getEventStreamForRepresentation(e,t){var r=void 0,n=void 0,i=void 0,a=void 0;return e&&e.Period_asArray&&t&&t.adaptation&&t.adaptation.period&&R(t.adaptation.period.index)&&(n=e.Period_asArray[t.adaptation.period.index])&&n.AdaptationSet_asArray&&R(t.adaptation.index)&&(i=n.AdaptationSet_asArray[t.adaptation.index])&&i.Representation_asArray&&R(t.index)&&(a=i.Representation_asArray[t.index])&&(r=a.InbandEventStream_asArray),getEventStreams(r,t)},getUTCTimingSources:function getUTCTimingSources(e){var t=getIsDynamic(e),r=!!e&&e.hasOwnProperty(i.default.AVAILABILITY_START_TIME),a=e?e.UTCTiming_asArray:null,o=[];return(t||r)&&a&&a.forEach(function(e){var t=new u.default;e.hasOwnProperty(n.default.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty(i.default.VALUE)&&(t.value=e.value.toString(),o.push(t)))}),o},getBaseURLsFromElement:getBaseURLsFromElement,getRepresentationSortFunction:getRepresentationSortFunction,getLocation:function getLocation(e){if(e&&e.hasOwnProperty(n.default.LOCATION))return e.Location=e.Location_asArray[0],e.Location},getUseCalculatedLiveEdgeTimeForAdaptation:function getUseCalculatedLiveEdgeTimeForAdaptation(e){var t=getRealAdaptationFor(e).Representation_asArray[0],r=void 0;return t.hasOwnProperty(i.default.SEGMENT_LIST)?!(r=t.SegmentList).hasOwnProperty(i.default.SEGMENT_TIMELINE)||isLastRepeatAttributeValid(r.SegmentTimeline):!(!t.hasOwnProperty(i.default.SEGMENT_TEMPLATE)||!(r=t.SegmentTemplate).hasOwnProperty(i.default.SEGMENT_TIMELINE))&&isLastRepeatAttributeValid(r.SegmentTimeline)}},function setup(){r=(0,m.default)(g).getInstance().getLogger(t)}(),t}DashManifestModel.__dashjs_factory_name="DashManifestModel",t.default=g.default.getSingletonFactory(DashManifestModel),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function AdaptationSet(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AdaptationSet),this.period=null,this.index=-1,this.type=null},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function Period(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Period),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};n.DEFAULT_ID="defaultId",t.default=n,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function Mpd(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Mpd),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function EventStream(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EventStream),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""},e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(42),i=_interopRequireDefault(r(4)),a=_interopRequireDefault(r(116)),o=_interopRequireDefault(r(740));function DashMetrics(e){var t=(e=e||{}).dashManifestModel,r=e.manifestModel;function getPeriod(e){var t=r.getValue();return t?t.Period_asArray[e]:-1}function getLatestBufferLevelVO(e){return getCurrent(e,a.default.BUFFER_LEVEL)}function getCurrentHttpRequest(e){if(!e)return null;var t=e.HttpList,r=null,n=void 0;if(!t||t.length<=0)return null;for(n=t.length-1;n>=0;){if(t[n].responsecode){r=t[n];break}n--}return r}function getHttpRequests(e){return e&&e.HttpList?e.HttpList:[]}function getCurrent(e,t){if(!e)return null;var r=e[t];return!r||r.length<=0?null:r[r.length-1]}function parseResponseHeaders(e){var t={};if(!e)return t;for(var r=e.trim().split("\r\n"),n=0,i=r.length;n<i;n++){var a=r[n],o=a.indexOf(": ");o>0&&(t[a.substring(0,o)]=a.substring(o+2))}return t}function findRepresentation(e,t,r){var n=void 0,i=void 0,a=void 0,o=void 0,s=void 0;if(e)for(n=e.AdaptationSet_asArray,o=0;o<n.length;o+=1)for(a=n[o].Representation_asArray,s=0;s<a.length;s+=1)if(t===(i=a[s]).id)return r?s:i;return null}function adaptationIsType(e,r){return t.getIsTypeOf(e,r)}return{getBandwidthForRepresentation:function getBandwidthForRepresentation(e,t){var r;return null===(r=findRepresentation(getPeriod(t),e))?null:r.bandwidth},getIndexForRepresentation:function getIndexForRepresentation(e,t){return function findRepresentationIndex(e,t){var r=findRepresentation(e,t,!0);if(null!==r)return r;return-1}(getPeriod(t),e)},getMaxIndexForBufferType:function getMaxIndexForBufferType(e,t){return function findMaxBufferIndex(e,t){var r,n=void 0,i=void 0,a=void 0;if(!e||!t)return-1;for(r=e.AdaptationSet_asArray,a=0;a<r.length;a+=1)if(n=r[a],i=n.Representation_asArray,adaptationIsType(n,t))return i.length;return-1}(getPeriod(t),e)},getCurrentRepresentationSwitch:function getCurrentRepresentationSwitch(e){return getCurrent(e,a.default.TRACK_SWITCH)},getLatestBufferLevelVO:getLatestBufferLevelVO,getCurrentBufferLevel:function getCurrentBufferLevel(e){var t=getLatestBufferLevelVO(e);return t?o.default.round10(t.level/1e3,-3):0},getCurrentHttpRequest:getCurrentHttpRequest,getHttpRequests:getHttpRequests,getCurrentDroppedFrames:function getCurrentDroppedFrames(e){return getCurrent(e,a.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function getCurrentSchedulingInfo(e){return getCurrent(e,a.default.SCHEDULING_INFO)},getCurrentDVRInfo:function getCurrentDVRInfo(e){return getCurrent(e,a.default.DVR_INFO)},getCurrentManifestUpdate:function getCurrentManifestUpdate(e){return getCurrent(e,a.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function getLatestFragmentRequestHeaderValueByID(e,t){var r={},n=getCurrentHttpRequest(e);return n&&(r=parseResponseHeaders(n._responseHeaders)),void 0===r[t]?null:r[t]},getLatestMPDRequestHeaderValueByID:function getLatestMPDRequestHeaderValueByID(e,t){var r,i={},a=void 0,o=void 0;for(o=(r=getHttpRequests(e)).length-1;o>=0;o--)if((a=r[o]).type===n.HTTPRequest.MPD_TYPE){i=parseResponseHeaders(a._responseHeaders);break}return void 0===i[t]?null:i[t]},getRequestsQueue:function getRequestsQueue(e){return e?e.RequestsQueue:null}}}DashMetrics.__dashjs_factory_name="DashMetrics",t.default=i.default.getSingletonFactory(DashMetrics),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();var i=function(){function Round10(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Round10)}return n(Round10,null,[{key:"round10",value:function round10(e,t){return function _decimalAdjust(e,t,r){if(void 0===r||0==+r)return Math[e](t);if(r=+r,null===(t=+t)||isNaN(t)||!("number"==typeof r&&r%1==0))return NaN;return t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-r:-r)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+r:r))}("round",e,t)}}]),Round10}();t.default=i,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(12)),i=_interopRequireDefault(r(14)),a=_interopRequireDefault(r(4));function TimelineConverter(){var e=this.context,t=(0,n.default)(e).getInstance(),r=void 0,a=void 0,o=void 0;function setClientTimeOffset(e){r=e}function calcAvailabilityTimeFromPresentationTime(e,t,n,i){return i?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:n?new Date(t.availabilityStartTime.getTime()+1e3*(e-r)):t.availabilityStartTime}function calcPresentationTimeFromWallTime(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*r)/1e3}function onTimeSyncComplete(e){a||void 0!==e.offset&&(setClientTimeOffset(e.offset/1e3),a=!0)}function resetInitialSettings(){r=0,a=!1,o=NaN}return{initialize:function initialize(){resetInitialSettings(),t.on(i.default.TIME_SYNCHRONIZATION_COMPLETED,onTimeSyncComplete,this)},isTimeSyncCompleted:function isTimeSyncCompleted(){return a},setTimeSyncCompleted:function setTimeSyncCompleted(e){a=e},getClientTimeOffset:function getClientTimeOffset(){return r},setClientTimeOffset:setClientTimeOffset,getExpectedLiveEdge:function getExpectedLiveEdge(){return o},setExpectedLiveEdge:function setExpectedLiveEdge(e){o=e},calcAvailabilityStartTimeFromPresentationTime:function calcAvailabilityStartTimeFromPresentationTime(e,t,r){return calcAvailabilityTimeFromPresentationTime.call(this,e,t,r)},calcAvailabilityEndTimeFromPresentationTime:function calcAvailabilityEndTimeFromPresentationTime(e,t,r){return calcAvailabilityTimeFromPresentationTime.call(this,e,t,r,!0)},calcPresentationTimeFromWallTime:calcPresentationTimeFromWallTime,calcPresentationTimeFromMediaTime:function calcPresentationTimeFromMediaTime(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)},calcPeriodRelativeTimeFromMpdRelativeTime:function calcPeriodRelativeTimeFromMpdRelativeTime(e,t){return t-e.adaptation.period.start},calcMediaTimeFromPresentationTime:function calcMediaTimeFromPresentationTime(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset},calcSegmentAvailabilityRange:function calcSegmentAvailabilityRange(e,t){var r=e.adaptation.period,n={start:r.start,end:r.start+r.duration};if(!t)return n;if(!a&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var i=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0),o=calcPresentationTimeFromWallTime(new Date,r),s=r.start+r.duration;n.start=Math.max(o-r.mpd.timeShiftBufferDepth,r.start);var l=void 0!==e.availabilityTimeOffset&&e.availabilityTimeOffset<i?i-e.availabilityTimeOffset:i;return n.end=o>=s&&o-l<s?s:o-l,n},calcWallTimeForSegment:function calcWallTimeForSegment(e,t){var r=void 0,n=void 0,i=void 0;return t&&(r=e.representation.adaptation.period.mpd.suggestedPresentationDelay,n=e.presentationStartTime+r,i=new Date(e.availabilityStartTime.getTime()+1e3*n)),i},calcMSETimeOffset:function calcMSETimeOffset(e){var t=e.presentationTimeOffset;return e.adaptation.period.start-t},reset:function reset(){t.off(i.default.TIME_SYNCHRONIZATION_COMPLETED,onTimeSyncComplete,this),resetInitialSettings()}}}TimelineConverter.__dashjs_factory_name="TimelineConverter",t.default=a.default.getSingletonFactory(TimelineConverter),e.exports=t.default},function(e,t,r){"use strict";var n,i,o,l,u,c={encode:function(e){for(var t=[],r=0;r<e.length;++r){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?(t.push(192|n>>6),t.push(128|63&n)):n<65536?(t.push(224|n>>12),t.push(128|63&n>>6),t.push(128|63&n)):(t.push(240|n>>18),t.push(128|63&n>>12),t.push(128|63&n>>6),t.push(128|63&n))}return t},decode:function(e){for(var t=[],r=0;r<e.length;){var n=e[r++];n<128||(n<224?(n=(31&n)<<6,n|=63&e[r++]):n<240?(n=(15&n)<<12,n|=(63&e[r++])<<6,n|=63&e[r++]):(n=(7&n)<<18,n|=(63&e[r++])<<12,n|=(63&e[r++])<<6,n|=63&e[r++])),t.push(String.fromCharCode(n))}return t.join("")}},f={};n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function encodeArray(e){for(var t=0,r=[],i=0|e.length/3;0<i--;){var a=(e[t]<<16)+(e[t+1]<<8)+e[t+2];t+=3,r.push(n.charAt(63&a>>18)),r.push(n.charAt(63&a>>12)),r.push(n.charAt(63&a>>6)),r.push(n.charAt(63&a))}return 2==e.length-t?(a=(e[t]<<16)+(e[t+1]<<8),r.push(n.charAt(63&a>>18)),r.push(n.charAt(63&a>>12)),r.push(n.charAt(63&a>>6)),r.push("=")):1==e.length-t&&(a=e[t]<<16,r.push(n.charAt(63&a>>18)),r.push(n.charAt(63&a>>12)),r.push("==")),r.join("")},o=function(){for(var e=[],t=0;t<n.length;++t)e[n.charCodeAt(t)]=t;return e["=".charCodeAt(0)]=0,e}(),l=function decodeArray(e){for(var t=0,r=[],n=0|e.length/4;0<n--;){var i=(o[e.charCodeAt(t)]<<18)+(o[e.charCodeAt(t+1)]<<12)+(o[e.charCodeAt(t+2)]<<6)+o[e.charCodeAt(t+3)];r.push(255&i>>16),r.push(255&i>>8),r.push(255&i),t+=4}return r&&("="==e.charAt(t-2)?(r.pop(),r.pop()):"="==e.charAt(t-1)&&r.pop()),r},u={encode:function(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t},decode:function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")}},f.decodeArray=function(e){var t=l(e);return new Uint8Array(t)},f.encodeASCII=function(e){var t=u.encode(e);return i(t)},f.decodeASCII=function(e){var t=l(e);return u.decode(t)},f.encode=function(e){var t=c.encode(e);return i(t)},f.decode=function(e){var t=l(e);return c.decode(t)},t.decode=f.decode,t.decodeArray=f.decodeArray,t.encode=f.encode,t.encodeASCII=f.encodeASCII},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(744)),i=_interopRequireDefault(r(162)),a=_interopRequireDefault(r(746)),o=_interopRequireDefault(r(319)),s=_interopRequireDefault(r(318));function MetricsReporting(){var e=this.context;return{createMetricsReporting:function createMetricsReporting(t){return(0,n.default)(e).getInstance({eventBus:t.eventBus,metricsModel:t.metricsModel,metricsConstants:t.metricsConstants,events:t.events}),(0,a.default)(e).create(t)},getReportingFactory:function getReportingFactory(){return(0,s.default)(e).getInstance()},getMetricsHandlerFactory:function getMetricsHandlerFactory(){return(0,o.default)(e).getInstance()}}}MetricsReporting.__dashjs_factory_name="MetricsReporting";var l=dashjs.FactoryMaker.getClassFactory(MetricsReporting);l.events=i.default,dashjs.FactoryMaker.updateClassFactory(MetricsReporting.__dashjs_factory_name,l),t.default=l,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(745)),i=_interopRequireDefault(r(162));function DVBErrorsTranslator(e){var t=void 0,r=void 0,a=(e=e||{}).eventBus,o=e.metricsModel,s=e.metricsConstants,l=e.events;function report(e){var t=new n.default;if(r){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.mpdurl||(t.mpdurl=r.originalUrl||r.url),t.terror||(t.terror=new Date),o.addDVBErrors(t)}}function onManifestUpdate(e){e.error||(r=e.manifest)}function onServiceLocationChanged(e){report({errorcode:n.default.BASE_URL_CHANGED,servicelocation:e.entry})}function onBecameReporter(){report({errorcode:n.default.BECAME_REPORTER})}function onMetricEvent(e){switch(e.metric){case s.HTTP_REQUEST:!function handleHttpMetric(e){(0===e.responsecode||e.responsecode>=400||e.responsecode<100||e.responsecode>=600)&&report({errorcode:e.responsecode||n.default.CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}(e.value)}}function onPlaybackError(e){var t=void 0;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:t=n.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=n.default.CORRUPT_MEDIA_OTHER;break;default:return}report({errorcode:t})}function initialise(){a.on(l.MANIFEST_UPDATED,onManifestUpdate,t),a.on(l.SERVICE_LOCATION_BLACKLIST_CHANGED,onServiceLocationChanged,t),a.on(l.METRIC_ADDED,onMetricEvent,t),a.on(l.METRIC_UPDATED,onMetricEvent,t),a.on(l.PLAYBACK_ERROR,onPlaybackError,t),a.on(i.default.BECAME_REPORTING_PLAYER,onBecameReporter,t)}return t={initialise:initialise,reset:function reset(){a.off(l.MANIFEST_UPDATED,onManifestUpdate,t),a.off(l.SERVICE_LOCATION_BLACKLIST_CHANGED,onServiceLocationChanged,t),a.off(l.METRIC_ADDED,onMetricEvent,t),a.off(l.METRIC_UPDATED,onMetricEvent,t),a.off(l.PLAYBACK_ERROR,onPlaybackError,t),a.off(i.default.BECAME_REPORTING_PLAYER,onBecameReporter,t)}},initialise(),t}DVBErrorsTranslator.__dashjs_factory_name="DVBErrorsTranslator",t.default=dashjs.FactoryMaker.getSingletonFactory(DVBErrorsTranslator),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function DVBErrors(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DVBErrors),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};n.SSL_CONNECTION_FAILED_PREFIX="SSL",n.DNS_RESOLUTION_FAILED="C00",n.HOST_UNREACHABLE="C01",n.CONNECTION_REFUSED="C02",n.CONNECTION_ERROR="C03",n.CORRUPT_MEDIA_ISOBMFF="M00",n.CORRUPT_MEDIA_OTHER="M01",n.BASE_URL_CHANGED="F00",n.BECAME_REPORTER="S00",t.default=n,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(747)),i=_interopRequireDefault(r(758)),a=_interopRequireDefault(r(162));function MetricsCollectionController(e){e=e||{};var t={},r=this.context,o=e.eventBus,s=e.events;function update(s){if(!s.error){var l=Object.keys(t);(0,i.default)(r).getInstance({dashManifestModel:e.dashManifestModel,constants:e.constants}).getMetrics(s.manifest).forEach(function(i){var a=JSON.stringify(i);if(t.hasOwnProperty(a))l.splice(a,1);else try{var o=(0,n.default)(r).create(e);o.initialize(i),t[a]=o}catch(e){}}),l.forEach(function(e){t[e].reset(),delete t[e]}),o.trigger(a.default.METRICS_INITIALISATION_COMPLETE)}}function resetMetricsControllers(){Object.keys(t).forEach(function(e){t[e].reset()}),t={}}return function setup(){o.on(s.MANIFEST_UPDATED,update),o.on(s.STREAM_TEARDOWN_COMPLETE,resetMetricsControllers)}(),{reset:function reset(){o.off(s.MANIFEST_UPDATED,update),o.off(s.STREAM_TEARDOWN_COMPLETE,resetMetricsControllers)}}}MetricsCollectionController.__dashjs_factory_name="MetricsCollectionController",t.default=dashjs.FactoryMaker.getClassFactory(MetricsCollectionController),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(748)),i=_interopRequireDefault(r(749)),a=_interopRequireDefault(r(753));function MetricsController(e){e=e||{};var t=void 0,r=void 0,o=void 0,s=this.context;function reset(){t&&t.reset(),r&&r.reset(),o&&o.reset()}return{initialize:function initialize(l){try{(o=(0,n.default)(s).create({mediaElement:e.mediaElement})).initialize(l.Range),(r=(0,i.default)(s).create({debug:e.debug,metricsConstants:e.metricsConstants})).initialize(l.Reporting,o),(t=(0,a.default)(s).create({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants,events:e.events})).initialize(l.metrics,r)}catch(e){throw reset(),e}},reset:reset}}MetricsController.__dashjs_factory_name="MetricsController",t.default=dashjs.FactoryMaker.getClassFactory(MetricsController),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(295));function RangeController(e){e=e||{};var t,r=!1,i=this.context,a=void 0,o=e.mediaElement;return t={initialize:function initialize(e){e&&e.length&&(e.forEach(function(e){var t=e.starttime,r=t+e.duration;a.add(t,r)}),r=!!e[0]._useWallClockTime)},reset:function reset(){a.clear()},isEnabled:function isEnabled(){var e,t=a.length;if(!t)return!0;e=r?(new Date).getTime()/1e3:o.currentTime;for(var n=0;n<t;n+=1){var i=a.start(n),s=a.end(n);if(i<=e&&e<s)return!0}return!1}},function setup(){a=(0,n.default)(i).create()}(),t}RangeController.__dashjs_factory_name="RangeController",t.default=dashjs.FactoryMaker.getClassFactory(RangeController),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(318));function ReportingController(e){var t=[],r=(0,n.default)(this.context).getInstance(e);return{initialize:function initialize(e,n){e.some(function(e){var i=r.create(e,n);if(i)return t.push(i),!0})},reset:function reset(){t.forEach(function(e){return e.reset()}),t=[]},report:function report(e,r){t.forEach(function(t){return t.report(e,r)})}}}ReportingController.__dashjs_factory_name="ReportingController",t.default=dashjs.FactoryMaker.getClassFactory(ReportingController),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(751)),i=_interopRequireDefault(r(752));function DVBReporting(e){e=e||{};var t,r=this.context,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,f=!0,d=!0,p=[],h=e.metricsConstants;function resetInitialSettings(){s=!1,l=!1,u=null,c=null}return t={report:function report(e,t){Array.isArray(t)||(t=[t]),l&&c.isEnabled()&&t.forEach(function(t){var r=a.serialise(t);f&&e!==h.DVB_ERRORS&&(r="metricname="+e+"&"+r),function doGetRequest(e,t,r){var n=new XMLHttpRequest,i=function oncomplete(){var e=p.indexOf(n);-1!==e&&(p.splice(e,1),n.status>=200&&n.status<300?t&&t():r&&r())};p.push(n);try{n.open("GET",e),n.onloadend=i,n.onerror=i,n.send()}catch(e){n.onerror()}}(r=u+"?"+r,null,function(){l=!1})})},initialize:function initialize(e,t){var r=void 0;if(c=t,!(u=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");s||((r=e["dvb:probability"]||e["dvb:priority"]||0)&&(1e3===r||r/1e3>=o.random())&&(l=!0),s=!0)},reset:function reset(){d||(p.forEach(function(e){return e.abort()}),p=[]),resetInitialSettings()}},function setup(){a=(0,n.default)(r).getInstance(),o=(0,i.default)(r).getInstance(),resetInitialSettings()}(),t}DVBReporting.__dashjs_factory_name="DVBReporting",t.default=dashjs.FactoryMaker.getClassFactory(DVBReporting),e.exports=t.default},function(e,t,r){"use strict";function MetricSerialiser(){return{serialise:function serialise(e){var t=[],r=[],n=void 0,i=void 0;for(n in e)if(e.hasOwnProperty(n)&&0!==n.indexOf("_")){if(null==(i=e[n])&&(i=""),Array.isArray(i)){if(!i.length)continue;r=[],i.forEach(function(e){var t="Object"!==Object.prototype.toString.call(e).slice(8,-1);r.push(t?e:serialise(e))}),i=r.map(encodeURIComponent).join(",")}else"string"==typeof i?i=encodeURIComponent(i):i instanceof Date?i=i.toISOString():"number"==typeof i&&(i=Math.round(i));t.push(n+"="+i)}return t.join("&")}}}Object.defineProperty(t,"__esModule",{value:!0}),MetricSerialiser.__dashjs_factory_name="MetricSerialiser",t.default=dashjs.FactoryMaker.getSingletonFactory(MetricSerialiser),e.exports=t.default},function(e,t,r){"use strict";function RNG(){var e,t=window.crypto||window.msCrypto,r=Uint32Array,n=Math.pow(2,8*r.BYTES_PER_ELEMENT)-1,i=10,a=void 0,o=void 0;function initialise(){t&&(a||(a=new r(i)),t.getRandomValues(a),o=0)}return e={random:function rand(e,r){var i=void 0;return e||(e=0),r||(r=1),t?(o===a.length&&initialise(),i=a[o]/n,o+=1):i=Math.random(),i*(r-e)+e}},initialise(),e}Object.defineProperty(t,"__esModule",{value:!0}),RNG.__dashjs_factory_name="RNG",t.default=dashjs.FactoryMaker.getSingletonFactory(RNG),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(319));function MetricsHandlersController(e){e=e||{};var t=[],r=void 0,i=this.context,a=e.eventBus,o=e.events,s=(0,n.default)(i).getInstance({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants});function handle(e){t.forEach(function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)})}return r={initialize:function initialize(e,n){e.split(",").forEach(function(e,r,i){var a;if(-1!==e.indexOf("(")&&-1===e.indexOf(")")){var o=i[r+1];o&&-1===o.indexOf("(")&&-1!==o.indexOf(")")&&(e+=","+o,delete i[r+1])}(a=s.create(e,n))&&t.push(a)}),a.on(o.METRIC_ADDED,handle,r),a.on(o.METRIC_UPDATED,handle,r)},reset:function reset(){a.off(o.METRIC_ADDED,handle,r),a.off(o.METRIC_UPDATED,handle,r),t.forEach(function(e){return e.reset()}),t=[]}}}MetricsHandlersController.__dashjs_factory_name="MetricsHandlersController",t.default=dashjs.FactoryMaker.getClassFactory(MetricsHandlersController),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(320));function BufferLevelHandler(e){e=e||{};var t=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=this.context,l=(0,n.default)(s).getInstance(),u=[],c=e.metricsConstants;function intervalCallback(){var e=function getLowestBufferLevelVO(){try{return Object.keys(u).map(function(e){return u[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(e){return}}();e&&o!==e.t&&(o=e.t,t.report(i,e))}return{initialize:function initialize(e,n,o){n&&(r=l.validateN(o),t=n,i=l.reconstructFullMetricName(e,o),a=setInterval(intervalCallback,r))},reset:function reset(){clearInterval(a),a=null,r=0,t=null,o=null},handleNewMetric:function handleNewMetric(e,t,r){e===c.BUFFER_LEVEL&&(u[r]=t)}}}BufferLevelHandler.__dashjs_factory_name="BufferLevelHandler",t.default=dashjs.FactoryMaker.getClassFactory(BufferLevelHandler),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(162));t.default=dashjs.FactoryMaker.getClassFactory(function DVBErrorsHandler(e){var t=void 0,r=(e=e||{}).eventBus,i=e.metricsConstants;function onInitialisationComplete(){r.off(n.default.METRICS_INITIALISATION_COMPLETE,onInitialisationComplete,this),r.trigger(n.default.BECAME_REPORTING_PLAYER)}return{initialize:function initialize(e,i){i&&(t=i,r.on(n.default.METRICS_INITIALISATION_COMPLETE,onInitialisationComplete,this))},reset:function reset(){t=null},handleNewMetric:function handleNewMetric(e,r){e===i.DVB_ERRORS&&t&&t.report(e,r)}}}),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(320));function HttpListHandler(e){e=e||{};var t=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=[],l=(0,n.default)(this.context).getInstance(),u=e.metricsConstants;function intervalCallback(){var e=s;e.length&&t&&t.report(a,e),s=[]}return{initialize:function initialize(e,n,s,u){n&&(r=l.validateN(s),t=n,u&&u.length&&(i=u),a=l.reconstructFullMetricName(e,s,u),o=setInterval(intervalCallback,r))},reset:function reset(){clearInterval(o),o=null,r=null,i=null,s=[],t=null},handleNewMetric:function handleNewMetric(e,t){e===u.HTTP_REQUEST&&(i&&i!==t.type||s.push(t))}}}HttpListHandler.__dashjs_factory_name="HttpListHandler",t.default=dashjs.FactoryMaker.getClassFactory(HttpListHandler),e.exports=t.default},function(e,t,r){"use strict";function GenericMetricHandler(){var e=void 0,t=void 0;return{initialize:function initialize(r,n){e=r,t=n},reset:function reset(){t=null,e=void 0},handleNewMetric:function handleNewMetric(r,n){r===e&&t&&t.report(e,n)}}}Object.defineProperty(t,"__esModule",{value:!0}),GenericMetricHandler.__dashjs_factory_name="GenericMetricHandler",t.default=dashjs.FactoryMaker.getClassFactory(GenericMetricHandler),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(759)),i=_interopRequireDefault(r(760)),a=_interopRequireDefault(r(761));function ManifestParsing(e){var t=(e=e||{}).dashManifestModel,r=e.constants;return{getMetrics:function getMetrics(e){var o=[];return e.Metrics_asArray&&e.Metrics_asArray.forEach(function(s){var l=new n.default,u=t.getIsDynamic(e);s.hasOwnProperty("metrics")&&(l.metrics=s.metrics,s.Range_asArray&&s.Range_asArray.forEach(function(n){var a=new i.default;a.starttime=function getMetricsRangeStartTime(e,n,i){var a,o,s=t.getMpd(e),l=0;return n?l=s.availabilityStartTime.getTime()/1e3:(a=this.getRegularPeriods(s)).length&&(l=a[0].start),o=l,i&&i.hasOwnProperty(r.START_TIME)&&(o+=i.starttime),o}(e,u,n),n.hasOwnProperty("duration")?a.duration=n.duration:a.duration=t.getDuration(e),a._useWallClockTime=u,l.Range.push(a)}),s.Reporting_asArray&&(s.Reporting_asArray.forEach(function(e){var t=new a.default;if(e.hasOwnProperty(r.SCHEME_ID_URI)){for(var n in t.schemeIdUri=e.schemeIdUri,e)e.hasOwnProperty(n)&&(t[n]=e[n]);l.Reporting.push(t)}}),o.push(l)))}),o}}}ManifestParsing.__dashjs_factory_name="ManifestParsing",t.default=dashjs.FactoryMaker.getSingletonFactory(ManifestParsing),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function Metrics(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Metrics),this.metrics="",this.Range=[],this.Reporting=[]},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function Range(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Range),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function Reporting(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Reporting),this.schemeIdUri="",this.value=""},e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(763)),i=_interopRequireDefault(r(163)),a=_interopRequireDefault(r(773)),o=_interopRequireDefault(r(134)),s=_interopRequireDefault(r(774)),l=_interopRequireDefault(r(775)),u=_interopRequireDefault(r(776)),c=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],f=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function Protection(){var e=void 0,t=this.context;function getAPI(e,t){for(var r=0;r<t.length;r++){var n=t[r];if("function"==typeof e[n[Object.keys(n)[0]]])return n}return null}return e={createProtectionSystem:function createProtectionSystem(r){var a=null,o=(0,i.default)(t).getInstance();o.setConfig({debug:r.debug,BASE64:r.BASE64}),o.initialize();var d=function getProtectionModel(r){var n=r.debug,i=n.getLogger(e),a=r.eventBus,o=r.errHandler,d=r.videoModel?r.videoModel.getElement():null;return d&&void 0===d.onencrypted||d&&void 0===d.mediaKeys?getAPI(d,f)?(i.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,l.default)(t).create({debug:n,eventBus:a,events:r.events,api:getAPI(d,f)})):getAPI(d,c)?(i.info("EME detected on this user agent! (ProtectionModel_01b)"),(0,u.default)(t).create({debug:n,eventBus:a,errHandler:o,events:r.events,api:getAPI(d,c)})):(i.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(i.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,s.default)(t).create({debug:n,eventBus:a,events:r.events}))}(r);return!a&&d&&(a=(0,n.default)(t).create({protectionModel:d,protectionKeyController:o,eventBus:r.eventBus,debug:r.debug,events:r.events,BASE64:r.BASE64,constants:r.constants}),r.capabilities.setEncryptedMediaSupported(!0)),a}}}Protection.__dashjs_factory_name="Protection";var d=dashjs.FactoryMaker.getClassFactory(Protection);d.events=a.default,d.errors=o.default,dashjs.FactoryMaker.updateClassFactory(Protection.__dashjs_factory_name,d),t.default=d,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(118)),i=_interopRequireDefault(r(764)),a=_interopRequireDefault(r(226)),o=_interopRequireDefault(r(134)),s=_interopRequireDefault(r(32)),l=5,u=500,c=3,f=1e3,d=8e3;function ProtectionController(e){var t=(e=e||{}).protectionKeyController,r=e.protectionModel,p=e.eventBus,h=e.events,g=e.debug,m=e.BASE64,y=e.constants,v=[],_=void 0,b=void 0,E=void 0,T=void 0,S=void 0,w=void 0,R=void 0,A=void 0;function createKeySession(e,i){var a=n.default.getPSSHForKeySystem(A,e),l=getProtData(A);if(a){for(var u=r.getAllInitData(),c=0;c<u.length;c++)if(t.initDataEquals(a,u[c]))return void b.warn("DRM: Ignoring initData because we have already seen it!");try{r.createKeySession(a,l,getSessionType(A),i)}catch(e){p.trigger(h.KEY_SESSION_CREATED,{data:null,error:new s.default(o.default.KEY_SESSION_CREATED_ERROR_CODE,o.default.KEY_SESSION_CREATED_ERROR_MESSAGE+e.message)})}}else e?r.createKeySession(e,l,getSessionType(A),i):p.trigger(h.KEY_SESSION_CREATED,{data:null,error:new s.default(o.default.KEY_SESSION_CREATED_ERROR_CODE,o.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+A.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function loadKeySession(e,t){r.loadKeySession(e,t,getSessionType(A))}function setMediaElement(e){e?(r.setMediaElement(e),p.on(h.NEED_KEY,onNeedKey,this)):null===e&&(r.setMediaElement(e),p.off(h.NEED_KEY,onNeedKey,this))}function getProtData(e){var t=null;if(e){var r=e.systemString;S&&(t=r in S?S[r]:null)}return t}function getKeySystemConfiguration(e){var t=getProtData(e),r=[],n=[],o=t&&t.audioRobustness&&t.audioRobustness.length>0?t.audioRobustness:R,s=t&&t.videoRobustness&&t.videoRobustness.length>0?t.videoRobustness:R,l=getSessionType(e),u=t&&t.distinctiveIdentifier?t.distinctiveIdentifier:"optional",c=t&&t.persistentState?t.persistentState:"temporary"===l?"optional":"required";return T.forEach(function(e){e.type===y.AUDIO?r.push(new i.default(e.codec,o)):e.type===y.VIDEO&&n.push(new i.default(e.codec,s))}),new a.default(r,n,u,c,[l])}function getSessionType(e){var t=getProtData(e);return t&&t.sessionType?t.sessionType:w}function selectKeySystem(e,n){var i=this,a=[],l=void 0;if(A)for(l=0;l<e.length;l++){if(A===e[l].ks)if("break"===function(){a.push({ks:e[l].ks,configs:[getKeySystemConfiguration(A)]});return p.on(h.KEY_SYSTEM_ACCESS_COMPLETE,function onKeySystemAccessComplete(t){p.off(h.KEY_SYSTEM_ACCESS_COMPLETE,onKeySystemAccessComplete,i),t.error?n||p.trigger(h.KEY_SYSTEM_SELECTED,{error:new s.default(o.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,o.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+t.error)}):(b.info("DRM: KeySystem Access Granted"),p.trigger(h.KEY_SYSTEM_SELECTED,{data:t.data}),e[l].sessionId?loadKeySession(e[l].sessionId,e[l].initData):e[l].initData&&createKeySession(e[l].initData,e[l].cdmData))},i),r.requestKeySystemAccess(a),"break"}())break}else if(void 0===A){var u;!function(){A=null,E.push(e);for(var c=0;c<e.length;c++)a.push({ks:e[c].ks,configs:[getKeySystemConfiguration(e[c].ks)]});var f=void 0,d=function onKeySystemAccessComplete(e){p.off(h.KEY_SYSTEM_ACCESS_COMPLETE,onKeySystemAccessComplete,i),e.error?(A=void 0,p.off(h.INTERNAL_KEY_SYSTEM_SELECTED,u,i),n||p.trigger(h.KEY_SYSTEM_SELECTED,{data:null,error:new s.default(o.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,o.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+e.error)})):(f=e.data,b.info("DRM: KeySystem Access Granted ("+f.keySystem.systemString+")!  Selecting key system..."),r.selectKeySystem(f))};u=function onKeySystemSelected(e){if(p.off(h.INTERNAL_KEY_SYSTEM_SELECTED,onKeySystemSelected,i),p.off(h.KEY_SYSTEM_ACCESS_COMPLETE,d,i),e.error)A=void 0,n||p.trigger(h.KEY_SYSTEM_SELECTED,{data:null,error:new s.default(o.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,o.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+e.error)});else{if(!r)return;A=r.getKeySystem(),p.trigger(h.KEY_SYSTEM_SELECTED,{data:f});var a=getProtData(A);a&&a.serverCertificate&&a.serverCertificate.length>0&&r.setServerCertificate(m.decodeArray(a.serverCertificate).buffer);for(var u=0;u<E.length;u++)for(l=0;l<E[u].length;l++)if(A===E[u][l].ks){if(t.isClearKey(A)&&a&&a.hasOwnProperty("clearkeys")){var c={kids:Object.keys(a.clearkeys)};E[u][l].initData=(new TextEncoder).encode(JSON.stringify(c))}E[u][l].sessionId?loadKeySession(E[u][l].sessionId,E[u][l].initData):null!==E[u][l].initData&&createKeySession(E[u][l].initData,E[u][l].cdmData);break}}},p.on(h.INTERNAL_KEY_SYSTEM_SELECTED,u,i),p.on(h.KEY_SYSTEM_ACCESS_COMPLETE,d,i),r.requestKeySystemAccess(a)}()}else E.push(e)}function sendLicenseRequestCompleteEvent(e,t){p.trigger(h.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function onKeyStatusChanged(e){e.error?p.trigger(h.KEY_STATUSES_CHANGED,{data:null,error:e.error}):b.debug("DRM: key status = "+e.status)}function onKeyMessage(e){b.debug("DRM: onKeyMessage");var i=e.data;p.trigger(h.KEY_MESSAGE,{data:i});var a=i.messageType?i.messageType:"license-request",l=i.message,u=i.sessionToken,g=getProtData(A),m=A?A.systemString:null,y=t.getLicenseServer(A,g,a),v={sessionToken:u,messageType:a};if(l&&0!==l.byteLength){if(!y)return b.debug("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+u.getSessionID()),void sendLicenseRequestCompleteEvent(v);if(t.isClearKey(A)){var _=t.processClearKeyLicenseRequest(A,g,l);if(_)return b.debug("DRM: ClearKey license request handled by application!"),sendLicenseRequestCompleteEvent(v),void r.updateKeySession(u,_)}var E=null;if(g&&g.serverURL){var T=g.serverURL;"string"==typeof T&&""!==T?E=T:"object"==typeof T&&T.hasOwnProperty(a)&&(E=T[a])}else g&&g.laURL&&""!==g.laURL?E=g.laURL:(E=A.getLicenseServerURLFromInitData(n.default.getPSSHData(u.initData)))||(E=e.data.laURL);if(E=y.getServerURLFromMessage(E,l,a)){var S={},w=!1,R=function updateHeaders(e){if(e)for(var t in e)"authorization"===t.toLowerCase()&&(w=!0),S[t]=e[t]};g&&R(g.httpRequestHeaders),R(A.getRequestHeadersFromMessage(l)),g&&"boolean"==typeof g.withCredentials&&(w=g.withCredentials);var C=function reportError(e,t,r,n){var i=e.response?y.getErrorResponse(e.response,r,n):"NONE";sendLicenseRequestCompleteEvent(t,new s.default(o.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,o.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+r+' update, XHR complete. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState+".  Response is "+i))},x=A.getLicenseRequestFromMessage(l),D=y.getHTTPMethod(a),P=y.getResponseType(m,a),I=g&&!isNaN(g.httpTimeout)?g.httpTimeout:d;!function doLicenseRequest(e,t,r,n,i,a,o,s,l,u,c){var d=new XMLHttpRequest;d.open(r,e,!0);d.responseType=n;d.withCredentials=i;s>0&&(d.timeout=s);for(var p in t)d.setRequestHeader(p,t[p]);var h=function retryRequest(){o--,setTimeout(function(){doLicenseRequest(e,t,r,n,i,a,o,s,l,u,c)},f)};d.onload=function(){200===this.status||o<=0?l(this):(b.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+o),h())};d.ontimeout=d.onerror=function(){o<=0?c(this):(b.warn("License request network request failed . Retrying it... Pending retries: "+o),h())};d.onabort=function(){u(this)};d.send(a)}(E,S,D,P,w,x,c,I,function onLoad(e){if(r)if(200===e.status){var t=y.getLicenseMessage(e.response,m,a);null!==t?(sendLicenseRequestCompleteEvent(v),r.updateKeySession(u,t)):C(e,v,m,a)}else C(e,v,m,a)},function onAbort(e){sendLicenseRequestCompleteEvent(v,new s.default(o.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,o.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+m+' update, XHR aborted. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},function onError(e){sendLicenseRequestCompleteEvent(v,new s.default(o.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,o.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+m+' update, XHR error. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))})}else sendLicenseRequestCompleteEvent(v,new s.default(o.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,o.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}else sendLicenseRequestCompleteEvent(v,new s.default(o.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,o.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function onNeedKey(e,i){if(b.debug("DRM: onNeedKey"),"cenc"===e.key.initDataType)if(0===T.length&&(b.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(i=void 0===i?1:i+1)<l))v.push(setTimeout(function(){onNeedKey(e,i)},u));else{var a=e.key.initData;if(ArrayBuffer.isView(a)&&(a=a.buffer),A){var o=n.default.getPSSHForKeySystem(A,a);if(o)for(var s=r.getAllInitData(),c=0;c<s.length;c++)if(t.initDataEquals(o,s[c]))return void b.warn("DRM: Ignoring initData because we have already seen it!")}b.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(a)));var f=t.getSupportedKeySystems(a,S);0!==f.length?selectKeySystem(f,!1):b.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}else b.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType)}return _={initializeForMedia:function initializeForMedia(e){if(!e)throw new Error("mediaInfo can not be null or undefined");!function checkConfig(){if(!(p&&p.hasOwnProperty("on")&&t&&t.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}(),p.on(h.INTERNAL_KEY_MESSAGE,onKeyMessage,this),p.on(h.INTERNAL_KEY_STATUS_CHANGED,onKeyStatusChanged,this),T.push(e);var r=t.getSupportedKeySystemsFromContentProtection(e.contentProtection);r&&r.length>0&&selectKeySystem(r,!0)},createKeySession:createKeySession,loadKeySession:loadKeySession,removeKeySession:function removeKeySession(e){r.removeKeySession(e)},closeKeySession:function closeKeySession(e){r.closeKeySession(e)},setServerCertificate:function setServerCertificate(e){r.setServerCertificate(e)},setMediaElement:setMediaElement,setSessionType:function setSessionType(e){w=e},setRobustnessLevel:function setRobustnessLevel(e){R=e},setProtectionData:function setProtectionData(e){S=e,t.setProtectionData(e)},getSupportedKeySystemsFromContentProtection:function getSupportedKeySystemsFromContentProtection(e){return t.getSupportedKeySystemsFromContentProtection(e)},getKeySystems:function getKeySystems(){return t?t.getKeySystems():[]},stop:function stop(){r&&r.stop()},reset:function reset(){p.off(h.INTERNAL_KEY_MESSAGE,onKeyMessage,this),p.off(h.INTERNAL_KEY_STATUS_CHANGED,onKeyStatusChanged,this),setMediaElement(null),A=void 0,r&&(r.reset(),r=null),v.forEach(function(e){return clearTimeout(e)}),v=[],T=[]}},function setup(){b=g.getLogger(_),E=[],T=[],w="temporary",R=""}(),_}ProtectionController.__dashjs_factory_name="ProtectionController",t.default=dashjs.FactoryMaker.getClassFactory(ProtectionController),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function MediaCapability(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MediaCapability),this.contentType=e,this.robustness=t},e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(227)),i=_interopRequireDefault(r(228)),a=_interopRequireDefault(r(118)),o=_interopRequireDefault(r(105)),s="e2719d58-a985-b3c9-781a-b030af78d30e",l=o.default.CLEARKEY_KEYSTEM_STRING,u="urn:uuid:"+s;function KeySystemClearKey(e){var t=(e=e||{}).BASE64;return{uuid:s,schemeIdURI:u,systemString:l,getInitData:function getInitData(e){return a.default.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function getRequestHeadersFromMessage(){return null},getLicenseRequestFromMessage:function getLicenseRequestFromMessage(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function getLicenseServerURLFromInitData(){return null},getCDMData:function getCDMData(){return null},getSessionId:function getSessionId(){return null},getClearKeysFromProtectionData:function getClearKeysFromProtectionData(e,t){var r=null;if(e){for(var a=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),o=[],s=0;s<a.kids.length;s++){var l=a.kids[s],u=e.clearkeys&&e.clearkeys.hasOwnProperty(l)?e.clearkeys[l]:null;if(!u)throw new Error("DRM: ClearKey keyID ("+l+") is not known!");o.push(new n.default(l,u))}r=new i.default(o)}return r}}}KeySystemClearKey.__dashjs_factory_name="KeySystemClearKey",t.default=dashjs.FactoryMaker.getSingletonFactory(KeySystemClearKey),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(227)),i=_interopRequireDefault(r(228)),a=_interopRequireDefault(r(118)),o=_interopRequireDefault(r(105)),s="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",l=o.default.CLEARKEY_KEYSTEM_STRING,u="urn:uuid:"+s;function KeySystemW3CClearKey(e){var t=void 0,r=e.BASE64,o=e.debug.getLogger(t);return t={uuid:s,schemeIdURI:u,systemString:l,getInitData:function getInitData(e){return a.default.parseInitDataFromContentProtection(e,r)},getRequestHeadersFromMessage:function getRequestHeadersFromMessage(){return null},getLicenseRequestFromMessage:function getLicenseRequestFromMessage(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function getLicenseServerURLFromInitData(){return null},getCDMData:function getCDMData(){return null},getSessionId:function getSessionId(){return null},getClearKeysFromProtectionData:function getClearKeysFromProtectionData(e,t){var r=null;if(e){for(var a=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),s=[],l=0;l<a.kids.length;l++){var u=a.kids[l],c=e.clearkeys&&e.clearkeys.hasOwnProperty(u)?e.clearkeys[u]:null;if(!c)throw new Error("DRM: ClearKey keyID ("+u+") is not known!");s.push(new n.default(u,c))}r=new i.default(s),o.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return r}}}KeySystemW3CClearKey.__dashjs_factory_name="KeySystemW3CClearKey",t.default=dashjs.FactoryMaker.getSingletonFactory(KeySystemW3CClearKey),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(118)),i=_interopRequireDefault(r(105)),a="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",o=i.default.WIDEVINE_KEYSTEM_STRING,s="urn:uuid:"+a;function KeySystemWidevine(e){var t=null,r=(e=e||{}).BASE64;return{uuid:a,schemeIdURI:s,systemString:o,init:function init(e){e&&(t=e)},getInitData:function getInitData(e){return n.default.parseInitDataFromContentProtection(e,r)},getRequestHeadersFromMessage:function getRequestHeadersFromMessage(){return null},getLicenseRequestFromMessage:function getLicenseRequestFromMessage(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function getLicenseServerURLFromInitData(){return null},getCDMData:function getCDMData(){return null},getSessionId:function getSessionId(e){return t&&t.sessionId?t.sessionId:e&&e.sessionId?e.sessionId:null}}}KeySystemWidevine.__dashjs_factory_name="KeySystemWidevine",t.default=dashjs.FactoryMaker.getSingletonFactory(KeySystemWidevine),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(118)),i=_interopRequireDefault(r(105)),a="9a04f079-9840-4286-ab92-e65be0885f95",o=i.default.PLAYREADY_KEYSTEM_STRING,s="urn:uuid:"+a,l='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>',u=void 0;function KeySystemPlayReady(e){var t="utf16",r=(e=e||{}).BASE64;function checkConfig(){if(!r||!r.hasOwnProperty("decodeArray")||!r.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:a,schemeIdURI:s,systemString:o,getInitData:function getInitData(e){var t,i,a,o=new Uint8Array([112,115,115,104,0,0,0,0]),s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),l=0,u=null,c=void 0,f=void 0;if(checkConfig(),"pssh"in e)return n.default.parseInitDataFromContentProtection(e,r);if("pro"in e)u=r.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;u=r.decodeArray(e.prheader.__text)}return t=u.length,i=4+o.length+s.length+4+t,a=new ArrayBuffer(i),c=new Uint8Array(a),(f=new DataView(a)).setUint32(l,i),l+=4,c.set(o,l),l+=o.length,c.set(s,l),l+=s.length,f.setUint32(l,t),l+=4,c.set(u,l),l+=t,c.buffer},getRequestHeadersFromMessage:function getRequestHeadersFromMessage(e){var r,n=void 0,i={},a=new DOMParser,o="utf16"===t?new Uint16Array(e):new Uint8Array(e);r=String.fromCharCode.apply(null,o);for(var s=(n=a.parseFromString(r,"application/xml")).getElementsByTagName("name"),l=n.getElementsByTagName("value"),u=0;u<s.length;u++)i[s[u].childNodes[0].nodeValue]=l[u].childNodes[0].nodeValue;return i.hasOwnProperty("Content")&&(i["Content-Type"]=i.Content,delete i.Content),i.hasOwnProperty("Content-Type")||(i["Content-Type"]="text/xml; charset="+t),i},getLicenseRequestFromMessage:function getLicenseRequestFromMessage(e){var n=null,i=new DOMParser,a="utf16"===t?new Uint16Array(e):new Uint8Array(e);checkConfig();var o=String.fromCharCode.apply(null,a),s=i.parseFromString(o,"application/xml");if(s.getElementsByTagName("Challenge")[0]){var l=s.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;l&&(n=r.decode(l))}else if(s.getElementsByTagName("parsererror").length)return e;return n},getLicenseServerURLFromInitData:function getLicenseServerURLFromInitData(e){if(e)for(var t=new DataView(e),r=t.getUint16(4,!0),n=6,i=new DOMParser,a=0;a<r;a++){var o=t.getUint16(n,!0);n+=2;var s=t.getUint16(n,!0);if(n+=2,1===o){var l=e.slice(n,n+s),u=String.fromCharCode.apply(null,new Uint16Array(l)),c=i.parseFromString(u,"application/xml");if(c.getElementsByTagName("LA_URL")[0]){var f=c.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(f)return f}if(c.getElementsByTagName("LUI_URL")[0]){var d=c.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(d)return d}}else n+=s}return null},getCDMData:function getCDMData(){var e=void 0,t=void 0,n=void 0,i=void 0;if(checkConfig(),u&&u.cdmData){for(e=[],i=0;i<u.cdmData.length;++i)e.push(u.cdmData.charCodeAt(i)),e.push(0);for(e=String.fromCharCode.apply(null,e),e=r.encode(e),t=l.replace("%CUSTOMDATA%",e),n=[],i=0;i<t.length;++i)n.push(t.charCodeAt(i)),n.push(0);return new Uint8Array(n).buffer}return null},getSessionId:function getSessionId(e){return u&&u.sessionId?u.sessionId:e&&e.sessionId?e.sessionId:null},setPlayReadyMessageFormat:function setPlayReadyMessageFormat(e){if("utf8"!==e&&"utf16"!==e)throw new Error("Illegal PlayReady message format! -- "+e);t=e},init:function init(e){e&&(u=e)}}}KeySystemPlayReady.__dashjs_factory_name="KeySystemPlayReady",t.default=dashjs.FactoryMaker.getSingletonFactory(KeySystemPlayReady),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(105));function DRMToday(e){var t=(e=e||{}).BASE64,r={};r[n.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function getLicenseMessage(e){return t.decodeArray(e.license)},getErrorResponse:function getErrorResponse(e){return e}},r[n.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function getLicenseMessage(e){return e},getErrorResponse:function getErrorResponse(e){return String.fromCharCode.apply(null,new Uint8Array(e))}};return{getServerURLFromMessage:function getServerURLFromMessage(e){return e},getHTTPMethod:function getHTTPMethod(){return"POST"},getResponseType:function getResponseType(e){return r[e].responseType},getLicenseMessage:function getLicenseMessage(e,n){return function checkConfig(){if(!t||!t.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),r[n].getLicenseMessage(e)},getErrorResponse:function getErrorResponse(e,t){return r[t].getErrorResponse(e)}}}DRMToday.__dashjs_factory_name="DRMToday",t.default=dashjs.FactoryMaker.getSingletonFactory(DRMToday),e.exports=t.default},function(e,t,r){"use strict";function PlayReady(){var e="http://schemas.xmlsoap.org/soap/envelope/";function uintToString(e){var t=String.fromCharCode.apply(null,new Uint8Array(e));return decodeURIComponent(escape(t))}return{getServerURLFromMessage:function getServerURLFromMessage(e){return e},getHTTPMethod:function getHTTPMethod(){return"POST"},getResponseType:function getResponseType(){return"arraybuffer"},getLicenseMessage:function getLicenseMessage(t){return function parseServerResponse(t){if(window.DOMParser){var r=uintToString(t),n=(new window.DOMParser).parseFromString(r,"text/xml"),i=n?n.getElementsByTagNameNS(e,"Envelope")[0]:null,a=i?i.getElementsByTagNameNS(e,"Body")[0]:null;if(a?a.getElementsByTagNameNS(e,"Fault")[0]:null)return null}return t}.call(this,t)},getErrorResponse:function getErrorResponse(t){return function parseErrorResponse(t){var r="",n="",i="",a=-1,o=-1;if(window.DOMParser){var s=uintToString(t),l=(new window.DOMParser).parseFromString(s,"text/xml"),u=l?l.getElementsByTagNameNS(e,"Envelope")[0]:null,c=u?u.getElementsByTagNameNS(e,"Body")[0]:null,f=c?c.getElementsByTagNameNS(e,"Fault")[0]:null,d=f?f.getElementsByTagName("detail")[0]:null,p=d?d.getElementsByTagName("Exception")[0]:null,h=null;if(null===f)return s;r=(h=f.getElementsByTagName("faultstring")[0].firstChild)?h.nodeValue:null,null!==p&&(n=(h=p.getElementsByTagName("StatusCode")[0])?h.firstChild.nodeValue:null,a=(i=(h=p.getElementsByTagName("Message")[0])?h.firstChild.nodeValue:null)?i.lastIndexOf("[")+1:-1,o=i?i.indexOf("]"):-1,i=i?i.substring(a,o):"")}var g="code: "+n+", name: "+r;return i&&(g+=", message: "+i),g}.call(this,t)}}}Object.defineProperty(t,"__esModule",{value:!0}),PlayReady.__dashjs_factory_name="PlayReady",t.default=dashjs.FactoryMaker.getSingletonFactory(PlayReady),e.exports=t.default},function(e,t,r){"use strict";function Widevine(){return{getServerURLFromMessage:function getServerURLFromMessage(e){return e},getHTTPMethod:function getHTTPMethod(){return"POST"},getResponseType:function getResponseType(){return"arraybuffer"},getLicenseMessage:function getLicenseMessage(e){return e},getErrorResponse:function getErrorResponse(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}Object.defineProperty(t,"__esModule",{value:!0}),Widevine.__dashjs_factory_name="Widevine",t.default=dashjs.FactoryMaker.getSingletonFactory(Widevine),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(227)),i=_interopRequireDefault(r(228));function ClearKey(){return{getServerURLFromMessage:function getServerURLFromMessage(e,t){var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var n=0;n<r.kids.length;n++)e+=r.kids[n]+"&";return e=e.substring(0,e.length-1)},getHTTPMethod:function getHTTPMethod(){return"GET"},getResponseType:function getResponseType(){return"json"},getLicenseMessage:function getLicenseMessage(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],r=0;r<e.keys.length;r++){var a=e.keys[r],o=a.kid.replace(/=/g,""),s=a.k.replace(/=/g,"");t.push(new n.default(o,s))}return new i.default(t)},getErrorResponse:function getErrorResponse(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}ClearKey.__dashjs_factory_name="ClearKey",t.default=dashjs.FactoryMaker.getSingletonFactory(ClearKey),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function get(e,t,r){for(var n=!0;n;){var i=e,a=t,o=r;n=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;e=u,t=a,r=o,n=!0,s=u=void 0}};var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(155)),a=new(function(e){function ProtectionEvents(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProtectionEvents),n(Object.getPrototypeOf(ProtectionEvents.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ProtectionEvents,i["default"]),ProtectionEvents}());t.default=a,e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(163)),i=_interopRequireDefault(r(229)),a=_interopRequireDefault(r(134)),o=_interopRequireDefault(r(32)),s=_interopRequireDefault(r(230)),l=_interopRequireDefault(r(231)),u=_interopRequireDefault(r(105));function ProtectionModel_21Jan2015(e){e=e||{};var t=this.context,r=e.eventBus,c=e.events,f=e.debug,d=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0;function closeKeySessionInternal(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function removeSession(e){for(var t=0;t<y.length;t++)if(y[t]===e){y.splice(t,1);break}}function parseKeyStatus(e){var t=void 0,r=void 0;return e&&e.length>0&&(e[0]&&("string"==typeof e[0]?t=e[0]:r=e[0]),e[1]&&("string"==typeof e[1]?t=e[1]:r=e[1])),{status:t,keyId:r}}function createSessionToken(e,t,n,i){var l={session:e,initData:t,sessionId:i,handleEvent:function handleEvent(e){switch(e.type){case"keystatuseschange":r.trigger(c.KEY_STATUSES_CHANGED,{data:this}),e.target.keyStatuses.forEach(function(){var e=parseKeyStatus(arguments);switch(e.status){case"expired":r.trigger(c.INTERNAL_KEY_STATUS_CHANGED,{error:new o.default(a.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,a.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)});break;default:r.trigger(c.INTERNAL_KEY_STATUS_CHANGED,e)}});break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;r.trigger(c.INTERNAL_KEY_MESSAGE,{data:new s.default(this,t,void 0,e.messageType)})}},getSessionID:function getSessionID(){return e.sessionId},getExpirationTime:function getExpirationTime(){return e.expiration},getKeyStatuses:function getKeyStatuses(){return e.keyStatuses},getUsable:function getUsable(){var t=!1;return e.keyStatuses.forEach(function(){var e=parseKeyStatus(arguments);"usable"===e.status&&(t=!0)}),t},getSessionType:function getSessionType(){return n}};return e.addEventListener("keystatuseschange",l),e.addEventListener("message",l),e.closed.then(function(){removeSession(l),p.debug("DRM: Session closed.  SessionID = "+l.getSessionID()),r.trigger(c.KEY_SESSION_CLOSED,{data:l.getSessionID()})}),y.push(l),l}return d={getAllInitData:function getAllInitData(){for(var e=[],t=0;t<y.length;t++)y[t].initData&&e.push(y[t].initData);return e},requestKeySystemAccess:function requestKeySystemAccess(e){!function requestKeySystemAccessInternal(e,t){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess)return void r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Insecure origins are not allowed"});!function(t){var n=e[t].ks,i=e[t].configs,a=n.systemString;a===u.default.PLAYREADY_KEYSTEM_STRING&&"required"===i[0].persistentState&&(a+=".recommendation"),navigator.requestMediaKeySystemAccess(a,i).then(function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,i=new l.default(n,t);i.mksa=e,r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{data:i})}).catch(function(n){++t<e.length?requestKeySystemAccessInternal(e,t):r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! "+n.message})})}(t)}(e,0)},getKeySystem:function getKeySystem(){return h},selectKeySystem:function selectKeySystem(e){e.mksa.createMediaKeys().then(function(t){h=e.keySystem,m=t,g?g.setMediaKeys(m).then(function(){r.trigger(c.INTERNAL_KEY_SYSTEM_SELECTED)}):r.trigger(c.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){r.trigger(c.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})},setMediaElement:function setMediaElement(e){g!==e&&(g&&(g.removeEventListener("encrypted",v),g.setMediaKeys&&g.setMediaKeys(null)),(g=e)&&(g.addEventListener("encrypted",v),g.setMediaKeys&&m&&g.setMediaKeys(m)))},setServerCertificate:function setServerCertificate(e){if(!h||!m)throw new Error("Can not set server certificate until you have selected a key system");m.setServerCertificate(e).then(function(){p.info("DRM: License server certificate successfully updated."),r.trigger(c.SERVER_CERTIFICATE_UPDATED)}).catch(function(e){r.trigger(c.SERVER_CERTIFICATE_UPDATED,{error:new o.default(a.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,a.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+e.name)})})},createKeySession:function createKeySession(e,t,n){if(!h||!m)throw new Error("Can not create sessions until you have selected a key system");var i=m.createSession(n),s=createSessionToken(i,e,n),l=this.getKeySystem().systemString===u.default.CLEARKEY_KEYSTEM_STRING&&t&&t.clearkeys?"keyids":"cenc";i.generateRequest(l,e).then(function(){p.debug("DRM: Session created.  SessionID = "+s.getSessionID()),r.trigger(c.KEY_SESSION_CREATED,{data:s})}).catch(function(e){removeSession(s),r.trigger(c.KEY_SESSION_CREATED,{data:null,error:new o.default(a.default.KEY_SESSION_CREATED_ERROR_CODE,a.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+e.name)})})},updateKeySession:function updateKeySession(e,t){var n=e.session;_.isClearKey(h)&&(t=t.toJWK()),n.update(t).catch(function(t){r.trigger(c.KEY_ERROR,{data:new o.default(a.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+t.name,e)})})},loadKeySession:function loadKeySession(e,t,n){if(!h||!m)throw new Error("Can not load sessions until you have selected a key system");for(var i=0;i<y.length;i++)if(e===y[i].sessionId)return void p.warn("DRM: Ignoring session ID because we have already seen it!");var s=m.createSession(n),l=createSessionToken(s,t,n,e);s.load(e).then(function(t){t?(p.debug("DRM: Session loaded.  SessionID = "+l.getSessionID()),r.trigger(c.KEY_SESSION_CREATED,{data:l})):(removeSession(l),r.trigger(c.KEY_SESSION_CREATED,{data:null,error:new o.default(a.default.KEY_SESSION_CREATED_ERROR_CODE,a.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+e+")")}))}).catch(function(t){removeSession(l),r.trigger(c.KEY_SESSION_CREATED,{data:null,error:new o.default(a.default.KEY_SESSION_CREATED_ERROR_CODE,a.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+e+")! "+t.name)})})},removeKeySession:function removeKeySession(e){e.session.remove().then(function(){p.debug("DRM: Session removed.  SessionID = "+e.getSessionID()),r.trigger(c.KEY_SESSION_REMOVED,{data:e.getSessionID()})},function(t){r.trigger(c.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})})},closeKeySession:function closeKeySession(e){closeKeySessionInternal(e).catch(function(t){removeSession(e),r.trigger(c.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})})},stop:function stop(){for(var e=void 0,t=0;t<y.length;t++)(e=y[t]).getUsable()||closeKeySessionInternal(e).catch(function(){removeSession(e)})},reset:function reset(){var e=y.length,t=void 0;0!==e?function(){for(var n=function done(e){removeSession(e),0===y.length&&(g?(g.removeEventListener("encrypted",v),g.setMediaKeys(null).then(function(){r.trigger(c.TEARDOWN_COMPLETE)})):r.trigger(c.TEARDOWN_COMPLETE))},i=0;i<e;i++)!function(e){t.session.closed.then(function(){n(e)}),closeKeySessionInternal(t).catch(function(){n(e)})}(t=y[i])}():r.trigger(c.TEARDOWN_COMPLETE)}},function setup(){p=f.getLogger(d),h=null,g=null,m=null,y=[],_=(0,n.default)(t).getInstance(),v=function createEventHandler(){return{handleEvent:function handleEvent(e){switch(e.type){case"encrypted":if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;r.trigger(c.NEED_KEY,{key:new i.default(t,e.initDataType)})}}}}}()}(),d}ProtectionModel_21Jan2015.__dashjs_factory_name="ProtectionModel_21Jan2015",t.default=dashjs.FactoryMaker.getClassFactory(ProtectionModel_21Jan2015),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(163)),i=_interopRequireDefault(r(229)),a=_interopRequireDefault(r(32)),o=_interopRequireDefault(r(134)),s=_interopRequireDefault(r(230)),l=_interopRequireDefault(r(226)),u=_interopRequireDefault(r(231));function ProtectionModel_3Feb2014(e){e=e||{};var t=this.context,r=e.eventBus,c=e.events,f=e.debug,d=e.api,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,E=void 0;function reset(){try{for(var e=0;e<_.length;e++)closeKeySession(_[e]);g&&g.removeEventListener(d.needkey,b),r.trigger(c.TEARDOWN_COMPLETE)}catch(e){r.trigger(c.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function closeKeySession(e){var t=e.session;t.removeEventListener(d.error,e),t.removeEventListener(d.message,e),t.removeEventListener(d.ready,e),t.removeEventListener(d.close,e);for(var r=0;r<_.length;r++)if(_[r]===e){_.splice(r,1);break}t[d.release]()}function setMediaKeys(){var e=null,t=function doSetKeys(){g.removeEventListener("loadedmetadata",e),g[d.setMediaKeys](y),r.trigger(c.VIDEO_ELEMENT_SELECTED)};g.readyState>=1?t():(e=t.bind(this),g.addEventListener("loadedmetadata",e))}return p={getAllInitData:function getAllInitData(){for(var e=[],t=0;t<_.length;t++)e.push(_[t].initData);return e},requestKeySystemAccess:function requestKeySystemAccess(e){for(var t=!1,n=0;n<e.length;n++)for(var i=e[n].ks.systemString,a=e[n].configs,o=null,s=null,f=0;f<a.length;f++){var p=a[f].audioCapabilities,h=a[f].videoCapabilities;if(p&&0!==p.length){o=[];for(var g=0;g<p.length;g++)window[d.MediaKeys].isTypeSupported(i,p[g].contentType)&&o.push(p[g])}if(h&&0!==h.length){s=[];for(var m=0;m<h.length;m++)window[d.MediaKeys].isTypeSupported(i,h[m].contentType)&&s.push(h[m])}if(!(!o&&!s||o&&0===o.length||s&&0===s.length)){t=!0;var y=new l.default(o,s),v=E.getKeySystemBySystemString(i);r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{data:new u.default(v,y)});break}}t||r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function getKeySystem(){return m},selectKeySystem:function selectKeySystem(e){try{y=e.mediaKeys=new window[d.MediaKeys](e.keySystem.systemString),m=e.keySystem,v=e,g&&setMediaKeys(),r.trigger(c.INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){r.trigger(c.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+m.systemString+")! Could not create MediaKeys -- TODO"})}},setMediaElement:function setMediaElement(e){g!==e&&(g&&g.removeEventListener(d.needkey,b),(g=e)&&(g.addEventListener(d.needkey,b),y&&setMediaKeys()))},createKeySession:function createKeySession(e,t,n,i){if(!m||!y||!v)throw new Error("Can not create sessions until you have selected a key system");var l=null;if(v.ksConfiguration.videoCapabilities&&v.ksConfiguration.videoCapabilities.length>0&&(l=v.ksConfiguration.videoCapabilities[0]),null===l&&v.ksConfiguration.audioCapabilities&&v.ksConfiguration.audioCapabilities.length>0&&(l=v.ksConfiguration.audioCapabilities[0]),null===l)throw new Error("Can not create sessions for unknown content types.");var u=l.contentType,f=y.createSession(u,new Uint8Array(e),i?new Uint8Array(i):null),p=function createSessionToken(e,t){return{session:e,initData:t,getSessionID:function getSessionID(){return this.session.sessionId},getExpirationTime:function getExpirationTime(){return NaN},getSessionType:function getSessionType(){return"temporary"},handleEvent:function handleEvent(e){switch(e.type){case d.error:r.trigger(c.KEY_ERROR,{data:new a.default(o.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case d.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;r.trigger(c.INTERNAL_KEY_MESSAGE,{data:new s.default(this,t,e.destinationURL)});break;case d.ready:h.debug("DRM: Key added."),r.trigger(c.KEY_ADDED);break;case d.close:h.debug("DRM: Session closed.  SessionID = "+this.getSessionID()),r.trigger(c.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}(f,e);f.addEventListener(d.error,p),f.addEventListener(d.message,p),f.addEventListener(d.ready,p),f.addEventListener(d.close,p),_.push(p),h.debug("DRM: Session created.  SessionID = "+p.getSessionID()),r.trigger(c.KEY_SESSION_CREATED,{data:p})},updateKeySession:function updateKeySession(e,t){var r=e.session;E.isClearKey(m)?r.update(new Uint8Array(t.toJWK())):r.update(new Uint8Array(t))},closeKeySession:closeKeySession,setServerCertificate:function setServerCertificate(){},loadKeySession:function loadKeySession(){},removeKeySession:function removeKeySession(){},stop:reset,reset:reset},function setup(){h=f.getLogger(p),g=null,m=null,y=null,v=null,_=[],E=(0,n.default)(t).getInstance(),b=function createEventHandler(){return{handleEvent:function handleEvent(e){switch(e.type){case d.needkey:if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;r.trigger(c.NEED_KEY,{key:new i.default(t,"cenc")})}}}}}()}(),p}ProtectionModel_3Feb2014.__dashjs_factory_name="ProtectionModel_3Feb2014",t.default=dashjs.FactoryMaker.getClassFactory(ProtectionModel_3Feb2014),e.exports=t.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=_interopRequireDefault(r(163)),i=_interopRequireDefault(r(229)),a=_interopRequireDefault(r(32)),o=_interopRequireDefault(r(230)),s=_interopRequireDefault(r(226)),l=_interopRequireDefault(r(231)),u=_interopRequireDefault(r(134));function ProtectionModel_01b(e){e=e||{};var t=this.context,r=e.eventBus,c=e.events,f=e.debug,d=e.api,p=e.errHandler,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,b=void 0,E=void 0,T=void 0;function reset(){m&&removeEventListeners();for(var e=0;e<b.length;e++)closeKeySession(b[e]);r.trigger(c.TEARDOWN_COMPLETE)}function closeKeySession(e){try{m[d.cancelKeyRequest](y.systemString,e.sessionID)}catch(t){r.trigger(c.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.sessionID+") "+t.message})}}function findSessionByID(e,t){if(t&&e){for(var r=e.length,n=0;n<r;n++)if(e[n].sessionID==t)return e[n];return null}return null}function removeEventListeners(){m.removeEventListener(d.keyerror,T),m.removeEventListener(d.needkey,T),m.removeEventListener(d.keymessage,T),m.removeEventListener(d.keyadded,T)}return h={getAllInitData:function getAllInitData(){for(var e=[],t=0;t<_.length;t++)e.push(_[t].initData);for(t=0;t<b.length;t++)e.push(b[t].initData);return e},requestKeySystemAccess:function requestKeySystemAccess(e){var t=m;t||(t=document.createElement("video"));for(var n=!1,i=0;i<e.length;i++)for(var a=e[i].ks.systemString,o=e[i].configs,u=null,f=0;f<o.length;f++){var d=o[f].videoCapabilities;if(d&&0!==d.length){u=[];for(var p=0;p<d.length;p++)""!==t.canPlayType(d[p].contentType,a)&&u.push(d[p])}if(u&&(!u||0!==u.length)){n=!0;var h=new s.default(null,u),g=v.getKeySystemBySystemString(a);r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{data:new l.default(g,h)});break}}n||r.trigger(c.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function getKeySystem(){return y},selectKeySystem:function selectKeySystem(e){y=e.keySystem,r.trigger(c.INTERNAL_KEY_SYSTEM_SELECTED)},setMediaElement:function setMediaElement(e){if(m!==e){if(m){removeEventListeners();for(var t=0;t<b.length;t++)closeKeySession(b[t]);b=[]}(m=e)&&(m.addEventListener(d.keyerror,T),m.addEventListener(d.needkey,T),m.addEventListener(d.keymessage,T),m.addEventListener(d.keyadded,T),r.trigger(c.VIDEO_ELEMENT_SELECTED))}},createKeySession:function createKeySession(e){if(!y)throw new Error("Can not create sessions until you have selected a key system");if(E||0===b.length){var t={sessionID:null,initData:e,getSessionID:function getSessionID(){return this.sessionID},getExpirationTime:function getExpirationTime(){return NaN},getSessionType:function getSessionType(){return"temporary"}};return _.push(t),m[d.generateKeyRequest](y.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")},updateKeySession:function updateKeySession(e,t){var r=e.sessionID;if(v.isClearKey(y))for(var n=0;n<t.keyPairs.length;n++)m[d.addKey](y.systemString,t.keyPairs[n].key,t.keyPairs[n].keyID,r);else m[d.addKey](y.systemString,new Uint8Array(t),new Uint8Array(e.initData),r)},closeKeySession:closeKeySession,setServerCertificate:function setServerCertificate(){},loadKeySession:function loadKeySession(){},removeKeySession:function removeKeySession(){},stop:reset,reset:reset},function setup(){g=f.getLogger(h),m=null,y=null,_=[],b=[],v=(0,n.default)(t).getInstance(),T=function createEventHandler(){return{handleEvent:function handleEvent(e){var t=null;switch(e.type){case d.needkey:var n=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;r.trigger(c.NEED_KEY,{key:new i.default(n,"cenc")});break;case d.keyerror:if((t=findSessionByID(b,e.sessionId))||(t=findSessionByID(_,e.sessionId)),t){var s=u.default.MEDIA_KEYERR_CODE,l="";switch(e.errorCode.code){case 1:s=u.default.MEDIA_KEYERR_UNKNOWN_CODE,l+="MEDIA_KEYERR_UNKNOWN - "+u.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:s=u.default.MEDIA_KEYERR_CLIENT_CODE,l+="MEDIA_KEYERR_CLIENT - "+u.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:s=u.default.MEDIA_KEYERR_SERVICE_CODE,l+="MEDIA_KEYERR_SERVICE - "+u.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:s=u.default.MEDIA_KEYERR_OUTPUT_CODE,l+="MEDIA_KEYERR_OUTPUT - "+u.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:s=u.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,l+="MEDIA_KEYERR_HARDWARECHANGE - "+u.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:s=u.default.MEDIA_KEYERR_DOMAIN_CODE,l+="MEDIA_KEYERR_DOMAIN - "+u.default.MEDIA_KEYERR_DOMAIN_MESSAGE}l+="  System Code = "+e.systemCode,r.trigger(c.KEY_ERROR,{data:new a.default(s,l,t)})}else g.error("No session token found for key error");break;case d.keyadded:(t=findSessionByID(b,e.sessionId))||(t=findSessionByID(_,e.sessionId)),t?(g.debug("DRM: Key added."),r.trigger(c.KEY_ADDED,{data:t})):g.debug("No session token found for key added");break;case d.keymessage:if((E=null!==e.sessionId&&void 0!==e.sessionId)?!(t=findSessionByID(b,e.sessionId))&&_.length>0&&(t=_.shift(),b.push(t),t.sessionID=e.sessionId,r.trigger(c.KEY_SESSION_CREATED,{data:t})):_.length>0&&(t=_.shift(),b.push(t),0!==_.length&&(p.mediaKeyMessageError(u.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE),p.error(new a.default(u.default.MEDIA_KEY_MESSAGE_ERROR_CODE,u.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE)))),t){var f=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=f,r.trigger(c.INTERNAL_KEY_MESSAGE,{data:new o.default(t,f,e.defaultURL)})}else g.warn("No session token found for key message")}}}}()}(),h}ProtectionModel_01b.__dashjs_factory_name="ProtectionModel_01b",t.default=dashjs.FactoryMaker.getClassFactory(ProtectionModel_01b),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r(293));var i=function MediaPlayerFactory(){var e="application/dash+xml",t=void 0;function create(r,i,a){if(!r||!/^VIDEO$/i.test(r.nodeName))return null;if(r._dashjs_player)return r._dashjs_player;var o=void 0,s=r.id||r.name||"video element";if(!(i=i||[].slice.call(r.querySelectorAll("source")).filter(function(t){return t.type==e})[0])&&r.src)(i=document.createElement("source")).src=r.src;else if(!i&&!r.src)return null;return a=a||{},(o=(0,n.default)(a).create()).initialize(r,i.src,r.autoplay),t||(t=o.getDebug().getLogger()),t.debug("Converted "+s+" to dash.js player and added content: "+i.src),r._dashjs_player=o,o}function findVideo(e){for(var t=!0;t;){var r=e;if(t=!1,/^VIDEO$/i.test(r.nodeName))return r;e=r.parentNode,t=!0}}return{create:create,createAll:function createAll(t,r){var n=[];t=t||"[data-dashjs-player]";for(var i=(r=r||document).querySelectorAll(t),a=0;a<i.length;a++){var o=create(i[a],null);n.push(o)}var s=r.querySelectorAll('source[type="'+e+'"]');for(a=0;a<s.length;a++){o=create(findVideo(s[a]),null);n.push(o)}return n}}}(),a=void 0;!("undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&"undefined"!=typeof window&&window&&window.addEventListener&&("complete"===window.document.readyState?window.dashjs?i.createAll():a=window.setInterval(function loadIntervalHandler(){window.dashjs&&(window.clearInterval(a),i.createAll())},500):window.addEventListener("load",function loadHandler(){window.removeEventListener("load",loadHandler),i.createAll()})),t.default=i,e.exports=t.default},function(e,t,r){var n=r(325)(Object.keys,Object);e.exports=n},function(e,t,r){var n=r(106)(r(78),"DataView");e.exports=n},function(e,t,r){var n=r(8),i=r(783),a=r(40),o=r(328),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function baseIsNative(e){return!(!a(e)||i(e))&&(n(e)?d:s).test(o(e))}},function(e,t,r){var n=r(135),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;e.exports=function getRawTag(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=o.call(e);return n&&(t?e[s]=r:delete e[s]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function objectToString(e){return r.call(e)}},function(e,t,r){var n,i=r(784),a=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function isMasked(e){return!!a&&a in e}},function(e,t,r){var n=r(78)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function getValue(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(106)(r(78),"Promise");e.exports=n},function(e,t,r){var n=r(106)(r(78),"WeakMap");e.exports=n},function(e,t,r){var n=r(85),i=r(79),a="[object Arguments]";e.exports=function baseIsArguments(e){return i(e)&&n(e)==a}},function(e,t){e.exports=function stubFalse(){return!1}},function(e,t,r){var n=r(85),i=r(234),a=r(79),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function baseIsTypedArray(e){return a(e)&&i(e.length)&&!!o[n(e)]}},function(e,t,r){var n=r(237),i=r(238);e.exports=function copyObject(e,t,r,a){var o=!r;r||(r={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=a?a(r[u],e[u],u,r,e):void 0;void 0===c&&(c=e[u]),o?i(r,u,c):n(r,u,c)}return r}},function(e,t,r){var n=r(239),i=r(167);e.exports=function createAssigner(e){return n(function(t,r){var n=-1,a=r.length,o=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&i(r[0],r[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++n<a;){var l=r[n];l&&e(t,l,n,o)}return t})}},function(e,t){e.exports=function apply(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(334),i=r(331),a=r(48),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;e.exports=o},function(e,t){var r=800,n=16,i=Date.now;e.exports=function shortOut(e){var t=0,a=0;return function(){var o=i(),s=n-(o-a);if(a=o,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t){e.exports=function baseTimes(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(40),i=r(164),a=r(798),o=Object.prototype.hasOwnProperty;e.exports=function baseKeysIn(e){if(!n(e))return a(e);var t=i(e),r=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&r.push(s);return r}},function(e,t){e.exports=function nativeKeysIn(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){var n=r(136);e.exports=function baseValues(e,t){return n(t,function(t){return e[t]})}},function(e,t,r){var n=r(801),i=r(833),a=r(345);e.exports=function baseMatches(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},function(e,t,r){var n=r(338),i=r(241),a=1,o=2;e.exports=function baseIsMatch(e,t,r,s){var l=r.length,u=l,c=!s;if(null==e)return!u;for(e=Object(e);l--;){var f=r[l];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++l<u;){var d=(f=r[l])[0],p=e[d],h=f[1];if(c&&f[2]){if(void 0===p&&!(d in e))return!1}else{var g=new n;if(s)var m=s(p,h,d,e,t,g);if(!(void 0===m?i(h,p,a|o,s,g):m))return!1}}return!0}},function(e,t){e.exports=function listCacheClear(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(170),i=Array.prototype.splice;e.exports=function listCacheDelete(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},function(e,t,r){var n=r(170);e.exports=function listCacheGet(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(170);e.exports=function listCacheHas(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(170);e.exports=function listCacheSet(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},function(e,t,r){var n=r(169);e.exports=function stackClear(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function stackDelete(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},function(e,t){e.exports=function stackGet(e){return this.__data__.get(e)}},function(e,t){e.exports=function stackHas(e){return this.__data__.has(e)}},function(e,t,r){var n=r(169),i=r(233),a=r(240),o=200;e.exports=function stackSet(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<o-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new a(s)}return r.set(e,t),this.size=r.size,this}},function(e,t,r){var n=r(813),i=r(169),a=r(233);e.exports=function mapCacheClear(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},function(e,t,r){var n=r(814),i=r(815),a=r(816),o=r(817),s=r(818);function Hash(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Hash.prototype.clear=n,Hash.prototype.delete=i,Hash.prototype.get=a,Hash.prototype.has=o,Hash.prototype.set=s,e.exports=Hash},function(e,t,r){var n=r(171);e.exports=function hashClear(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(171),i="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;e.exports=function hashGet(e){var t=this.__data__;if(n){var r=t[e];return r===i?void 0:r}return a.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(171),i=Object.prototype.hasOwnProperty;e.exports=function hashHas(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},function(e,t,r){var n=r(171),i="__lodash_hash_undefined__";e.exports=function hashSet(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?i:t,this}},function(e,t,r){var n=r(172);e.exports=function mapCacheDelete(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(172);e.exports=function mapCacheGet(e){return n(this,e).get(e)}},function(e,t,r){var n=r(172);e.exports=function mapCacheHas(e){return n(this,e).has(e)}},function(e,t,r){var n=r(172);e.exports=function mapCacheSet(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},function(e,t,r){var n=r(338),i=r(339),a=r(827),o=r(830),s=r(326),l=r(47),u=r(235),c=r(236),f=1,d="[object Arguments]",p="[object Array]",h="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=function baseIsEqualDeep(e,t,r,m,y,v){var _=l(e),b=l(t),E=_?p:s(e),T=b?p:s(t),S=(E=E==d?h:E)==h,w=(T=T==d?h:T)==h,R=E==T;if(R&&u(e)){if(!u(t))return!1;_=!0,S=!1}if(R&&!S)return v||(v=new n),_||c(e)?i(e,t,r,m,y,v):a(e,t,E,r,m,y,v);if(!(r&f)){var A=S&&g.call(e,"__wrapped__"),C=w&&g.call(t,"__wrapped__");if(A||C){var x=A?e.value():e,D=C?t.value():t;return v||(v=new n),y(x,D,r,m,v)}}return!!R&&(v||(v=new n),o(e,t,r,m,y,v))}},function(e,t){var r="__lodash_hash_undefined__";e.exports=function setCacheAdd(e){return this.__data__.set(e,r),this}},function(e,t){e.exports=function setCacheHas(e){return this.__data__.has(e)}},function(e,t,r){var n=r(135),i=r(828),a=r(119),o=r(339),s=r(829),l=r(244),u=1,c=2,f="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Map]",g="[object Number]",m="[object RegExp]",y="[object Set]",v="[object String]",_="[object Symbol]",b="[object ArrayBuffer]",E="[object DataView]",T=n?n.prototype:void 0,S=T?T.valueOf:void 0;e.exports=function equalByTag(e,t,r,n,T,w,R){switch(r){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!w(new i(e),new i(t)));case f:case d:case g:return a(+e,+t);case p:return e.name==t.name&&e.message==t.message;case m:case v:return e==t+"";case h:var A=s;case y:var C=n&u;if(A||(A=l),e.size!=t.size&&!C)return!1;var x=R.get(e);if(x)return x==t;n|=c,R.set(e,t);var D=o(A(e),A(t),n,T,w,R);return R.delete(e),D;case _:if(S)return S.call(e)==S.call(t)}return!1}},function(e,t,r){var n=r(78).Uint8Array;e.exports=n},function(e,t){e.exports=function mapToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}},function(e,t,r){var n=r(831),i=1,a=Object.prototype.hasOwnProperty;e.exports=function equalObjects(e,t,r,o,s,l){var u=r&i,c=n(e),f=c.length;if(f!=n(t).length&&!u)return!1;for(var d=f;d--;){var p=c[d];if(!(u?p in t:a.call(t,p)))return!1}var h=l.get(e);if(h&&l.get(t))return h==t;var g=!0;l.set(e,t),l.set(t,e);for(var m=u;++d<f;){var y=e[p=c[d]],v=t[p];if(o)var _=u?o(v,y,p,t,e,l):o(y,v,p,e,t,l);if(!(void 0===_?y===v||s(y,v,r,o,l):_)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var b=e.constructor,E=t.constructor;b!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E)&&(g=!1)}return l.delete(e),l.delete(t),g}},function(e,t,r){var n=r(341),i=r(342),a=r(80);e.exports=function getAllKeys(e){return n(e,a,i)}},function(e,t){e.exports=function arrayFilter(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}},function(e,t,r){var n=r(344),i=r(80);e.exports=function getMatchData(e){for(var t=i(e),r=t.length;r--;){var a=t[r],o=e[a];t[r]=[a,o,n(o)]}return t}},function(e,t,r){var n=r(241),i=r(835),a=r(347),o=r(247),s=r(344),l=r(345),u=r(138),c=1,f=2;e.exports=function baseMatchesProperty(e,t){return o(e)&&s(t)?l(u(e),t):function(r){var o=i(r,e);return void 0===o&&o===t?a(r,e):n(t,o,c|f)}}},function(e,t,r){var n=r(246);e.exports=function get(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},function(e,t,r){var n=r(837),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,r,n,i){t.push(n?i.replace(a,"$1"):r||e)}),t});e.exports=o},function(e,t,r){var n=r(838),i=500;e.exports=function memoizeCapped(e){var t=n(e,function(e){return r.size===i&&r.clear(),e}),r=t.cache;return t}},function(e,t,r){var n=r(240),i="Expected a function";function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(memoize.Cache||n),r}memoize.Cache=n,e.exports=memoize},function(e,t,r){var n=r(135),i=r(136),a=r(47),o=r(137),s=1/0,l=n?n.prototype:void 0,u=l?l.toString:void 0;e.exports=function baseToString(e){if("string"==typeof e)return e;if(a(e))return i(e,baseToString)+"";if(o(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}},function(e,t){e.exports=function baseHasIn(e,t){return null!=e&&t in Object(e)}},function(e,t,r){var n=r(173),i=r(165),a=r(47),o=r(168),s=r(234),l=r(138);e.exports=function hasPath(e,t,r){for(var u=-1,c=(t=n(t,e)).length,f=!1;++u<c;){var d=l(t[u]);if(!(f=null!=e&&r(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&o(d,c)&&(a(e)||i(e))}},function(e,t){e.exports=function baseProperty(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,r){var n=r(246);e.exports=function basePropertyDeep(e){return function(t){return n(t,e)}}},function(e,t){e.exports=function baseIsNaN(e){return e!=e}},function(e,t){e.exports=function strictIndexOf(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}},function(e,t,r){var n=r(329),i=r(847),a=r(244),o=n&&1/a(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=o},function(e,t){e.exports=function noop(){}},function(e,t,r){var n=r(849),i=r(850),a=r(107),o=r(47);e.exports=function createAggregator(e,t){return function(r,s){var l=o(r)?n:i,u=t?t():{};return l(r,e,a(s,2),u)}}},function(e,t){e.exports=function arrayAggregator(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}},function(e,t,r){var n=r(248);e.exports=function baseAggregator(e,t,r,i){return n(e,function(e,n,a){t(i,e,r(e),a)}),i}},function(e,t,r){var n=r(852)();e.exports=n},function(e,t){e.exports=function createBaseFor(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===r(a[l],l,a))break}return t}}},function(e,t,r){var n=r(71);e.exports=function createBaseEach(e,t){return function(r,i){if(null==r)return r;if(!n(r))return e(r,i);for(var a=r.length,o=t?a:-1,s=Object(r);(t?o--:++o<a)&&!1!==i(s[o],o,s););return r}}},function(e,t,r){var n=r(248);e.exports=function baseSome(e,t){var r;return n(e,function(e,n,i){return!(r=t(e,n,i))}),!!r}},function(e,t,r){var n=r(245),i=r(856);e.exports=function baseFlatten(e,t,r,a,o){var s=-1,l=e.length;for(r||(r=i),o||(o=[]);++s<l;){var u=e[s];t>0&&r(u)?t>1?baseFlatten(u,t-1,r,a,o):n(o,u):a||(o[o.length]=u)}return o}},function(e,t,r){var n=r(135),i=r(165),a=r(47),o=n?n.isConcatSpreadable:void 0;e.exports=function isFlattenable(e){return a(e)||i(e)||!!(o&&e&&e[o])}},function(e,t,r){var n=r(85),i=r(47),a=r(79),o="[object String]";e.exports=function isString(e){return"string"==typeof e||!i(e)&&a(e)&&n(e)==o}},function(e,t,r){var n=r(40),i=r(137),a=NaN,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function toNumber(e){if("number"==typeof e)return e;if(i(e))return a;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=l.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):s.test(e)?a:+e}},function(e,t,r){var n=r(136),i=r(107),a=r(860),o=r(861),s=r(166),l=r(862),u=r(48);e.exports=function baseOrderBy(e,t,r){var c=-1;t=n(t.length?t:[u],s(i));var f=a(e,function(e,r,i){return{criteria:n(t,function(t){return t(e)}),index:++c,value:e}});return o(f,function(e,t){return l(e,t,r)})}},function(e,t,r){var n=r(248),i=r(71);e.exports=function baseMap(e,t){var r=-1,a=i(e)?Array(e.length):[];return n(e,function(e,n,i){a[++r]=t(e,n,i)}),a}},function(e,t){e.exports=function baseSortBy(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},function(e,t,r){var n=r(863);e.exports=function compareMultiple(e,t,r){for(var i=-1,a=e.criteria,o=t.criteria,s=a.length,l=r.length;++i<s;){var u=n(a[i],o[i]);if(u)return i>=l?u:u*("desc"==r[i]?-1:1)}return e.index-t.index}},function(e,t,r){var n=r(137);e.exports=function compareAscending(e,t){if(e!==t){var r=void 0!==e,i=null===e,a=e==e,o=n(e),s=void 0!==t,l=null===t,u=t==t,c=n(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||i&&s&&u||!r&&u||!a)return 1;if(!i&&!o&&!c&&e<t||c&&r&&a&&!i&&!o||l&&r&&a||!s&&a||!u)return-1}return 0}},function(e,t,r){var n=r(865),i=r(167),a=r(355);e.exports=function createRange(e){return function(t,r,o){return o&&"number"!=typeof o&&i(t,r,o)&&(r=o=void 0),t=a(t),void 0===r?(r=t,t=0):r=a(r),o=void 0===o?t<r?1:-1:a(o),n(t,r,o,e)}}},function(e,t){var r=Math.ceil,n=Math.max;e.exports=function baseRange(e,t,i,a){for(var o=-1,s=n(r((t-e)/(i||1)),0),l=Array(s);s--;)l[a?s:++o]=e,e+=i;return l}},function(e,t,r){var n=r(356),i=r(347);e.exports=function basePick(e,t){return n(e,t,function(t,r){return i(e,r)})}},function(e,t,r){var n=r(237),i=r(173),a=r(168),o=r(40),s=r(138);e.exports=function baseSet(e,t,r,l){if(!o(e))return e;for(var u=-1,c=(t=i(t,e)).length,f=c-1,d=e;null!=d&&++u<c;){var p=s(t[u]),h=r;if(u!=f){var g=d[p];void 0===(h=l?l(g,p,d):void 0)&&(h=o(g)?g:a(t[u+1])?[]:{})}n(d,p,h),d=d[p]}return e}},function(e,t,r){var n=r(87),i=r(332),a=r(333);e.exports=function flatRest(e){return a(i(e,void 0,n),e+"")}},function(e,t,r){var n=r(119);e.exports=function baseSortedUniq(e,t){for(var r=-1,i=e.length,a=0,o=[];++r<i;){var s=e[r],l=t?t(s):s;if(!r||!n(l,u)){var u=l;o[a++]=0===s?0:s}}return o}},function(e,t,r){var n=r(341),i=r(871),a=r(336);e.exports=function getAllKeysIn(e){return n(e,a,i)}},function(e,t,r){var n=r(245),i=r(337),a=r(342),o=r(343),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,a(e)),e=i(e);return t}:o;e.exports=s},function(e,t,r){var n=r(242),i=r(349),a=r(352),o=r(136),s=r(166),l=r(243),u=200;e.exports=function baseDifference(e,t,r,c){var f=-1,d=i,p=!0,h=e.length,g=[],m=t.length;if(!h)return g;r&&(t=o(t,s(r))),c?(d=a,p=!1):t.length>=u&&(d=l,p=!1,t=new n(t));e:for(;++f<h;){var y=e[f],v=null==r?y:r(y);if(y=c||0!==y?y:0,p&&v==v){for(var _=m;_--;)if(t[_]===v)continue e;g.push(y)}else d(t,v,c)||g.push(y)}return g}},function(e,t,r){var n=r(71),i=r(79);e.exports=function isArrayLikeObject(e){return i(e)&&n(e)}},function(e,t,r){var n=r(875);e.exports=function createInverter(e,t){return function(r,i){return n(r,e,t(i),{})}}},function(e,t,r){var n=r(353);e.exports=function baseInverter(e,t,r,i){return n(e,function(e,n,a){t(i,r(e),n,a)}),i}},function(e,t,r){var n=r(85),i=r(79),a="[object RegExp]";e.exports=function baseIsRegExp(e){return i(e)&&n(e)==a}},function(e,t,r){var n=r(107),i=r(71),a=r(80);e.exports=function createFind(e){return function(t,r,o){var s=Object(t);if(!i(t)){var l=n(r,3);t=a(t),r=function(e){return l(s[e],e,s)}}var u=e(t,r,o);return u>-1?s[l?t[u]:u]:void 0}}},function(e,t,r){var n=r(351),i=r(107),a=r(354),o=Math.max;e.exports=function findIndex(e,t,r){var s=null==e?0:e.length;if(!s)return-1;var l=null==r?0:a(r);return l<0&&(l=o(s+l,0)),n(e,i(t,3),l)}},,,,,,,function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"arc",function(){return k}),r.d(n,"area",function(){return F}),r.d(n,"line",function(){return N}),r.d(n,"pie",function(){return j}),r.d(n,"areaRadial",function(){return H}),r.d(n,"radialArea",function(){return H}),r.d(n,"lineRadial",function(){return G}),r.d(n,"radialLine",function(){return G}),r.d(n,"pointRadial",function(){return V}),r.d(n,"linkHorizontal",function(){return linkHorizontal}),r.d(n,"linkVertical",function(){return linkVertical}),r.d(n,"linkRadial",function(){return linkRadial}),r.d(n,"symbol",function(){return ue}),r.d(n,"symbols",function(){return le}),r.d(n,"symbolCircle",function(){return K}),r.d(n,"symbolCross",function(){return W}),r.d(n,"symbolDiamond",function(){return Q}),r.d(n,"symbolSquare",function(){return te}),r.d(n,"symbolStar",function(){return ee}),r.d(n,"symbolTriangle",function(){return ne}),r.d(n,"symbolWye",function(){return se}),r.d(n,"curveBasisClosed",function(){return de}),r.d(n,"curveBasisOpen",function(){return pe}),r.d(n,"curveBasis",function(){return fe}),r.d(n,"curveBundle",function(){return he}),r.d(n,"curveCardinalClosed",function(){return me}),r.d(n,"curveCardinalOpen",function(){return ye}),r.d(n,"curveCardinal",function(){return ge}),r.d(n,"curveCatmullRomClosed",function(){return _e}),r.d(n,"curveCatmullRomOpen",function(){return be}),r.d(n,"curveCatmullRom",function(){return ve}),r.d(n,"curveLinearClosed",function(){return Ee}),r.d(n,"curveLinear",function(){return L}),r.d(n,"curveMonotoneX",function(){return monotoneX}),r.d(n,"curveMonotoneY",function(){return monotoneY}),r.d(n,"curveNatural",function(){return Te}),r.d(n,"curveStep",function(){return Se}),r.d(n,"curveStepAfter",function(){return stepAfter}),r.d(n,"curveStepBefore",function(){return stepBefore}),r.d(n,"stack",function(){return Ae}),r.d(n,"stackOffsetExpand",function(){return Ce}),r.d(n,"stackOffsetDiverging",function(){return xe}),r.d(n,"stackOffsetNone",function(){return we}),r.d(n,"stackOffsetSilhouette",function(){return De}),r.d(n,"stackOffsetWiggle",function(){return Pe}),r.d(n,"stackOrderAppearance",function(){return Ie}),r.d(n,"stackOrderAscending",function(){return Me}),r.d(n,"stackOrderDescending",function(){return Oe}),r.d(n,"stackOrderInsideOut",function(){return ke}),r.d(n,"stackOrderNone",function(){return Re}),r.d(n,"stackOrderReverse",function(){return Le});var i=r(0),a=r.n(i),o=r(1),s=r.n(o),l=r(141),u=r.n(l),c=r(2),f=r.n(c),d=r(46),p=r(7),h=r(43),g=r(64),m=r(373),y=function(e,t){var r=p.a.modifyProps(e,t,"line"),n=e=f()({},r,function(e){var t=d.a.getData(e);t.length<2&&(t=[]);var r={x:p.a.getRange(e,"x"),y:p.a.getRange(e,"y")},n={x:h.a.getDomain(e,"x"),y:h.a.getDomain(e,"y")},i={x:g.a.getBaseScale(e,"x").domain(n.x).range(e.horizontal?r.y:r.x),y:g.a.getBaseScale(e,"y").domain(n.y).range(e.horizontal?r.x:r.y)},a=e.polar?e.origin||p.a.getPolarOrigin(e):void 0,o=e.theme&&e.theme.line&&e.theme.line.style?e.theme.line.style:{};return{domain:n,data:t,scale:i,style:p.a.getStyles(e.style,o),origin:a}}(r)),i=n.data,a=n.domain,o=n.events,s=n.groupComponent,l=n.height,c=n.horizontal,y=n.interpolation,v=n.origin,_=n.padding,b=n.polar,E=n.scale,T=n.sharedEvents,S=n.standalone,w=n.style,R=n.theme,A=n.width,C=n.labels,x=n.name,D={parent:{style:w.parent,scale:E,data:i,height:l,width:A,name:x,domain:a,standalone:S,polar:b,origin:v,padding:_,horizontal:c},all:{data:{horizontal:c,polar:b,origin:v,scale:E,data:i,interpolation:y,groupComponent:s,theme:R,style:w.data}}};return i.reduce(function(t,r,n){var i=m.a.getText(e,r,n);(null!=i||C&&(o||T))&&(t[u()(r.eventKey)?n:r.eventKey]={labels:m.a.getProps(e,n)});return t},D)},v=Math.PI,_=2*v,b=_-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path_path(){return new Path}Path.prototype=path_path.prototype={constructor:Path,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,a){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var a=this._x1,o=this._y1,s=r-e,l=n-t,u=a-e,c=o-t,f=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>1e-6)if(Math.abs(c*s-l*u)>1e-6&&i){var d=r-a,p=n-o,h=s*s+l*l,g=d*d+p*p,m=Math.sqrt(h),y=Math.sqrt(f),_=i*Math.tan((v-Math.acos((h+f-g)/(2*m*y)))/2),b=_/y,E=_/m;Math.abs(b-1)>1e-6&&(this._+="L"+(e+b*u)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*d>u*p)+","+(this._x1=e+E*s)+","+(this._y1=t+E*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,r,n,i,a){e=+e,t=+t,a=!!a;var o=(r=+r)*Math.cos(n),s=r*Math.sin(n),l=e+o,u=t+s,c=1^a,f=a?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),r&&(f<0&&(f=f%_+_),f>b?this._+="A"+r+","+r+",0,1,"+c+","+(e-o)+","+(t-s)+"A"+r+","+r+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):f>1e-6&&(this._+="A"+r+","+r+",0,"+ +(f>=v)+","+c+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var E=path_path,T=function(e){return function constant(){return e}},S=Math.abs,w=Math.atan2,R=Math.cos,A=Math.max,C=Math.min,x=Math.sin,D=Math.sqrt,P=1e-12,I=Math.PI,M=I/2,O=2*I;function asin(e){return e>=1?M:e<=-1?-M:Math.asin(e)}function arcInnerRadius(e){return e.innerRadius}function arcOuterRadius(e){return e.outerRadius}function arcStartAngle(e){return e.startAngle}function arcEndAngle(e){return e.endAngle}function arcPadAngle(e){return e&&e.padAngle}function cornerTangents(e,t,r,n,i,a,o){var s=e-r,l=t-n,u=(o?a:-a)/D(s*s+l*l),c=u*l,f=-u*s,d=e+c,p=t+f,h=r+c,g=n+f,m=(d+h)/2,y=(p+g)/2,v=h-d,_=g-p,b=v*v+_*_,E=i-a,T=d*g-h*p,S=(_<0?-1:1)*D(A(0,E*E*b-T*T)),w=(T*_-v*S)/b,R=(-T*v-_*S)/b,C=(T*_+v*S)/b,x=(-T*v+_*S)/b,P=w-m,I=R-y,M=C-m,O=x-y;return P*P+I*I>M*M+O*O&&(w=C,R=x),{cx:w,cy:R,x01:-c,y01:-f,x11:w*(i/E-1),y11:R*(i/E-1)}}var k=function(){var e=arcInnerRadius,t=arcOuterRadius,r=T(0),n=null,i=arcStartAngle,a=arcEndAngle,o=arcPadAngle,s=null;function arc(){var l,u,c=+e.apply(this,arguments),f=+t.apply(this,arguments),d=i.apply(this,arguments)-M,p=a.apply(this,arguments)-M,h=S(p-d),g=p>d;if(s||(s=l=E()),f<c&&(u=f,f=c,c=u),f>P)if(h>O-P)s.moveTo(f*R(d),f*x(d)),s.arc(0,0,f,d,p,!g),c>P&&(s.moveTo(c*R(p),c*x(p)),s.arc(0,0,c,p,d,g));else{var m,y,v=d,_=p,b=d,T=p,A=h,k=h,L=o.apply(this,arguments)/2,N=L>P&&(n?+n.apply(this,arguments):D(c*c+f*f)),F=C(S(f-c)/2,+r.apply(this,arguments)),B=F,U=F;if(N>P){var j=asin(N/c*x(L)),q=asin(N/f*x(L));(A-=2*j)>P?(b+=j*=g?1:-1,T-=j):(A=0,b=T=(d+p)/2),(k-=2*q)>P?(v+=q*=g?1:-1,_-=q):(k=0,v=_=(d+p)/2)}var G=f*R(v),H=f*x(v),V=c*R(T),z=c*x(T);if(F>P){var K,W=f*R(_),Y=f*x(_),X=c*R(b),Q=c*x(b);if(h<I&&(K=function intersect(e,t,r,n,i,a,o,s){var l=r-e,u=n-t,c=o-i,f=s-a,d=f*l-c*u;if(!(d*d<P))return[e+(d=(c*(t-a)-f*(e-i))/d)*l,t+d*u]}(G,H,X,Q,W,Y,V,z))){var $=G-K[0],J=H-K[1],Z=W-K[0],ee=Y-K[1],te=1/x(function acos(e){return e>1?0:e<-1?I:Math.acos(e)}(($*Z+J*ee)/(D($*$+J*J)*D(Z*Z+ee*ee)))/2),re=D(K[0]*K[0]+K[1]*K[1]);B=C(F,(c-re)/(te-1)),U=C(F,(f-re)/(te+1))}}k>P?U>P?(m=cornerTangents(X,Q,G,H,f,U,g),y=cornerTangents(W,Y,V,z,f,U,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),U<F?s.arc(m.cx,m.cy,U,w(m.y01,m.x01),w(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,U,w(m.y01,m.x01),w(m.y11,m.x11),!g),s.arc(0,0,f,w(m.cy+m.y11,m.cx+m.x11),w(y.cy+y.y11,y.cx+y.x11),!g),s.arc(y.cx,y.cy,U,w(y.y11,y.x11),w(y.y01,y.x01),!g))):(s.moveTo(G,H),s.arc(0,0,f,v,_,!g)):s.moveTo(G,H),c>P&&A>P?B>P?(m=cornerTangents(V,z,W,Y,c,-B,g),y=cornerTangents(G,H,X,Q,c,-B,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),B<F?s.arc(m.cx,m.cy,B,w(m.y01,m.x01),w(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,B,w(m.y01,m.x01),w(m.y11,m.x11),!g),s.arc(0,0,c,w(m.cy+m.y11,m.cx+m.x11),w(y.cy+y.y11,y.cx+y.x11),g),s.arc(y.cx,y.cy,B,w(y.y11,y.x11),w(y.y01,y.x01),!g))):s.arc(0,0,c,T,b,g):s.lineTo(V,z)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return arc.centroid=function(){var r=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,n=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-I/2;return[R(n)*r,x(n)*r]},arc.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:T(+t),arc):e},arc.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:T(+e),arc):t},arc.cornerRadius=function(e){return arguments.length?(r="function"==typeof e?e:T(+e),arc):r},arc.padRadius=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:T(+e),arc):n},arc.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:T(+e),arc):i},arc.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:T(+e),arc):a},arc.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:T(+e),arc):o},arc.context=function(e){return arguments.length?(s=null==e?null:e,arc):s},arc};function Linear(e){this._context=e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var L=function(e){return new Linear(e)};function point_x(e){return e[0]}function point_y(e){return e[1]}var N=function(){var e=point_x,t=point_y,r=T(!0),n=null,i=L,a=null;function line(o){var s,l,u,c=o.length,f=!1;for(null==n&&(a=i(u=E())),s=0;s<=c;++s)!(s<c&&r(l=o[s],s,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(l,s,o),+t(l,s,o));if(u)return a=null,u+""||null}return line.x=function(t){return arguments.length?(e="function"==typeof t?t:T(+t),line):e},line.y=function(e){return arguments.length?(t="function"==typeof e?e:T(+e),line):t},line.defined=function(e){return arguments.length?(r="function"==typeof e?e:T(!!e),line):r},line.curve=function(e){return arguments.length?(i=e,null!=n&&(a=i(n)),line):i},line.context=function(e){return arguments.length?(null==e?n=a=null:a=i(n=e),line):n},line},F=function(){var e=point_x,t=null,r=T(0),n=point_y,i=T(!0),a=null,o=L,s=null;function area(l){var u,c,f,d,p,h=l.length,g=!1,m=new Array(h),y=new Array(h);for(null==a&&(s=o(p=E())),u=0;u<=h;++u){if(!(u<h&&i(d=l[u],u,l))===g)if(g=!g)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=c;--f)s.point(m[f],y[f]);s.lineEnd(),s.areaEnd()}g&&(m[u]=+e(d,u,l),y[u]=+r(d,u,l),s.point(t?+t(d,u,l):m[u],n?+n(d,u,l):y[u]))}if(p)return s=null,p+""||null}function arealine(){return N().defined(i).curve(o).context(a)}return area.x=function(r){return arguments.length?(e="function"==typeof r?r:T(+r),t=null,area):e},area.x0=function(t){return arguments.length?(e="function"==typeof t?t:T(+t),area):e},area.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:T(+e),area):t},area.y=function(e){return arguments.length?(r="function"==typeof e?e:T(+e),n=null,area):r},area.y0=function(e){return arguments.length?(r="function"==typeof e?e:T(+e),area):r},area.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:T(+e),area):n},area.lineX0=area.lineY0=function(){return arealine().x(e).y(r)},area.lineY1=function(){return arealine().x(e).y(n)},area.lineX1=function(){return arealine().x(t).y(r)},area.defined=function(e){return arguments.length?(i="function"==typeof e?e:T(!!e),area):i},area.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),area):o},area.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),area):a},area},B=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},U=function(e){return e},j=function(){var e=U,t=B,r=null,n=T(0),i=T(O),a=T(0);function pie(o){var s,l,u,c,f,d=o.length,p=0,h=new Array(d),g=new Array(d),m=+n.apply(this,arguments),y=Math.min(O,Math.max(-O,i.apply(this,arguments)-m)),v=Math.min(Math.abs(y)/d,a.apply(this,arguments)),_=v*(y<0?-1:1);for(s=0;s<d;++s)(f=g[h[s]=s]=+e(o[s],s,o))>0&&(p+=f);for(null!=t?h.sort(function(e,r){return t(g[e],g[r])}):null!=r&&h.sort(function(e,t){return r(o[e],o[t])}),s=0,u=p?(y-d*_)/p:0;s<d;++s,m=c)l=h[s],c=m+((f=g[l])>0?f*u:0)+_,g[l]={data:o[l],index:s,value:f,startAngle:m,endAngle:c,padAngle:v};return g}return pie.value=function(t){return arguments.length?(e="function"==typeof t?t:T(+t),pie):e},pie.sortValues=function(e){return arguments.length?(t=e,r=null,pie):t},pie.sort=function(e){return arguments.length?(r=e,t=null,pie):r},pie.startAngle=function(e){return arguments.length?(n="function"==typeof e?e:T(+e),pie):n},pie.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:T(+e),pie):i},pie.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:T(+e),pie):a},pie},q=curveRadial(L);function Radial(e){this._curve=e}function curveRadial(e){function radial(t){return new Radial(e(t))}return radial._curve=e,radial}function lineRadial(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(curveRadial(e)):t()._curve},e}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var G=function(){return lineRadial(N().curve(q))},H=function(){var e=F().curve(q),t=e.curve,r=e.lineX0,n=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return lineRadial(r())},delete e.lineX0,e.lineEndAngle=function(){return lineRadial(n())},delete e.lineX1,e.lineInnerRadius=function(){return lineRadial(i())},delete e.lineY0,e.lineOuterRadius=function(){return lineRadial(a())},delete e.lineY1,e.curve=function(e){return arguments.length?t(curveRadial(e)):t()._curve},e},V=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},z=Array.prototype.slice;function linkSource(e){return e.source}function linkTarget(e){return e.target}function link_link(e){var t=linkSource,r=linkTarget,n=point_x,i=point_y,a=null;function link(){var o,s=z.call(arguments),l=t.apply(this,s),u=r.apply(this,s);if(a||(a=o=E()),e(a,+n.apply(this,(s[0]=l,s)),+i.apply(this,s),+n.apply(this,(s[0]=u,s)),+i.apply(this,s)),o)return a=null,o+""||null}return link.source=function(e){return arguments.length?(t=e,link):t},link.target=function(e){return arguments.length?(r=e,link):r},link.x=function(e){return arguments.length?(n="function"==typeof e?e:T(+e),link):n},link.y=function(e){return arguments.length?(i="function"==typeof e?e:T(+e),link):i},link.context=function(e){return arguments.length?(a=null==e?null:e,link):a},link}function curveHorizontal(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function curveVertical(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t,r=(r+i)/2,n,r,n,i)}function link_curveRadial(e,t,r,n,i){var a=V(t,r),o=V(t,r=(r+i)/2),s=V(n,r),l=V(n,i);e.moveTo(a[0],a[1]),e.bezierCurveTo(o[0],o[1],s[0],s[1],l[0],l[1])}function linkHorizontal(){return link_link(curveHorizontal)}function linkVertical(){return link_link(curveVertical)}function linkRadial(){var e=link_link(link_curveRadial);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var K={draw:function(e,t){var r=Math.sqrt(t/I);e.moveTo(r,0),e.arc(0,0,r,0,O)}},W={draw:function(e,t){var r=Math.sqrt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Y=Math.sqrt(1/3),X=2*Y,Q={draw:function(e,t){var r=Math.sqrt(t/X),n=r*Y;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$=Math.sin(I/10)/Math.sin(7*I/10),J=Math.sin(O/10)*$,Z=-Math.cos(O/10)*$,ee={draw:function(e,t){var r=Math.sqrt(.8908130915292852*t),n=J*r,i=Z*r;e.moveTo(0,-r),e.lineTo(n,i);for(var a=1;a<5;++a){var o=O*a/5,s=Math.cos(o),l=Math.sin(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},te={draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}},re=Math.sqrt(3),ne={draw:function(e,t){var r=-Math.sqrt(t/(3*re));e.moveTo(0,2*r),e.lineTo(-re*r,-r),e.lineTo(re*r,-r),e.closePath()}},ie=Math.sqrt(3)/2,ae=1/Math.sqrt(12),oe=3*(ae/2+1),se={draw:function(e,t){var r=Math.sqrt(t/oe),n=r/2,i=r*ae,a=n,o=r*ae+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(-.5*n-ie*i,ie*n+-.5*i),e.lineTo(-.5*a-ie*o,ie*a+-.5*o),e.lineTo(-.5*s-ie*l,ie*s+-.5*l),e.lineTo(-.5*n+ie*i,-.5*i-ie*n),e.lineTo(-.5*a+ie*o,-.5*o-ie*a),e.lineTo(-.5*s+ie*l,-.5*l-ie*s),e.closePath()}},le=[K,W,Q,te,ee,ne,se],ue=function(){var e=T(K),t=T(64),r=null;function symbol(){var n;if(r||(r=n=E()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),n)return r=null,n+""||null}return symbol.type=function(t){return arguments.length?(e="function"==typeof t?t:T(t),symbol):e},symbol.size=function(e){return arguments.length?(t="function"==typeof e?e:T(+e),symbol):t},symbol.context=function(e){return arguments.length?(r=null==e?null:e,symbol):r},symbol},ce=function(){};function point(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Basis(e){this._context=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var fe=function(e){return new Basis(e)};function BasisClosed(e){this._context=e}BasisClosed.prototype={areaStart:ce,areaEnd:ce,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:point(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var de=function(e){return new BasisClosed(e)};function BasisOpen(e){this._context=e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:point(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var pe=function(e){return new BasisOpen(e)};function Bundle(e,t){this._basis=new Basis(e),this._beta=t}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n,i=e[0],a=t[0],o=e[r]-i,s=t[r]-a,l=-1;++l<=r;)n=l/r,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+n*o),this._beta*t[l]+(1-this._beta)*(a+n*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var he=function custom(e){function bundle(t){return 1===e?new Basis(t):new Bundle(t,e)}return bundle.beta=function(e){return custom(+e)},bundle}(.85);function cardinal_point(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Cardinal(e,t){this._context=e,this._k=(1-t)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cardinal_point(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:cardinal_point(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ge=function custom(e){function cardinal(t){return new Cardinal(t,e)}return cardinal.tension=function(e){return custom(+e)},cardinal}(0);function CardinalClosed(e,t){this._context=e,this._k=(1-t)/6}CardinalClosed.prototype={areaStart:ce,areaEnd:ce,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:cardinal_point(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var me=function custom(e){function cardinal(t){return new CardinalClosed(t,e)}return cardinal.tension=function(e){return custom(+e)},cardinal}(0);function CardinalOpen(e,t){this._context=e,this._k=(1-t)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cardinal_point(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ye=function custom(e){function cardinal(t){return new CardinalOpen(t,e)}return cardinal.tension=function(e){return custom(+e)},cardinal}(0);function catmullRom_point(e,t,r){var n=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>P){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>P){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-r*e._l12_2a)/c}e._context.bezierCurveTo(n,i,a,o,e._x2,e._y2)}function CatmullRom(e,t){this._context=e,this._alpha=t}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:catmullRom_point(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ve=function custom(e){function catmullRom(t){return e?new CatmullRom(t,e):new Cardinal(t,0)}return catmullRom.alpha=function(e){return custom(+e)},catmullRom}(.5);function CatmullRomClosed(e,t){this._context=e,this._alpha=t}CatmullRomClosed.prototype={areaStart:ce,areaEnd:ce,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:catmullRom_point(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var _e=function custom(e){function catmullRom(t){return e?new CatmullRomClosed(t,e):new CardinalClosed(t,0)}return catmullRom.alpha=function(e){return custom(+e)},catmullRom}(.5);function CatmullRomOpen(e,t){this._context=e,this._alpha=t}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:catmullRom_point(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var be=function custom(e){function catmullRom(t){return e?new CatmullRomOpen(t,e):new CardinalOpen(t,0)}return catmullRom.alpha=function(e){return custom(+e)},catmullRom}(.5);function LinearClosed(e){this._context=e}LinearClosed.prototype={areaStart:ce,areaEnd:ce,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var Ee=function(e){return new LinearClosed(e)};function sign(e){return e<0?-1:1}function slope3(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(sign(a)+sign(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function slope2(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function monotone_point(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function MonotoneX(e){this._context=e}function MonotoneY(e){this._context=new ReflectContext(e)}function ReflectContext(e){this._context=e}function monotoneX(e){return new MonotoneX(e)}function monotoneY(e){return new MonotoneY(e)}function Natural(e){this._context=e}function controlPoints(e){var t,r,n=e.length-1,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:monotone_point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,monotone_point(this,slope2(this,r=slope3(this,e,t)),r);break;default:monotone_point(this,this._t0,r=slope3(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,t){MonotoneX.prototype.point.call(this,t,e)},ReflectContext.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=controlPoints(e),i=controlPoints(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Te=function(e){return new Natural(e)};function Step(e,t){this._context=e,this._t=t}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var Se=function(e){return new Step(e,.5)};function stepBefore(e){return new Step(e,0)}function stepAfter(e){return new Step(e,1)}var we=function(e,t){if((i=e.length)>1)for(var r,n,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(n=o,o=e[t[a]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]},Re=function(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r};function stackValue(e,t){return e[t]}var Ae=function(){var e=T([]),t=Re,r=we,n=stackValue;function stack(i){var a,o,s=e.apply(this,arguments),l=i.length,u=s.length,c=new Array(u);for(a=0;a<u;++a){for(var f,d=s[a],p=c[a]=new Array(l),h=0;h<l;++h)p[h]=f=[0,+n(i[h],d,h,i)],f.data=i[h];p.key=d}for(a=0,o=t(c);a<u;++a)c[o[a]].index=a;return r(c,o),c}return stack.keys=function(t){return arguments.length?(e="function"==typeof t?t:T(z.call(t)),stack):e},stack.value=function(e){return arguments.length?(n="function"==typeof e?e:T(+e),stack):n},stack.order=function(e){return arguments.length?(t=null==e?Re:"function"==typeof e?e:T(z.call(e)),stack):t},stack.offset=function(e){return arguments.length?(r=null==e?we:e,stack):r},stack},Ce=function(e,t){if((n=e.length)>0){for(var r,n,i,a=0,o=e[0].length;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}we(e,t)}},xe=function(e,t){if((s=e.length)>0)for(var r,n,i,a,o,s,l=0,u=e[t[0]].length;l<u;++l)for(a=o=0,r=0;r<s;++r)(i=(n=e[t[r]][l])[1]-n[0])>=0?(n[0]=a,n[1]=a+=i):i<0?(n[1]=o,n[0]=o+=i):n[0]=a},De=function(e,t){if((r=e.length)>0){for(var r,n=0,i=e[t[0]],a=i.length;n<a;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;i[n][1]+=i[n][0]=-s/2}we(e,t)}},Pe=function(e,t){if((i=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,i,a=0,o=1;o<n;++o){for(var s=0,l=0,u=0;s<i;++s){for(var c=e[t[s]],f=c[o][1]||0,d=(f-(c[o-1][1]||0))/2,p=0;p<s;++p){var h=e[t[p]];d+=(h[o][1]||0)-(h[o-1][1]||0)}l+=f,u+=d*f}r[o-1][1]+=r[o-1][0]=a,l&&(a-=u/l)}r[o-1][1]+=r[o-1][0]=a,we(e,t)}},Ie=function(e){var t=e.map(peak);return Re(e).sort(function(e,r){return t[e]-t[r]})};function peak(e){for(var t,r=-1,n=0,i=e.length,a=-1/0;++r<i;)(t=+e[r][1])>a&&(a=t,n=r);return n}var Me=function(e){var t=e.map(ascending_sum);return Re(e).sort(function(e,r){return t[e]-t[r]})};function ascending_sum(e){for(var t,r=0,n=-1,i=e.length;++n<i;)(t=+e[n][1])&&(r+=t);return r}var Oe=function(e){return Me(e).reverse()},ke=function(e){var t,r,n=e.length,i=e.map(ascending_sum),a=Ie(e),o=0,s=0,l=[],u=[];for(t=0;t<n;++t)r=a[t],o<s?(o+=i[r],l.push(r)):(s+=i[r],u.push(r));return u.reverse().concat(l)},Le=function(e){return Re(e).reverse()},Ne=r(178),Fe=r(374);function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var Be=function(e){var t=void 0!==e._y1?e._y1:e._y;return null!=t&&null!==e._y0},Ue=function(e){return function(t){return e.x(void 0!==t._x1?t._x1:t._x)}},je=function(e){return function(t){return e.y(void 0!==t._y1?t._y1:t._y)}},qe=function(e){function Curve(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Curve),_possibleConstructorReturn(this,(Curve.__proto__||Object.getPrototypeOf(Curve)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Curve,s.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Curve,[{key:"getLineFunction",value:function getLineFunction(e){var t=e.polar,r=e.scale,i=e.horizontal,a=!t,o=(void 0===e.openCurve?a:e.openCurve)?this.toNewName(e.interpolation):"".concat(this.toNewName(e.interpolation),"Closed");return t?G().defined(Be).curve(n[o]).angle(function(e){return function(t){return-1*e.x(void 0!==t._x1?t._x1:t._x)+Math.PI/2}}(r)).radius(je(r)):N().defined(Be).curve(n[o]).x(i?je(r):Ue(r)).y(i?Ue(r):je(r))}},{key:"toNewName",value:function toNewName(e){return"curve".concat(function(e){return e&&e[0].toUpperCase()+e.slice(1)}(e))}},{key:"render",value:function render(){var e=this.props,t=e.data,r=e.active,n=e.events,i=e.role,a=e.shapeRendering,o=e.className,l=e.polar,u=e.origin,c=e.pathComponent,d=e.clipPath,h=p.a.evaluateStyle(f()({fill:"none",stroke:"black"},this.props.style),t,r),g=this.getLineFunction(this.props)(t),m=l&&u?"translate(".concat(u.x,", ").concat(u.y,")"):void 0,y=this.props.transform||m;return s.a.cloneElement(c,{className:o,style:h,role:i,shapeRendering:a,transform:y,events:n,d:g,clipPath:d})}}]),Curve}();Object.defineProperty(qe,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){_defineProperty(e,t,r[t])})}return e}({},Ne.a.primitiveProps,{interpolation:a.a.string,openCurve:a.a.bool,origin:a.a.object,pathComponent:a.a.element,polar:a.a.bool})}),Object.defineProperty(qe,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{pathComponent:s.a.createElement(Fe.a,null)}});var Ge=function(){return{onLoad:{duration:2e3},onExit:{duration:500},onEnter:{duration:500}}},He=function(){return{onLoad:{duration:2e3,before:function(){return{_y:0,_y1:0,_y0:0}},after:function(e){return{_y:e._y,_y1:e._y1,_y0:e._y0}}},onExit:{duration:500,before:function(e,t,r){var n=function(e){return(0===t?r[t+1]:r[t-1])[e]};return{_x:n("_x"),_y:n("_y"),_y0:n("_y0")}}},onEnter:{duration:500,before:function(e,t,r){var n=function(e){return(0===t?r[t+1]:r[t-1])[e]};return{_x:n("_x"),_y:n("_y"),_y0:n("_y0")}},after:function(e){return{_x:e._x,_y:e._y,_y1:e._y1,_y0:e._y0}}}}},Ve=r(6),ze=r(891),Ke=r(888),We=r(123),Ye=r.n(We),Xe=r(40),Qe=r.n(Xe),$e=r(5),Je=r.n($e);function clip_path_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function clip_path_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function clip_path_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var Ze=function(e){function ClipPath(){return function clip_path_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ClipPath),clip_path_possibleConstructorReturn(this,(ClipPath.__proto__||Object.getPrototypeOf(ClipPath)).apply(this,arguments))}return function clip_path_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ClipPath,s.a.Component),function clip_path_createClass(e,t,r){return t&&clip_path_defineProperties(e.prototype,t),r&&clip_path_defineProperties(e,r),e}(ClipPath,[{key:"render",value:function render(){var e=this.props,t=e.children,r=e.clipId;return s.a.createElement("defs",null,s.a.createElement("clipPath",{id:r},t))}}]),ClipPath}();Object.defineProperty(Ze,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{children:a.a.oneOfType([a.a.arrayOf(a.a.node),a.a.node]),clipId:a.a.oneOfType([a.a.number,a.a.string])}});var et=r(29),tt=r.n(et);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function circle_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function circle_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function circle_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var rt=function(e){function Circle(){return function circle_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Circle),circle_possibleConstructorReturn(this,(Circle.__proto__||Object.getPrototypeOf(Circle)).apply(this,arguments))}return function circle_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Circle,s.a.Component),function circle_createClass(e,t,r){return t&&circle_defineProperties(e.prototype,t),r&&circle_defineProperties(e,r),e}(Circle,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return!tt()(this.props,e)}},{key:"render",value:function render(){var e=this.props,t=e.cx,r=e.cy,n=e.r,i=e.events,a=e.className,o=e.style,l=e.role,u=e.shapeRendering,c=e.transform,f=e.clipPath;return s.a.createElement("circle",_extends({cx:t,cy:r,r:n,className:a,clipPath:f,transform:c,style:o,role:l||"presentation",shapeRendering:u||"auto",vectorEffect:"non-scaling-stroke"},i))}}]),Circle}();function rect_extends(){return(rect_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rect_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rect_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function rect_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}Object.defineProperty(rt,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{className:a.a.string,clipPath:a.a.string,cx:a.a.number,cy:a.a.number,events:a.a.object,r:a.a.number,role:a.a.string,shapeRendering:a.a.string,style:a.a.object,transform:a.a.string}});var nt=function(e){function Rect(){return function rect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Rect),rect_possibleConstructorReturn(this,(Rect.__proto__||Object.getPrototypeOf(Rect)).apply(this,arguments))}return function rect_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Rect,s.a.Component),function rect_createClass(e,t,r){return t&&rect_defineProperties(e.prototype,t),r&&rect_defineProperties(e,r),e}(Rect,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return!tt()(this.props,e)}},{key:"render",value:function render(){var e=this.props,t=e.x,r=e.y,n=e.rx,i=e.ry,a=e.width,o=e.height,l=e.events,u=e.className,c=e.clipPath,f=e.style,d=e.role,p=e.shapeRendering,h=e.transform;return s.a.createElement("rect",rect_extends({x:t,y:r,rx:n,ry:i,width:a,height:o,className:u,clipPath:c,style:f,transform:h,role:d||"presentation",shapeRendering:p||"auto",vectorEffect:"non-scaling-stroke"},l))}}]),Rect}();function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function victory_clip_container_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function victory_clip_container_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function victory_clip_container_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}Object.defineProperty(nt,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{className:a.a.string,clipPath:a.a.string,events:a.a.object,height:a.a.number,role:a.a.string,rx:a.a.number,ry:a.a.number,shapeRendering:a.a.string,style:a.a.object,transform:a.a.string,width:a.a.number,x:a.a.number,y:a.a.number}});var it=function(e){function VictoryClipContainer(e){var t;return function victory_clip_container_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VictoryClipContainer),(t=victory_clip_container_possibleConstructorReturn(this,(VictoryClipContainer.__proto__||Object.getPrototypeOf(VictoryClipContainer)).call(this,e))).clipId=Qe()(e)&&void 0!==e.clipId?e.clipId:Ye()("victory-clip-"),t}return function victory_clip_container_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(VictoryClipContainer,s.a.Component),function victory_clip_container_createClass(e,t,r){return t&&victory_clip_container_defineProperties(e.prototype,t),r&&victory_clip_container_defineProperties(e,r),e}(VictoryClipContainer,[{key:"calculateAttributes",value:function calculateAttributes(e){var t=e.polar,r=e.origin,n=e.clipWidth,i=void 0===n?0:n,a=e.clipHeight,o=void 0===a?0:a,s=e.translateX,l=void 0===s?0:s,u=e.translateY,c=void 0===u?0:u,f=p.a.getPadding({padding:e.clipPadding}),d=e.radius||p.a.getRadius(e);return{x:(t?r.x:l)-f.left,y:(t?r.y:c)-f.top,width:Math.max((t?d:i)+f.left+f.right,0),height:Math.max((t?d:o)+f.top+f.bottom,0)}}},{key:"renderClippedGroup",value:function renderClippedGroup(e,t){var r=e.style,n=e.events,i=e.transform,a=e.children,o=e.className,l=e.groupComponent,u=this.renderClipComponent(e,t),c=f()({className:o,style:r,transform:i,key:"clipped-group-".concat(t),clipPath:"url(#".concat(t,")")},n);return s.a.cloneElement(l,c,[u].concat(_toConsumableArray(s.a.Children.toArray(a))))}},{key:"renderGroup",value:function renderGroup(e){var t=e.style,r=e.events,n=e.transform,i=e.children,a=e.className,o=e.groupComponent;return s.a.cloneElement(o,f()({className:a,style:t,transform:n},r),i)}},{key:"renderClipComponent",value:function renderClipComponent(e,t){var r,n=e.polar,i=e.origin,a=e.clipWidth,o=void 0===a?0:a,l=e.clipHeight,u=void 0===l?0:l,c=e.translateX,d=void 0===c?0:c,h=e.translateY,g=void 0===h?0:h,m=e.circleComponent,y=e.rectComponent,v=e.clipPathComponent,_=p.a.getPadding({padding:e.clipPadding}),b=_.top,E=_.bottom,T=_.left,S=_.right;if(n){var w=e.radius||p.a.getRadius(e),R={r:Math.max(w+T+S,w+b+E,0),cx:i.x-T,cy:i.y-b};r=s.a.cloneElement(m,R)}else{var A={x:d-T,y:g-b,width:Math.max(o+T+S,0),height:Math.max(u+b+E,0)};r=s.a.cloneElement(y,A)}return s.a.cloneElement(v,f()({key:"clip-path-".concat(t)},e,{clipId:t}),r)}},{key:"getClipValue",value:function getClipValue(e,t){var r={x:e.clipWidth,y:e.clipHeight};if(void 0!==r[t])return r[t];var n=p.a.getRange(e,t);return n&&Math.abs(n[0]-n[1])||void 0}},{key:"getTranslateValue",value:function getTranslateValue(e,t){var r={x:e.translateX,y:e.translateY};if(void 0!==r[t])return r[t];var n=p.a.getRange(e,t);return n?Math.min.apply(Math,_toConsumableArray(n)):void 0}},{key:"render",value:function render(){var e=this.getClipValue(this.props,"y"),t=this.getClipValue(this.props,"x");if(void 0===t||void 0===e)return this.renderGroup(this.props);var r=this.getTranslateValue(this.props,"x"),n=this.getTranslateValue(this.props,"y"),i=Je()({},this.props,{clipHeight:e,clipWidth:t,translateX:r,translateY:n});return this.renderClippedGroup(i,this.clipId)}}]),VictoryClipContainer}();Object.defineProperty(it,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryClipContainer"}),Object.defineProperty(it,"role",{configurable:!0,enumerable:!0,writable:!0,value:"container"}),Object.defineProperty(it,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{children:a.a.oneOfType([a.a.arrayOf(a.a.node),a.a.node]),circleComponent:a.a.element,className:a.a.string,clipHeight:Ve.a.nonNegative,clipId:a.a.oneOfType([a.a.number,a.a.string]),clipPadding:a.a.shape({top:a.a.number,bottom:a.a.number,left:a.a.number,right:a.a.number}),clipPathComponent:a.a.element,clipWidth:Ve.a.nonNegative,events:a.a.object,groupComponent:a.a.element,origin:a.a.shape({x:Ve.a.nonNegative,y:Ve.a.nonNegative}),polar:a.a.bool,radius:Ve.a.nonNegative,style:a.a.object,transform:a.a.string,translateX:a.a.number,translateY:a.a.number}}),Object.defineProperty(it,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{circleComponent:s.a.createElement(rt,null),rectComponent:s.a.createElement(nt,null),clipPathComponent:s.a.createElement(Ze,null),groupComponent:s.a.createElement("g",null)}});var at=r(890),ot=r(886);function victory_line_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function victory_line_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function victory_line_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function victory_line_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var st={width:450,height:300,padding:50,interpolation:"linear"},lt=function(e){function VictoryLine(){return function victory_line_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VictoryLine),victory_line_possibleConstructorReturn(this,(VictoryLine.__proto__||Object.getPrototypeOf(VictoryLine)).apply(this,arguments))}return function victory_line_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(VictoryLine,s.a.Component),function victory_line_createClass(e,t,r){return t&&victory_line_defineProperties(e.prototype,t),r&&victory_line_defineProperties(e,r),e}(VictoryLine,[{key:"shouldAnimate",value:function shouldAnimate(){return!!this.props.animate}},{key:"render",value:function render(){var e=VictoryLine.animationWhitelist,t=VictoryLine.role,r=p.a.modifyProps(this.props,st,t);if(this.shouldAnimate())return this.animateComponent(r,e);var n=this.renderContinuousData(r);return r.standalone?this.renderContainer(r.containerComponent,n):n}}]),VictoryLine}();Object.defineProperty(lt,"animationWhitelist",{configurable:!0,enumerable:!0,writable:!0,value:["data","domain","height","padding","samples","style","width"]}),Object.defineProperty(lt,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryLine"}),Object.defineProperty(lt,"role",{configurable:!0,enumerable:!0,writable:!0,value:"line"}),Object.defineProperty(lt,"defaultTransitions",{configurable:!0,enumerable:!0,writable:!0,value:Ge()}),Object.defineProperty(lt,"defaultPolarTransitions",{configurable:!0,enumerable:!0,writable:!0,value:He()}),Object.defineProperty(lt,"continuous",{configurable:!0,enumerable:!0,writable:!0,value:!0}),Object.defineProperty(lt,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:function victory_line_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){victory_line_defineProperty(e,t,r[t])})}return e}({},Ne.a.baseProps,Ne.a.dataProps,{interpolation:a.a.oneOf(["basis","bundle","cardinal","catmullRom","linear","monotoneX","monotoneY","natural","step","stepAfter","stepBefore"]),label:Ve.a.deprecated(a.a.string,"Use `labels` instead for individual data labels")})}),Object.defineProperty(lt,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{containerComponent:s.a.createElement(ze.a,null),dataComponent:s.a.createElement(qe,null),labelComponent:s.a.createElement(Ke.a,{renderInPortal:!0}),groupComponent:s.a.createElement(it,null),samples:50,sortKey:"x",sortOrder:"ascending",standalone:!0,theme:at.a.grayscale}}),Object.defineProperty(lt,"getDomain",{configurable:!0,enumerable:!0,writable:!0,value:h.a.getDomain}),Object.defineProperty(lt,"getData",{configurable:!0,enumerable:!0,writable:!0,value:d.a.getData}),Object.defineProperty(lt,"getBaseProps",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return y(e,st)}}),Object.defineProperty(lt,"expectedComponents",{configurable:!0,enumerable:!0,writable:!0,value:["dataComponent","labelComponent","groupComponent","containerComponent"]});t.a=Object(ot.a)(lt,{components:[{name:"parent",index:"parent"},{name:"data",index:"all"},{name:"labels"}]})},function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"easeLinear",function(){return linear}),r.d(n,"easeQuad",function(){return quadInOut}),r.d(n,"easeQuadIn",function(){return quadIn}),r.d(n,"easeQuadOut",function(){return quadOut}),r.d(n,"easeQuadInOut",function(){return quadInOut}),r.d(n,"easeCubic",function(){return cubicInOut}),r.d(n,"easeCubicIn",function(){return cubicIn}),r.d(n,"easeCubicOut",function(){return cubicOut}),r.d(n,"easeCubicInOut",function(){return cubicInOut}),r.d(n,"easePoly",function(){return I}),r.d(n,"easePolyIn",function(){return D}),r.d(n,"easePolyOut",function(){return P}),r.d(n,"easePolyInOut",function(){return I}),r.d(n,"easeSin",function(){return sinInOut}),r.d(n,"easeSinIn",function(){return sinIn}),r.d(n,"easeSinOut",function(){return sinOut}),r.d(n,"easeSinInOut",function(){return sinInOut}),r.d(n,"easeExp",function(){return expInOut}),r.d(n,"easeExpIn",function(){return expIn}),r.d(n,"easeExpOut",function(){return expOut}),r.d(n,"easeExpInOut",function(){return expInOut}),r.d(n,"easeCircle",function(){return circleInOut}),r.d(n,"easeCircleIn",function(){return circleIn}),r.d(n,"easeCircleOut",function(){return circleOut}),r.d(n,"easeCircleInOut",function(){return circleInOut}),r.d(n,"easeBounce",function(){return bounceOut}),r.d(n,"easeBounceIn",function(){return bounceIn}),r.d(n,"easeBounceOut",function(){return bounceOut}),r.d(n,"easeBounceInOut",function(){return bounceInOut}),r.d(n,"easeBack",function(){return K}),r.d(n,"easeBackIn",function(){return V}),r.d(n,"easeBackOut",function(){return z}),r.d(n,"easeBackInOut",function(){return K}),r.d(n,"easeElastic",function(){return X}),r.d(n,"easeElasticIn",function(){return Y}),r.d(n,"easeElasticOut",function(){return X}),r.d(n,"easeElasticInOut",function(){return Q});var i=r(141),a=r.n(i),o=r(33),s=r.n(o),l=r(88),u=r.n(l),c=r(108),f=r.n(c),d=r(8),p=r.n(d),h=r(80),g=r.n(h),m=r(2),y=r.n(m),v=r(5),_=r.n(v),b=r(1),E=r.n(b),T=r(81),S=r(29),w=r.n(S),R=r(40),A=r.n(R),C=r(0),x=r.n(C);function linear(e){return+e}function quadIn(e){return e*e}function quadOut(e){return e*(2-e)}function quadInOut(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function cubicIn(e){return e*e*e}function cubicOut(e){return--e*e*e+1}function cubicInOut(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var D=function custom(e){function polyIn(t){return Math.pow(t,e)}return e=+e,polyIn.exponent=custom,polyIn}(3),P=function custom(e){function polyOut(t){return 1-Math.pow(1-t,e)}return e=+e,polyOut.exponent=custom,polyOut}(3),I=function custom(e){function polyInOut(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,polyInOut.exponent=custom,polyInOut}(3),M=Math.PI,O=M/2;function sinIn(e){return 1-Math.cos(e*O)}function sinOut(e){return Math.sin(e*O)}function sinInOut(e){return(1-Math.cos(M*e))/2}function expIn(e){return Math.pow(2,10*e-10)}function expOut(e){return 1-Math.pow(2,-10*e)}function expInOut(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function circleIn(e){return 1-Math.sqrt(1-e*e)}function circleOut(e){return Math.sqrt(1- --e*e)}function circleInOut(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var k=4/11,L=6/11,N=8/11,F=.75,B=9/11,U=10/11,j=.9375,q=21/22,G=63/64,H=1/k/k;function bounceIn(e){return 1-bounceOut(1-e)}function bounceOut(e){return(e=+e)<k?H*e*e:e<N?H*(e-=L)*e+F:e<U?H*(e-=B)*e+j:H*(e-=q)*e+G}function bounceInOut(e){return((e*=2)<=1?1-bounceOut(1-e):bounceOut(e-1)+1)/2}var V=function custom(e){function backIn(t){return t*t*((e+1)*t-e)}return e=+e,backIn.overshoot=custom,backIn}(1.70158),z=function custom(e){function backOut(t){return--t*t*((e+1)*t+e)+1}return e=+e,backOut.overshoot=custom,backOut}(1.70158),K=function custom(e){function backInOut(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,backInOut.overshoot=custom,backInOut}(1.70158),W=2*Math.PI,Y=function custom(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=W);function elasticIn(n){return e*Math.pow(2,10*--n)*Math.sin((r-n)/t)}return elasticIn.amplitude=function(e){return custom(e,t*W)},elasticIn.period=function(t){return custom(e,t)},elasticIn}(1,.3),X=function custom(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=W);function elasticOut(n){return 1-e*Math.pow(2,-10*(n=+n))*Math.sin((n+r)/t)}return elasticOut.amplitude=function(e){return custom(e,t*W)},elasticOut.period=function(t){return custom(e,t)},elasticOut}(1,.3),Q=function custom(e,t){var r=Math.asin(1/(e=Math.max(1,e)))*(t/=W);function elasticInOut(n){return((n=2*n-1)<0?e*Math.pow(2,10*n)*Math.sin((r-n)/t):2-e*Math.pow(2,-10*n)*Math.sin((r+n)/t))/2}return elasticInOut.amplitude=function(e){return custom(e,t*W)},elasticInOut.period=function(t){return custom(e,t)},elasticInOut}(1,.3),$=r(121),J=r.n($),Z=r(39),ee=r.n(Z),te=r(41),re=function(e){if(null!==e)switch(typeof e){case"undefined":return!1;case"number":return!isNaN(e)&&e!==Number.POSITIVE_INFINITY&&e!==Number.NEGATIVE_INFINITY;case"string":return!0;case"boolean":return!1;case"object":return e instanceof Date||Array.isArray(e)||ee()(e);case"function":return!0}return!1},ne=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(n){return n<r?e:t}},ie=function(e,t){return function(r){return r>=1?t:function(){var n="function"==typeof e?e.apply(this,arguments):e,i="function"==typeof t?t.apply(this,arguments):t;return Object(te.a)(n,i)(r)}}},ae=function(e,t){var r,n,i,a=function(e){return Array.isArray(e)?J()(e,"key"):e},o={},s={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?o[r]=(n=a(e[r]),i=a(t[r]),n!==i&&re(n)&&re(i)?"function"==typeof n||"function"==typeof i?ie(n,i):"object"==typeof n&&ee()(n)||"object"==typeof i&&ee()(i)?ae(n,i):Object(te.a)(n,i):ne(n,i)):s[r]=t[r];return function(e){for(r in o)s[r]=o[r](e);return s}},oe=function(e,t){return e!==t&&re(e)&&re(t)?"function"==typeof e||"function"==typeof t?ie(e,t):ee()(e)||ee()(t)?ae(e,t):"string"==typeof e||"string"==typeof t?function(e,t){var r=function(e){return"string"==typeof e?e.replace(/,/g,""):e};return Object(te.a)(r(e),r(t))}(e,t):Object(te.a)(e,t):ne(e,t)},se=r(124);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var le=function(e){function VictoryAnimation(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VictoryAnimation),(t=function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}(this,(VictoryAnimation.__proto__||Object.getPrototypeOf(VictoryAnimation)).call(this,e))).state={data:Array.isArray(t.props.data)?t.props.data[0]:t.props.data,animationInfo:{progress:0,animating:!1}},t.interpolator=null,t.queue=Array.isArray(t.props.data)?t.props.data.slice(1):[],t.ease=n[t.toNewName(t.props.easing)],t.functionToBeRunEachFrame=t.functionToBeRunEachFrame.bind(_assertThisInitialized(t)),t.getTimer=t.getTimer.bind(_assertThisInitialized(t)),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(VictoryAnimation,E.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(VictoryAnimation,[{key:"componentDidMount",value:function componentDidMount(){this.queue.length&&this.traverseQueue()}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){var r=w()(this.props,e);if(!r){var n;if(this.getTimer().unsubscribe(this.loopID),Array.isArray(e.data))(n=this.queue).push.apply(n,_toConsumableArray(e.data));else this.queue.length=0,this.queue.push(e.data);this.traverseQueue()}return t.animationInfo.animating||!r}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.loopID?this.getTimer().unsubscribe(this.loopID):this.getTimer().stop()}},{key:"getTimer",value:function getTimer(){return this.context.getTimer?this.context.getTimer():(this.timer||(this.timer=new se.a),this.timer)}},{key:"toNewName",value:function toNewName(e){return"ease".concat(function(e){return e&&e[0].toUpperCase()+e.slice(1)}(e))}},{key:"traverseQueue",value:function traverseQueue(){var e=this;if(this.queue.length){var t=this.queue[0];this.interpolator=oe(this.state.data,t),this.props.delay?setTimeout(function(){e.loopID=e.getTimer().subscribe(e.functionToBeRunEachFrame,e.props.duration)},this.props.delay):this.loopID=this.getTimer().subscribe(this.functionToBeRunEachFrame,this.props.duration)}else this.props.onEnd&&this.props.onEnd()}},{key:"functionToBeRunEachFrame",value:function functionToBeRunEachFrame(e,t){var r=(t=void 0!==t?t:this.props.duration)?e/t:1;if(r>=1)return this.setState({data:this.interpolator(1),animationInfo:{progress:1,animating:!1}}),this.loopID&&this.getTimer().unsubscribe(this.loopID),this.queue.shift(),void this.traverseQueue();this.setState({data:this.interpolator(this.ease(r)),animationInfo:{progress:r,animating:r<1}})}},{key:"render",value:function render(){return this.props.children(this.state.data,this.state.animationInfo)}}]),VictoryAnimation}();Object.defineProperty(le,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryAnimation"}),Object.defineProperty(le,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{children:x.a.func,data:x.a.oneOfType([x.a.object,x.a.array]),delay:x.a.number,duration:x.a.number,easing:x.a.oneOf(["back","backIn","backOut","backInOut","bounce","bounceIn","bounceOut","bounceInOut","circle","circleIn","circleOut","circleInOut","linear","linearIn","linearOut","linearInOut","cubic","cubicIn","cubicOut","cubicInOut","elastic","elasticIn","elasticOut","elasticInOut","exp","expIn","expOut","expInOut","poly","polyIn","polyOut","polyInOut","quad","quadIn","quadOut","quadInOut","sin","sinIn","sinOut","sinInOut"]),onEnd:x.a.func}}),Object.defineProperty(le,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{data:{},delay:0,duration:1e3,easing:"quadInOut"}}),Object.defineProperty(le,"contextTypes",{configurable:!0,enumerable:!0,writable:!0,value:{getTimer:x.a.func}});var ue=r(16),ce=r(7),fe=r(125);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function victory_transition_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function victory_transition_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var de=function(e){function VictoryTransition(e){var t;!function victory_transition_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VictoryTransition),(t=function victory_transition_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?victory_transition_assertThisInitialized(e):t}(this,(VictoryTransition.__proto__||Object.getPrototypeOf(VictoryTransition)).call(this,e))).state={nodesShouldLoad:!1,nodesDoneLoad:!1};var r=t.props.children,n=r.props.polar;return t.continuous=!n&&r.type&&!0===r.type.continuous,t.getTransitionState=t.getTransitionState.bind(victory_transition_assertThisInitialized(t)),t.getTimer=t.getTimer.bind(victory_transition_assertThisInitialized(t)),t}return function victory_transition_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(VictoryTransition,E.a.Component),function victory_transition_createClass(e,t,r){return t&&victory_transition_defineProperties(e.prototype,t),r&&victory_transition_defineProperties(e,r),e}(VictoryTransition,[{key:"componentDidMount",value:function componentDidMount(){this.setState({nodesShouldLoad:!0})}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){var t=this;return w()(this.props,e)||(this.getTimer().bypassAnimation(),this.setState(this.getTransitionState(this.props,e),function(){return t.getTimer().resumeAnimation()})),!0}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.getTimer().stop()}},{key:"getTimer",value:function getTimer(){return this.context.getTimer?this.context.getTimer():(this.timer||(this.timer=new se.a),this.timer)}},{key:"getTransitionState",value:function getTransitionState(e,t){var r=e.animate;if(r){if(r.parentState)return{oldProps:r.parentState.nodesWillExit?e:null,nextProps:t};var n=E.a.Children.toArray(e.children),i=E.a.Children.toArray(t.children),a=fe.a.getInitialTransitionState(n,i),o=a.nodesWillExit;return{nodesWillExit:o,nodesWillEnter:a.nodesWillEnter,childrenTransitions:a.childrenTransitions,nodesShouldEnter:a.nodesShouldEnter,oldProps:o?e:null,nextProps:t}}return{}}},{key:"getDomainFromChildren",value:function getDomainFromChildren(e,t){var r=function(e){return e.reduce(function(e,n){if(n.type&&p()(n.type.getDomain)){var i=n.props&&n.type.getDomain(n.props,t);return i?e.concat(i):e}return n.props&&n.props.children?e.concat(r(E.a.Children.toArray(n.props.children))):e},[])},n=E.a.Children.toArray(e.children)[0],i=n.props||{},a=Array.isArray(i.domain)?i.domain:i.domain&&i.domain[t];if(!i.children&&a)return a;var o=r([n]);return 0===o.length?[0,1]:[ue.a.getMinValue(o),ue.a.getMaxValue(o)]}},{key:"pickProps",value:function pickProps(){return this.state&&this.state.nodesWillExit&&this.state.oldProps||this.props}},{key:"pickDomainProps",value:function pickDomainProps(e){var t=A()(e.animate)&&e.animate.parentState;return t&&t.nodesWillExit?(this.continous||t.continuous)&&(t.nextProps||this.state.nextProps)||e:this.continuous&&this.state.nodesWillExit&&this.state.nextProps||e}},{key:"getClipWidth",value:function getClipWidth(e,t){var r,n=this.transitionProps?this.transitionProps.clipWidth:void 0;return void 0!==n?n:(r=ce.a.getRange(t.props,"x"))?Math.abs(r[1]-r[0]):e.width}},{key:"render",value:function render(){var e=this,t=this.pickProps(),r=A()(this.props.animate)&&this.props.animate.getTransitions?this.props.animate.getTransitions:fe.a.getTransitionPropsFactory(t,this.state,function(t){return e.setState(t)}),n=E.a.Children.toArray(t.children)[0],i=r(n);this.transitionProps=i;var a={x:this.getDomainFromChildren(this.pickDomainProps(t),"x"),y:this.getDomainFromChildren(t,"y")},o=this.getClipWidth(t,n),s=_()({domain:a,clipWidth:o},i,n.props),l=(t.animationWhitelist||[]).concat(["clipWidth"]),u=l.length?f()(s,l):s;return E.a.createElement(le,_extends({},s.animate,{data:u}),function(t){if(n.props.groupComponent){var r=e.continuous?E.a.cloneElement(n.props.groupComponent,{clipWidth:t.clipWidth||0}):n.props.groupComponent;return E.a.cloneElement(n,_()({animate:null,animating:!0,groupComponent:r},t,s))}return E.a.cloneElement(n,_()({animate:null,animating:!0},t,s))})}}]),VictoryTransition}();function add_events_toConsumableArray(e){return function add_events_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function add_events_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function add_events_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function add_events_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function add_events_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(de,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryTransition"}),Object.defineProperty(de,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{animate:x.a.oneOfType([x.a.bool,x.a.object]),animationWhitelist:x.a.array,children:x.a.node}});var pe=function(e){return!a()(e._x)&&!a()(e._y)},he=[{name:"parent",index:"parent"},{name:"data"},{name:"labels"}];t.a=function(e,t){return function(r){function addEvents(e){var t;!function add_events_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,addEvents),t=function add_events_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?add_events_assertThisInitialized(e):t}(this,(addEvents.__proto__||Object.getPrototypeOf(addEvents)).call(this,e));var r=T.a.getScopedEvents.bind(add_events_assertThisInitialized(t)),n=T.a.getEvents.bind(add_events_assertThisInitialized(t));t.state={},t.getEvents=function(e,t,i){return n(e,t,i,r)},t.getEventState=T.a.getEventState.bind(add_events_assertThisInitialized(t));var i=t.getCalculatedValues(e);return t.cacheValues(i),t.externalMutations=t.getExternalMutations(e),t.calculatedState=t.getStateChanges(e,i),t}return function add_events_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(addEvents,e),function add_events_createClass(e,t,r){return t&&add_events_defineProperties(e.prototype,t),r&&add_events_defineProperties(e,r),e}(addEvents,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){var t=this.getCalculatedValues(e),r=this.getExternalMutations(e),n=this.props.animating||this.props.animate,i=!w()(r,this.externalMutations);if(n||i)return this.cacheValues(t),this.externalMutations=r,this.applyExternalMutations(e,r),!0;var a=this.getStateChanges(e,t);return w()(this.calculatedState,a)?!w()(this.props,e)&&(this.cacheValues(t),!0):(this.calculatedState=a,this.cacheValues(t),!0)}},{key:"getStateChanges",value:function getStateChanges(e,r){var n=this,i=r.hasEvents,a=r.getSharedEventState;if(!i)return{};var o=function(e,t){var r=_()({},n.getEventState(e,t),a(e,t));return s()(r)?void 0:r};return((t=t||{}).components||he).map(function(t){return e.standalone||"parent"!==t.name?void 0!==t.index?o(t.index,t.name):r.dataKeys.map(function(e){return o(e,t.name)}).filter(Boolean):void 0}).filter(Boolean)}},{key:"applyExternalMutations",value:function applyExternalMutations(e,t){if(!s()(t)){var r=e.externalEventMutations.reduce(function(e,t){return e=p()(t.callback)?e.concat(t.callback):e},[]),n=r.length?function(){r.forEach(function(e){return e()})}:void 0;this.setState(t,n)}}},{key:"getCalculatedValues",value:function getCalculatedValues(t){var r=t.sharedEvents,n=e.expectedComponents,i=T.a.getComponentEvents(t,n),a=r&&p()(r.getEventState)?r.getEventState:function(){},o=this.getBaseProps(t,a);return{componentEvents:i,getSharedEventState:a,baseProps:o,dataKeys:g()(o).filter(function(e){return"parent"!==e}),hasEvents:t.events||t.sharedEvents||i,events:this.getAllEvents(t)}}},{key:"getExternalMutations",value:function getExternalMutations(e){var t=e.sharedEvents,r=e.externalEventMutations;return s()(r)||t?void 0:T.a.getExternalMutations(r,this.baseProps,this.state)}},{key:"cacheValues",value:function cacheValues(e){var t=this;g()(e).forEach(function(r){t[r]=e[r]})}},{key:"getBaseProps",value:function getBaseProps(t,r){var n=(r=r||this.getSharedEventState)("parent","parent"),i=this.getEventState("parent","parent"),a=_()({},i,n),o=a.parentControlledProps,s=o?f()(a,o):{},l=_()({},s,t);return p()(e.getBaseProps)?e.getBaseProps(l):{}}},{key:"getAllEvents",value:function getAllEvents(e){var t;return Array.isArray(this.componentEvents)?Array.isArray(e.events)?(t=this.componentEvents).concat.apply(t,add_events_toConsumableArray(e.events)):this.componentEvents:e.events}},{key:"getComponentProps",value:function getComponentProps(t,r,n){var i=this.props.name||e.role,a=this.dataKeys&&this.dataKeys[n]||n,o="".concat(i,"-").concat(r,"-").concat(a),s=this.baseProps[a]&&this.baseProps[a][r]||this.baseProps[a];if(s||this.hasEvents){if(this.hasEvents){var l=this.getEvents(this.props,r,a),u=_()({index:n,key:o},this.getEventState(a,r),this.getSharedEventState(a,r),t.props,s,{id:o}),c=_()({},T.a.getPartialEvents(l,a,u),u.events);return y()({},u,{events:c})}return _()({index:n,key:o},t.props,s,{id:o})}}},{key:"renderContainer",value:function renderContainer(e,t){var r=e.type&&"container"===e.type.role?this.getComponentProps(e,"parent","parent"):{};return E.a.cloneElement(e,r,t)}},{key:"animateComponent",value:function animateComponent(e,t){var r=e.animate&&e.animate.animationWhitelist?e.animate.animationWhitelist:t;return E.a.createElement(de,{animate:e.animate,animationWhitelist:r},E.a.createElement(this.constructor,e))}},{key:"renderContinuousData",value:function renderContinuousData(e){var t=this,r=e.dataComponent,n=e.labelComponent,i=e.groupComponent,a=u()(this.dataKeys,"all").reduce(function(e,r){var i=t.getComponentProps(n,"labels",r);return i&&void 0!==i.text&&null!==i.text&&(e=e.concat(E.a.cloneElement(n,i))),e},[]),o=this.getComponentProps(r,"data","all"),s=[E.a.cloneElement(r,o)].concat(add_events_toConsumableArray(a));return this.renderContainer(i,s)}},{key:"renderData",value:function renderData(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe,n=e.dataComponent,i=e.labelComponent,a=e.groupComponent,o=this.dataKeys.reduce(function(e,i,a){var o=t.getComponentProps(n,"data",a);return r(o.datum)&&e.push(E.a.cloneElement(n,o)),e},[]),s=this.dataKeys.map(function(e,r){var n=t.getComponentProps(i,"labels",r);if(void 0!==n.text&&null!==n.text)return E.a.cloneElement(i,n)}).filter(Boolean),l=add_events_toConsumableArray(o).concat(add_events_toConsumableArray(s));return this.renderContainer(a,l)}}]),addEvents}()}},function(e,t,r){"use strict";var n=r(33),i=r.n(n),a=r(2),o=r.n(a),s=r(5),l=r.n(s),u=r(0),c=r.n(u),f=r(1),d=r.n(f),p=r(39),h=r.n(p),g=r(120),m=r.n(g),y=r(175),v=r.n(y),_=r(365),b=r.n(_),E=r(250),T=r.n(E),S=r(63),w=r.n(S),R=r(8),A=r.n(R),C=r(87),x=r.n(C),D=r(369),P=r(177),I=r(125),M=r(46),O=r(43),k=r(81),L=r(16),N=r(7),F=r(64);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var B={getData:function(e,t){return e.data?M.a.getData(e):(t=t||d.a.Children.toArray(e.children),this.getDataFromChildren(t))},getDefaultDomainPadding:function(e,t,r){if(!e.polar&&"x"===t){var n=r.filter(function(e){return e.type&&e.type.role&&"group"===e.type.role});if(!(n.length<1)){var i=n[0].props;return{x:i.offset*i.children.length/2}}}},getDomain:function(e,t,r){r=r||d.a.Children.toArray(e.children);var n,i=O.a.getDomainFromProps(e,t),a=O.a.getMinFromProps(e,t),s=O.a.getMaxFromProps(e,t),l=this.getDefaultDomainPadding(e,t,r);if(i)n=i;else{var u=(e.data||e.y)&&M.a.getData(e),c=u?O.a.getDomainFromData(e,t,u):[],f=this.getDomainFromChildren(e,t,r),p=a||L.a.getMinValue(_toConsumableArray(c).concat(_toConsumableArray(f))),h=s||L.a.getMaxValue(_toConsumableArray(c).concat(_toConsumableArray(f)));n=O.a.getDomainFromMinMax(p,h)}return O.a.formatDomain(n,o()({domainPadding:l},e),t)},getScale:function(e,t,r){if(e.data)return F.a.getBaseScale(e,t);var n=r?r.slice(0):d.a.Children.toArray(e.children),i=w()(N.a.reduceChildren(n,function(r){var n=o()({},r.props,{horizontal:e.horizontal});return F.a.getScaleType(n,t)},e));return i.length>1?F.a.getScaleFromName("linear"):F.a.getScaleFromName(i[0])},setAnimationState:function(e,t){if(e.animate)if(e.animate.parentState){var r=e.animate.parentState.nodesWillExit?e:null;this.setState(l()({oldProps:r,nextProps:t},e.animate.parentState))}else{var n=d.a.Children.toArray(e.children),i=d.a.Children.toArray(t.children),a=function(e){var t=function(e){return e.type&&e.type.continuous};return Array.isArray(e)?T()(e,t):t(e)},o=!e.polar&&T()(n,function(e){return a(e)||e.props.children&&a(e.props.children)}),s=I.a.getInitialTransitionState(n,i),u=s.nodesWillExit,c=s.nodesWillEnter,f=s.childrenTransitions,p=s.nodesShouldEnter;this.setState({nodesWillExit:u,nodesWillEnter:c,nodesShouldEnter:p,childrenTransitions:L.a.isArrayOfArrays(f)?f[0]:f,oldProps:u?e:null,nextProps:t,continuous:o})}},getAllEvents:function(e){this.componentEvents=k.a.getComponentEvents(e,["groupComponent","containerComponent","labelComponent"]);var t,r=e.events;Array.isArray(this.componentEvents)&&(r=Array.isArray(e.events)?(t=this.componentEvents).concat.apply(t,_toConsumableArray(e.events)):this.componentEvents);return r||[]},getAnimationProps:function(e,t,r){var n=this;if(!e.animate)return t.props.animate;var i,a=e.animate&&e.animate.getTransitions,o=(i=n.state&&n.state.childrenTransitions,i=L.a.isArrayOfArrays(i)?i[r]:i,l()({childrenTransitions:i},n.state)),s=e.animate&&e.animate.parentState||o;if(!a){var u=I.a.getTransitionPropsFactory(e,o,function(e){return n.setState(e)});a=function(e){return u(e,r)}}return l()({getTransitions:a,parentState:s},e.animate,t.props.animate)},getDomainFromChildren:function(e,t,r){var n=r?r.slice(0):d.a.Children.toArray(e.children),i=e.data?M.a.getData(e,t):void 0,a=e.polar,s=e.startAngle,l=e.endAngle,u=e.categories,c=e.minDomain,f=e.maxDomain,p={horizontal:e.horizontal,polar:a,startAngle:s,endAngle:l,minDomain:c,maxDomain:f,categories:u},h=i?o()(p,{data:i}):p,g=N.a.reduceChildren(n,function(e){var r=o()({},e.props,h);return O.a.isDomainComponent(e)?e.type&&A()(e.type.getDomain)?e.props&&e.type.getDomain(r,t):O.a.getDomain(r,t):null},e);return[0===g.length?0:L.a.getMinValue(g),0===g.length?1:L.a.getMaxValue(g)]},getDataFromChildren:function(e,t){var r={polar:e.polar,startAngle:e.startAngle,endAngle:e.endAngle,categories:e.categories,minDomain:e.minDomain,maxDomain:e.maxDomain},n=0,i=t?t.slice(0):d.a.Children.toArray(e.children),a=i.filter(function(e){return e.type&&"stack"===e.type.role}).length,s=N.a.reduceChildren(i,function(e,t,i){var a,s=o()({},e.props,r);return M.a.isDataComponent(e)?(a=e.type&&A()(e.type.getData)?(e=i?d.a.cloneElement(e,i.props):e).type.getData(s):M.a.getData(s),n+=1,a.map(function(e,t){return o()({_stack:n,_group:t},e)})):null},e,[],function(e,t){return e.concat(v()(t,"_group"))}),l=a?"_group":"_stack";return m()(b()(s,l))},getColor:function(e,t,r){var n=e.style,i=e.colorScale,a=e.color;if(n&&n.data&&n.data.fill)return n.data.fill;if(i=t.props&&t.props.colorScale?t.props.colorScale:i,a=t.props&&t.props.color?t.props.color:a,i||a){var o=Array.isArray(i)?i:P.a.getColorScale(i);return a||o[r%o.length]}},getWidth:function(e){var t=e.datasets,r=e.scale,n=e.horizontal?r.y.range():r.x.range(),i=Math.abs(n[1]-n[0]),a=Array.isArray(t[0])?t[0].length:1,o=t.length*a+2;return{width:Math.round(.5*i/o)}},getStyle:function(e,t,r){var n=e&&e[r]&&e[r].style?e[r].style:{};return N.a.getStyles(t,n)},getChildStyle:function(e,t,r){var n=r.style,i=r.role,a=e.props.style||{};if(Array.isArray(a))return a;var s=e.type&&e.type.role,u="stack"===s?void 0:this.getColor(r,e,t),c="line"===s?{fill:"none",stroke:u}:{fill:u},f="stack"===i?{}:this.getWidth(r),d=l()({},a.data,o()({},f,n.data,c)),p=l()({},a.labels,n.labels);return{parent:n.parent,data:d,labels:p}},getStringsFromCategories:function(e,t){return N.a.reduceChildren(e.slice(0),function(e){var r=e.props||{};if(O.a.isDomainComponent(e)&&r.categories){var n=r.categories&&!Array.isArray(r.categories)?r.categories[t]:r.props.categories,i=n&&n.filter(function(e){return"string"==typeof e});return i?L.a.removeUndefined(i):[]}return null})},getStringsFromData:function(e){return N.a.reduceChildren(e.slice(0),function(e){var t=e.props||{};return M.a.isDataComponent(e)?(e.type&&A()(e.type.getData)?e.type.getData(t):M.a.getData(t)).map(function(e){return{x:e.xName,y:e.yName}}):null},{},{x:[],y:[]},function(e,t){var r=Array.isArray(t)?t.map(function(e){return e.x}).filter(Boolean):t.x,n=Array.isArray(t)?t.map(function(e){return e.y}).filter(Boolean):t.y;return{x:void 0!==r?e.x.concat(r):e.x,y:void 0!==n?e.y.concat(n):e.y}})},getCategoryAndAxisStringsFromChildren:function(e,t,r){var n=h()(e.categories)?e.categories[t]:e.categories,i=D.a.getAxisComponent(r,t),a=i?M.a.getStringsFromAxes(i.props,t):[],o=n||this.getStringsFromCategories(r,t);return w()(x()(_toConsumableArray(o).concat(_toConsumableArray(a))))},getStringsFromChildren:function(e,t){t=t||d.a.Children.toArray(e.children);var r=this.getCategoryAndAxisStringsFromChildren(e,"x",t),n=this.getCategoryAndAxisStringsFromChildren(e,"y",t),i=this.getStringsFromData(t);return{x:w()(x()(_toConsumableArray(r).concat(_toConsumableArray(i.x)))),y:w()(x()(_toConsumableArray(n).concat(_toConsumableArray(i.y))))}},getCategories:function(e){var t=e.categories&&!Array.isArray(e.categories)?e.categories.x:e.categories,r=e.categories&&!Array.isArray(e.categories)?e.categories.y:e.categories,n=!t||!r?this.getStringsFromChildren(e):{},i=t||n.x,a=r||n.y;return{x:i.length>0?i:void 0,y:a.length>0?a:void 0}}},U=r(178),j=r(6),q=r(891),G=r(890),H=r(370),V=r.n(H),z=r(124),K=r(29),W=r.n(K);function victory_shared_events_toConsumableArray(e){return function victory_shared_events_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function victory_shared_events_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function victory_shared_events_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Y=function(e){function VictorySharedEvents(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VictorySharedEvents),(t=function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}(this,(VictorySharedEvents.__proto__||Object.getPrototypeOf(VictorySharedEvents)).call(this,e))).state=t.state||{},t.getScopedEvents=k.a.getScopedEvents.bind(_assertThisInitialized(t)),t.getEventState=k.a.getEventState.bind(_assertThisInitialized(t)),t.getTimer=t.getTimer.bind(_assertThisInitialized(t)),t.baseProps=t.getBaseProps(e),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(VictorySharedEvents,d.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(VictorySharedEvents,[{key:"getChildContext",value:function getChildContext(){return{getTimer:this.getTimer}}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){if(!W()(this.props,e)){this.baseProps=this.getBaseProps(e);var t=this.getExternalMutations(e,this.baseProps);this.applyExternalMutations(e,t)}return!0}},{key:"getTimer",value:function getTimer(){return this.context.getTimer?this.context.getTimer():(this.timer||(this.timer=new z.a),this.timer)}},{key:"getAllEvents",value:function getAllEvents(e){var t=k.a.getComponentEvents(e,["container","groupComponent"]);return Array.isArray(t)?Array.isArray(e.events)?t.concat.apply(t,victory_shared_events_toConsumableArray(e.events)):t:e.events}},{key:"applyExternalMutations",value:function applyExternalMutations(e,t){if(!i()(t)){var r=e.externalEventMutations.reduce(function(e,t){return e=A()(t.callback)?e.concat(t.callback):e},[]),n=r.length?function(){r.forEach(function(e){return e()})}:void 0;this.setState(t,n)}}},{key:"getExternalMutations",value:function getExternalMutations(e,t){return i()(e.externalEventMutations)?void 0:k.a.getExternalMutationsWithChildren(e.externalEventMutations,t,this.state,Object.keys(t))}},{key:"getBaseProps",value:function getBaseProps(e){var t=e.container,r=d.a.Children.toArray(this.props.children),n=this.getBasePropsFromChildren(r),i=t?t.props:{};return o()({},n,{parent:i})}},{key:"getBasePropsFromChildren",value:function getBasePropsFromChildren(e){var t=N.a.reduceChildren(e,function(e,t){if(e.type&&A()(e.type.getBaseProps)){var r=e.props&&e.type.getBaseProps(e.props);return r?[[t,r]]:null}return null});return V()(t)}},{key:"getNewChildren",value:function getNewChildren(e,t){var r=this,n=e.events,i=e.eventKey,a=function(e,s){return e.reduce(function(e,l,u){if(l.props.children){var c=d.a.Children.toArray(l.props.children),f=s.slice(u,u+c.length),p=d.a.cloneElement(l,l.props,a(c,f));return e.concat(p)}if(l.type&&A()(l.type.getBaseProps)){var h=l.props.name||s[u],g={events:Array.isArray(n)&&n.filter(function(e){return"parent"!==e.target&&(Array.isArray(e.childName)?e.childName.indexOf(h)>-1:e.childName===h||"all"===e.childName)}),getEvents:function(e,n){return r.getScopedEvents(e,n,h,t)},getEventState:function(e,t){return r.getEventState(e,t,h)}};return e.concat(d.a.cloneElement(l,o()({key:"events-".concat(h),sharedEvents:g,eventKey:i,name:h},l.props)))}return e.concat(l)},[])},s=Object.keys(t),l=d.a.Children.toArray(e.children);return a(l,s)}},{key:"getContainer",value:function getContainer(e,t,r){var n=this,i=this.getNewChildren(e,t),a=Array.isArray(r)&&r.filter(function(e){return"parent"===e.target}),s=a.length>0?{events:a,getEvents:function(e,r){return n.getScopedEvents(e,r,null,t)},getEventState:this.getEventState}:null,u=e.container||e.groupComponent,c=u.type&&u.type.role,f=u.props||{},p=k.a.getEvents.bind(this),h=s&&p({sharedEvents:s},"parent"),g=l()({},this.getEventState("parent","parent"),f,t.parent,{children:i}),m=l()({},k.a.getPartialEvents(h,"parent",g),f.events);return"container"===c?d.a.cloneElement(u,o()({},g,{events:m})):d.a.cloneElement(u,m,i)}},{key:"render",value:function render(){var e=this.getAllEvents(this.props);return e?this.getContainer(this.props,this.baseProps,e):d.a.cloneElement(this.props.container,{children:this.props.children})}}]),VictorySharedEvents}();Object.defineProperty(Y,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictorySharedEvents"}),Object.defineProperty(Y,"role",{configurable:!0,enumerable:!0,writable:!0,value:"shared-event-wrapper"}),Object.defineProperty(Y,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{children:c.a.oneOfType([c.a.arrayOf(c.a.node),c.a.node]),container:c.a.node,eventKey:c.a.oneOfType([c.a.array,c.a.func,j.a.allOfType([j.a.integer,j.a.nonNegative]),c.a.string]),events:c.a.arrayOf(c.a.shape({childName:c.a.oneOfType([c.a.string,c.a.array]),eventHandlers:c.a.object,eventKey:c.a.oneOfType([c.a.array,c.a.func,j.a.allOfType([j.a.integer,j.a.nonNegative]),c.a.string]),target:c.a.string})),externalEventMutations:c.a.arrayOf(c.a.shape({callback:c.a.function,childName:c.a.oneOfType([c.a.string,c.a.array]),eventKey:c.a.oneOfType([c.a.array,j.a.allOfType([j.a.integer,j.a.nonNegative]),c.a.string]),mutation:c.a.function,target:c.a.oneOfType([c.a.string,c.a.array])})),groupComponent:c.a.node}}),Object.defineProperty(Y,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{groupComponent:d.a.createElement("g",null)}}),Object.defineProperty(Y,"contextTypes",{configurable:!0,enumerable:!0,writable:!0,value:{getTimer:c.a.func}}),Object.defineProperty(Y,"childContextTypes",{configurable:!0,enumerable:!0,writable:!0,value:{getTimer:c.a.func}});var X=r(889),Q=r(892),$=r(888),J=r(374);function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function arc_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function arc_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function arc_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var Z=function(e){function Arc(){return function arc_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Arc),arc_possibleConstructorReturn(this,(Arc.__proto__||Object.getPrototypeOf(Arc)).apply(this,arguments))}return function arc_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Arc,d.a.Component),function arc_createClass(e,t,r){return t&&arc_defineProperties(e.prototype,t),r&&arc_defineProperties(e,r),e}(Arc,[{key:"getStyle",value:function getStyle(e){var t=e.style,r=e.datum,n=e.active;return N.a.evaluateStyle(o()({stroke:"black",fill:"none"},t),r,n)}},{key:"getArcPath",value:function getArcPath(e){var t=e.cx,r=e.cy,n=e.r,i=e.startAngle,a=e.endAngle,o=e.closedPath,s=Math.abs(a-i)/2+i,l=t+n*Math.cos(N.a.degreesToRadians(i)),u=r-n*Math.sin(N.a.degreesToRadians(i)),c=t+n*Math.cos(N.a.degreesToRadians(s)),f=r-n*Math.sin(N.a.degreesToRadians(s)),d=t+n*Math.cos(N.a.degreesToRadians(a)),p=r-n*Math.sin(N.a.degreesToRadians(a)),h=s-i<=180?0:1,g=a-s<=180?0:1,m=o?" M ".concat(t,", ").concat(r," L ").concat(l,", ").concat(u):"M ".concat(l,", ").concat(u),y="A ".concat(n,", ").concat(n,", 0, ").concat(h,", 0, ").concat(c,", ").concat(f),v="A ".concat(n,", ").concat(n,", 0, ").concat(g,", 0, ").concat(d,", ").concat(p),_=o?"Z":"";return"".concat(m," ").concat(y," ").concat(v," ").concat(_)}},{key:"render",value:function render(){var e=this.props,t=e.role,r=e.shapeRendering,n=e.className,i=e.events,a=e.pathComponent,o=e.transform,s=e.clipPath;return d.a.cloneElement(a,{d:this.getArcPath(this.props),style:this.getStyle(this.props),className:n,role:t,shapeRendering:r,events:i,transform:o,clipPath:s})}}]),Arc}();Object.defineProperty(Z,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){_defineProperty(e,t,r[t])})}return e}({},U.a.primitiveProps,{closedPath:c.a.bool,cx:c.a.number,cy:c.a.number,datum:c.a.any,endAngle:c.a.number,pathComponent:c.a.element,r:c.a.number,startAngle:c.a.number})}),Object.defineProperty(Z,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{pathComponent:d.a.createElement(J.a,null)}});var ee=r(886),te=r(373),re=function(e,t,r){return"x"===r?e*Math.cos(t):-e*Math.sin(t)},ne=function(e){var t=e.dependentAxis?"radial":"angular",r="angular"===t?"radial":"angular";return e.horizontal?r:t},ie=function(e,t,r){return e&&Object.keys(e).some(function(t){return A()(e[t])})?Object.keys(e).reduce(function(n,i){return n[i]=function(e,t,r){return A()(e)?e(t,r):e}(e[i],t,r),n},{}):e},ae=function(e,t,r){return{tickStyle:ie(e.ticks,t,r),labelStyle:ie(e.tickLabels,t,r),gridStyle:ie(e.grid,t,r)}},oe=function(e){var t=N.a.getPadding(e),r=t.left,n=t.right,i=t.top,a=t.bottom,o=e.width,s=e.height;return Math.min(o-r-n,s-i-a)/2},se=function(e,t){if(e.range&&e.range[t])return e.range[t];if(e.range&&Array.isArray(e.range))return e.range;if("angular"===ne(e))return[N.a.degreesToRadians(e.startAngle),N.a.degreesToRadians(e.endAngle)];var r=oe(e);return[e.innerRadius||0,r]},le=function(e){var t=D.a.getAxis(e),r=F.a.getBaseScale(e,t),n=D.a.getDomain(e,t)||r.domain(),i=se(e,t);return r.range(i),r.domain(n),r},ue=function(e,t){var r=e.style||{};t=t||{};return{parent:l()({height:"auto",width:"100%"},r.parent,t.parent),axis:l()({},r.axis,t.axis),axisLabel:l()({},r.axisLabel,t.axisLabel),grid:l()({},r.grid,t.grid),ticks:l()({},r.ticks,t.ticks),tickLabels:l()({},r.tickLabels,t.tickLabels)}},ce=function(e){var t=e.axisAngle,r=e.startAngle,n=e.dependentAxis,i=D.a.getAxis(e),a=D.a.getAxisValue(e,i);return void 0!==a&&n?N.a.radiansToDegrees(a):void 0===t?r:t},fe=function(e,t,r,n){var i=t.axisType,a=t.radius,o=t.scale,s=t.style,l=t.stringTicks,u=l?l[n]:r,c=ae(s,u,n).tickStyle,f=c.padding||0,d=f,p="radial"===i?ce(e):void 0;return"angular"===i?{index:n,datum:r,style:c,x1:a*Math.cos(o(r)),y1:-a*Math.sin(o(r)),x2:(a+f)*Math.cos(o(r)),y2:-(a+f)*Math.sin(o(r))}:{style:s,index:n,datum:r,x1:o(r)/2*Math.cos(p-d),x2:o(r)/2*Math.cos(p+d),y1:-o(r)/2*Math.sin(p-d),y2:-o(r)/2*Math.sin(p+d)}},de=function(e,t,r,n){var i=t.axisType,a=t.radius,s=t.tickFormat,l=t.style,u=t.scale,c=t.ticks,f=t.stringTicks,d=f?f[n]:r,p=ae(l,d,n).labelStyle,h=e.tickLabelComponent,g=h.props&&h.props.labelPlacement?h.props.labelPlacement:e.labelPlacement,m=p.padding||0,y="radial"===i?ce(e):void 0,v="angular"===i?N.a.radiansToDegrees(u(r)):y+0,_=void 0===p.angle?te.a.getPolarAngle(o()({},e,{labelPlacement:g}),v):p.angle,b="angular"===i?a+m:u(r);return{index:n,datum:r,style:p,angle:_,textAnchor:p.textAnchor||te.a.getPolarTextAnchor(o()({},e,{labelPlacement:g}),v),text:s(r,n,c),x:b*Math.cos(N.a.degreesToRadians(v)),y:-b*Math.sin(N.a.degreesToRadians(v))}},pe=function(e,t,r,n){var i=t.axisType,a=t.radius,o=t.style,s=t.scale,l=t.stringTicks,u=e.startAngle,c=e.endAngle,f=e.innerRadius,d=void 0===f?0:f,p=l?l[n]:r,h=ae(o,p,n).gridStyle,g=s(r);return"angular"===i?{index:n,datum:r,style:h,x1:re(a,g,"x"),y1:re(a,g,"y"),x2:re(d,g,"x"),y2:re(d,g,"y")}:{style:h,index:n,datum:r,cx:0,cy:0,r:s(r),startAngle:u,endAngle:c}},he=function(e,t,r){return"axis"!==r&&(e.theme[r]=function(e,t){var r=e.theme.axis||{};return l()({},e.theme[t],r)}(e,r)),N.a.modifyProps(e,t,r)},ge=function(e){var t=function(e){var t=e.theme,r=e.dependentAxis,n=t&&t.axis&&t.axis.style,i=r?"dependentAxis":"independentAxis",a=t&&t[i]&&t[i].style;return n&&a?["axis","axisLabel","grid","parent","tickLabels","ticks"].reduce(function(e,t){return e[t]=l()({},a[t],n[t]),e},{}):a||n}(e=o()({polar:!0},e)),r=ue(e,t),n=N.a.getPadding(e),i=D.a.getAxis(e),a=ne(e),s=D.a.stringTicks(e)?e.tickValues:void 0,u=D.a.getDomain(e,i),c=se(e,i),f=le(e),d=D.a.getTicks(e,f),p="angular"===a?function(e,t){return v()(e,function(e){return t(e)%(2*Math.PI)})}(d,f):d;return{axis:i,style:r,padding:n,stringTicks:s,axisType:a,scale:f,ticks:p,tickFormat:D.a.getTickFormat(e,f),domain:u,range:c,radius:oe(e)}},me=function(e,t){var r=function(e){return e.dependentAxis?e.theme&&e.theme.dependentAxis?"dependentAxis":"axis":e.theme&&e.theme.independentAxis?"independentAxis":"axis"}(e);e=he(e,t,r);var n=ge(e),i=n.style,a=n.scale,s=n.ticks,l=n.domain,u=e,c=u.width,f=u.height,d=u.standalone,p=u.theme,h=u.name,g=function(e,t){var r=t.style,n=t.axisType,i=t.radius,a=(t.scale,e.startAngle),o=e.endAngle,s=e.innerRadius,l=void 0===s?0:s,u="radial"===n?N.a.degreesToRadians(ce(e)):void 0;return"radial"===n?{style:r.axis,x1:re(l,u,"x"),x2:re(i,u,"x"),y1:re(l,u,"y"),y2:re(i,u,"y")}:{style:r.axis,cx:0,cy:0,r:i,startAngle:a,endAngle:o}}(e,n),m=function(e,t){var r=t.axisType,n=t.radius,i=t.style,a=(t.scale,e.axisLabelComponent);if("radial"!==r)return{};var s=a.props&&a.props.labelPlacement?a.props.labelPlacement:e.labelPlacement,l=i&&i.axisLabel||{},u="radial"===r?ce(e):void 0,c=void 0===l.angle?te.a.getPolarAngle(o()({},e,{labelPlacement:s}),u):l.angle,f=n+(l.padding||0);return{style:l,angle:c,textAnchor:l.textAnchor||te.a.getTextPolarAnchor(o()({},e,{labelPlacement:s}),u),verticalAnchor:l.verticalAnchor||te.a.getPolarVerticalAnchor(o()({},e,{labelPlacement:s}),u),text:e.label,x:re(f,N.a.degreesToRadians(u),"x"),y:re(f,N.a.degreesToRadians(u),"y")}}(e,n),y={parent:{style:i.parent,ticks:s,scale:a,width:c,height:f,domain:l,standalone:d,theme:p,name:h}};return s.reduce(function(t,r,i){return t[i]={axis:g,axisLabel:m,ticks:fe(e,n,r,i),tickLabels:de(e,n,r,i),grid:pe(e,n,r,i)},t},y)};function victory_polar_axis_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function victory_polar_axis_toConsumableArray(e){return function victory_polar_axis_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function victory_polar_axis_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function victory_polar_axis_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function victory_polar_axis_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function victory_polar_axis_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function victory_polar_axis_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var ye={width:450,height:300,padding:50},ve=function(e){function VictoryPolarAxis(){return function victory_polar_axis_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VictoryPolarAxis),victory_polar_axis_possibleConstructorReturn(this,(VictoryPolarAxis.__proto__||Object.getPrototypeOf(VictoryPolarAxis)).apply(this,arguments))}return function victory_polar_axis_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(VictoryPolarAxis,d.a.Component),function victory_polar_axis_createClass(e,t,r){return t&&victory_polar_axis_defineProperties(e.prototype,t),r&&victory_polar_axis_defineProperties(e,r),e}(VictoryPolarAxis,[{key:"renderAxisLine",value:function renderAxisLine(e){var t=e.dependentAxis?e.axisComponent:e.circularAxisComponent,r=this.getComponentProps(t,"axis",0);return d.a.cloneElement(t,r)}},{key:"renderLabel",value:function renderLabel(e){var t=e.axisLabelComponent,r=e.dependentAxis;if(!e.label||!r)return null;var n=this.getComponentProps(t,"axisLabel",0);return d.a.cloneElement(t,n)}},{key:"renderAxis",value:function renderAxis(e){var t=this,r=e.tickComponent,n=e.tickLabelComponent,i=e.name,a="radial"===(e.dependentAxis?"radial":"angular")?e.circularGridComponent:e.gridComponent,s=this.dataKeys.map(function(e,n){var a=o()({key:"".concat(i,"-tick-").concat(e)},t.getComponentProps(r,"ticks",n));return d.a.cloneElement(r,a)}),l=this.dataKeys.map(function(e,r){var n=o()({key:"".concat(i,"-grid-").concat(e)},t.getComponentProps(a,"grid",r));return d.a.cloneElement(a,n)}),u=this.dataKeys.map(function(e,r){var a=o()({key:"".concat(i,"-tick-").concat(e)},t.getComponentProps(n,"tickLabels",r));return d.a.cloneElement(n,a)}),c=[this.renderAxisLine(e),this.renderLabel(e)].concat(victory_polar_axis_toConsumableArray(s),victory_polar_axis_toConsumableArray(l),victory_polar_axis_toConsumableArray(u));return this.renderGroup(e,c)}},{key:"renderGroup",value:function renderGroup(e,t){var r=e.groupComponent,n=r.props||{},i=N.a.getPolarOrigin(e),a=n.transform||"translate(".concat(i.x,", ").concat(i.y,")");return d.a.cloneElement(r,{transform:a},t)}},{key:"shouldAnimate",value:function shouldAnimate(){return!!this.props.animate}},{key:"render",value:function render(){var e=VictoryPolarAxis.animationWhitelist,t=VictoryPolarAxis.role,r=N.a.modifyProps(this.props,ye,t);if(this.shouldAnimate())return this.animateComponent(r,e);var n=this.renderAxis(r);return r.standalone?this.renderContainer(r.containerComponent,n):n}}]),VictoryPolarAxis}();Object.defineProperty(ve,"animationWhitelist",{configurable:!0,enumerable:!0,writable:!0,value:["style","domain","range","tickCount","tickValues","padding","width","height"]}),Object.defineProperty(ve,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryAxis"}),Object.defineProperty(ve,"role",{configurable:!0,enumerable:!0,writable:!0,value:"axis"}),Object.defineProperty(ve,"defaultTransitions",{configurable:!0,enumerable:!0,writable:!0,value:{onExit:{duration:500},onEnter:{duration:500}}}),Object.defineProperty(ve,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:function victory_polar_axis_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){victory_polar_axis_defineProperty(e,t,r[t])})}return e}({},U.a.baseProps,{axisAngle:c.a.number,axisComponent:c.a.element,axisLabelComponent:c.a.element,axisValue:c.a.oneOfType([c.a.number,c.a.string,c.a.object]),categories:c.a.oneOfType([c.a.arrayOf(c.a.string),c.a.shape({x:c.a.arrayOf(c.a.string),y:c.a.arrayOf(c.a.string)})]),circularAxisComponent:c.a.element,circularGridComponent:c.a.element,containerComponent:c.a.element,dependentAxis:c.a.bool,endAngle:c.a.number,events:c.a.arrayOf(c.a.shape({target:c.a.oneOf(["axis","axisLabel","grid","ticks","tickLabels"]),eventKey:c.a.oneOfType([c.a.array,j.a.allOfType([j.a.integer,j.a.nonNegative]),c.a.string]),eventHandlers:c.a.object})),gridComponent:c.a.element,innerRadius:j.a.nonNegative,labelPlacement:c.a.oneOf(["parallel","perpendicular","vertical"]),startAngle:c.a.number,stringMap:c.a.object,style:c.a.shape({parent:c.a.object,axis:c.a.object,axisLabel:c.a.object,grid:c.a.object,ticks:c.a.object,tickLabels:c.a.object}),tickComponent:c.a.element,tickCount:j.a.allOfType([j.a.integer,j.a.greaterThanZero]),tickFormat:c.a.oneOfType([c.a.func,j.a.homogeneousArray]),tickLabelComponent:c.a.element,tickValues:j.a.homogeneousArray})}),Object.defineProperty(ve,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{axisComponent:d.a.createElement(Q.a,{type:"axis"}),axisLabelComponent:d.a.createElement($.a,null),circularAxisComponent:d.a.createElement(Z,{type:"axis"}),circularGridComponent:d.a.createElement(Z,{type:"grid"}),containerComponent:d.a.createElement(q.a,null),endAngle:360,gridComponent:d.a.createElement(Q.a,{type:"grid"}),groupComponent:d.a.createElement("g",{role:"presentation"}),labelPlacement:"parallel",startAngle:0,standalone:!0,theme:G.a.grayscale,tickComponent:d.a.createElement(Q.a,{type:"tick"}),tickLabelComponent:d.a.createElement($.a,null)}}),Object.defineProperty(ve,"getDomain",{configurable:!0,enumerable:!0,writable:!0,value:D.a.getDomain}),Object.defineProperty(ve,"getAxis",{configurable:!0,enumerable:!0,writable:!0,value:D.a.getAxis}),Object.defineProperty(ve,"getScale",{configurable:!0,enumerable:!0,writable:!0,value:le}),Object.defineProperty(ve,"getStyles",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return ue(e,ye.style)}}),Object.defineProperty(ve,"getBaseProps",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return me(e,ye)}}),Object.defineProperty(ve,"expectedComponents",{configurable:!0,enumerable:!0,writable:!0,value:["axisComponent","circularAxisComponent","groupComponent","containerComponent","tickComponent","tickLabelComponent","gridComponent","circularGridComponent"]});var _e=Object(ee.a)(ve,{components:[{name:"axis",index:0},{name:"axisLabel",index:0},{name:"grid"},{name:"parent",index:"parent"},{name:"ticks"},{name:"tickLabels"}]}),be={width:450,height:300,padding:50};function getChildProps(e,t,r){var n=D.a.findAxisComponents([e]);return n.length>0?function helper_methods_getAxisProps(e,t,r){var n=r.domain,i=r.scale,a=r.stringMap,s=r.categories,l=r.horizontal,u=r.orientations,c=e.props||{},f=e.type.getAxis(o()({horizontal:l},c)),d=l?we(t,r):Se(t,r),p=!1!==c.crossAxis,h=c.orientation||u[f];return{stringMap:a,horizontal:l,categories:s,startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,domain:n,scale:i,offsetY:void 0!==c.offsetY?c.offsetY:d.y,offsetX:void 0!==c.offsetX?c.offsetX:d.x,crossAxis:p,orientation:h}}(n[0],t,r):{categories:r.categories,domain:r.domain,range:r.range,scale:r.scale,stringMap:r.stringMap,horizontal:r.horizontal}}function getOrientation(e,t,r){var n=t||"positive";return r?{positive:{x:"left",y:"bottom"},negative:{x:"right",y:"top"}}[n][e]:{positive:{x:"bottom",y:"left"},negative:{x:"top",y:"right"}}[n][e]}function getCalculatedProps(e,t){var r=function helper_methods_getStyles(e){var t=e.style&&e.style.parent;return{parent:l()({},t,{height:"100%",width:"100%",userSelect:"none"})}}(e),n=e=N.a.modifyProps(e,be,"chart"),i=n.horizontal,a=n.polar,s=B.getCategories(e,t),u=Re(e,t),c={x:Te(o()({},e,{categories:s}),"x",t),y:Te(o()({},e,{categories:s}),"y",t)},f={x:N.a.getRange(e,"x"),y:N.a.getRange(e,"y")},d={x:F.a.getScaleFromProps(e,"x")||B.getScale(e,"x"),y:F.a.getScaleFromProps(e,"y")||B.getScale(e,"y")},p={x:d.x.domain(c.x).range(i?f.y:f.x),y:d.y.domain(c.y).range(i?f.x:f.y)},h=a?N.a.getPolarOrigin(e):D.a.getOrigin(c),g={x:D.a.getOriginSign(h.x,c.x),y:D.a.getOriginSign(h.y,c.y)},m={x:getOrientation("x",g.y,i),y:getOrientation("y",g.x,i)};return{categories:s,domain:c,range:f,horizontal:i,scale:p,stringMap:u,style:r,origin:h,padding:N.a.getPadding(e),orientations:m}}var Ee=function(e,t){var r=d.a.Children.toArray(e.children);if(0===r.length)return[t.independent,t.dependent];var n=D.a.getAxisComponentsWithParent(r,"dependent"),i=D.a.getAxisComponentsWithParent(r,"independent");return 0===n.length&&0===i.length?r.concat([t.independent,t.dependent]):r},Te=function(e,t,r){r=r||d.a.Children.toArray(e.children);var n=B.getDomain(e,t,r),i=D.a.getAxisComponent(r,t);return i&&i.props&&i.props.invertAxis?n.concat().reverse():n},Se=function(e,t){var r=t.scale,n=t.origin,i=t.domain,a=t.padding,o=t.orientations,s=a.top,l=a.bottom,u=a.left,c=a.right,f={y:"bottom"===o.x?l:s,x:"left"===o.y?u:c},d="left"===o.y?0:e.width,p="bottom"===o.x?e.height:0,h=n.x===i.x[0]||n.x===i.x[1]?0:r.x(n.x),g=n.y===i.y[0]||n.y===i.y[1]?0:r.y(n.y);return{x:h?Math.abs(d-h):f.x,y:g?Math.abs(p-g):f.y}},we=function(e,t){var r=t.scale,n=t.origin,i=t.domain,a=t.padding,o=t.orientations,s=a.top,l=a.bottom,u=a.left,c=a.right,f={x:"bottom"===o.y?l:s,y:"left"===o.x?u:c},d="left"===o.x?0:e.width,p="bottom"===o.y?e.height:0,h=n.x===i.x[0]||n.x===i.x[1]?0:r.x(n.x),g=n.y===i.y[0]||n.y===i.y[1]?0:r.y(n.y);return{y:h?Math.abs(p-h):f.x,x:g?Math.abs(d-g):f.y}},Re=function(e,t){var r=B.getStringsFromChildren(e,t);return{x:r.x&&0!==r.x.length?r.x.reduce(function(e,t,r){return e[t]=r+1,e},{}):null,y:r.y&&0!==r.y.length?r.y.reduce(function(e,t,r){return e[t]=r+1,e},{}):null}};function victory_chart_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function victory_chart_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function victory_chart_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",function(){return Ce});var Ae={width:450,height:300,padding:50},Ce=function(e){function VictoryChart(e){var t;return function victory_chart_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VictoryChart),(t=function victory_chart_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?victory_chart_assertThisInitialized(e):t}(this,(VictoryChart.__proto__||Object.getPrototypeOf(VictoryChart)).call(this,e))).state={},e.animate&&(t.state={nodesShouldLoad:!1,nodesDoneLoad:!1,animating:!0},t.setAnimationState=B.setAnimationState.bind(victory_chart_assertThisInitialized(t))),t}return function victory_chart_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(VictoryChart,d.a.Component),function victory_chart_createClass(e,t,r){return t&&victory_chart_defineProperties(e.prototype,t),r&&victory_chart_defineProperties(e,r),e}(VictoryChart,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return!(this.props.animate&&!W()(this.props,e))||(this.setAnimationState(this.props,e),!1)}},{key:"getNewChildren",value:function getNewChildren(e,t,r){var n=function getChildren(e,t,r){t=t||Ee(e);var n=(r=r||getCalculatedProps(e,t)).style.parent,i=e.height,a=e.polar,o=e.theme,s=e.width,u=r,c=u.origin,f=u.horizontal,p=e.name||"chart";return t.map(function(t,u){var h=t.type&&t.type.role,g=Array.isArray(t.props.style)?t.props.style:l()({},t.props.style,{parent:n}),m=getChildProps(t,e,r),y=t.props.name||"".concat(p,"-").concat(h,"-").concat(u),v=l()({horizontal:f,height:i,polar:a,theme:o,width:s,style:g,name:y,origin:a?c:void 0,padding:r.padding,key:"".concat(y,"-key-").concat(u),standalone:!1},m);return d.a.cloneElement(t,v)})}(e,t,r),i=B.getAnimationProps.bind(this);return n.map(function(t,r){var n=o()({animate:i(e,t,r)},t.props);return d.a.cloneElement(t,n)})}},{key:"renderContainer",value:function renderContainer(e,t){var r=l()({},e.props,t);return d.a.cloneElement(e,r)}},{key:"getContainerProps",value:function getContainerProps(e,t){var r=e.width,n=e.height,i=e.standalone,a=e.theme,o=e.polar,s=e.name,l=t.domain,u=t.scale,c=t.style,f=t.origin,d=t.radius,p=t.horizontal;return{domain:l,scale:u,width:r,height:n,standalone:i,theme:a,style:c.parent,horizontal:p,name:s,polar:o,radius:d,origin:o?f:void 0}}},{key:"render",value:function render(){var e=this.state&&this.state.nodesWillExit&&this.state.oldProps||this.props,t=N.a.modifyProps(e,Ae,"chart"),r=t.eventKey,n=t.containerComponent,a=t.groupComponent,o=t.standalone,s=t.externalEventMutations,l=e.polar?t.defaultPolarAxes:t.defaultAxes,u=Ee(t,l),c=getCalculatedProps(t,u),f=this.getNewChildren(t,u,c),p=o?this.getContainerProps(t,c):{},h=o?this.renderContainer(n,p):a,g=B.getAllEvents(e);return i()(g)?d.a.cloneElement(h,h.props,f):d.a.createElement(Y,{container:h,eventKey:r,events:g,externalEventMutations:s},f)}}]),VictoryChart}();Object.defineProperty(Ce,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryChart"}),Object.defineProperty(Ce,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:function victory_chart_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){victory_chart_defineProperty(e,t,r[t])})}return e}({},U.a.baseProps,{children:c.a.oneOfType([c.a.arrayOf(c.a.node),c.a.node]),defaultAxes:c.a.shape({independent:c.a.element,dependent:c.a.element}),defaultPolarAxes:c.a.shape({independent:c.a.element,dependent:c.a.element}),endAngle:c.a.number,innerRadius:j.a.nonNegative,startAngle:c.a.number})}),Object.defineProperty(Ce,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{containerComponent:d.a.createElement(q.a,null),defaultAxes:{independent:d.a.createElement(X.a,null),dependent:d.a.createElement(X.a,{dependentAxis:!0})},defaultPolarAxes:{independent:d.a.createElement(_e,null),dependent:d.a.createElement(_e,{dependentAxis:!0})},groupComponent:d.a.createElement("g",null),standalone:!0,theme:G.a.grayscale}}),Object.defineProperty(Ce,"expectedComponents",{configurable:!0,enumerable:!0,writable:!0,value:["groupComponent","containerComponent"]})},function(e,t,r){"use strict";var n=r(123),i=r.n(n),a=r(33),o=r.n(a),s=r(5),l=r.n(s),u=r(2),c=r.n(u),f=r(1),d=r.n(f),p=r(0),h=r.n(p),g=r(122),m=r(7);function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var y=function(e){function VictoryPortal(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VictoryPortal),_possibleConstructorReturn(this,(VictoryPortal.__proto__||Object.getPrototypeOf(VictoryPortal)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(VictoryPortal,d.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(VictoryPortal,[{key:"componentDidMount",value:function componentDidMount(){if(!this.checkedContext){if("function"!=typeof this.context.portalUpdate){g.a.warn("`renderInPortal` is not supported outside of `VictoryContainer`. Component will be rendered in place"),this.renderInPlace=!0}this.checkedContext=!0}this.forceUpdate()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.renderInPlace||(this.portalKey=this.portalKey||this.context.portalRegister(),this.context.portalUpdate(this.portalKey,this.element))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.context&&this.context.portalDeregister&&this.context.portalDeregister(this.portalKey)}},{key:"renderPortal",value:function renderPortal(e){return this.renderInPlace?e:(this.element=e,null)}},{key:"render",value:function render(){var e=Array.isArray(this.props.children)?this.props.children[0]:this.props.children,t=this.props.groupComponent,r=e&&e.props||{},n=r.groupComponent?{groupComponent:t,standalone:!1}:{},i=l()(n,r,m.a.omit(this.props,["children","groupComponent"])),a=e&&d.a.cloneElement(e,i);return this.renderPortal(a)}}]),VictoryPortal}();Object.defineProperty(y,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryPortal"}),Object.defineProperty(y,"role",{configurable:!0,enumerable:!0,writable:!0,value:"portal"}),Object.defineProperty(y,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{children:h.a.node,groupComponent:h.a.element}}),Object.defineProperty(y,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{groupComponent:d.a.createElement("g",null)}}),Object.defineProperty(y,"contextTypes",{configurable:!0,enumerable:!0,writable:!0,value:{portalDeregister:h.a.func,portalRegister:h.a.func,portalUpdate:h.a.func}});var v=r(6),_=r(373),b=r(177),E=r(29),T=r.n(E);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tspan_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tspan_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function tspan_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var S=function(e){function TSpan(){return function tspan_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TSpan),tspan_possibleConstructorReturn(this,(TSpan.__proto__||Object.getPrototypeOf(TSpan)).apply(this,arguments))}return function tspan_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TSpan,d.a.Component),function tspan_createClass(e,t,r){return t&&tspan_defineProperties(e.prototype,t),r&&tspan_defineProperties(e,r),e}(TSpan,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return!T()(this.props,e)}},{key:"render",value:function render(){var e=this.props,t=e.x,r=e.y,n=e.dx,i=e.dy,a=e.events,o=e.className,s=e.style,l=e.textAnchor,u=e.content;return d.a.createElement("tspan",_extends({x:t,y:r,dx:n,dy:i,textAnchor:l,className:o,style:s},a),u)}}]),TSpan}();function text_extends(){return(text_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function text_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function text_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function text_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}Object.defineProperty(S,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{className:h.a.string,content:h.a.oneOfType([h.a.string,h.a.number]),dx:h.a.number,dy:h.a.number,events:h.a.object,style:h.a.object,textAnchor:h.a.oneOf(["start","middle","end","inherit"]),x:h.a.number,y:h.a.number}});var w=function(e){function Text(){return function text_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Text),text_possibleConstructorReturn(this,(Text.__proto__||Object.getPrototypeOf(Text)).apply(this,arguments))}return function text_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Text,d.a.Component),function text_createClass(e,t,r){return t&&text_defineProperties(e.prototype,t),r&&text_defineProperties(e,r),e}(Text,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return!T()(this.props,e)}},{key:"render",value:function render(){var e=this.props,t=e.x,r=e.y,n=e.dx,i=e.dy,a=e.events,o=e.className,s=e.children,l=e.style,u=e.title,c=e.desc,f=e.transform,p=e.direction;return d.a.createElement("text",text_extends({direction:p,className:o,x:t,dx:n,y:r,dy:i,transform:f,style:l},a),u&&d.a.createElement("title",null,u),c&&d.a.createElement("desc",null,c),s)}}]),Text}();function victory_label_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function victory_label_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function victory_label_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}Object.defineProperty(w,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{children:h.a.node,className:h.a.string,desc:h.a.string,direction:h.a.oneOf(["ltr","rtl","inherit"]),dx:h.a.number,dy:h.a.number,events:h.a.object,style:h.a.object,title:h.a.string,transform:h.a.string,x:h.a.oneOfType([h.a.number,h.a.string]),y:h.a.oneOfType([h.a.number,h.a.string])}}),r.d(t,"a",function(){return A});var R={fill:"#252525",fontSize:14,fontFamily:"'Gill Sans', 'Gill Sans MT', 'Seravek', 'Trebuchet MS', sans-serif",stroke:"transparent"},A=function(e){function VictoryLabel(e){var t;return function victory_label_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VictoryLabel),(t=victory_label_possibleConstructorReturn(this,(VictoryLabel.__proto__||Object.getPrototypeOf(VictoryLabel)).call(this,e))).id=void 0===e.id?i()("label-"):e.id,t}return function victory_label_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(VictoryLabel,d.a.Component),function victory_label_createClass(e,t,r){return t&&victory_label_defineProperties(e.prototype,t),r&&victory_label_defineProperties(e,r),e}(VictoryLabel,[{key:"getPosition",value:function getPosition(e,t){return e.datum?m.a.scalePoint(e,e.datum)[t]:0}},{key:"getStyle",value:function getStyle(e,t){t=t?l()({},t,R):R;var r=e.datum||e.data,n=m.a.evaluateStyle(t,r,e.active);return c()({},n,{fontSize:this.getFontSize(n)})}},{key:"getStyles",value:function getStyles(e){var t=this;return Array.isArray(e.style)&&!o()(e.style)?e.style.map(function(r){return t.getStyle(e,r)}):[this.getStyle(e,e.style)]}},{key:"getHeight",value:function getHeight(e,t){var r=e.datum||e.data;return m.a.evaluateProp(e[t],r,e.active)}},{key:"getContent",value:function getContent(e){if(void 0!==e.text&&null!==e.text){var t=e.datum||e.data;if(Array.isArray(e.text))return e.text.map(function(r){return m.a.evaluateProp(r,t,e.active)});var r=m.a.evaluateProp(e.text,t,e.active);if(null!=r)return Array.isArray(r)?r:"".concat(r).split("\n")}}},{key:"getDy",value:function getDy(e,t,r,n){t=Array.isArray(t)?t[0]:t,n=this.checkLineHeight(n,n[0],1);var i=t.fontSize,a=e.datum||e.data,o=e.dy?m.a.evaluateProp(e.dy,a,e.active):0,s=r.length,l=this.getHeight(e,"capHeight"),u=t.verticalAnchor||e.verticalAnchor;switch(u?m.a.evaluateProp(u,a):"middle"){case"end":return o+(l/2+(.5-s)*n)*i;case"middle":return o+(l/2+(.5-s/2)*n)*i;default:return o+(l/2+n/2)*i}}},{key:"checkLineHeight",value:function checkLineHeight(e,t,r){return Array.isArray(e)?o()(e)?r:t:e}},{key:"getTransform",value:function getTransform(e,t){var r=e.active,n=e.datum,i=e.x,a=e.y,o=e.polar?_.a.getPolarAngle(e):0,s=void 0===t.angle?e.angle:t.angle,l=void 0===s?o:s,u=e.transform||t.transform,c=u&&m.a.evaluateProp(u,n,r),f=l&&{rotate:[l,i,a]};return c||l?b.a.toTransformString(c,f):void 0}},{key:"getFontSize",value:function getFontSize(e){var t=e&&e.fontSize;if("number"==typeof t)return t;if(null==t)return R.fontSize;if("string"==typeof t){var r=+t.replace("px","");return isNaN(r)?(g.a.warn("fontSize should be expressed as a number of pixels"),R.fontSize):r}return R.fontSize}},{key:"renderElements",value:function renderElements(e,t){var r=this,n=e.datum,i=e.active,a=e.inline,o=e.className,s=e.title,l=e.desc,u=e.events,c=e.direction,f=this.getStyles(e),p=this.getHeight(e,"lineHeight"),h=e.textAnchor?m.a.evaluateProp(e.textAnchor,n,i):"start",g=e.dx?m.a.evaluateProp(e.dx,n,i):0,y=this.getDy(e,f,t,p),v=this.getTransform(e,f),_=void 0!==e.x?e.x:this.getPosition(e,"x"),b=void 0!==e.y?e.y:this.getPosition(e,"y"),E=t.map(function(t,n){var i=f[n]||f[0],o=f[n-1]||f[0],s=(i.fontSize+o.fontSize)/2,l=r.checkLineHeight(p,(p[n]+(p[n-1]||p[0]))/2,1),u={key:"".concat(r.id,"-key-").concat(n),x:a?void 0:e.x,dx:g,dy:n&&!a?l*s:void 0,textAnchor:i.textAnchor||h,style:i,content:t};return d.a.cloneElement(e.tspanComponent,u)});return d.a.cloneElement(e.textComponent,{direction:c,dx:g,dy:y,x:_,y:b,events:u,transform:v,className:o,title:s,desc:l,id:this.id},E)}},{key:"render",value:function render(){var e=this.getContent(this.props);if(null==e)return null;var t=this.renderElements(this.props,e);return this.props.renderInPortal?d.a.createElement(y,null,t):t}}]),VictoryLabel}();Object.defineProperty(A,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryLabel"}),Object.defineProperty(A,"role",{configurable:!0,enumerable:!0,writable:!0,value:"label"}),Object.defineProperty(A,"defaultStyles",{configurable:!0,enumerable:!0,writable:!0,value:R}),Object.defineProperty(A,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{active:h.a.bool,angle:h.a.oneOfType([h.a.string,h.a.number]),capHeight:h.a.oneOfType([h.a.string,v.a.nonNegative,h.a.func]),className:h.a.string,data:h.a.array,datum:h.a.any,desc:h.a.string,direction:h.a.oneOf(["rtl","ltr","inherit"]),dx:h.a.oneOfType([h.a.number,h.a.string,h.a.func]),dy:h.a.oneOfType([h.a.number,h.a.string,h.a.func]),events:h.a.object,id:h.a.oneOfType([h.a.number,h.a.string]),index:h.a.oneOfType([h.a.number,h.a.string]),inline:h.a.bool,labelPlacement:h.a.oneOf(["parallel","perpendicular","vertical"]),lineHeight:h.a.oneOfType([h.a.string,v.a.nonNegative,h.a.func,h.a.array]),origin:h.a.shape({x:v.a.nonNegative,y:v.a.nonNegative}),polar:h.a.bool,renderInPortal:h.a.bool,scale:h.a.shape({x:v.a.scale,y:v.a.scale}),style:h.a.oneOfType([h.a.object,h.a.array]),text:h.a.oneOfType([h.a.string,h.a.number,h.a.func,h.a.array]),textAnchor:h.a.oneOfType([h.a.oneOf(["start","middle","end","inherit"]),h.a.func]),textComponent:h.a.element,title:h.a.string,transform:h.a.oneOfType([h.a.string,h.a.object,h.a.func]),tspanComponent:h.a.element,verticalAnchor:h.a.oneOfType([h.a.oneOf(["start","middle","end"]),h.a.func]),x:h.a.oneOfType([h.a.number,h.a.string]),y:h.a.oneOfType([h.a.number,h.a.string])}}),Object.defineProperty(A,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{direction:"inherit",textComponent:d.a.createElement(w,null),tspanComponent:d.a.createElement(S,null),capHeight:.71,lineHeight:1}})},function(e,t,r){"use strict";var n=r(2),i=r.n(n),a=r(0),o=r.n(a),s=r(1),l=r.n(s),u=r(369),c=r(5),f=r.n(c);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d={"American Typewriter":2.09,Baskerville:2.51,Georgia:2.27,"Hoefler Text":2.39,Palatino:2.26,"Times New Roman":2.48,Arial:2.26,"Gill Sans":2.47,"Gill Sans 300":2.58,"Helvetica Neue":2.24,"Lucida Grande":2.05,Tahoma:2.25,"Trebuchet MS":2.2,Verdana:1.96,"Courier New":1.67,cursive:1.84,fantasy:2.09,monospace:1.81,serif:2.04,"sans-serif":1.89},p={mm:3.8,sm:38,pt:1.33,pc:16,in:96,px:1},h={em:1,ex:.5},g=2.1675,m=1.25,y=1.05,v=1.15,_=.2,b={lineHeight:1,letterSpacing:"0px",fontSize:0,angle:0,fontFamily:""},E=function(e){return Array.isArray(e)?e:e.toString().split(/\r\n|\r|\n/g)},T=function(e,t,r){var n=function(e){return e*Math.PI/180}(r);return Math.abs(Math.cos(n)*e)+Math.abs(Math.sin(n)*t)},S=function(e,t){var r=e.match(/[a-zA-Z%]+/)[0],n=e.match(/[0-9.,]+/);return p.hasOwnProperty(r)?n*p[r]:h.hasOwnProperty(r)?(t?n*t:n*b.fontSize)*h[r]:n},w=function(e,t){var r,n,a=Array.isArray(e)?e[t]:e,o=f()({},a,b);return i()({},o,{characterConstant:o.characterConstant||(r=o.fontFamily,n=r.split(",")[0].replace(/'|"/g,""),d[n]||g),letterSpacing:S(o.letterSpacing,o.fontSize),fontSize:"number"==typeof o.fontSize?o.fontSize:S(String(o.fontSize))})},R=function(e,t){var r=Array.isArray(t)?t[0]&&t[0].angle:t&&t.angle,n=function(e,t){return e?E(e).reduce(function(e,r,n){var i=w(t,n),a=r.toString().match(/[(A-Z)(0-9)]/)?i.fontSize*v:i.fontSize,o=0===n?0:i.fontSize*_;return e+i.lineHeight*(a+o)},0):0}(e,t),i=function(e,t){if(!e)return 0;var r=E(e).map(function(e,r){var n=e.toString().length,i=w(t,r);return n*i.fontSize/i.characterConstant+i.letterSpacing*Math.max(n-1,0)});return Math.max.apply(Math,_toConsumableArray(r))}(e,t),a=r?T(i,n,r):i,o=r?T(n,i,r):n;return{width:a*m,height:o*y}},A=r(7),C=r(178),x=r(6),D=r(892),P=r(888),I=r(890),M=r(891),O=r(886),k=r(8),L=r.n(k),N=r(64);function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function helper_methods_toConsumableArray(e){return function helper_methods_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function helper_methods_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function helper_methods_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var F={top:-1,left:-1,right:1,bottom:1},B=function(e,t,r){return e&&Object.keys(e).some(function(t){return L()(e[t])})?Object.keys(e).reduce(function(n,i){return n[i]=function(e,t,r){return L()(e)?e(t,r):e}(e[i],t,r),n},{}):e},U=function(e,t){var r=e.style||{};t=t||{};return{parent:f()(r.parent,t.parent,{height:"100%",width:"100%"}),axis:f()({},r.axis,t.axis),axisLabel:f()({},r.axisLabel,t.axisLabel),grid:f()({},r.grid,t.grid),ticks:f()({},r.ticks,t.ticks),tickLabels:f()({},r.tickLabels,t.tickLabels)}},j=function(e,t,r){var n=e.position,i=e.transform;return{x1:i.x,y1:i.y,x2:i.x+n.x2,y2:i.y+n.y2,style:t,datum:r}},q=function(e,t,r,n,i){var a=e.position,o=e.transform;return{style:t,x:o.x+a.x,y:o.y+a.y,verticalAnchor:r.verticalAnchor,textAnchor:r.textAnchor,angle:t.angle,text:i,datum:n}},G=function(e,t,r){var n=e.edge,i=e.transform;return{type:"grid",x1:i.x,y1:i.y,x2:n.x+i.x,y2:n.y+i.y,style:t,datum:r}},H=function(e,t,r){return"axis"!==r&&(e.theme[r]=function(e,t){var r=e.theme.axis||{};return f()({},e.theme[t],r)}(e,r)),A.a.modifyProps(e,t,r)},V=function(e,t,r){var n=t.orientation,i=t.axis,a=u.a.getAxisValue(e,i);return{top:{x:0,y:void 0!==a?a:r.y},bottom:{x:0,y:void 0!==a?a:e.height-r.y},left:{x:void 0!==a?a:r.x,y:0},right:{x:void 0!==a?a:e.width-r.x,y:0}}[n]},z=function(e,t,r){var n=e.tickStyle,i=e.labelStyle,a=n.size||0,o=a+(n.padding||0)+(i.padding||0),s=F[t];return{x:r?s*o:0,x2:r?s*a:0,y:r?0:s*o,y2:r?0:s*a}},K=function(e,t,r){return{x:r?t.x:e+t.x,y:r?e+t.y:t.y}},W=function(e,t){var r=t.orientation,n=t.padding,i=t.isVertical,a=-F[r];return{x:i?a*(e.width-(n.left+n.right)):0,y:i?0:a*(e.height-(n.top+n.bottom))}},Y=function(e,t,r){var n=t.padding,i=t.orientation,a="right"===i?n.right:n.left,o="top"===i?n.top:n.bottom;return{x:e.crossAxis?r.x-a:0,y:e.crossAxis?r.y-o:0}},X=function(e,t){var r=function(e,t){var r=t.style,n=t.padding,i=t.isVertical,a=t.orientation,o=t.labelPadding,s=t.stringTicks,l=t.ticks,u="right"===a?n.right:n.left,c="top"===a?n.top:n.bottom,f=r.axisLabel.fontSize||14,d=null!==e.offsetX&&void 0!==e.offsetX?e.offsetX:u,p=null!==e.offsetY&&void 0!==e.offsetY?e.offsetY:c,h=l.map(function(t){var n=s?e.tickValues[t-1]:t;return B(r.ticks,n).size||0}),g=f+2*Math.max.apply(Math,helper_methods_toConsumableArray(h))+o,m=1.2*f;return{x:null!=d?d:i?g:m,y:null!=p?p:i?m:g}}(e,t);return{globalTransform:V(e,t,r),gridOffset:Y(e,t,r),gridEdge:W(e,t)}},Q=function(e){var t=function(e){var t=e.theme,r=e.dependentAxis,n=t&&t.axis&&t.axis.style,i=r?"dependentAxis":"independentAxis",a=t&&t[i]&&t[i].style;return n&&a?["axis","axisLabel","grid","parent","tickLabels","ticks"].reduce(function(e,t){return e[t]=f()({},a[t],n[t]),e},{}):a||n}(e),r=U(e,t),n=A.a.getPadding(e),i=u.a.isVertical(e),a=function(e,t){var r=t.axisLabel||{};if(void 0!==r.padding&&null!==r.padding)return r.padding;var n=u.a.isVertical(e),i=r.fontSize||14;return e.label?i*(n?2.3:1.6):0}(e,r),o=u.a.stringTicks(e)?e.tickValues:void 0,s=u.a.getAxis(e),l=function(e){if(e.orientation)return e.orientation;var t={dependent:e.horizontal?"bottom":"left",independent:e.horizontal?"left":"bottom"};return e.dependentAxis?t.dependent:t.independent}(e),c=function(e){var t=u.a.getAxis(e),r=function(e,t){var r=e.orientation,n=e.horizontal;if(r){return{top:"x",bottom:"x",left:"y",right:"y"}[r]}return n?"x"===t?"y":"x":t}(e,t),n=N.a.getBaseScale(e,t),i=e.domain&&e.domain[t]||u.a.getDomain(e)||n.domain();return n.range(A.a.getRange(e,r)),n.domain(i),n}(e),d=u.a.getDomain(e),p=u.a.getTicks(e,c,e.crossAxis),h=u.a.getTickFormat(e,c);return{axis:s,style:r,padding:n,orientation:l,isVertical:i,labelPadding:a,stringTicks:o,anchors:function(e,t){var r={top:"end",left:"end",right:"start",bottom:"start"}[e];return{textAnchor:t?r:"middle",verticalAnchor:t?"middle":r}}(l,i),scale:c,ticks:p,tickFormat:h,domain:d}},$=function(e,t){var r=function(e){return e.dependentAxis?e.theme&&e.theme.dependentAxis?"dependentAxis":"axis":e.theme&&e.theme.independentAxis?"independentAxis":"axis"}(e);e=H(e,t,r);var n=Q(e),a=n.axis,o=n.style,s=n.orientation,l=n.isVertical,u=n.scale,c=n.ticks,f=n.tickFormat,d=n.anchors,p=n.domain,h=n.stringTicks,g=n.name,m="x"===a?"y":"x",y=e,v=y.width,_=y.height,b=y.standalone,E=y.theme,T=y.polar,S=y.padding,w=y.horizontal,R=X(e,n),C=R.globalTransform,x=R.gridOffset,D=R.gridEdge,P={scale:_defineProperty({},a,u),polar:T,horizontal:w},I=function(e,t,r){var n=t.style,i=t.padding,a=t.isVertical,o=e.width,s=e.height;return{type:"axis",style:n.axis,x1:a?r.x:i.left+r.x,x2:a?r.x:o-i.right+r.x,y1:a?i.top+r.y:r.y,y2:a?s-i.bottom+r.y:r.y}}(e,n,C),M=function(e,t,r){var n=t.style,i=t.orientation,a=t.padding,o=t.labelPadding,s=t.isVertical,l=F[i],u=a.left+a.right,c=a.top+a.bottom,f=l<0?"end":"start",d=n.axisLabel,p=s?-90:0;return{x:s?r.x+l*o:(e.width-u)/2+a.left+r.x,y:s?(e.height-c)/2+a.top+r.y:l*o+r.y,verticalAnchor:d.verticalAnchor||f,textAnchor:d.textAnchor||"middle",angle:void 0===d.angle?p:d.angle,style:d,text:e.label}}(e,n,C),O={parent:i()({style:o.parent,ticks:c,standalone:b,theme:E,width:v,height:_,padding:S,domain:p,name:g},P)},k={dimension:m,range:_defineProperty({},m,A.a.getRange(e,m)),scale:e.scale&&e.scale[m]?_defineProperty({},m,e.scale[m]):void 0};return c.reduce(function(e,t,r){var n=h?h[r]:t,p=function(e,t,r){return{tickStyle:B(e.ticks,t,r),labelStyle:B(e.tickLabels,t,r),gridStyle:B(e.grid,t,r)}}(o,n,r),g={position:z(p,s,l),transform:K(u(t),C,l)},m={edge:D,transform:{x:l?-x.x+C.x:u(t)+C.x,y:l?u(t)+C.y:x.y+C.y}};return e[r]={axis:i()({dimension:a},P,I),axisLabel:i()({},P,M),ticks:i()({},P,j(g,p.tickStyle,t)),tickLabels:i()({},P,q(g,p.labelStyle,d,t,f(t,r,c))),grid:i()({},P,k,G(m,p.gridStyle,t))},e},O)};function victory_axis_defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function victory_axis_toConsumableArray(e){return function victory_axis_arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function victory_axis_iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function victory_axis_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var J={width:450,height:300,padding:50},Z=function(e){function VictoryAxis(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VictoryAxis),_possibleConstructorReturn(this,(VictoryAxis.__proto__||Object.getPrototypeOf(VictoryAxis)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(VictoryAxis,l.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(VictoryAxis,[{key:"renderLine",value:function renderLine(e){var t=e.axisComponent,r=this.getComponentProps(t,"axis",0);return l.a.cloneElement(t,r)}},{key:"renderLabel",value:function renderLabel(e){var t=e.axisLabelComponent;if(!e.label)return null;var r=this.getComponentProps(t,"axisLabel",0);return l.a.cloneElement(t,r)}},{key:"renderGridAndTicks",value:function renderGridAndTicks(e){var t=this,r=e.tickComponent,n=e.tickLabelComponent,i=e.gridComponent,a=e.name;return this.dataKeys.map(function(o,s){var u=t.getComponentProps(r,"ticks",s),c=l.a.cloneElement(r,u),f=t.getComponentProps(i,"grid",s),d=l.a.cloneElement(i,f),p=t.getComponentProps(n,"tickLabels",s),h=l.a.cloneElement(n,p);return l.a.cloneElement(e.groupComponent,{key:"".concat(a,"-tick-group-").concat(o)},d,c,h)})}},{key:"fixLabelOverlap",value:function fixLabelOverlap(e,t){var r=u.a.isVertical(t),n=r?t.height:t.width,a=function(e){return e.type&&"label"===e.type.role},o=e.map(function(e){return e.props.children}).reduce(function(e,t){return e.concat(t)},[]).filter(a).map(function(e){return e.props}),s=o.reduce(function(e,t){var n=function(e){return"object"==typeof e?i()({},{top:0,right:0,bottom:0,left:0},e):{top:e,right:e,bottom:e,left:e}}(t.style.padding),a=R(t.text,{angle:t.angle,fontSize:t.style.fontSize,letterSpacing:t.style.letterSpacing,fontFamily:t.style.fontFamily});return e+(r?a.height+n.top+n.bottom:a.width+n.right+n.left)},0),l=Math.floor(n*e.length/s),c=Math.ceil(e.length/l)||1,f=function(e){return e.props.children.filter(a).reduce(function(e,t){return(r?t.props.y:t.props.x)||0},0)};return e.sort(function(e,t){return r?f(t)-f(e):f(e)-f(t)}).filter(function(e,t){return t%c==0})}},{key:"shouldAnimate",value:function shouldAnimate(){return!!this.props.animate}},{key:"render",value:function render(){var e=VictoryAxis.animationWhitelist,t=VictoryAxis.role,r=A.a.modifyProps(this.props,J,t);if(this.shouldAnimate())return this.animateComponent(r,e);var n=this.renderGridAndTicks(r),i=r.fixLabelOverlap?this.fixLabelOverlap(n,r):n,a=[this.renderLine(r),this.renderLabel(r)].concat(victory_axis_toConsumableArray(i));return r.standalone?this.renderContainer(r.containerComponent,a):l.a.cloneElement(r.groupComponent,{},a)}}]),VictoryAxis}();Object.defineProperty(Z,"animationWhitelist",{configurable:!0,enumerable:!0,writable:!0,value:["style","domain","range","tickCount","tickValues","offsetX","offsetY","padding","width","height"]}),Object.defineProperty(Z,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryAxis"}),Object.defineProperty(Z,"role",{configurable:!0,enumerable:!0,writable:!0,value:"axis"}),Object.defineProperty(Z,"defaultTransitions",{configurable:!0,enumerable:!0,writable:!0,value:{onExit:{duration:500},onEnter:{duration:500}}}),Object.defineProperty(Z,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){victory_axis_defineProperty(e,t,r[t])})}return e}({},C.a.baseProps,{axisComponent:o.a.element,axisLabelComponent:o.a.element,axisValue:o.a.oneOfType([o.a.number,o.a.string,o.a.object]),categories:o.a.oneOfType([o.a.arrayOf(o.a.string),o.a.shape({x:o.a.arrayOf(o.a.string),y:o.a.arrayOf(o.a.string)})]),crossAxis:o.a.bool,dependentAxis:o.a.bool,events:o.a.arrayOf(o.a.shape({target:o.a.oneOf(["axis","axisLabel","grid","ticks","tickLabels"]),eventKey:o.a.oneOfType([o.a.array,x.a.allOfType([x.a.integer,x.a.nonNegative]),o.a.string]),eventHandlers:o.a.object})),fixLabelOverlap:o.a.bool,gridComponent:o.a.element,groupComponent:o.a.element,invertAxis:o.a.bool,label:o.a.any,offsetX:o.a.number,offsetY:o.a.number,orientation:o.a.oneOf(["top","bottom","left","right"]),origin:o.a.shape({x:o.a.number,y:o.a.number}),stringMap:o.a.object,style:o.a.shape({parent:o.a.object,axis:o.a.object,axisLabel:o.a.object,grid:o.a.object,ticks:o.a.object,tickLabels:o.a.object}),tickComponent:o.a.element,tickCount:x.a.allOfType([x.a.integer,x.a.greaterThanZero]),tickFormat:o.a.oneOfType([o.a.func,x.a.homogeneousArray]),tickLabelComponent:o.a.element,tickValues:x.a.homogeneousArray})}),Object.defineProperty(Z,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{axisComponent:l.a.createElement(D.a,{type:"axis"}),axisLabelComponent:l.a.createElement(P.a,null),tickLabelComponent:l.a.createElement(P.a,null),tickComponent:l.a.createElement(D.a,{type:"tick"}),gridComponent:l.a.createElement(D.a,{type:"grid"}),standalone:!0,theme:I.a.grayscale,containerComponent:l.a.createElement(M.a,null),groupComponent:l.a.createElement("g",{role:"presentation"}),fixLabelOverlap:!1}}),Object.defineProperty(Z,"getDomain",{configurable:!0,enumerable:!0,writable:!0,value:u.a.getDomain}),Object.defineProperty(Z,"getAxis",{configurable:!0,enumerable:!0,writable:!0,value:u.a.getAxis}),Object.defineProperty(Z,"getStyles",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return U(e,J.style)}}),Object.defineProperty(Z,"getBaseProps",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return $(e,J)}}),Object.defineProperty(Z,"expectedComponents",{configurable:!0,enumerable:!0,writable:!0,value:["axisComponent","axisLabelComponent","groupComponent","containerComponent","tickComponent","tickLabelComponent","gridComponent"]});t.a=Object(O.a)(Z,{components:[{name:"axis",index:0},{name:"axisLabel",index:0},{name:"grid"},{name:"parent",index:"parent"},{name:"ticks"},{name:"tickLabels"}]})},function(e,t,r){"use strict";var n=r(2),i=r.n(n),a=["#F4511E","#FFF59D","#DCE775","#8BC34A","#00796B","#006064"],o={width:350,height:350,padding:50},s={fontFamily:"'Roboto', 'Helvetica Neue', Helvetica, sans-serif",fontSize:12,letterSpacing:"normal",padding:8,fill:"#455A64",stroke:"transparent",strokeWidth:0},l=i()({textAnchor:"middle"},s),u={area:i()({style:{data:{fill:"#212121"},labels:s}},o),axis:i()({style:{axis:{fill:"transparent",stroke:"#90A4AE",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},axisLabel:i()({},l,{padding:8,stroke:"transparent"}),grid:{fill:"none",stroke:"#ECEFF1",strokeDasharray:"10, 5",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"painted"},ticks:{fill:"transparent",size:5,stroke:"#90A4AE",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},tickLabels:i()({},s,{fill:"#455A64"})}},o),bar:i()({style:{data:{fill:"#455A64",padding:8,strokeWidth:0},labels:s}},o),boxplot:i()({style:{max:{padding:8,stroke:"#455A64",strokeWidth:1},maxLabels:s,median:{padding:8,stroke:"#455A64",strokeWidth:1},medianLabels:s,min:{padding:8,stroke:"#455A64",strokeWidth:1},minLabels:s,q1:{padding:8,fill:"#455A64"},q1Labels:s,q3:{padding:8,fill:"#455A64"},q3Labels:s},boxWidth:20},o),candlestick:i()({style:{data:{stroke:"#455A64"},labels:s},candleColors:{positive:"#ffffff",negative:"#455A64"}},o),chart:o,errorbar:i()({borderWidth:8,style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:s}},o),group:i()({colorScale:a},o),legend:{colorScale:a,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle"},labels:s,title:i()({},s,{padding:5})}},line:i()({style:{data:{fill:"transparent",opacity:1,stroke:"#455A64",strokeWidth:2},labels:s}},o),pie:i()({colorScale:a,style:{data:{padding:8,stroke:"#ECEFF1",strokeWidth:1},labels:i()({},s,{padding:20})}},o),scatter:i()({style:{data:{fill:"#455A64",opacity:1,stroke:"transparent",strokeWidth:0},labels:s}},o),stack:i()({colorScale:a},o),tooltip:{style:i()({},s,{padding:5,pointerEvents:"none"}),flyoutStyle:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},cornerRadius:5,pointerLength:10},voronoi:i()({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:i()({},s,{padding:5,pointerEvents:"none"}),flyout:{stroke:"#212121",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},o)},c=["#252525","#525252","#737373","#969696","#bdbdbd","#d9d9d9","#f0f0f0"],f={width:450,height:300,padding:50,colorScale:c},d={fontFamily:"'Gill Sans', 'Gill Sans MT', 'Seravek', 'Trebuchet MS', sans-serif",fontSize:14,letterSpacing:"normal",padding:10,fill:"#252525",stroke:"transparent"},p=i()({textAnchor:"middle"},d),h={area:i()({style:{data:{fill:"#252525"},labels:d}},f),axis:i()({style:{axis:{fill:"transparent",stroke:"#252525",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round"},axisLabel:i()({},p,{padding:25}),grid:{fill:"none",stroke:"none",pointerEvents:"painted"},ticks:{fill:"transparent",size:1,stroke:"transparent"},tickLabels:d}},f),bar:i()({style:{data:{fill:"#252525",padding:8,strokeWidth:0},labels:d}},f),boxplot:i()({style:{max:{padding:8,stroke:"#252525",strokeWidth:1},maxLabels:d,median:{padding:8,stroke:"#252525",strokeWidth:1},medianLabels:d,min:{padding:8,stroke:"#252525",strokeWidth:1},minLabels:d,q1:{padding:8,fill:"#969696"},q1Labels:d,q3:{padding:8,fill:"#969696"},q3Labels:d},boxWidth:20},f),candlestick:i()({style:{data:{stroke:"#252525",strokeWidth:1},labels:d},candleColors:{positive:"#ffffff",negative:"#252525"}},f),chart:f,errorbar:i()({borderWidth:8,style:{data:{fill:"transparent",stroke:"#252525",strokeWidth:2},labels:d}},f),group:i()({colorScale:c},f),legend:{colorScale:c,gutter:10,orientation:"vertical",titleOrientation:"top",style:{data:{type:"circle"},labels:d,title:i()({},d,{padding:5})}},line:i()({style:{data:{fill:"transparent",stroke:"#252525",strokeWidth:2},labels:d}},f),pie:{style:{data:{padding:10,stroke:"transparent",strokeWidth:1},labels:i()({},d,{padding:20})},colorScale:c,width:400,height:400,padding:50},scatter:i()({style:{data:{fill:"#252525",stroke:"transparent",strokeWidth:0},labels:d}},f),stack:i()({colorScale:c},f),tooltip:{style:i()({},d,{padding:5,pointerEvents:"none"}),flyoutStyle:{stroke:"#252525",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"},cornerRadius:5,pointerLength:10},voronoi:i()({style:{data:{fill:"transparent",stroke:"transparent",strokeWidth:0},labels:i()({},d,{padding:5,pointerEvents:"none"}),flyout:{stroke:"#252525",strokeWidth:1,fill:"#f0f0f0",pointerEvents:"none"}}},f)};t.a={material:u,grayscale:h}},function(e,t,r){"use strict";var n=r(40),i=r.n(n),a=r(123),o=r.n(a),s=r(5),l=r.n(s),u=r(2),c=r.n(u),f=r(1),d=r.n(f),p=r(0),h=r.n(p),g=r(6);function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){function Portal(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Portal),(t=function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}(this,(Portal.__proto__||Object.getPrototypeOf(Portal)).call(this,e))).map={},t.index=1,t.portalUpdate=t.portalUpdate.bind(_assertThisInitialized(t)),t.portalRegister=t.portalRegister.bind(_assertThisInitialized(t)),t.portalDeregister=t.portalDeregister.bind(_assertThisInitialized(t)),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Portal,d.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Portal,[{key:"portalRegister",value:function portalRegister(){return++this.index}},{key:"portalUpdate",value:function portalUpdate(e,t){this.map[e]=t,this.forceUpdate()}},{key:"portalDeregister",value:function portalDeregister(e){delete this.map[e],this.forceUpdate()}},{key:"getChildren",value:function getChildren(){var e=this;return Object.keys(this.map).map(function(t){var r=e.map[t];return r?d.a.cloneElement(r,{key:t}):r})}},{key:"render",value:function render(){return d.a.createElement("svg",this.props,this.getChildren())}}]),Portal}();Object.defineProperty(m,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"Portal"}),Object.defineProperty(m,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{className:h.a.string,height:g.a.nonNegative,style:h.a.object,viewBox:h.a.string,width:g.a.nonNegative}});var y=r(124),v=r(7);function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function victory_container_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function victory_container_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",function(){return _});var _=function(e){function VictoryContainer(e){var t;return function victory_container_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VictoryContainer),(t=function victory_container_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?victory_container_assertThisInitialized(e):t}(this,(VictoryContainer.__proto__||Object.getPrototypeOf(VictoryContainer)).call(this,e))).getTimer=t.getTimer.bind(victory_container_assertThisInitialized(t)),t.containerId=i()(e)&&void 0!==e.containerId?e.containerId:o()("victory-container-"),t.savePortalRef=function(e){return t.portalRef=e,e},t.portalUpdate=function(e,r){return t.portalRef.portalUpdate(e,r)},t.portalRegister=function(){return t.portalRef.portalRegister()},t.portalDeregister=function(e){return t.portalRef.portalDeregister(e)},t.saveContainerRef=function(r){return t.containerRef=e.containerRef||r,r},t.shouldHandleWheel=e&&e.events&&e.events.onWheel,t.shouldHandleWheel&&(t.handleWheel=function(e){return e.preventDefault()}),t}return function victory_container_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(VictoryContainer,d.a.Component),function victory_container_createClass(e,t,r){return t&&victory_container_defineProperties(e.prototype,t),r&&victory_container_defineProperties(e,r),e}(VictoryContainer,[{key:"getChildContext",value:function getChildContext(){return{portalUpdate:this.portalUpdate,portalRegister:this.portalRegister,portalDeregister:this.portalDeregister,getTimer:this.getTimer}}},{key:"componentDidMount",value:function componentDidMount(){this.shouldHandleWheel&&this.containerRef&&this.containerRef.addEventListener("wheel",this.handleWheel)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.context.getTimer||this.getTimer().stop(),this.shouldHandleWheel&&this.containerRef&&this.containerRef.removeEventListener("wheel",this.handleWheel)}},{key:"getTimer",value:function getTimer(){return this.context.getTimer?this.context.getTimer():(this.timer||(this.timer=new y.a),this.timer)}},{key:"getIdForElement",value:function getIdForElement(e){return"".concat(this.containerId,"-").concat(e)}},{key:"getChildren",value:function getChildren(e){return e.children}},{key:"renderContainer",value:function renderContainer(e,t,r){var n=e.title,i=e.desc,a=e.portalComponent,o=e.className,s=e.width,u=e.height,f=e.portalZIndex,p=e.responsive,h=this.getChildren(e),g=p?{width:"100%",height:"auto"}:{width:s,height:u},m=c()({pointerEvents:"none",touchAction:"none",position:"relative"},g),y=c()({zIndex:f,position:"absolute",top:0,left:0},g),v=c()({pointerEvents:"all"},g),_=c()({overflow:"visible"},g),b={width:s,height:u,viewBox:t.viewBox,style:_};return d.a.createElement("div",{style:l()({},r,m),className:o,ref:this.saveContainerRef},d.a.createElement("svg",_extends({},t,{style:v}),n?d.a.createElement("title",{id:this.getIdForElement("title")},n):null,i?d.a.createElement("desc",{id:this.getIdForElement("desc")},i):null,h),d.a.createElement("div",{style:y},d.a.cloneElement(a,function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){_defineProperty(e,t,r[t])})}return e}({},b,{ref:this.savePortalRef}))))}},{key:"render",value:function render(){var e=this.props,t=e.width,r=e.height,n=e.responsive,i=e.events,a=n?this.props.style:v.a.omit(this.props.style,["height","width"]),o=c()({width:t,height:r,role:"img","aria-labelledby":"".concat(this.getIdForElement("title")," ").concat(this.getIdForElement("desc")),viewBox:n?"0 0 ".concat(t," ").concat(r):void 0},i);return this.renderContainer(this.props,o,a)}}]),VictoryContainer}();Object.defineProperty(_,"displayName",{configurable:!0,enumerable:!0,writable:!0,value:"VictoryContainer"}),Object.defineProperty(_,"role",{configurable:!0,enumerable:!0,writable:!0,value:"container"}),Object.defineProperty(_,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{children:h.a.oneOfType([h.a.arrayOf(h.a.node),h.a.node]),className:h.a.string,containerId:h.a.oneOfType([h.a.number,h.a.string]),containerRef:h.a.func,desc:h.a.string,events:h.a.object,height:g.a.nonNegative,name:h.a.string,origin:h.a.shape({x:g.a.nonNegative,y:g.a.nonNegative}),polar:h.a.bool,portalComponent:h.a.element,portalZIndex:g.a.integer,responsive:h.a.bool,style:h.a.object,theme:h.a.object,title:h.a.string,width:g.a.nonNegative}}),Object.defineProperty(_,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{className:"VictoryContainer",portalComponent:d.a.createElement(m,null),portalZIndex:99,responsive:!0}}),Object.defineProperty(_,"contextTypes",{configurable:!0,enumerable:!0,writable:!0,value:{getTimer:h.a.func}}),Object.defineProperty(_,"childContextTypes",{configurable:!0,enumerable:!0,writable:!0,value:{portalUpdate:h.a.func,portalRegister:h.a.func,portalDeregister:h.a.func,getTimer:h.a.func}})},function(e,t,r){"use strict";var n=r(2),i=r.n(n),a=r(1),o=r.n(a),s=r(0),l=r.n(s),u=r(7),c=r(178),f=r(29),d=r.n(f);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(e){function Line(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Line),_possibleConstructorReturn(this,(Line.__proto__||Object.getPrototypeOf(Line)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Line,o.a.Component),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Line,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return!d()(this.props,e)}},{key:"render",value:function render(){var e=this.props,t=e.x1,r=e.x2,n=e.y1,i=e.y2,a=e.events,s=e.className,l=e.clipPath,u=e.transform,c=e.style,f=e.shapeRendering,d=e.role;return o.a.createElement("line",_extends({x1:t,x2:r,y1:n,y2:i,className:s,clipPath:l,transform:u,style:c,role:d||"presentation",shapeRendering:f||"auto",vectorEffect:"non-scaling-stroke"},a))}}]),Line}();function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function line_segment_defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function line_segment_possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function line_segment_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}Object.defineProperty(p,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{className:l.a.string,clipPath:l.a.string,events:l.a.object,role:l.a.string,shapeRendering:l.a.string,style:l.a.object,transform:l.a.string,x1:l.a.number,x2:l.a.number,y1:l.a.number,y2:l.a.number}}),r.d(t,"a",function(){return h});var h=function(e){function LineSegment(){return function line_segment_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LineSegment),line_segment_possibleConstructorReturn(this,(LineSegment.__proto__||Object.getPrototypeOf(LineSegment)).apply(this,arguments))}return function line_segment_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(LineSegment,o.a.Component),function line_segment_createClass(e,t,r){return t&&line_segment_defineProperties(e.prototype,t),r&&line_segment_defineProperties(e,r),e}(LineSegment,[{key:"render",value:function render(){var e=this.props,t=e.x1,r=e.x2,n=e.y1,a=e.y2,s=e.events,l=e.datum,c=e.active,f=e.lineComponent,d=e.className,p=e.role,h=e.shapeRendering,g=e.transform,m=e.clipPath,y=u.a.evaluateStyle(i()({stroke:"black"},this.props.style),l,c);return o.a.cloneElement(f,{style:y,className:d,role:p,shapeRendering:h,events:s,x1:t,x2:r,y1:n,y2:a,transform:g,clipPath:m})}}]),LineSegment}();Object.defineProperty(h,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){_defineProperty(e,t,r[t])})}return e}({},c.a.primitiveProps,{datum:l.a.any,lineComponent:l.a.element,x1:l.a.number,x2:l.a.number,y1:l.a.number,y2:l.a.number})}),Object.defineProperty(h,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{lineComponent:o.a.createElement(p,null)}})}]]);